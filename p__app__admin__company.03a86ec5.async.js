(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[76],{63434:function(Y,_,t){"use strict";var C=t(63185),F=t(9676),d=t(67294),b=t(20843),S=t(22270),O=t(64893),j=["options","fieldProps","proFieldProps","valueEnum"];function u(){return u=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}function p(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?p(Object(r),!0).forEach(function(n){f(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function o(e,a){if(e==null)return{};var r=i(e,a),n,c;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(e);for(c=0;c<v.length;c++)n=v[c],!(a.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function i(e,a){if(e==null)return{};var r={},n=Object.keys(e),c,v;for(v=0;v<n.length;v++)c=n[v],!(a.indexOf(c)>=0)&&(r[c]=e[c]);return r}var h=d.forwardRef(function(e,a){var r=e.options,n=e.fieldProps,c=e.proFieldProps,v=e.valueEnum,x=o(e,j);return d.createElement(b.Z,u({ref:a,valueType:"checkbox",mode:"edit",valueEnum:(0,S.h)(v,void 0),fieldProps:m({options:r},n),proFieldProps:c},x))}),y=d.forwardRef(function(e,a){var r=e.fieldProps,n=e.children;return d.createElement(F.Z,u({ref:a},r),n)}),g=(0,O.Z)(y,{valuePropName:"checked"}),E=g;E.Group=h,_.Z=E},64317:function(Y,_,t){"use strict";var C=t(67294),F=t(20843),d=t(22270),b=t(66758),S=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],O=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"];function j(){return j=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j.apply(this,arguments)}function u(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?u(Object(r),!0).forEach(function(n){m(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function f(e,a){if(e==null)return{};var r=o(e,a),n,c;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(e);for(c=0;c<v.length;c++)n=v[c],!(a.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function o(e,a){if(e==null)return{};var r={},n=Object.keys(e),c,v;for(v=0;v<n.length;v++)c=n[v],!(a.indexOf(c)>=0)&&(r[c]=e[c]);return r}var i=C.forwardRef(function(e,a){var r=e.fieldProps,n=e.children,c=e.params,v=e.proFieldProps,x=e.mode,K=e.valueEnum,I=e.request,W=e.showSearch,s=e.options,Q=f(e,S),V=(0,C.useContext)(b.Z);return C.createElement(F.Z,j({mode:"edit",valueEnum:(0,d.h)(K),request:I,params:c,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:p({options:s,mode:x,showSearch:W,getPopupContainer:V.getPopupContainer},r),ref:a,proFieldProps:v},Q),n)}),h=C.forwardRef(function(e,a){var r=e.fieldProps,n=e.children,c=e.params,v=e.proFieldProps,x=e.mode,K=e.valueEnum,I=e.request,W=e.options,s=f(e,O),Q=p({options:W,mode:x||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label",filterOption:!1},r),V=(0,C.useContext)(b.Z);return C.createElement(F.Z,j({mode:"edit",valueEnum:(0,d.h)(K),request:I,params:c,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:p({getPopupContainer:V.getPopupContainer},Q),ref:a,proFieldProps:v},s),n)}),y=i,g=h,E=y;E.SearchSelect=g,E.displayName="ProFormComponent",_.Z=E},90672:function(Y,_,t){"use strict";var C=t(67294),F=t(20843),d=["fieldProps","proFieldProps"];function b(){return b=Object.assign||function(u){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(u[f]=m[f])}return u},b.apply(this,arguments)}function S(u,p){if(u==null)return{};var m=O(u,p),f,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(u);for(o=0;o<i.length;o++)f=i[o],!(p.indexOf(f)>=0)&&(!Object.prototype.propertyIsEnumerable.call(u,f)||(m[f]=u[f]))}return m}function O(u,p){if(u==null)return{};var m={},f=Object.keys(u),o,i;for(i=0;i<f.length;i++)o=f[i],!(p.indexOf(o)>=0)&&(m[o]=u[o]);return m}var j=function(p,m){var f=p.fieldProps,o=p.proFieldProps,i=S(p,d);return C.createElement(F.Z,b({ref:m,mode:"edit",valueType:"textarea",fieldProps:f,proFieldProps:o},i))};_.Z=C.forwardRef(j)},5966:function(Y,_,t){"use strict";var C=t(67294),F=t(20843),d=["fieldProps","proFieldProps"],b=["fieldProps","proFieldProps"];function S(){return S=Object.assign||function(o){for(var i=1;i<arguments.length;i++){var h=arguments[i];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(o[y]=h[y])}return o},S.apply(this,arguments)}function O(o,i){if(o==null)return{};var h=j(o,i),y,g;if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(o);for(g=0;g<E.length;g++)y=E[g],!(i.indexOf(y)>=0)&&(!Object.prototype.propertyIsEnumerable.call(o,y)||(h[y]=o[y]))}return h}function j(o,i){if(o==null)return{};var h={},y=Object.keys(o),g,E;for(E=0;E<y.length;E++)g=y[E],!(i.indexOf(g)>=0)&&(h[g]=o[g]);return h}var u="text",p=function(i){var h=i.fieldProps,y=i.proFieldProps,g=O(i,d);return C.createElement(F.Z,S({mode:"edit",valueType:u,fieldProps:h,filedConfig:{valueType:u},proFieldProps:y},g))},m=function(i){var h=i.fieldProps,y=i.proFieldProps,g=O(i,b);return C.createElement(F.Z,S({mode:"edit",valueType:"password",fieldProps:h,proFieldProps:y,filedConfig:{valueType:u}},g))},f=p;f.Password=m,f.displayName="ProFormComponent",_.Z=f},64139:function(){},69170:function(Y,_,t){"use strict";t.r(_),t.d(_,{default:function(){return oe}});var C=t(34792),F=t(48086),d=t(3182),b=t(2824),S=t(94043),O=t.n(S),j=t(67294),u=t(43581),p=t(25753),m=t(8060),f=t(13062),o=t(71230),i=t(89032),h=t(15746),y=t(60663),g=t(31990),E=t(11849),e=t(57663),a=t(71577),r=t(49101),n=t(89366),c=t(37476),v=t(5966),x=t(64317),K=t(90672),I=t(63434),W=t(17753),s=t(85893),Q=function(z){var l=z.updateCreateCompany,X=z.submitting,G=(0,j.useState)({}),T=(0,b.Z)(G,2),D=T[0],w=T[1];return(0,s.jsxs)(c.Z,{title:"Firma erstellen",modalProps:{forceRender:!0,destroyOnClose:!0},trigger:(0,s.jsx)(a.Z,{icon:(0,s.jsx)(r.Z,{}),type:"primary",children:"Firma hinzuf\xFCgen"}),initialValues:{send_notifications:!0},onFinish:function(){var M=(0,d.Z)(O().mark(function P(Z){return O().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return Z.user_id!==void 0&&(Z.recieve_email=D==null?void 0:D.email),A.next=3,l((0,E.Z)((0,E.Z)({},Z),{},{mode:"create"}));case 3:return A.abrupt("return",A.sent);case 4:case"end":return A.stop()}},P)}));return function(P){return M.apply(this,arguments)}}(),hideRequiredMark:!0,submitter:{render:function(P){return[(0,s.jsx)(a.Z,{type:"primary",loading:X,onClick:function(){var R;return(R=P.form)===null||R===void 0?void 0:R.submit()},children:"Speichern"})]}},children:[(0,s.jsx)(v.Z,{name:"name",label:"Name",required:!0}),(0,s.jsx)(x.Z,{name:"user_id",fieldProps:{size:"large",optionItemRender:function(P){return(0,s.jsx)(g.Z,{avatar:(0,s.jsx)(n.Z,{}),author:P.name,content:P.email})},onChange:function(P,Z){return w(Z)}},label:"Benutzer",showSearch:!0,request:function(){var M=(0,d.Z)(O().mark(function P(Z){var R;return O().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return R=Z.keyWords,L.next=3,(0,u.WY)(W.Q+"/api/admin/loadallusers",{method:"POST",data:{search:R}});case 3:return L.abrupt("return",L.sent);case 4:case"end":return L.stop()}},P)}));return function(P){return M.apply(this,arguments)}}(),placeholder:"Suche ..."}),(0,s.jsx)(K.Z,{name:"notes",label:"Notizen"}),(0,s.jsxs)(o.Z,{children:[(0,s.jsx)(h.Z,{span:8,children:(0,s.jsx)(I.Z,{name:"open_recieved_mail",label:"Briefe \xF6ffnen"})}),(0,s.jsx)(h.Z,{span:8,children:(0,s.jsx)(I.Z,{name:"send_notifications",label:"Benachrichtigungen verschicken"})})]})]})},V=t(22385),H=t(69713),ee=t(8212),ne=t(15196),ae=function(z){var l=z.row,X=z.updateCreateCompany,G=z.submitting;return(0,s.jsxs)(c.Z,{title:"Bearbeiten",modalProps:{forceRender:!0,destroyOnClose:!0},trigger:(0,s.jsx)(H.Z,{placement:"left",title:"bearbeiten",children:(0,s.jsx)(a.Z,{type:"link",icon:(0,s.jsx)(ee.Z,{})})}),initialValues:{name:l==null?void 0:l.name,notes:l==null?void 0:l.notes,recieve_email:l==null?void 0:l.recieve_email,open_recieved_mail:l==null?void 0:l.open_recieved_mail,send_notifications:l==null?void 0:l.send_notifications},onFinish:function(){var T=(0,d.Z)(O().mark(function D(w){return O().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return(w.user_id===void 0||w.user_id===null)&&(l==null?void 0:l.user_id)!==void 0&&(l==null?void 0:l.user_id)!==null&&(w.user_id=l==null?void 0:l.user_id),P.next=3,X((0,E.Z)((0,E.Z)({},w),{},{mode:"update",id_company:l==null?void 0:l.id_company}));case 3:return P.abrupt("return",P.sent);case 4:case"end":return P.stop()}},D)}));return function(D){return T.apply(this,arguments)}}(),hideRequiredMark:!0,submitter:{render:function(D,w){return[(0,s.jsx)(a.Z,{type:"primary",loading:G,onClick:function(){var P;return(P=D.form)===null||P===void 0?void 0:P.submit()},children:"Speichern"})]}},children:[(0,s.jsx)(ne.UW,{label:"Firma ID: ".concat(l==null?void 0:l.id_company)}),(0,s.jsx)(v.Z,{fieldProps:{size:"large"},name:"name",label:"Name",required:!0}),(0,s.jsx)(x.Z,{name:"user_id",fieldProps:{size:"large",optionItemRender:function(D){return(0,s.jsx)(g.Z,{avatar:(0,s.jsx)(n.Z,{}),author:D.name,content:D.email})},defaultValue:[l==null?void 0:l.username]},label:"Benutzer",showSearch:!0,request:function(){var T=(0,d.Z)(O().mark(function D(w){var M;return O().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return M=w.keyWords,Z.next=3,(0,u.WY)(W.Q+"/api/admin/loadallusers",{method:"POST",data:{search:M}});case 3:return Z.abrupt("return",Z.sent);case 4:case"end":return Z.stop()}},D)}));return function(D){return T.apply(this,arguments)}}(),placeholder:"Suche ..."}),(0,s.jsx)(v.Z,{fieldProps:{size:"large"},name:"recieve_email",label:"Email",tooltip:"Benachrichtigungen werden versandt an diese Email.",rules:[{type:"email"}]}),(0,s.jsx)(K.Z,{fieldProps:{size:"large"},tooltip:"Notizen sind f\xFCr interne Zwecke gedacht. Der Kunde kann diese nicht sehen.",name:"notes",label:"Notizen"}),(0,s.jsxs)(o.Z,{children:[(0,s.jsx)(h.Z,{span:8,children:(0,s.jsx)(I.Z,{name:"open_recieved_mail",label:"Briefe \xF6ffnen"})}),(0,s.jsx)(h.Z,{span:8,children:(0,s.jsx)(I.Z,{name:"send_notifications",label:"Benachrichtigungen verschicken"})})]})]})},oe=function(){var z=(0,u.md)(),l=(0,j.useRef)(),X=(0,j.useState)(!1),G=(0,b.Z)(X,2),T=G[0],D=G[1],w=(0,j.useState)(""),M=(0,b.Z)(w,2),P=M[0],Z=M[1],R=function(){l.current.reload()},A=(0,j.useState)({user_id:{fixed:"left",show:!1},recieve_email:{fixed:"left",show:!1},open_recieved_mail:{fixed:"left",show:!1},send_notifications:{fixed:"left",show:!1},id_company:{fixed:"left",show:!1}}),L=(0,b.Z)(A,2),ie=L[0],se=L[1],re=function(){var $=(0,d.Z)(O().mark(function B(J){var q;return O().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return D(!0),k.next=3,(0,u.WY)(W.Q+"/api/admin/createcompany",{method:"POST",data:J}).then(function(N){if(N==="ok")return F.default.success("Erfolg!"),R(),!0;N==="double"?F.default.warning("Firma mit diesem Namen wurde schon angelegt."):F.default.error("Fehler beim Upload.")}).catch(function(N){(0,p.S)(N,!0,"Fehler","Die Firma konnte nicht erstellt bzw nicht bearbeitet werden.")});case 3:if(q=k.sent,D(!1),!q){k.next=7;break}return k.abrupt("return",!0);case 7:case"end":return k.stop()}},B)}));return function(J){return $.apply(this,arguments)}}(),le=[{title:"Name",dataIndex:"name",key:"name"},{title:"User ID",dataIndex:"user_id",key:"user_id"},{title:"Firma ID",dataIndex:"id_company",key:"id_company"},{title:"Benachrichtigungen an",dataIndex:"recieve_email",key:"recieve_email"},{title:"User Name",dataIndex:"username",key:"username"},{title:"Notizen",dataIndex:"notes",key:"notes"},{title:"Briefe \xF6ffnen",dataIndex:"open_recieved_mail",key:"open_recieved_mail",align:"center",valueEnum:{true:{text:"ja",status:"success"},false:{text:"nein",status:"error"}}},{title:"Benachrichtigungen zusenden",dataIndex:"send_notifications",key:"send_notifications",align:"center",valueEnum:{true:{text:"ja",status:"success"},false:{text:"nein",status:"error"}}},{title:"Aktion",key:"delete",align:"center",render:function(B,J,q,U){return[(0,s.jsx)(ae,{row:J,updateCreateCompany:re,submitting:T})]}}];return(0,s.jsx)(u.Nv,{accessible:z.canAdmin,fallback:function(){return u.m8.push("/exception/403")},children:(0,s.jsx)(m.ZP,{actionRef:l,onColumnsStateChange:function(B){return se(B)},columns:le,request:(0,d.Z)(O().mark(function $(){var B,J,q,U=arguments;return O().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return B=U.length>0&&U[0]!==void 0?U[0]:{},J=U.length>1?U[1]:void 0,q=U.length>2?U[2]:void 0,N.abrupt("return",(0,u.WY)(W.Q+"/api/admin/getallcompanydata?search=".concat(P),{params:B}));case 4:case"end":return N.stop()}},$)})),rowKey:"id_company",columnsStateMap:ie,pagination:{showQuickJumper:!1,showSizeChanger:!0},search:!1,dateFormatter:"string",headerTitle:"Firmen",toolbar:{search:{onSearch:function(B){Z(B),R()},placeholder:"Name"},actions:[(0,s.jsx)(Q,{updateCreateCompany:re,submitting:T})]}})})}},31990:function(Y,_,t){"use strict";var C=t(22122),F=t(96156),d=t(67294),b=t(94184),S=t.n(b),O=t(65632),j=function(p,m){var f={};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&m.indexOf(o)<0&&(f[o]=p[o]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(p);i<o.length;i++)m.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(p,o[i])&&(f[o[i]]=p[o[i]]);return f},u=function(m){var f=m.actions,o=m.author,i=m.avatar,h=m.children,y=m.className,g=m.content,E=m.prefixCls,e=m.datetime,a=j(m,["actions","author","avatar","children","className","content","prefixCls","datetime"]),r=d.useContext(O.E_),n=r.getPrefixCls,c=r.direction,v=function(H,ee){return d.createElement("div",{className:S()("".concat(H,"-nested"))},ee)},x=n("comment",E),K=i?d.createElement("div",{className:"".concat(x,"-avatar")},typeof i=="string"?d.createElement("img",{src:i,alt:"comment-avatar"}):i):null,I=f&&f.length?d.createElement("ul",{className:"".concat(x,"-actions")},f.map(function(V,H){return d.createElement("li",{key:"action-".concat(H)},V)})):null,W=(o||e)&&d.createElement("div",{className:"".concat(x,"-content-author")},o&&d.createElement("span",{className:"".concat(x,"-content-author-name")},o),e&&d.createElement("span",{className:"".concat(x,"-content-author-time")},e)),s=d.createElement("div",{className:"".concat(x,"-content")},W,d.createElement("div",{className:"".concat(x,"-content-detail")},g),I),Q=S()(x,(0,F.Z)({},"".concat(x,"-rtl"),c==="rtl"),y);return d.createElement("div",(0,C.Z)({},a,{className:Q}),d.createElement("div",{className:"".concat(x,"-inner")},K,s),h?v(x,h):null)};_.Z=u},60663:function(Y,_,t){"use strict";var C=t(65056),F=t.n(C),d=t(64139),b=t.n(d)}}]);
