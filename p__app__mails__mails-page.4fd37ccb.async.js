(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{M22z:function(e,t,a){"use strict";a.r(t);a("T2oS");var s=a("W9HT"),n=(a("1YHl"),a("VNzZ")),i=(a("5Dmo"),a("3S7+")),c=(a("4eJr"),a("3LgI")),r=(a("+L6B"),a("2/Rp")),l=(a("DYRE"),a("zeV3")),o=a("VTBJ"),h=(a("BoS7"),a("Sdc0")),d=(a("iQDF"),a("+eQT")),j=(a("y8nQ"),a("Vl3Y")),p=(a("5NDa"),a("5rEg")),u=(a("IzEo"),a("bx4M")),b=a("nKUr"),m=(a("B9cy"),a("Ol7k")),g=(a("OaEy"),a("2fM7")),S=(a("qVdP"),a("jsC+")),O=(a("lUTK"),a("BvKs")),f=(a("Awhp"),a("KrTs")),x=a("1OyB"),A=a("vuIU"),E=a("JX7q"),C=a("Ji7U"),y=a("LK+K"),D=a("q1tI"),v=a("io9h"),M=a("8Skl"),R=a("Ljug"),k=a("y0hu"),w=a("5Yjg"),N=a("Dx9A"),Q=a("/MfK"),F=a("bRQS"),I=a("4i/N"),B=a("lF1m"),_=a("l+S1"),T=a("KH10"),z=a("SfST"),V=a("r13h"),Y=a("5bA4"),J=(a("Znn+"),a("ZTPi")),K=(a("2qtc"),a("kLXV")),L=(a("Mwp2"),a("VXEj")),P=(a("sRBo"),a("kaz8")),U=(a("/zsF"),a("PArb")),W=(a("XCrF"),a("1GRj")),G=(a("miYZ"),a("tsqr")),H=(a("14J3"),a("BMrR")),Z=(a("jCWc"),a("kPKH")),q=(a("P2fV"),a("NJEC")),X=function(e){Object(C["a"])(a,e);var t=Object(y["a"])(a);function a(e){var s;return Object(x["a"])(this,a),s=t.call(this,e),s.state={item:s.props.item},s}return Object(A["a"])(a,[{key:"changeState",value:function(e){var t=this,a={mails_id:this.props.item.mails_id,newTask:e,companyname:this.props.item.companyname};Object(v["a"])("https://adrezze-backend.herokuapp.com/users/getchangetask",{method:"POST",data:a}).then((function(a){if("error"===a.changeTask)G["default"].error("Fehler Mails");else{G["default"].success("Auftrag wurde angenommen!");var s=t.props.item;s.task=e,t.setState({item:s})}})).catch((function(e){G["default"].error("Fehler Mails")}))}},{key:"actions",value:function(e){var t=this,a=e.state,s=e.task,n=Object(b["jsx"])(i["a"],{placement:"bottom",title:"\xd6ffnen & Scannen",children:Object(b["jsx"])(r["a"],{style:{background:"rgba(0,0,0,0)",border:"none",fontSize:20,bottom:-15},onClick:function(){return t.changeState("SCANNED_REQ")},children:Object(b["jsx"])(w["a"],{},e.mails_id)})}),c=Object(b["jsx"])(i["a"],{placement:"bottom",title:"Verschicken",children:Object(b["jsx"])(q["a"],{placement:"topLeft",title:"Bitte Verschicken best\xe4tigen",okText:"Best\xe4tigen",cancelText:"Abbrechen",onConfirm:function(){return t.changeState("FORWARDED_REQ")},children:Object(b["jsx"])(r["a"],{style:{background:"rgba(0,0,0,0)",border:"none",fontSize:20,bottom:-15},children:Object(b["jsx"])(N["a"],{},e.mails_id)})})}),l=Object(b["jsx"])(i["a"],{placement:"bottom",title:"Vernichten",children:Object(b["jsx"])(q["a"],{placement:"topLeft",title:"Bitte Vernichtung best\xe4tigen",okText:"Best\xe4tigen",cancelText:"Abbrechen",onConfirm:function(){return t.changeState("DESTROYED_REQ")},children:Object(b["jsx"])(r["a"],{style:{background:"rgba(0,0,0,0)",border:"none",fontSize:20,bottom:-15},children:Object(b["jsx"])(Q["a"],{},e.mails_id)})})});return"done"!==s?"SCANNED_REQ"===s?[Object(b["jsx"])(i["a"],{placement:"bottom",title:"innerhalb von 24h verf\xfcgbar",children:"wird gescannt..."})]:"FORWARDED_REQ"===s?[Object(b["jsx"])(i["a"],{placement:"bottom",title:"innerhalb von 24h verf\xfcgbar",children:"wird verschickt..."})]:"DESTROYED_REQ"===s?[Object(b["jsx"])(i["a"],{placement:"bottom",title:"innerhalb von 24h verf\xfcgbar",children:"wird vernichtet..."})]:null:"RECIEVED"===a?Object(b["jsx"])(b["Fragment"],{children:Object(b["jsxs"])(H["a"],{gutter:[16,0],children:[Object(b["jsx"])(Z["a"],{span:8,children:n}),Object(b["jsx"])(Z["a"],{span:8,children:c}),Object(b["jsx"])(Z["a"],{span:8,children:l})]})}):"SCANNED"===a?Object(b["jsx"])(b["Fragment"],{children:Object(b["jsxs"])(H["a"],{gutter:[50,0],children:[Object(b["jsx"])(Z["a"],{span:12,children:c}),Object(b["jsx"])(Z["a"],{span:12,children:l})]})}):"FORWARDED"===a||"DESTROYED"===a?null:void 0}},{key:"render",value:function(){return Object(b["jsx"])(b["Fragment"],{children:Object(b["jsx"])("p",{children:this.actions(this.props.item)})})}}]),a}(D["Component"]),$=a("GgLZ"),ee=(a("7Kak"),a("9yH6")),te=(a("tU7J"),a("wFql")),ae=a("ODXe"),se=a("lfch"),ne=a("3R4v"),ie={sender:"Absender",subject:"Betreff",state:"Ordner",recieved:"Eingegangen am",mails_id:"Interne Id"},ce={labelCol:{span:7},wrapperCol:{span:16}},re=function(e){var t=e.item,a=(e.dispatch,e.pdfs,e.state,e.saw),n=Object(D["useState"])(""),i=Object(ae["a"])(n,2),c=i[0],l=i[1],h=Object(D["useState"])(""),d=Object(ae["a"])(h,2),p=d[0],m=d[1],g=Object(D["useState"])(!1),S=Object(ae["a"])(g,2),O=S[0],x=S[1],A=Object(D["useState"])(!1),E=Object(ae["a"])(A,2),C=E[0],y=E[1],M=Object(D["useState"])(!1),R=Object(ae["a"])(M,2),w=R[0],N=R[1],Q=te["a"].Title;function F(){var e=t.state;return"RECIEVED"===e?e="Eingegangen":"SCANNED"===e?e="Gescannt":"FORWARDED"===e?e="Verschickt":"DESTROYED"===e&&(e="Vernichtet"),Object(b["jsxs"])(b["Fragment"],{children:[Object(b["jsxs"])(j["a"],Object(o["a"])(Object(o["a"])({},ce),{},{children:[Object(b["jsxs"])(H["a"],{gutter:30,children:[Object(b["jsx"])(Z["a"],{span:8,children:t.opened_pic_is_saved&&t.cover_pic_is_saved?Object(b["jsx"])(ee["a"].Group,{options:[{label:Object(b["jsx"])(k["a"],{}),value:!0},{label:Object(b["jsx"])(se["a"],{}),value:!1}],onChange:_,value:O,optionType:"button",buttonStyle:"solid"}):null}),Object(b["jsx"])(Z["a"],{span:8}),Object(b["jsx"])(Z["a"],{span:8,children:Object(b["jsxs"])(r["a"],{onClick:function(){return window.open(p)},children:[Object(b["jsx"])(ne["a"],{})," Neuer Tab"]})})]}),Object(b["jsx"])("p",{}),Object(b["jsx"])(j["a"].Item,{label:ie.sender,name:"sender",children:Object(b["jsx"])(Q,{level:5,children:t.sender})}),"RECIEVED"!==t.state?Object(b["jsx"])(j["a"].Item,{label:ie.subject,name:"subject",children:Object(b["jsx"])(Q,{level:5,children:t.subject})}):null,Object(b["jsx"])(j["a"].Item,{label:ie.state,name:"state",children:Object(b["jsx"])(Q,{level:5,children:e})}),Object(b["jsx"])(j["a"].Item,{label:ie.recieved,name:"recieved",children:Object(b["jsx"])(Q,{level:5,children:t.to_char})}),Object(b["jsx"])(j["a"].Item,{label:ie.mails_id,name:"mails_id",children:t.mails_id})]})),Object(b["jsx"])("p",{style:{textAlign:"center"},children:Object(b["jsx"])(X,{item:t})})]})}function I(){if(t.opened_pic_is_saved){var e={id_company:t.id_company,state:t.state,mails_id:t.mails_id};N(!0),Object(v["a"])("https://adrezze-backend.herokuapp.com/users/getpdfdatafullopened",{method:"POST",data:e}).then((function(e){if("error"===e.pdfDataFullOpened)G["default"].error("Fehler Mails");else try{if(t.mails_id.toString()+"-"+t.state===e.pdfDataFullOpenedID){var a=new Uint8Array(e.pdfDataFullOpened.data),s=new Blob([a],{type:"application/pdf"}),n=window.URL||window.webkitURL,i=n.createObjectURL(s);m(i),N(!1)}}catch(c){G["default"].error("Fehler beim Laden der PDF")}})).catch((function(e){G["default"].error("Fehler Mails")}))}}function B(){if(t.cover_pic_is_saved){var e={id_company:t.id_company,state:"RECIEVED",mails_id:t.mails_id};y(!0),Object(v["a"])("https://adrezze-backend.herokuapp.com/users/getpdfdatafullcover",{method:"POST",data:e}).then((function(e){if("error"===e.pdfDataFullCover)G["default"].error("Fehler Mails");else try{if(t.mails_id.toString()+"-RECIEVED"===e.pdfDataFullCoverID){var a=new Uint8Array(e.pdfDataFullCover.data),s=new Blob([a],{type:"application/pdf"}),n=window.URL||window.webkitURL,i=n.createObjectURL(s);l(i),y(!1)}}catch(c){G["default"].error("Fehler beim Laden der PDF")}})).catch((function(e){G["default"].error("Fehler Mails")}))}}function _(e){x(e.target.value)}function T(){var e=t.opened_pic_is_saved,a=t.cover_pic_is_saved,n=Object(b["jsx"])(b["Fragment"],{children:Object(b["jsx"])(s["a"],{spinning:C,children:Object(b["jsx"])("iframe",{src:p,width:"100%",height:"600px",alt:"doc"})})}),i=Object(b["jsx"])(b["Fragment"],{children:Object(b["jsx"])(s["a"],{spinning:w,children:Object(b["jsx"])("iframe",{src:c,width:"100%",height:"600px",alt:"doc"})})});return e&&a?O?i:n:e?n:a?i:void 0}return Object(D["useEffect"])((function(){I(),B()}),[]),Object(b["jsxs"])(b["Fragment"],{children:[T(),Object(b["jsx"])(u["a"],{style:{backgroundColor:"#fafafa"},cover:Object(b["jsx"])(b["Fragment"],{children:t.seen||a?null:Object(b["jsx"])(f["a"].Ribbon,{color:"#40a9ff",text:"Neu"})}),children:Object(b["jsx"])(u["a"].Meta,{description:F()})})]})},le="localhost"===location.hostname?"http://localhost:5000":"https://adrezze-backend.herokuapp.com",oe=function(e){Object(C["a"])(a,e);var t=Object(y["a"])(a);function a(e){var s;return Object(x["a"])(this,a),s=t.call(this,e),s.getMailsData=function(e,t,a){var n=s.props.companyData.id_company,i=s.props.stateSta,c=0;if("RECIEVED"===i?c=0:"SCANNED"===i?c=1:"FORWARDED"===i?c=2:"DESTROYED"===i&&(c=3),!a&&s.state.mailsRec.length>=s.props.companyData.mailCounterAll[c])s.setState({hasMore:!1});else{var r=s.state.offset+e;s.setState({mailsLoading:!0,offset:r}),s.getPDFS(r,n,i,t);var l=Object(E["a"])(s),o={id_company:n,limit:8,offset:r,state:i,filterSearch:t};Object(v["a"])(le+"/users/getmailsdata",{method:"POST",data:o}).then((function(e){if("error"===e.mailsData);else{for(var t=l.state.saw,a=0;a<e.mailsData.length;a++)t.push(e.mailsData[a].seen);l.setState({saw:t,mailsLoading:!1,mailsRec:l.state.mailsRec.concat(e.mailsData)})}})).catch((function(e){}))}},s.getPDFS=function(e,t,a,n){var i=Object(E["a"])(s),c={id_company:t,limit:8,offset:e,state:a,mails_id:null,filterSearch:n};Object(v["a"])(le+"/users/getpdfdata",{method:"POST",data:c}).then((function(e){"error"===e.pdfData||i.setState({pdfRec:i.state.pdfRec.concat(e.pdfData)})})).catch((function(e){}))},s.state={stateSta:s.props.stateSta,companyArr:[],hasMore:!0,mailsRec:[],pdfRec:[],offset:0,setItem:null,setKey:null,mailsLoading:!1,mailsInWork:[],selectedMails:[],modalStateChange:!1,saw:[]},s}return Object(A["a"])(a,[{key:"componentDidMount",value:function(){void 0!==this.props.companyData&&this.getMailsData(0,this.props.filterSearch,!1)}},{key:"componentDidUpdate",value:function(e){this.props.dynamicState!==e.dynamicState&&this.setState({selectedMails:[]}),this.props.changeState===e.changeState&&this.props.changeState2===e.changeState2||this.state.selectedMails.length>0&&this.setState({modalStateChange:!0}),this.props.unselect!==e.unselect&&(this.props.selectMailsCounter(0),this.setState({selectedMails:[]})),this.props.selectionMode!==e.selectionMode&&this.setState({selectedMails:[]}),this.props.view!==e.view&&(this.setState({offset:0,mailsRec:[],pdfRec:[],companyArr:this.props.companyData,selectedMails:[]}),this.getMailsData(0,this.props.filterSearch,!1)),this.props.filterSearch!==e.filterSearch&&(this.setState({offset:0,mailsRec:[],pdfRec:[],companyArr:this.props.companyData,selectedMails:[]}),this.getMailsData(0,this.props.filterSearch,!0)),this.props.companyData!==e.companyData&&(this.setState({offset:0,mailsRec:[],pdfRec:[],companyArr:this.props.companyData,selectedMails:[]}),this.getMailsData(0,this.props.filterSearch,!1))}},{key:"setVisible",value:function(e,t,a){if(!e){var s=this.state.saw;s[a]||this.props.reduceNotSeenCounter(this.props.stateSta),s[a]=!0,this.setState({saw:s})}this.setState({setItem:t,modal:e,setKey:a})}},{key:"setVisibleStateChange",value:function(e){this.setState({modalStateChange:e})}},{key:"confirmChangeState",value:function(){var e="";e="null"===this.props.changeState?this.props.changeState2:this.props.changeState;var t=this,a={arr:this.state.selectedMails,newTask:e};Object(v["a"])(le+"/users/getchangetaskArr",{method:"POST",data:a}).then((function(a){if("error"===a.changeTask)G["default"].error("Fehler Mails");else{G["default"].success("Auftrag wurde angenommen!");for(var s=t.state.selectedMails,n=t.state.mailsInWork,i=0;i<s.length;i++)n.push([s[i],e]);t.props.selectMailsCounter(0),t.setState({mailsInWork:n,selectedMails:[],modalStateChange:!1})}})).catch((function(e){G["default"].error("Fehler Mails")}))}},{key:"stringShortener",value:function(e,t){return Object(b["jsx"])(b["Fragment"],{children:e.length>t?Object(b["jsxs"])(i["a"],{title:e,children:[e.slice(0,t),"..."]}):e})}},{key:"stringShortenerDescr",value:function(e,t,a,s){return Object(b["jsxs"])(b["Fragment"],{children:[e.length>t?Object(b["jsxs"])(i["a"],{title:e,children:[e.slice(0,t),"..."]}):e,Object(b["jsx"])("br",{}),!this.props.selectionMode&&this.isMember(a.mails_id)?Object(b["jsx"])(X,{item:a}):null,this.isMember(a.mails_id)?null:this.giveState(a.mails_id),Object(b["jsx"])("br",{}),Object(b["jsx"])("p",{children:a.to_char})]})}},{key:"getImg",value:function(e,t){var a=this,s=this.state.pdfRec,n="data:image/png;base64,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";try{s.length>0&&e.mails_id===s[t].mails_id.mails_id&&"success"===s[t][".tag"]&&(n="data:image/png;base64,".concat(s[t].thumbnail))}catch(i){}return Object(b["jsxs"])(b["Fragment"],{children:[Object(b["jsx"])(W["a"],{width:210,height:297,onClick:function(s){return a.setVisible(!0,e,t)},preview:!1,src:n}),Object(b["jsx"])(U["a"],{style:{padding:"0px",margin:"0px"}})]})}},{key:"onChangeSelectionMails",value:function(e,t){if(this.props.selectionMode){var a=this.state.selectedMails;if(!a.includes(t)||e.target.checked)a.push(t),this.props.selectMailsCounter(a.length),this.setState({selectedMails:a});else{var s=a.indexOf(t);s>-1&&a.splice(s,1),this.props.selectMailsCounter(a.length),this.setState({selectedMails:a})}}}},{key:"isMember",value:function(e){for(var t=this.state.mailsInWork,a=0;a<t.length;a++)if(t[a][0]===e)return!1;return!0}},{key:"isMemberSelected",value:function(e){for(var t=this.state.selectedMails,a=0;a<t.length;a++)if(t[a]===e)return!1;return!0}},{key:"giveState",value:function(e){for(var t=this.state.mailsInWork,a=0;a<t.length;a++)if(t[a][0]===e){if("SCANNED_REQ"===t[a][1])return Object(b["jsxs"])(b["Fragment"],{children:["wird gescannt...",Object(b["jsx"])("br",{})]});if("FORWARDED_REQ"===t[a][1])return Object(b["jsxs"])(b["Fragment"],{children:["wird verschickt...",Object(b["jsx"])("br",{})]});if("DESTROYED_REQ"===t[a][1])return Object(b["jsxs"])(b["Fragment"],{children:["wird vernichtet...",Object(b["jsx"])("br",{})]})}return!0}},{key:"render",value:function(){var e=this;return Object(b["jsxs"])(b["Fragment"],{children:[this.props.currState===this.props.stateSta?Object(b["jsx"])($["a"],{style:{overflowX:"hidden"},dataLength:this.state.mailsRec.length,next:function(){return e.getMailsData(8,e.props.filterSearch,!1)},hasMore:!0,loader:Object(b["jsx"])("p",{style:{textAlign:"center"},children:Object(b["jsx"])(s["a"],{size:"large",spinning:this.state.mailsLoading})}),endMessage:Object(b["jsx"])("p",{style:{textAlign:"center"},children:Object(b["jsx"])("b",{children:"Finish"})}),children:Object(b["jsx"])(L["b"],{style:{marginTop:"15px",marginRight:"20px",marginLeft:"20px"},grid:{gutter:[80,80],xs:1,sm:1,md:3,lg:3,xl:3,xxl:6},split:!0,dataSource:this.state.mailsRec,renderItem:function(t,a){return Object(b["jsx"])(b["Fragment"],{children:e.isMemberSelected(t.mails_id)?Object(b["jsxs"])(L["b"].Item,{style:{boxShadow:"5px 8px 10px 5px rgba(0, 0, 0, 0.1)",width:"210px",background:"rgba(0,0,0,0)"},children:["RECIEVED"===e.state.stateSta||"SCANNED"===e.state.stateSta?Object(b["jsx"])(b["Fragment"],{children:e.props.selectionMode?Object(b["jsxs"])(b["Fragment"],{children:[" ","done"===t.task?Object(b["jsxs"])(b["Fragment"],{children:[" ",e.isMember(t.mails_id)?Object(b["jsxs"])(b["Fragment"],{children:[e.isMemberSelected(t.mails_id)?null:Object(b["jsx"])(P["a"],{style:{},onChange:function(a){return e.onChangeSelectionMails(a,t.mails_id)},checked:e.state.selectedMails.includes(t.mails_id)}),e.isMemberSelected(t.mails_id)?Object(b["jsx"])(P["a"],{style:{},onChange:function(a){return e.onChangeSelectionMails(a,t.mails_id)},checked:e.state.selectedMails.includes(t.mails_id)}):null]}):null," "]}):null]}):null}):null,Object(b["jsx"])(u["a"],{style:{backgroundColor:"#ffffff",width:"210px"},hoverable:!0,cover:Object(b["jsxs"])(b["Fragment"],{children:[e.getImg(t,a),t.seen||"RECIEVED"!==e.state.stateSta&&"SCANNED"!==e.state.stateSta||e.state.saw[a]?null:Object(b["jsx"])(f["a"].Ribbon,{color:"#40a9ff",text:"Neu"})]}),children:Object(b["jsx"])("div",{onClick:function(a){return e.onChangeSelectionMails(a,t.mails_id)},children:Object(b["jsx"])(u["a"].Meta,{title:e.stringShortener(t.sender,15),description:Object(b["jsxs"])(b["Fragment"],{children:[e.props.selectionMode&&"SCANNED_REQ"===t.task?Object(b["jsxs"])(b["Fragment"],{children:["wird gescannt...",Object(b["jsx"])("br",{})]}):null,e.props.selectionMode&&"FORWARDED_REQ"===t.task?Object(b["jsxs"])(b["Fragment"],{children:["wird verschickt...",Object(b["jsx"])("br",{})]}):null,e.props.selectionMode&&"DESTROYED_REQ"===t.task?Object(b["jsxs"])(b["Fragment"],{children:["wird vernichtet...",Object(b["jsx"])("br",{})]}):null,e.stringShortenerDescr(t.subject,15,t,a)]})})})})]}):Object(b["jsxs"])(L["b"].Item,{style:{boxShadow:"5px 8px 10px 5px rgba(64,169,255, 0.4)",width:"210px",background:"rgba(0,0,0,0)"},children:["RECIEVED"===e.state.stateSta||"SCANNED"===e.state.stateSta?Object(b["jsx"])(b["Fragment"],{children:e.props.selectionMode?Object(b["jsxs"])(b["Fragment"],{children:[" ","done"===t.task?Object(b["jsxs"])(b["Fragment"],{children:[" ",e.isMember(t.mails_id)?Object(b["jsxs"])(b["Fragment"],{children:[e.isMemberSelected(t.mails_id)?null:Object(b["jsx"])(P["a"],{style:{},onChange:function(a){return e.onChangeSelectionMails(a,t.mails_id)},checked:e.state.selectedMails.includes(t.mails_id)}),e.isMemberSelected(t.mails_id)?Object(b["jsx"])(P["a"],{style:{},onChange:function(a){return e.onChangeSelectionMails(a,t.mails_id)},checked:e.state.selectedMails.includes(t.mails_id)}):null]}):null," "]}):null]}):null}):null,Object(b["jsx"])(u["a"],{style:{backgroundColor:"#ffffff",width:"210px"},hoverable:!0,cover:Object(b["jsxs"])(b["Fragment"],{children:[e.getImg(t,a),t.seen||"RECIEVED"!==e.state.stateSta&&"SCANNED"!==e.state.stateSta?null:Object(b["jsx"])(f["a"].Ribbon,{color:"#40a9ff",text:"Neu"})]}),children:Object(b["jsx"])("div",{onClick:function(a){return e.onChangeSelectionMails(a,t.mails_id)},children:Object(b["jsx"])(u["a"].Meta,{title:e.stringShortener(t.sender,15),description:Object(b["jsxs"])(b["Fragment"],{children:[e.props.selectionMode&&"SCANNED_REQ"===t.task?Object(b["jsxs"])(b["Fragment"],{children:["wird gescannt...",Object(b["jsx"])("br",{})]}):null,e.props.selectionMode&&"FORWARDED_REQ"===t.task?Object(b["jsxs"])(b["Fragment"],{children:["wird verschickt...",Object(b["jsx"])("br",{})]}):null,e.props.selectionMode&&"DESTROYED_REQ"===t.task?Object(b["jsxs"])(b["Fragment"],{children:["wird vernichtet...",Object(b["jsx"])("br",{})]}):null,e.stringShortenerDescr(t.subject,15,t,a)]})})})})]})})}})}):null,Object(b["jsx"])(K["a"],{destroyOnClose:!0,footer:null,centered:!0,visible:this.state.modal,onCancel:function(){return e.setVisible(!1,null,e.state.setKey)},children:Object(b["jsx"])(re,{item:this.state.setItem,saw:this.state.saw[this.state.setKey]})}),Object(b["jsx"])(K["a"],{destroyOnClose:!0,centered:!0,visible:this.state.modalStateChange,onCancel:function(){return e.setVisibleStateChange(!1)},onOk:function(){return e.confirmChangeState()},cancelText:"Abbruch",children:Object(b["jsxs"])(b["Fragment"],{children:["Bist du dir sicher, dass du ",this.state.selectedMails.length," Briefe ","SCANNED_REQ"===this.props.changeState||"SCANNED_REQ"===this.props.changeState2?Object(b["jsx"])(b["Fragment"],{children:"scannen"}):null,"  ","FORWARDED_REQ"===this.props.changeState||"FORWARDED_REQ"===this.props.changeState2?Object(b["jsx"])(b["Fragment"],{children:"verschicken"}):null," ","DESTROYED_REQ"===this.props.changeState||"DESTROYED_REQ"===this.props.changeState2?Object(b["jsx"])(b["Fragment"],{children:"vernichten"}):null," m\xf6chtest?"]})})]})}}]),a}(D["Component"]),he=(a("g9YV"),a("wCAj")),de=a("9BLJ"),je=function(e){Object(C["a"])(a,e);var t=Object(y["a"])(a);function a(e){var s;return Object(x["a"])(this,a),s=t.call(this,e),s.getMailsData=function(e,t,a){var n=s.props.companyData.id_company,i=s.props.stateSta,c=0;if("RECIEVED"===i?c=0:"SCANNED"===i?c=1:"FORWARDED"===i?c=2:"DESTROYED"===i&&(c=3),!a&&s.state.mailsRec.length>=s.props.companyData.mailCounterAll[c])s.setState({hasMore:!1});else{var r=s.state.offset+e;s.setState({mailsLoading:!0,offset:r});var l=Object(E["a"])(s),o={id_company:n,limit:8,offset:r,state:i,filterSearch:t};Object(v["a"])("https://adrezze-backend.herokuapp.com/users/getmailsdata",{method:"POST",data:o}).then((function(e){if("error"===e.mailsData);else{for(var t=l.state.saw,a=0;a<e.mailsData.length;a++)t.push(e.mailsData[a].seen);l.setState({saw:t,mailsLoading:!1,mailsRec:l.state.mailsRec.concat(e.mailsData)})}})).catch((function(e){}))}},s.columns=[{key:"see",width:"4%",render:function(e,t,a){return Object(b["jsx"])(b["Fragment"],{children:t.seen||"RECIEVED"!==s.state.stateSta&&"SCANNED"!==s.state.stateSta||s.state.saw[a]?null:Object(b["jsx"])(f["a"].Ribbon,{color:"#40a9ff",text:"Neu"})})}},{key:"see",width:"4%",render:function(e,t,a){return Object(b["jsx"])(b["Fragment"],{children:"RECIEVED"===s.state.stateSta||"SCANNED"===s.state.stateSta?Object(b["jsx"])(b["Fragment"],{children:s.props.selectionMode?Object(b["jsxs"])(b["Fragment"],{children:[" ","done"===t.task?Object(b["jsxs"])(b["Fragment"],{children:[" ",s.isMember(t.mails_id)?Object(b["jsx"])(P["a"],{style:{},onChange:function(e){return s.onChangeSelectionMails(e,t.mails_id)},checked:s.state.selectedMails.includes(t.mails_id)}):null," "]}):null]}):null}):null})}},{key:"see",width:"8%",render:function(e,t,a){return Object(b["jsx"])(b["Fragment"],{children:Object(b["jsx"])(i["a"],{placement:"bottom",title:"Gro\xdfe Ansicht",children:Object(b["jsx"])(r["a"],{style:{border:"none",fontSize:22,background:"rgba(0,0,0,0)"},onClick:function(e){return s.setVisible(!0,t,a)},children:Object(b["jsx"])(de["a"],{})})})})}},{title:"Absender",dataIndex:"sender",render:function(e,t,a){return Object(b["jsx"])(b["Fragment"],{children:s.stringShortener(t.sender,30)})}},{title:"Betreff",dataIndex:"subject",render:function(e,t,a){return Object(b["jsx"])(b["Fragment"],{children:s.stringShortener(t.subject,30)})}},{title:"Erhalten am",dataIndex:"to_char"},{key:"edit",width:"18%",render:function(e,t,a){return Object(b["jsxs"])(b["Fragment"],{children:[s.props.selectionMode&&"SCANNED_REQ"===t.task?Object(b["jsxs"])(b["Fragment"],{children:["wird gescannt...",Object(b["jsx"])("br",{})]}):null,s.props.selectionMode&&"FORWARDED_REQ"===t.task?Object(b["jsxs"])(b["Fragment"],{children:["wird verschickt...",Object(b["jsx"])("br",{})]}):null,s.props.selectionMode&&"DESTROYED_REQ"===t.task?Object(b["jsxs"])(b["Fragment"],{children:["wird vernichtet...",Object(b["jsx"])("br",{})]}):null,!s.props.selectionMode&&s.isMember(t.mails_id)?Object(b["jsx"])(X,{item:t}):null,s.isMember(t.mails_id)?null:s.giveState(t.mails_id)]})}}],s.columnsRecieved=[{key:"see",width:"4%",render:function(e,t,a){return Object(b["jsx"])(b["Fragment"],{children:t.seen||"RECIEVED"!==s.state.stateSta&&"SCANNED"!==s.state.stateSta||s.state.saw[a]?null:Object(b["jsx"])(f["a"].Ribbon,{color:"#40a9ff",text:"Neu"})})}},{key:"see",width:"4%",render:function(e,t,a){return Object(b["jsx"])(b["Fragment"],{children:"RECIEVED"===s.state.stateSta||"SCANNED"===s.state.stateSta?Object(b["jsx"])(b["Fragment"],{children:s.props.selectionMode?Object(b["jsxs"])(b["Fragment"],{children:[" ","done"===t.task?Object(b["jsxs"])(b["Fragment"],{children:[" ",s.isMember(t.mails_id)?Object(b["jsx"])(P["a"],{style:{color:"rgb(100,100,100)"},onChange:function(e){return s.onChangeSelectionMails(e,t.mails_id)},checked:s.state.selectedMails.includes(t.mails_id)}):null," "]}):null]}):null}):null})}},{key:"see",width:"8%",render:function(e,t,a){return Object(b["jsx"])(b["Fragment"],{children:Object(b["jsx"])(i["a"],{placement:"bottom",title:"Gro\xdfe Ansicht",children:Object(b["jsx"])(r["a"],{style:{border:"none",fontSize:22,background:"rgba(0,0,0,0)"},onClick:function(e){return s.setVisible(!0,t,a)},children:Object(b["jsx"])(de["a"],{})})})})}},{title:"Absender",dataIndex:"sender",render:function(e,t,a){return Object(b["jsx"])(b["Fragment"],{children:s.stringShortener(t.sender,30)})}},{title:"Erhalten am",dataIndex:"to_char"},{key:"edit",width:"18%",render:function(e,t,a){return Object(b["jsxs"])(b["Fragment"],{children:[s.props.selectionMode&&"SCANNED_REQ"===t.task?Object(b["jsxs"])(b["Fragment"],{children:["wird gescannt...",Object(b["jsx"])("br",{})]}):null,s.props.selectionMode&&"FORWARDED_REQ"===t.task?Object(b["jsxs"])(b["Fragment"],{children:["wird verschickt...",Object(b["jsx"])("br",{})]}):null,s.props.selectionMode&&"DESTROYED_REQ"===t.task?Object(b["jsxs"])(b["Fragment"],{children:["wird vernichtet...",Object(b["jsx"])("br",{})]}):null,!s.props.selectionMode&&s.isMember(t.mails_id)?Object(b["jsx"])(X,{item:t}):null,s.isMember(t.mails_id)?null:s.giveState(t.mails_id)]})}}],s.state={stateSta:s.props.stateSta,companyArr:[],hasMore:!0,mailsRec:[],pdfRec:[],offset:0,setItem:null,setKey:null,saw:[],mailsLoading:!1,mailsInWork:[],selectedMails:[]},s}return Object(A["a"])(a,[{key:"componentDidMount",value:function(){void 0!==this.props.companyData&&this.getMailsData(0,this.props.filterSearch,!1)}},{key:"componentDidUpdate",value:function(e){this.props.dynamicState!==e.dynamicState&&this.setState({selectedMails:[]}),this.props.changeState===e.changeState&&this.props.changeState2===e.changeState2||this.state.selectedMails.length>0&&this.setState({modalStateChange:!0}),this.props.unselect!==e.unselect&&(this.props.selectMailsCounter(0),this.setState({selectedMails:[]})),this.props.selectionMode!==e.selectionMode&&this.setState({selectedMails:[]}),this.props.view!==e.view&&(this.setState({offset:0,mailsRec:[],pdfRec:[],companyArr:this.props.companyData}),this.getMailsData(0,this.props.filterSearch,!1)),this.props.filterSearch!==e.filterSearch&&(this.setState({offset:0,mailsRec:[],pdfRec:[],companyArr:this.props.companyData}),this.getMailsData(0,this.props.filterSearch,!0)),this.props.companyData!==e.companyData&&(this.setState({offset:0,mailsRec:[],pdfRec:[],companyArr:this.props.companyData}),this.getMailsData(0,this.props.filterSearch,!1))}},{key:"setVisible",value:function(e,t,a){if(!e){var s=this.state.saw;s[a]||this.props.reduceNotSeenCounter(this.props.stateSta),s[a]=!0,this.setState({saw:s})}this.setState({setItem:t,modal:e,setKey:a})}},{key:"stringShortener",value:function(e,t){return Object(b["jsx"])(b["Fragment"],{children:e.length>t?Object(b["jsxs"])(i["a"],{title:e,children:[e.slice(0,t),"..."]}):e})}},{key:"onChangeSelectionMails",value:function(e,t){var a=this.state.selectedMails;if(!a.includes(t)||e.target.checked)a.push(t),this.props.selectMailsCounter(a.length),this.setState({selectedMails:a});else{var s=a.indexOf(t);s>-1&&a.splice(s,1),this.props.selectMailsCounter(a.length),this.setState({selectedMails:a})}}},{key:"isMember",value:function(e){for(var t=this.state.mailsInWork,a=0;a<t.length;a++)if(t[a][0]===e)return!1;return!0}},{key:"giveState",value:function(e){for(var t=this.state.mailsInWork,a=0;a<t.length;a++)if(t[a][0]===e){if("SCANNED_REQ"===t[a][1])return Object(b["jsxs"])(b["Fragment"],{children:["wird gescannt...",Object(b["jsx"])("br",{})]});if("FORWARDED_REQ"===t[a][1])return Object(b["jsxs"])(b["Fragment"],{children:["wird verschickt...",Object(b["jsx"])("br",{})]});if("DESTROYED_REQ"===t[a][1])return Object(b["jsxs"])(b["Fragment"],{children:["wird vernichtet...",Object(b["jsx"])("br",{})]})}return!0}},{key:"setVisibleStateChange",value:function(e){this.setState({modalStateChange:e})}},{key:"confirmChangeState",value:function(){var e="";e="null"===this.props.changeState?this.props.changeState2:this.props.changeState;var t=this,a={arr:this.state.selectedMails,newTask:e};Object(v["a"])("https://adrezze-backend.herokuapp.com/users/getchangetaskArr",{method:"POST",data:a}).then((function(a){if("error"===a.changeTask)G["default"].error("Fehler Mails");else{G["default"].success("Auftrag wurde angenommen!");for(var s=t.state.selectedMails,n=t.state.mailsInWork,i=0;i<s.length;i++)n.push([s[i],e]);t.setState({mailsInWork:n,selectedMails:[],modalStateChange:!1})}})).catch((function(e){G["default"].error("Fehler Mails")}))}},{key:"render",value:function(){var e=this;return Object(b["jsxs"])(b["Fragment"],{children:[this.props.currState===this.props.stateSta?Object(b["jsx"])($["a"],{style:{overflowX:"hidden"},dataLength:this.state.mailsRec.length,next:function(){return e.getMailsData(8,e.props.filterSearch,!1)},hasMore:!0,loader:Object(b["jsx"])("p",{style:{textAlign:"center"},children:Object(b["jsx"])(s["a"],{size:"large",spinning:this.state.mailsLoading})}),endMessage:Object(b["jsx"])("p",{style:{textAlign:"center"},children:Object(b["jsx"])("b",{})}),children:Object(b["jsx"])(he["a"],{scroll:{x:100},style:{marginTop:"15px",marginRight:"15px",marginLeft:"15px",overflowX:"hidden"},columns:"RECIEVED"===this.state.stateSta?this.columnsRecieved:this.columns,dataSource:this.state.mailsRec,pagination:!1})}):null,Object(b["jsx"])(K["a"],{destroyOnClose:!0,footer:null,centered:!0,visible:this.state.modal,onCancel:function(){return e.setVisible(!1,null,e.state.setKey)},children:Object(b["jsx"])(re,{item:this.state.setItem,saw:this.state.saw[this.state.setKey]})}),Object(b["jsx"])(K["a"],{destroyOnClose:!0,centered:!0,visible:this.state.modalStateChange,onCancel:function(){return e.setVisibleStateChange(!1)},onOk:function(){return e.confirmChangeState()},cancelText:"Abbruch",children:Object(b["jsxs"])(b["Fragment"],{children:["Bist du dir sicher, dass du ",this.state.selectedMails.length," Briefe"," ","SCANNED_REQ"===this.props.changeState||"SCANNED_REQ"===this.props.changeState2?Object(b["jsx"])(b["Fragment"],{children:"scannen"}):null," ","FORWARDED_REQ"===this.props.changeState||"FORWARDED_REQ"===this.props.changeState2?Object(b["jsx"])(b["Fragment"],{children:"verschicken"}):null," ","DESTROYED_REQ"===this.props.changeState||"DESTROYED_REQ"===this.props.changeState2?Object(b["jsx"])(b["Fragment"],{children:"vernichten"}):null," ","m\xf6chtest?"]})})]})}}]),a}(D["Component"]),pe={fontSize:"20px"},ue=function(e){Object(C["a"])(a,e);var t=Object(y["a"])(a);function a(e){var s;return Object(x["a"])(this,a),s=t.call(this,e),s.state={currState:"RECIEVED",companyArr:[],collapsed:!1},s.changeState=s.changeState.bind(Object(E["a"])(s)),s}return Object(A["a"])(a,[{key:"componentDidMount",value:function(){this.setState({companyArr:this.props.companyData}),screen.width<700&&this.setState({collapsed:!0})}},{key:"changeState",value:function(e){var t="";"1"===e?t="RECIEVED":"2"===e?t="SCANNED":"3"===e?t="FORWARDED":"4"===e&&(t="DESTROYED"),this.setState({currState:t}),this.props.actState(t)}},{key:"render",value:function(){var e=this.props.companyData,t=J["a"].TabPane;return Object(b["jsx"])(b["Fragment"],{children:Object(b["jsxs"])(J["a"],{tabBarStyle:{backgroundColor:"white"},size:"large",defaultActiveKey:"1",centered:!0,onChange:this.changeState,children:[Object(b["jsx"])(t,{destroyInactiveTabPane:!0,tab:Object(b["jsxs"])("span",{children:[Object(b["jsx"])(f["a"],{offset:[-10,0],dot:!0,count:e.mailCounterNotSeen[0],style:{backgroundColor:"#73d13d"}}),Object(b["jsxs"])(i["a"],{placement:"left",title:e.mailCounterNotSeen[0]>0?"Neu "+e.mailCounterNotSeen[0]:null,children:[Object(b["jsx"])(k["a"],{style:pe}),Object(b["jsx"])("span",{style:{fontSize:"20px"},children:this.state.collapsed?null:Object(b["jsx"])(b["Fragment"],{children:"Eingetroffen"})})]})]}),children:this.props.view?Object(b["jsx"])(oe,{currState:this.state.currState,companyData:this.props.companyData,stateSta:"RECIEVED",dynamicState:this.state.currState,filterSearch:this.props.filterSearch,view:this.props.view,selectionMode:this.props.selectionMode,unselect:this.props.unselect,changeState:this.props.changeState,changeState2:this.props.changeState2,selectMailsCounter:this.props.selectMailsCounter,reduceNotSeenCounter:this.props.reduceNotSeenCounter}):Object(b["jsx"])(je,{currState:this.state.currState,companyData:this.props.companyData,stateSta:"RECIEVED",dynamicState:this.state.currState,filterSearch:this.props.filterSearch,view:this.props.view,selectionMode:this.props.selectionMode,unselect:this.props.unselect,changeState:this.props.changeState,changeState2:this.props.changeState2,selectMailsCounter:this.props.selectMailsCounter,reduceNotSeenCounter:this.props.reduceNotSeenCounter})},"1"),Object(b["jsx"])(t,{destroyInactiveTabPane:!0,tab:Object(b["jsxs"])("span",{children:[Object(b["jsx"])(f["a"],{offset:[-10,0],dot:!0,count:e.mailCounterNotSeen[1],style:{backgroundColor:"#73d13d"}}),Object(b["jsxs"])(i["a"],{placement:"left",title:e.mailCounterNotSeen[1]>0?"Neu "+e.mailCounterNotSeen[1]:null,children:[Object(b["jsx"])(w["a"],{style:pe}),Object(b["jsx"])("span",{style:{fontSize:"20px"},children:this.state.collapsed?null:Object(b["jsx"])(b["Fragment"],{children:"Gescannt"})})]})]}),children:this.props.view?Object(b["jsx"])(oe,{currState:this.state.currState,companyData:this.props.companyData,stateSta:"SCANNED",dynamicState:this.state.currState,filterSearch:this.props.filterSearch,view:this.props.view,selectionMode:this.props.selectionMode,unselect:this.props.unselect,changeState:this.props.changeState,changeState2:this.props.changeState2,selectMailsCounter:this.props.selectMailsCounter,reduceNotSeenCounter:this.props.reduceNotSeenCounter}):Object(b["jsx"])(je,{currState:this.state.currState,companyData:this.props.companyData,stateSta:"SCANNED",dynamicState:this.state.currState,filterSearch:this.props.filterSearch,view:this.props.view,selectionMode:this.props.selectionMode,unselect:this.props.unselect,changeState:this.props.changeState,changeState2:this.props.changeState2,selectMailsCounter:this.props.selectMailsCounter,reduceNotSeenCounter:this.props.reduceNotSeenCounter})},"2"),Object(b["jsx"])(t,{destroyInactiveTabPane:!0,tab:Object(b["jsxs"])("span",{children:[Object(b["jsx"])(N["a"],{style:pe}),Object(b["jsx"])("span",{style:{fontSize:"20px"},children:this.state.collapsed?null:Object(b["jsx"])(b["Fragment"],{children:"Verschickt"})})]}),children:this.props.view?Object(b["jsx"])(oe,{currState:this.state.currState,companyData:this.props.companyData,stateSta:"FORWARDED",dynamicState:this.state.currState,filterSearch:this.props.filterSearch,view:this.props.view,selectionMode:this.props.selectionMode,unselect:this.props.unselect,changeState:this.props.changeState,changeState2:this.props.changeState2,reduceNotSeenCounter:this.props.reduceNotSeenCounter}):Object(b["jsx"])(je,{currState:this.state.currState,companyData:this.props.companyData,stateSta:"FORWARDED",dynamicState:this.state.currState,filterSearch:this.props.filterSearch,view:this.props.view,selectionMode:this.props.selectionMode,unselect:this.props.unselect,changeState:this.props.changeState,changeState2:this.props.changeState2,reduceNotSeenCounter:this.props.reduceNotSeenCounter})},"3"),Object(b["jsx"])(t,{destroyInactiveTabPane:!0,tab:Object(b["jsxs"])("span",{children:[Object(b["jsx"])(Q["a"],{style:pe}),Object(b["jsx"])("span",{style:{fontSize:"20px"},children:this.state.collapsed?null:Object(b["jsx"])(b["Fragment"],{children:"Vernichtet"})})]}),children:this.props.view?Object(b["jsx"])(oe,{currState:this.state.currState,companyData:this.props.companyData,stateSta:"DESTROYED",dynamicState:this.state.currState,filterSearch:this.props.filterSearch,view:this.props.view,selectionMode:this.props.selectionMode,unselect:this.props.unselect,changeState:this.props.changeState,changeState2:this.props.changeState2,reduceNotSeenCounter:this.props.reduceNotSeenCounter}):Object(b["jsx"])(je,{currState:this.state.currState,companyData:this.props.companyData,stateSta:"DESTROYED",dynamicState:this.state.currState,filterSearch:this.props.filterSearch,view:this.props.view,selectionMode:this.props.selectionMode,unselect:this.props.unselect,changeState:this.props.changeState,changeState2:this.props.changeState2,reduceNotSeenCounter:this.props.reduceNotSeenCounter})},"4")]})})}}]),a}(D["Component"]),be=a("/MKj"),me={labelCol:{span:20},wrapperCol:{span:3}},ge={viewNew:"Bereits gesehene Briefe ausblenden",viewInWork:"Bereits bearbeitete Briefe ausblenden",viewDefault:"Standart",date:"Datum"},Se={width:40,borderRadius:4,background:"#394551",border:"none",color:"#fff",height:40,left:0,top:0,margin:"1px"},Oe="localhost"===location.hostname?"http://localhost:5000":"https://adrezze-backend.herokuapp.com",fe={fontSize:"20px"},xe=function(e){Object(C["a"])(a,e);var t=Object(y["a"])(a);function a(e){var s;return Object(x["a"])(this,a),s=t.call(this,e),s.buildCompDropDown=function(e,t){var a=Object(b["jsx"])(O["a"],{children:e.companyArr.map((function(e,t){return Object(b["jsx"])(O["a"].Item,{value:e.name,onClick:function(){return s.selectCompany(t)},children:Object(b["jsx"])(f["a"],{dot:!0,count:s.state.companyArr[t].mailCounterNotSeen[0]+s.state.companyArr[t].mailCounterNotSeen[1]+s.state.companyArr[t].mailCounterNotSeen[2]+s.state.companyArr[t].mailCounterNotSeen[3],style:{backgroundColor:"#73d13d"},children:Object(b["jsx"])("span",{style:{fontSize:18},children:e.name})})},e.id_company)}))});return 1===e.companyArr.length?e.companyArr[0].name:e.companyArr.length>1&&e.companyArr.length<=10?Object(b["jsx"])(S["a"],{overlay:a,children:Object(b["jsxs"])("a",{className:"ant-dropdown-link",style:{fontSize:18},onClick:function(e){return e.preventDefault()},children:[e.comSelNam," ",Object(b["jsx"])(M["a"],{})]})}):e.companyArr.length>10?Object(b["jsx"])(g["a"],{style:{width:200},defaultValue:"test",showSearch:!0,size:"large",children:e.companyArr.map((function(e,a){return Object(b["jsx"])(g["a"].Option,{value:e.name,onChange:function(){return s.selectCompany(a)},children:Object(b["jsx"])(f["a"],{dot:!0,count:t.mailCounterNotSeen[0]+t.mailCounterNotSeen[1]+t.mailCounterNotSeen[2]+t.mailCounterNotSeen[3],style:{backgroundColor:"#73d13d"},children:e.name})},e.id_company)}))}):void 0},s.toggle=function(e){s.state.collapsed&&window.scrollTo({top:0,behavior:"smooth"}),s.state.collapsed||s.state.sidetool===e?s.setState({collapsed:!s.state.collapsed,sidetool:e}):s.setState({sidetool:e})},s.state={stateSta:"RECIEVED",collapsed:!0,sidetool:!1,companyArr:[{mailCounterNotSeen:[0,0,0,0],mailCounterAll:[0,0,0,0],mailCounterInProgress:0,mailCounterReady:0,name:"",id_company:0}],comSelArrId:0,comSelNam:"",viewGrid:!0,selectionMode:!1,filterMode:!1,companyMode:!1,changeState:"null",unselect:!1,changeState2:"",selectedMailsCounter:0,filterSearch:{search:"",date:[],viewNew:!1,viewInWork:!1,viewDefault:!0}},s.changeView=s.changeView.bind(Object(E["a"])(s)),s.onFinishFilterSearch=s.onFinishFilterSearch.bind(Object(E["a"])(s)),s.selectionMode=s.selectionMode.bind(Object(E["a"])(s)),s.changeState=s.changeState.bind(Object(E["a"])(s)),s.actState=s.actState.bind(Object(E["a"])(s)),s.selectMailsCounter=s.selectMailsCounter.bind(Object(E["a"])(s)),s.reduceNotSeenCounter=s.reduceNotSeenCounter.bind(Object(E["a"])(s)),s}return Object(A["a"])(a,[{key:"selectMailsCounter",value:function(e){this.setState({selectedMailsCounter:e})}},{key:"actState",value:function(e){"FORWARDED"!==e&&"DESTROYED"!==e||this.setState({selectionMode:!1}),this.setState({stateSta:e})}},{key:"reduceNotSeenCounter",value:function(e){var t=5;"RECIEVED"===e?t=0:(e="SCANNED")?t=1:(e="FORWARDED")?t=2:(e="DESTROYED")&&(t=3);var a=this.state.companyArr;a[this.state.comSelArrId].mailCounterNotSeen[t]--,this.setState({companyArr:a})}},{key:"getCompanyData",value:function(){var e=this;Object(v["a"])(Oe+"/users/getcompanydata",{method:"GET"}).then((function(t){"error"===t.companyData||e.setState({companyArr:t.companyData,comSelNam:t.companyData[0].name})})).catch((function(e){}))}},{key:"componentDidMount",value:function(){this.getCompanyData()}},{key:"selectCompany",value:function(e){this.setState({comSelArrId:e,comSelNam:this.state.companyArr[e].name})}},{key:"changeView",value:function(){this.setState({viewGrid:!this.state.viewGrid}),window.scrollTo({top:0,behavior:"smooth"})}},{key:"onFinishFilterSearch",value:function(e){this.setState({filterSearch:e})}},{key:"selectionMode",value:function(){this.setState({selectionMode:!this.state.selectionMode,companyMode:!1,filterMode:!1})}},{key:"filterMode",value:function(){this.state.collapsed&&window.scrollTo({top:0,behavior:"smooth"}),this.setState({collapsed:this.state.filterMode,selectionMode:!1,companyMode:!1,filterMode:!this.state.filterMode})}},{key:"companyMode",value:function(){this.state.collapsed&&window.scrollTo({top:0,behavior:"smooth"}),this.setState({collapsed:this.state.companyMode,selectionMode:!1,companyMode:!this.state.companyMode,filterMode:!1})}},{key:"unselect",value:function(){this.setState({unselect:!this.state.unselect})}},{key:"changeState",value:function(e){"null"===this.state.changeState2?this.setState({changeState:"null",changeState2:e}):this.setState({changeState2:"null",changeState:e})}},{key:"render",value:function(){var e=this,t=this.state.companyArr[this.state.comSelArrId],a=this.state,g=m["a"].Content,S=m["a"].Sider;return Object(b["jsx"])(b["Fragment"],{children:this.props.auth.state?Object(b["jsx"])(s["a"],{spinning:!1,size:"large",children:Object(b["jsxs"])(m["a"],{children:[Object(b["jsx"])(S,{defaultCollapsed:!0,collapsible:!0,trigger:null,collapsed:this.state.collapsed,style:{left:-500},collapsedWidth:0,width:410,children:Object(b["jsxs"])(u["a"],{style:{left:505,width:380},children:[this.state.companyMode?Object(b["jsxs"])(u["a"],{title:Object(b["jsxs"])(b["Fragment"],{children:[Object(b["jsx"])(R["a"],{})," ",this.buildCompDropDown(a,t)]}),children:[Object(b["jsxs"])("li",{children:["Briefe gesamt:",t.mailCounterAll[0]+t.mailCounterAll[1]+t.mailCounterAll[2]+t.mailCounterAll[3]]}),Object(b["jsxs"])("li",{children:["Eingegangen: ",Object(b["jsx"])(k["a"],{})," ",t.mailCounterAll[0]]}),Object(b["jsxs"])("li",{children:["Gescannt: ",Object(b["jsx"])(w["a"],{})," ",t.mailCounterAll[1]]}),Object(b["jsxs"])("li",{children:["Verschickt: ",Object(b["jsx"])(N["a"],{})," ",t.mailCounterAll[2]]}),Object(b["jsxs"])("li",{children:["Vernichtet: ",Object(b["jsx"])(Q["a"],{})," ",t.mailCounterAll[3]]}),Object(b["jsxs"])("li",{children:["in Bearbeitung: ",t.mailCounterInProgress]})]}):null,this.state.filterMode?Object(b["jsx"])(b["Fragment"],{children:Object(b["jsxs"])(j["a"],{layout:"horizontal",hideRequiredMark:!0,onFinish:this.onFinishFilterSearch,initialValues:{search:"",date:[],viewNew:!1,viewInWork:!1,viewDefault:!0},children:[Object(b["jsx"])(u["a"],{title:"Stichwort Suche",bordered:!1,children:Object(b["jsx"])(j["a"].Item,{name:"search",children:Object(b["jsx"])(p["a"],{placeholder:"Absender oder Betreff...",size:"large"})})}),Object(b["jsx"])(u["a"],{title:"Filter",bordered:!1,children:Object(b["jsx"])(b["Fragment"],{children:Object(b["jsxs"])(l["b"],{direction:"vertical",children:[Object(b["jsx"])(j["a"].Item,{label:ge.date,name:"date",children:Object(b["jsx"])(d["a"].RangePicker,{format:"YYYY-MM-DD"})}),Object(b["jsx"])(j["a"].Item,Object(o["a"])(Object(o["a"])({},me),{},{label:ge.viewNew,name:"viewNew",valuePropName:"checked",children:Object(b["jsx"])(h["a"],{checkedChildren:Object(b["jsx"])(F["a"],{}),unCheckedChildren:Object(b["jsx"])(I["a"],{}),defaultChecked:!0})}))]})})}),Object(b["jsx"])(r["a"],{type:"primary",htmlType:"submit",children:"Suchen"})]})}):null]})}),Object(b["jsx"])(m["a"],{children:Object(b["jsxs"])(g,{children:[Object(b["jsx"])(u["a"],{bordered:!1,style:{marginLeft:0},children:Object(b["jsx"])(ue,{companyData:t,view:this.state.viewGrid,filterSearch:this.state.filterSearch,selectionMode:this.state.selectionMode,unselect:this.state.unselect,changeState:this.state.changeState,changeState2:this.state.changeState2,actState:this.actState,selectMailsCounter:this.selectMailsCounter,reduceNotSeenCounter:this.reduceNotSeenCounter})}),Object(b["jsx"])(c["a"],{children:Object(b["jsx"])("div",{style:{height:40,width:40,lineHeight:"40px",borderRadius:4,backgroundColor:"#1088e9",color:"#fff",textAlign:"center",fontSize:14},children:Object(b["jsx"])(B["a"],{})})}),Object(b["jsx"])(n["a"],{offsetTop:250,style:{position:"absolute",top:0,left:-60},children:Object(b["jsx"])("ul",{children:this.state.selectionMode?Object(b["jsxs"])(b["Fragment"],{children:[Object(b["jsxs"])("li",{children:[Object(b["jsx"])("br",{}),Object(b["jsx"])("br",{}),Object(b["jsx"])("br",{}),Object(b["jsx"])("br",{}),Object(b["jsx"])("br",{}),Object(b["jsx"])("br",{}),Object(b["jsx"])(i["a"],{placement:"right",title:"Zur\xfcck",children:Object(b["jsx"])(r["a"],{style:Se,onClick:this.selectionMode,icon:Object(b["jsx"])(Y["a"],{})})})]}),Object(b["jsxs"])("li",{children:[Object(b["jsx"])("br",{}),Object(b["jsx"])("br",{}),Object(b["jsx"])("br",{}),Object(b["jsx"])("br",{})," ","RECIEVED"===this.state.stateSta?Object(b["jsx"])(i["a"],{placement:"right",title:"Scannen",children:Object(b["jsx"])(r["a"],{style:Se,onClick:function(){return e.changeState("SCANNED_REQ")},icon:Object(b["jsx"])(w["a"],{})})}):null]}),Object(b["jsx"])("li",{children:"RECIEVED"===this.state.stateSta||"SCANNED"===this.state.stateSta?Object(b["jsx"])(i["a"],{placement:"right",title:"Verschicken",children:Object(b["jsx"])(r["a"],{style:Se,onClick:function(){return e.changeState("FORWARDED_REQ")},icon:Object(b["jsx"])(N["a"],{})})}):null}),Object(b["jsx"])("li",{children:"RECIEVED"===this.state.stateSta||"SCANNED"===this.state.stateSta?Object(b["jsx"])(i["a"],{placement:"right",title:"Vernichten",children:Object(b["jsx"])(r["a"],{style:Se,onClick:function(){return e.changeState("DESTROYED_REQ")},icon:Object(b["jsx"])(Q["a"],{})})}):null}),Object(b["jsxs"])("li",{children:[Object(b["jsx"])("br",{})," ","RECIEVED"===this.state.stateSta||"SCANNED"===this.state.stateSta?Object(b["jsx"])(i["a"],{placement:"right",title:"Alle deselektieren",children:Object(b["jsx"])(r["a"],{style:Se,onClick:function(){return e.unselect()},children:this.state.selectedMailsCounter})}):null]})]}):Object(b["jsxs"])(b["Fragment"],{children:[Object(b["jsx"])("li",{children:Object(b["jsx"])(i["a"],{placement:"right",title:"Firma",children:Object(b["jsx"])(r["a"],{style:Se,onClick:function(){return e.companyMode()},icon:Object(b["jsx"])(R["a"],{style:fe})})})}),Object(b["jsx"])("li",{children:Object(b["jsx"])(i["a"],{placement:"right",title:"Filtern, Suchen",children:Object(b["jsx"])(r["a"],{style:Se,onClick:function(){return e.filterMode()},icon:Object(b["jsx"])(_["a"],{style:fe})})})}),Object(b["jsxs"])("li",{children:[" ",Object(b["jsx"])(i["a"],{placement:"right",title:"Ansicht wechseln",children:Object(b["jsx"])(r["a"],{style:Se,onClick:this.changeView,icon:this.state.viewGrid?Object(b["jsx"])(T["a"],{style:fe}):Object(b["jsx"])(z["a"],{style:fe})})})]}),Object(b["jsx"])("li",{children:"FORWARDED"===this.state.stateSta||"DESTROYED"===this.state.stateSta?null:Object(b["jsx"])(i["a"],{placement:"right",title:"Mehrere Selektieren",children:Object(b["jsx"])(r["a"],{style:Se,onClick:this.selectionMode,icon:Object(b["jsx"])(V["a"],{})})})})]})})})]})})]})}):Object(b["jsx"])(b["Fragment"],{children:" Sie k\xf6nnen die Post nicht einsehen, da dieser Account deaktiviert wurde. "})})}}]),a}(D["Component"]),Ae=function(e){return{auth:e.auth}};t["default"]=Object(be["c"])(Ae)(xe)}}]);