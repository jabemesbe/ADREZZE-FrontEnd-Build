(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[613],{64317:function(_,I,t){"use strict";var D=t(67294),A=t(20843),W=t(22270),Z=t(66758),x=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],K=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"];function T(){return T=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},T.apply(this,arguments)}function R(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,o)}return n}function C(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?R(Object(n),!0).forEach(function(o){j(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function j(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function E(e,a){if(e==null)return{};var n=d(e,a),o,g;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);for(g=0;g<b.length;g++)o=b[g],!(a.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,o)||(n[o]=e[o]))}return n}function d(e,a){if(e==null)return{};var n={},o=Object.keys(e),g,b;for(b=0;b<o.length;b++)g=o[b],!(a.indexOf(g)>=0)&&(n[g]=e[g]);return n}var p=D.forwardRef(function(e,a){var n=e.fieldProps,o=e.children,g=e.params,b=e.proFieldProps,U=e.mode,M=e.valueEnum,Q=e.request,Y=e.showSearch,k=e.options,N=E(e,x),B=(0,D.useContext)(Z.Z);return D.createElement(A.Z,T({mode:"edit",valueEnum:(0,W.h)(M),request:Q,params:g,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:C({options:k,mode:U,showSearch:Y,getPopupContainer:B.getPopupContainer},n),ref:a,proFieldProps:b},N),o)}),m=D.forwardRef(function(e,a){var n=e.fieldProps,o=e.children,g=e.params,b=e.proFieldProps,U=e.mode,M=e.valueEnum,Q=e.request,Y=e.options,k=E(e,K),N=C({options:Y,mode:U||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label",filterOption:!1},n),B=(0,D.useContext)(Z.Z);return D.createElement(A.Z,T({mode:"edit",valueEnum:(0,W.h)(M),request:Q,params:g,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:C({getPopupContainer:B.getPopupContainer},N),ref:a,proFieldProps:b},k),o)}),c=p,v=m,O=c;O.SearchSelect=v,O.displayName="ProFormComponent",I.Z=O},5966:function(_,I,t){"use strict";var D=t(67294),A=t(20843),W=["fieldProps","proFieldProps"],Z=["fieldProps","proFieldProps"];function x(){return x=Object.assign||function(d){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var c in m)Object.prototype.hasOwnProperty.call(m,c)&&(d[c]=m[c])}return d},x.apply(this,arguments)}function K(d,p){if(d==null)return{};var m=T(d,p),c,v;if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);for(v=0;v<O.length;v++)c=O[v],!(p.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(d,c)||(m[c]=d[c]))}return m}function T(d,p){if(d==null)return{};var m={},c=Object.keys(d),v,O;for(O=0;O<c.length;O++)v=c[O],!(p.indexOf(v)>=0)&&(m[v]=d[v]);return m}var R="text",C=function(p){var m=p.fieldProps,c=p.proFieldProps,v=K(p,W);return D.createElement(A.Z,x({mode:"edit",valueType:R,fieldProps:m,filedConfig:{valueType:R},proFieldProps:c},v))},j=function(p){var m=p.fieldProps,c=p.proFieldProps,v=K(p,Z);return D.createElement(A.Z,x({mode:"edit",valueType:"password",fieldProps:m,proFieldProps:c,filedConfig:{valueType:R}},v))},E=C;E.Password=j,E.displayName="ProFormComponent",I.Z=E},39403:function(_,I,t){"use strict";t.r(I),t.d(I,{default:function(){return ne}});var D=t(20228),A=t(11382),W=t(58024),Z=t(39144),x=t(3182),K=t(71153),T=t(60331),R=t(2824),C=t(94043),j=t.n(C),E=t(67294),d=t(43581),p=t(8060),m=t(17753),c=t(20843),v=t(86190),O=t(66758),e=["fieldProps","proFieldProps"];function a(){return a=Object.assign||function(r){for(var u=1;u<arguments.length;u++){var l=arguments[u];for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(r[s]=l[s])}return r},a.apply(this,arguments)}function n(r,u){var l=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);u&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(r,h).enumerable})),l.push.apply(l,s)}return l}function o(r){for(var u=1;u<arguments.length;u++){var l=arguments[u]!=null?arguments[u]:{};u%2?n(Object(l),!0).forEach(function(s){g(r,s,l[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(l)):n(Object(l)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(l,s))})}return r}function g(r,u,l){return u in r?Object.defineProperty(r,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[u]=l,r}function b(r,u){if(r==null)return{};var l=U(r,u),s,h;if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(r);for(h=0;h<F.length;h++)s=F[h],!(u.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,s)||(l[s]=r[s]))}return l}function U(r,u){if(r==null)return{};var l={},s=Object.keys(r),h,F;for(F=0;F<s.length;F++)h=s[F],!(u.indexOf(h)>=0)&&(l[h]=r[h]);return l}var M="dateTimeRange",Q=E.forwardRef(function(r,u){var l=r.fieldProps,s=r.proFieldProps,h=b(r,e),F=(0,E.useContext)(O.Z);return E.createElement(c.Z,a({ref:u,mode:"edit",fieldProps:o({getPopupContainer:F.getPopupContainer},l),valueType:M,proFieldProps:s,filedConfig:{valueType:M,lightFilterLabelFormatter:function(J){return(0,v.Z)(J,"YYYY-MM-DD HH:mm:ss")}}},h))}),Y=Q,k=t(17292),N=t(64317),B=t(5966),y=t(85893),ne=function(){var u=(0,d.md)(),l=(0,E.useRef)(),s=(0,E.useState)({show:!1,mail:{mails_id:null,task:{task:null}}}),h=(0,R.Z)(s,2),F=h[0],z=h[1],J=function(){z({show:!1,mail:null})},X=function(){l.current.reload()},ae=(0,E.useState)(!1),q=(0,R.Z)(ae,2),oe=q[0],pe=q[1],le=(0,E.useState)({log_id:{fixed:"left",show:!1},path:{fixed:"left",show:!1},id_company:{fixed:"left",show:!1},params:{fixed:"left",show:!1},ip:{fixed:"left",show:!1},response_time:{fixed:"left",show:!1}}),ee=(0,R.Z)(le,2),ie=ee[0],se=ee[1],V=[{value:"TASK_DESTROYED",label:"Aufgabe gel\xF6scht",color:"blue"},{value:"TASK_DONE_FOR_DES_DESTROYED_REQ",label:"Aufgabe Erledigt: gel\xF6scht",color:"blue"},{value:"TASK_DONE_FOR_DES_FORWARDED_REQ",label:"Aufgabe Erledigt: weitergeleitet",color:"blue"},{value:"TASK_DONE_FOR_DES_SCANNED_REQ",label:"Aufgabe Erledigt: gescannt",color:"blue"},{value:"USER_CREATED_TASK_FORWARDED_REQ",label:"in Auftrag gegeben: WEITERLEITEN",color:"yellow"},{value:"USER_CREATED_TASK_DESTROYED_REQ",label:"in Auftrag gegeben: VERNICHTEN",color:"yellow"},{value:"USER_CREATED_TASK_SCANNED_REQ",label:"in Auftrag gegeben: SCANNEN",color:"yellow"},{value:"USER_CREATED_TASK_ARRAY_FORWARDED_REQ",label:"(Selektiert) in Auftrag gegeben: WEITERLEITEN",color:"yellow"},{value:"USER_CREATED_TASK_ARRAY_DESTROYED_REQ",label:"(Selektiert) in Auftrag gegeben: VERNICHTEN",color:"yellow"},{value:"USER_CREATED_TASK_ARRAY_SCANNED_REQ",label:"(Selektiert) in Auftrag gegeben: SCANNEN",color:"yellow"},{value:"LOGIN",label:"Login",color:"pink"},{value:"SEND_ERROR",label:"Error vom FrontEnd",color:"error"}],H=[{value:"200",color:"success",label:"200"},{value:"401",color:"yellow",label:"401"},{value:"403",color:"yellow",label:"403"},{value:"429",color:"pink",label:"429"},{value:"500",color:"error",label:"500"},{value:"400",color:"warning",label:"400"}],ue=[{title:"Status",key:"status",dataIndex:"status",render:function(i,w,G,S){for(var f=0;f<H.length;f++)if(w.status===H[f].value)return(0,y.jsx)(T.Z,{color:H[f].color,children:H[f].value});return w.status}},{title:"Log ID",dataIndex:"log_id",key:"log_id"},{title:"User ID",dataIndex:"user_id",key:"user_id"},{title:"IP",dataIndex:"ip",key:"ip"},{title:"Firma",dataIndex:"name",key:"name"},{title:"Mails Id",dataIndex:"mails_id",key:"mails_id"},{title:"Aktion durchgef\xFChrt",dataIndex:"time_stample",key:"time_stample",valueType:"dateTime"},{title:"Firma ID",dataIndex:"id_company",key:"id_company"},{title:"Request Params",key:"params",dataIndex:"params",width:"15%"},{title:"Response Time in ms",key:"response_time",dataIndex:"response_time"},{title:"Pfad",key:"path",dataIndex:"path",width:"15%"},{title:"Event",dataIndex:"event",key:"event",render:function(i,w,G,S){for(var f=0;f<V.length;f++)if(w.event===V[f].value)return(0,y.jsx)(T.Z,{color:V[f].color,children:(0,y.jsx)("a",{children:V[f].label})});return w.event}},{title:"Extra",key:"extra",dataIndex:"extra",width:120},{title:"Error",key:"error",dataIndex:"error",width:120}],de=(0,E.useState)({}),te=(0,R.Z)(de,2),$=te[0],re=te[1];return(0,y.jsx)(d.Nv,{accessible:u.canAdmin,fallback:function(){return d.m8.push("/exception/403")},children:(0,y.jsxs)(A.Z,{spinning:oe,children:[(0,y.jsx)(Z.Z,{style:{marginBottom:16},children:(0,y.jsxs)(k.Z,{onFinish:function(){var P=(0,x.Z)(j().mark(function i(w){return j().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:re(w),X();case 2:case"end":return S.stop()}},i)}));return function(i){return P.apply(this,arguments)}}(),onReset:function(){var P=(0,x.Z)(j().mark(function i(w){return j().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:re({}),X();case 2:case"end":return S.stop()}},i)}));return function(i){return P.apply(this,arguments)}}(),layout:"inline",children:[(0,y.jsx)(N.Z,{label:"Event Typ",name:"type",mode:"tags",placeholder:"Tags Mode",options:V,fieldProps:{optionItemRender:function(i){return(0,y.jsx)(T.Z,{color:i.color,children:i.label})}}}),(0,y.jsx)(N.Z,{label:"Status",name:"status",options:H,mode:"tags",placeholder:"Tags Mode",fieldProps:{optionItemRender:function(i){return(0,y.jsx)(T.Z,{color:i.color,children:i.value})}}}),(0,y.jsx)(B.Z,{name:"text",label:"Suche",tooltip:"Suche nach: Log ID, Mails ID, Firmen ID, Firmenname"}),(0,y.jsx)(Y,{fieldProps:{disabledDate:function(i){return i>Date.now()},disabledTime:function(i){return i>Date.now()}},transform:function(i){return{startTime:i?i[0]:void 0,endTime:i?i[1]:void 0}},name:"date",label:"Datum"})]})}),(0,y.jsx)(p.ZP,{actionRef:l,onColumnsStateChange:function(i){return se(i)},columns:ue,request:(0,x.Z)(j().mark(function P(){var i,w,G,S,f=arguments;return j().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return i=f.length>0&&f[0]!==void 0?f[0]:{},w=f.length>1?f[1]:void 0,G=f.length>2?f[2]:void 0,L.next=5,(0,d.WY)(m.Q+"/api/admin/logstask?search=".concat($.text,"&startTime=").concat($.startTime,"&endTime=").concat($.endTime,"&type=").concat($.type,"&status=").concat($.status),{params:i});case 5:return S=L.sent,L.abrupt("return",S);case 7:case"end":return L.stop()}},P)})),rowKey:"mails_id",columnsStateMap:ie,pagination:{showQuickJumper:!1,showSizeChanger:!0},dateFormatter:"string",headerTitle:"Logs",search:!1})]})})}}}]);
