(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[716],{38853:function(A){A.exports={containerRight:"containerRight___2VMeI",containerLeft:"containerLeft___1ytQm",main:"main___3XMrN",footer:"footer___1iWCk",containerMin:"containerMin___3LMZw",mainHeader:"mainHeader___1q4MS",logo:"logo___3NiYu",title:"title___3irbS"}},35748:function(A){A.exports={containerLeft:"containerLeft___2H1fG",containerRight:"containerRight___2zovr",main:"main___1ditJ",mainHeader:"mainHeader___25biJ",logo:"logo___3j4u6",title:"title___1ui2U",footer:"footer___3Eb1U",container:"container___3nPZB",lang:"lang___jQfA1",content:"content___18J4U",top:"top___1CpW7",header:"header___2USYD",desc:"desc___3UPE0",icon:"icon___gVXiW",other:"other___3EGXo",register:"register___W4ji3",prefixIcon:"prefixIcon___D1nv9"}},34846:function(A,b,r){"use strict";var f=r(67294),s=r(38853),t=r.n(s),U=r(29791),P=r(43906),Q=r(10329),q=r.n(Q),a=r(85893),J=function(K){var w=K.content;return(0,a.jsxs)("div",{className:t().containerMin,children:[(0,a.jsx)("div",{className:t().containerLeft}),(0,a.jsxs)("div",{className:t().containerRight,children:[(0,a.jsxs)("div",{className:t().main,children:[(0,a.jsxs)("div",{className:t().mainHeader,children:[(0,a.jsx)("img",{alt:"logo",className:t().logo,src:q()}),(0,a.jsx)("span",{className:t().title,children:"Portal"})]},"a"),(0,a.jsx)(P.Z,{delay:1e3,className:"demo-content",type:["left","right"],ease:["easeInOutQuart"],children:(0,a.jsx)("div",{children:w},"a")},"demo")]}),(0,a.jsx)("div",{className:t().footer,children:(0,a.jsx)(U.Z,{})})]})]})};b.Z=J},33175:function(A,b,r){"use strict";r.r(b),r.d(b,{default:function(){return ye}});var f=r(2824),s=r(67294),t=r(43581),U=r(11849),P=r(3182),Q=r(19273),q=r(94043),a=r.n(q),J=r(64302),ee=r(2603),K=r(15196),w=r(5966),re=r(39704),G=r(65248),Z=r(22172),T=r(25753),e=r(85893),se=function(i){var c=i.ErrorNotVerified,h=(0,re.v9)(function(v){return v.auth}),m=h.error;return(0,e.jsx)("div",{children:c?(0,e.jsx)(T.B,{id:"pages.login.error.verifyError",defaultMessage:"Please Verify You Are A Human."}):(0,e.jsxs)(e.Fragment,{children:[m===G.Wj.WrongCredentials&&(0,e.jsx)(T.B,{id:"pages.login.error.wrongCredentials",defaultMessage:m}),m===G.Wj.AccountLocked&&(0,e.jsx)(T.B,{id:"pages.login.error.accountLocked",defaultMessage:m}),m===G.Wj.Unknown&&(0,e.jsx)(T.B,{id:"pages.login.error.unknownError",defaultMessage:m})]})})},ne=function(i){var c=i.ErrorNotVerified,h=i.error;return(0,e.jsx)("div",{children:c?(0,e.jsx)(T.B,{id:"pages.login.error.verifyError",defaultMessage:"Please Verify You Are A Human."}):(0,e.jsx)(e.Fragment,{children:h&&(0,e.jsx)(T.B,{id:"pages.forgotPassword.error.failureMessage",defaultMessage:"Error occured, please try later."})})})},ae=r(77678),ie=r(80395),oe=r(60923),X=r(80800),ue=r(35748),Y=r.n(ue),le=function(i){(0,Q.Z)(i);var c=(0,t.tT)("@@initialState"),h=c.initialState,m=c.setInitialState,v=(0,t.YB)(),L=(0,re.v9)(function(x){return x.auth}),R=L.loggingIn,j=(0,re.I0)(),F=(0,s.useState)(!1),C=(0,f.Z)(F,2),p=C[0],H=C[1];(0,s.useEffect)(function(){Z.h.dispatch((0,X.V_)()),H(Z.h.getState().recaptcha.isRecaptchaEnabled)},[]);var D=(0,s.useRef)(),_=(0,s.useState)(!1),$=(0,f.Z)(_,2),V=$[0],M=$[1],E=(0,s.useState)(!1),O=(0,f.Z)(E,2),k=O[0],S=O[1],I=function(){S(!1),M(!1),p&&D.current.reset()},W=(0,s.useMemo)(function(){return function(){var x=(0,P.Z)(a().mark(function g(o){var d,u,y;return a().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j((0,G.x4)(o.email,o.password));case 2:return n.next=4,Z.h.getState().auth;case 4:if(d=n.sent,u=d.loggedIn,!u){n.next=11;break}return n.next=9,(0,ie.j)();case 9:y=n.sent,m((0,U.Z)((0,U.Z)((0,U.Z)({},h),y),{},{settings:oe.Z}));case 11:case"end":return n.stop()}},g)}));return function(g){return x.apply(this,arguments)}}()},[]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(K.ZP,{submitter:{searchConfig:{submitText:v.formatMessage({id:"pages.login.submit",defaultMessage:"Submit"})},render:function(g,o){return o.pop()},submitButtonProps:{loading:R,size:"large",style:{width:"100%"}}},onFinish:function(){var x=(0,P.Z)(a().mark(function g(o){return a().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:H(Z.h.getState().recaptcha.isRecaptchaEnabled),(!p||V)&&(I(),W(o)),p&&!V&&S(!0),Z.h.dispatch((0,X.QJ)());case 4:case"end":return u.stop()}},g)}));return function(g){return x.apply(this,arguments)}}(),children:[(0,e.jsx)(se,{ErrorNotVerified:k}),(0,e.jsx)("br",{}),(0,e.jsx)(w.Z,{name:"email",fieldProps:{size:"large",prefix:(0,e.jsx)(J.Z,{className:Y().prefixIcon})},placeholder:v.formatMessage({id:"pages.login.email.placeholder",defaultMessage:"Email"}),rules:[{required:!0,type:"email",message:(0,e.jsx)(t._H,{id:"pages.login.email.required",defaultMessage:"Please input your email!"})}]}),(0,e.jsx)(w.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,e.jsx)(ee.Z,{className:Y().prefixIcon})},placeholder:v.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"Password"}),rules:[{required:!0,message:(0,e.jsx)(t._H,{id:"pages.login.password.required",defaultMessage:"Please input your password!"})}]}),p?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ae.Z,{ref:D,sitekey:"6Ldk1aYaAAAAAFy_6BJoIqOYPCv2jk9Rg9uLRkSQ",onChange:function(){return M(!0)},onExpired:I,onErrored:I,hl:(0,t.Kd)().substring(0,2)}),(0,e.jsx)("br",{})]}):null]}),(0,e.jsx)("br",{})]})},de=le,Ze=r(57106),ce=r(99683),ge=r(17753),fe=function(i){(0,Q.Z)(i);var c=(0,s.useState)(!1),h=(0,f.Z)(c,2),m=h[0],v=h[1],L=(0,s.useState)(!1),R=(0,f.Z)(L,2),j=R[0],F=R[1],C=(0,s.useState)(!1),p=(0,f.Z)(C,2),H=p[0],D=p[1],_=(0,t.YB)(),$=(0,s.useState)(!1),V=(0,f.Z)($,2),M=V[0],E=V[1];(0,s.useEffect)(function(){Z.h.dispatch((0,X.V_)()),E(Z.h.getState().recaptcha.isRecaptchaEnabled)},[]);var O=(0,s.useRef)(),k=(0,s.useState)(!1),S=(0,f.Z)(k,2),I=S[0],W=S[1],x=(0,s.useState)(!1),g=(0,f.Z)(x,2),o=g[0],d=g[1],u=function(){d(!1),W(!1),M&&O.current.reset()},y=function(){var l=(0,P.Z)(a().mark(function n(z){return a().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return v(!0),B.next=3,(0,t.WY)(ge.Q+"/api/forgotpassword",{method:"POST",data:z}).then(function(te){te==="ok"?F(!0):D(!0)}).catch(function(te){D(!0)});case 3:v(!1);case 4:case"end":return B.stop()}},n)}));return function(z){return l.apply(this,arguments)}}();return(0,e.jsx)("div",{children:j?(0,e.jsx)(ce.ZP,{status:"success",title:_.formatMessage({id:"pages.fogotPassword.success",defaultMessage:"Success!"}),subTitle:_.formatMessage({id:"pages.fogotPassword.successMessage",defaultMessage:"Password Recovory was sendet"})}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(K.ZP,{submitter:{searchConfig:{submitText:_.formatMessage({id:"pages.forgotPassword.submit",defaultMessage:"reset"})},render:function(n,z){return z.pop()},submitButtonProps:{loading:m,size:"large",style:{width:"100%"},onKeyDown:function(n){return console.log("press",n)}}},onFinish:function(){var l=(0,P.Z)(a().mark(function n(z){return a().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:E(Z.h.getState().recaptcha.isRecaptchaEnabled),(!M||I)&&(u(),y(z)),M&&!I&&d(!0),Z.h.dispatch((0,X.QJ)());case 4:case"end":return B.stop()}},n)}));return function(n){return l.apply(this,arguments)}}(),children:[(0,e.jsx)(ne,{ErrorNotVerified:o,error:H}),(0,e.jsx)("br",{}),(0,e.jsx)(w.Z,{name:"email",fieldProps:{size:"large",prefix:(0,e.jsx)(J.Z,{className:Y().prefixIcon})},placeholder:_.formatMessage({id:"pages.login.email.placeholder",defaultMessage:"Email"}),rules:[{required:!0,type:"email",message:(0,e.jsx)(t._H,{id:"pages.login.email.required",defaultMessage:"Insert your email please!"})}]}),M?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ae.Z,{ref:O,sitekey:"6Ldk1aYaAAAAAFy_6BJoIqOYPCv2jk9Rg9uLRkSQ",onChange:function(){W(!0),d(!1)},onExpired:u,onErrored:u,hl:(0,t.Kd)().substring(0,2)}),(0,e.jsx)("br",{})]}):null]}),(0,e.jsx)("br",{})]})})},he=fe,Le=r(34792),me=r(48086),Re=r(17462),pe=r(76772),ve=r(89366),xe=function(i){var c=i.content;return(0,e.jsx)(pe.Z,{style:{marginBottom:24},message:c,type:"error",showIcon:!0})},_e=function(){!history||setTimeout(function(){var i=history.location.query,c=i,h=c.redirect;history.push(h||"/")},10)},Se=function(i){var c=i.ReCaptchaEnabled,h=i.AddCounterReCaptcha,m=i.resetCounterReCaptcha,v=(0,s.useState)(!1),L=(0,f.Z)(v,2),R=L[0],j=L[1],F=(0,s.useState)({}),C=(0,f.Z)(F,2),p=C[0],H=C[1],D=(0,s.useState)("account"),_=(0,f.Z)(D,2),$=_[0],V=_[1],M=(0,t.tT)("@@initialState"),E=M.initialState,O=M.setInitialState,k=function(){var g=(0,P.Z)(a().mark(function o(){var d,u;return a().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,E==null||(d=E.fetchUserInfo)===null||d===void 0?void 0:d.call(E);case 2:u=l.sent,u&&O((0,U.Z)((0,U.Z)({},E),{},{currentUser:u}));case 4:case"end":return l.stop()}},o)}));return function(){return g.apply(this,arguments)}}(),S=(0,t.YB)(),I=function(){var g=(0,P.Z)(a().mark(function o(d){var u;return a().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:j(!0);try{}catch(n){u=S.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),me.default.error(u)}j(!1);case 3:case"end":return l.stop()}},o)}));return function(d){return g.apply(this,arguments)}}(),W=p.status,x=p.type;return(0,e.jsxs)("div",{children:[(0,e.jsxs)(K.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:S.formatMessage({id:"pages.login.signUp",defaultMessage:"SignUp"})},render:function(o,d){return d.pop()},submitButtonProps:{loading:R,size:"large",style:{width:"100%"}}},onFinish:function(){var g=(0,P.Z)(a().mark(function o(d){return a().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:I(d);case 1:case"end":return y.stop()}},o)}));return function(o){return g.apply(this,arguments)}}(),children:[W==="error"&&x==="account"&&(0,e.jsx)(xe,{content:S.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF\uFF08admin/ant.design)"})}),(0,e.jsx)(w.Z,{name:"username",fieldProps:{size:"large",prefix:(0,e.jsx)(ve.Z,{className:Y().prefixIcon})},placeholder:S.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:(0,e.jsx)(t._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,e.jsx)(w.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,e.jsx)(ee.Z,{className:Y().prefixIcon})},placeholder:S.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:(0,e.jsx)(t._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),(0,e.jsx)("br",{})]})},je=Se,Me=r(34846),Ee=function(){var i=(0,s.useState)(!0),c=(0,f.Z)(i,2),h=c[0],m=c[1],v=(0,s.useState)(!0),L=(0,f.Z)(v,2),R=L[0],j=L[1],F=function(){h?m(!1):(m(!0),j(!0))},C=function(){R?j(!1):(m(!0),j(!0))};return(0,s.useEffect)(function(){try{var p=localStorage.getItem("umi_locale");p||(0,t.i_)("de-DE",!1)}catch(H){}},[]),(0,e.jsx)(Me.Z,{content:(0,e.jsx)("div",{children:R?(0,e.jsxs)(e.Fragment,{children:[h?(0,e.jsx)(de,{}):(0,e.jsx)(he,{}),(0,e.jsx)("a",{onClick:function(){return F()},children:h?(0,e.jsx)(t._H,{id:"pages.forgotPassword.Link",defaultMessage:"Forgot Password"}):(0,e.jsx)(t._H,{id:"pages.login.submit",defaultMessage:"Login"})})]}):(0,e.jsx)(je,{})})})},ye=Ee},10329:function(A,b,r){A.exports=r.p+"static/adrezze-logo.037c72de.png"}}]);
