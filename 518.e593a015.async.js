(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[518],{48518:function(mt,S,v){"use strict";v.d(S,{uN:function(){return h0},yi:function(){return x0}});var g={};v.r(g),v.d(g,{Base:function(){return ha},Circle:function(){return Lb},Ellipse:function(){return Ib},Image:function(){return Bb},Line:function(){return Fb},Marker:function(){return Gb},Path:function(){return qu},Polygon:function(){return $b},Polyline:function(){return Jb},Rect:function(){return rw},Text:function(){return iw}});var O={};v.r(O),v.d(O,{Canvas:function(){return Kc},Event:function(){return Se.Event},Group:function(){return $u},Shape:function(){return g},__esModule:function(){return aw.X},version:function(){return fw}});var I={};v.r(I),v.d(I,{Base:function(){return ia},Circle:function(){return gw},Dom:function(){return mw},Ellipse:function(){return bw},Image:function(){return Sw},Line:function(){return Mw},Marker:function(){return Aw},Path:function(){return Tw},Polygon:function(){return Lw},Polyline:function(){return Iw},Rect:function(){return Rw},Text:function(){return Vw}});var P={};v.r(P),v.d(P,{Canvas:function(){return iv},Event:function(){return Se.Event},Group:function(){return ef},Shape:function(){return I},version:function(){return hS}});var T={};v.r(T),v.d(T,{Chart:function(){return I1},ComponentController:function(){return Bo},DIRECTION:function(){return St},Event:function(){return _r},Facet:function(){return _n},Geometry:function(){return Fa},GeometryLabel:function(){return Zs},Interaction:function(){return fo},InteractionAction:function(){return Kr},LAYER:function(){return yt},Types:function(){return sb},Util:function(){return Wv},VERSION:function(){return lb},View:function(){return Nu},getActionClass:function(){return Ii},getAnimation:function(){return Yu},getEngine:function(){return rt},getFacet:function(){return Qn},getGeometryLabel:function(){return xc},getGeometryLabelLayout:function(){return bc},getInteraction:function(){return ho},getShapeFactory:function(){return Xu},getTheme:function(){return Pt},registerAction:function(){return Ar},registerAnimation:function(){return Yn},registerComponentController:function(){return Hr},registerEngine:function(){return nt},registerFacet:function(){return Tn},registerGeometry:function(){return fa},registerGeometryLabel:function(){return fs},registerGeometryLabelLayout:function(){return co},registerInteraction:function(){return pn},registerShape:function(){return Jr},registerShapeFactory:function(){return $a},registerTheme:function(){return Gt}});var A={};v.r(A),v.d(A,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var E={};v.r(E),v.d(E,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var C={};v.r(C),v.d(C,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var p={};v.r(p),v.d(p,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var b={};v.r(b),v.d(b,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var x={};v.r(x),v.d(x,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var w={};v.r(w),v.d(w,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var m={};v.r(m),v.d(m,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var M={};v.r(M),v.d(M,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var L={};v.r(L),v.d(L,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var B={};v.r(B),v.d(B,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var D={};v.r(D),v.d(D,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var z={};v.r(z),v.d(z,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var q={};v.r(q),v.d(q,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var K={};v.r(K),v.d(K,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var it={};v.r(it),v.d(it,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var ct={};v.r(ct),v.d(ct,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var st={};v.r(st),v.d(st,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var Ot={};v.r(Ot),v.d(Ot,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var Dt={};v.r(Dt),v.d(Dt,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var Ht={};v.r(Ht),v.d(Ht,{EVENT_MAP:function(){return jr},onEvent:function(){return Nn}});var N={};v.r(N),v.d(N,{calculationItemsBBox:function(){return em},cloneEvent:function(){return Wl},formatPadding:function(){return Sh},isNaN:function(){return Va},isViewportChanged:function(){return tm},processParallelEdges:function(){return rR}});var W={};v.r(W),v.d(W,{getColorsWithSubjectColor:function(){return um},mixColor:function(){return Ca}});var X={};v.r(X),v.d(X,{Line:function(){return Mo},applyMatrix:function(){return Ts},distance:function(){return Ps},floydWarshall:function(){return _h},fractionToLine:function(){return Oh},getAdjMatrix:function(){return Th},getBBoxBoundLine:function(){return Lh},getCircleCenterByPoints:function(){return Ah},getCircleIntersectByPoint:function(){return Cm},getDegree:function(){return $l},getEllipseIntersectByPoint:function(){return Mm},getLineIntersect:function(){return _s},getPointsCenter:function(){return Om},getRectIntersectByPoint:function(){return Sm},intersectBBox:function(){return Pm},invertMatrix:function(){return Em},isPointInPolygon:function(){return Ls},isPointsOverlap:function(){return Ih},isPolygonsIntersect:function(){return Ph},itemIntersectByLine:function(){return Lm},move:function(){return Tm},pointLineSquareDist:function(){return Im},pointRectSquareDist:function(){return km},rotate:function(){return FR},scale:function(){return DR},scaleMatrix:function(){return Am},squareDist:function(){return Ql},translate:function(){return _m}});var V={};v.r(V),v.d(V,{getClosedSpline:function(){return kh},getControlPoint:function(){return Jl},getSpline:function(){return Bm},paddedHull:function(){return Ym},pathToPoints:function(){return ql},pointsToPolygon:function(){return Dm},roundedHull:function(){return Gm}});var lt={};v.r(lt),v.d(lt,{getBBox:function(){return eu},getChartRegion:function(){return s3},getComboBBox:function(){return Nh},getLabelPosition:function(){return ru},getLetterWidth:function(){return qm},getLoopCfgs:function(){return $m},getTextSize:function(){return tx},plainCombosToTrees:function(){return Fh},radialLayout:function(){return Jm},reconstructTree:function(){return Rh},traverseTree:function(){return Pi},traverseTreeUp:function(){return oa}});var Z={};v.r(Z),v.d(Z,{adjMatrix:function(){return xu},breadthFirstSearch:function(){return q8},degree:function(){return Bx},depthFirstSearch:function(){return d1},detectAllCycles:function(){return r9},detectAllDirectedCycle:function(){return m1},detectAllUndirectedCycle:function(){return y1},detectDirectedCycle:function(){return n9},findAllPath:function(){return l9},findShortestPath:function(){return s9},floydWarshall:function(){return Nx},getConnectedComponents:function(){return g1},getPageRank:function(){return y9},minimumSpanningTree:function(){return p9}});var U=v(67294),j=v(45687),H=v(60517),f=v(49242),yt;(function(i){i.FORE="fore",i.MID="mid",i.BG="bg"})(yt||(yt={}));var St;(function(i){i.TOP="top",i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.RIGHT="right",i.RIGHT_TOP="right-top",i.RIGHT_BOTTOM="right-bottom",i.LEFT="left",i.LEFT_TOP="left-top",i.LEFT_BOTTOM="left-bottom",i.BOTTOM="bottom",i.BOTTOM_LEFT="bottom-left",i.BOTTOM_RIGHT="bottom-right",i.RADIUS="radius",i.CIRCLE="circle",i.NONE="none"})(St||(St={}));var at;(function(i){i.AXIS="axis",i.GRID="grid",i.LEGEND="legend",i.TOOLTIP="tooltip",i.ANNOTATION="annotation",i.OTHER="other"})(at||(at={}));var Ct={FORE:3,MID:2,BG:1},wt;(function(i){i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_PAINT="beforepaint",i.AFTER_PAINT="afterpaint",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata",i.BEFORE_CLEAR="beforeclear",i.AFTER_CLEAR="afterclear",i.BEFORE_DESTROY="beforedestroy"})(wt||(wt={}));var At;(function(i){i.MOUSE_ENTER="plot:mouseenter",i.MOUSE_DOWN="plot:mousedown",i.MOUSE_MOVE="plot:mousemove",i.MOUSE_UP="plot:mouseup",i.MOUSE_LEAVE="plot:mouseleave",i.TOUCH_START="plot:touchstart",i.TOUCH_MOVE="plot:touchmove",i.TOUCH_END="plot:touchend",i.TOUCH_CANCEL="plot:touchcancel",i.CLICK="plot:click",i.DBLCLICK="plot:dblclick",i.CONTEXTMENU="plot:contextmenu",i.LEAVE="plot:leave",i.ENTER="plot:enter"})(At||(At={}));var _t;(function(i){i.ACTIVE="active",i.INACTIVE="inactive",i.SELECTED="selected",i.DEFAULT="default"})(_t||(_t={}));var Lt=["color","shape","size"],xt="_origin",ot=1,tt=1,Q=.25,dt={};function rt(i){var r=dt[i];if(!r)throw new Error("G engine '"+i+"' is not exist, please register it at first.");return r}function nt(i,r){dt[i]=r}var pt=v(6056),It=v(45442);function Vt(i){var r=getComputedStyle(i);return{width:(i.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(i.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function Qt(i){return typeof i=="number"&&!isNaN(i)}function he(i,r,t,e){var n=t,a=e;if(r){var o=Vt(i);n=o.width?o.width:n,a=o.height?o.height:a}return{width:Math.max(Qt(n)?n:ot,ot),height:Math.max(Qt(a)?a:tt,tt)}}function me(i){var r=i.parentNode;r&&r.removeChild(i)}var Xt=v(90494),$t=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this)||this;e.destroyed=!1;var n=t.visible,a=n===void 0?!0:n;return e.visible=a,e}return r.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},r.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(Xt.default),fe=$t,Se=v(39014),ke=v(28014),Oe=v(24796),$e=v(21392),lr=v(50782),zt=v(64561),qt=v(51441),ae=qt.Axis.Line,se=qt.Axis.Circle,ge=qt.Grid.Line,Ce=qt.Grid.Circle,Me=qt.Legend.Category,Te=qt.Legend.Continuous,xe=qt.Tooltip.Html,ze=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function je(i){var r="linear";return ze.test(i)?r="time":(0,f.isString)(i)&&(r="cat"),r}function fr(i,r,t){var e=r||[];if((0,f.isNumber)(i)||(0,f.isNil)((0,f.firstValue)(e,i))&&(0,f.isEmpty)(t)){var n=(0,zt.getScale)("identity");return new n({field:i.toString(),values:[i]})}var a=(0,f.valuesOfKey)(e,i),o=(0,f.get)(t,"type",je(a[0])),s=(0,zt.getScale)(o);return new s((0,H.__assign)({field:i,values:a},t))}function sr(i,r){if(i.type!=="identity"&&r.type!=="identity"){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);i.change(t)}}function Je(i){return i.alias||i.field}var Ne=v(31437);function xr(i){var r,t;switch(i){case St.TOP:r={x:0,y:1},t={x:1,y:1};break;case St.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case St.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case St.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}function vr(i){var r,t;return i.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}function Ze(i,r){var t={start:{x:0,y:0},end:{x:0,y:0}};i.isRect?t=xr(r):i.isPolar&&(t=vr(i));var e=t.start,n=t.end;return{start:i.convert(e),end:i.convert(n)}}function br(i,r){if(i.isRect)return i.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(r)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(r)?-1:1;if(i.isPolar){var t=i.x.start;return t<0?-1:1}return 1}function Lr(i){var r=i.start,t=i.end;return r.x===t.x}function dr(i,r){var t=i.start,e=i.end,n=Lr(i);return n?(t.y-e.y)*(r.x-t.x)>0?1:-1:(e.x-t.x)*(t.y-r.y)>0?-1:1}function cr(i,r){return(0,f.get)(i,["components","axis",r],{})}function Yr(i){var r=i.x,t=i.y,e=i.circleCenter,n=t.start>t.end,a=i.isTransposed?i.convert({x:n?0:1,y:0}):i.convert({x:0,y:n?0:1}),o=[a.x-e.x,a.y-e.y],s=[1,0],l=a.y>e.y?Ne.angle(o,s):Ne.angle(o,s)*-1,u=l+(r.end-r.start),h=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));return{center:e,radius:h,startAngle:l,endAngle:u}}function Or(i,r){return(0,f.isBoolean)(i)?i===!1?!1:{}:(0,f.get)(i,[r])}function fn(i,r){return(0,f.get)(i,"position",r)}function Rn(i,r){return(0,f.get)(r,["title","text"],Je(i))}var _n=function(){function i(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,f.deepMix)({},this.getDefaultCfg(),t)}return i.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},i.prototype.render=function(){this.renderViews()},i.prototype.update=function(){},i.prototype.clear=function(){this.clearFacetViews()},i.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},i.prototype.facetToView=function(r){var t=r.region,e=r.data,n=r.padding,a=n===void 0?this.cfg.padding:n,o=this.view.createView({region:t,padding:a});o.data(e||[]),r.view=o,this.beforeEachView(o,r);var s=this.cfg.eachView;return s&&s(o,r),this.afterEachView(o,r),o},i.prototype.createContainer=function(){var r=this.view.getLayer(yt.FORE);return r.addGroup()},i.prototype.renderViews=function(){this.createFacetViews()},i.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},i.prototype.clearFacetViews=function(){var r=this;(0,f.each)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},i.prototype.getFieldValues=function(r,t){var e=[],n={};return(0,f.each)(r,function(a){var o=a[t];!(0,f.isNil)(o)&&!n[o]&&(e.push(o),n[o]=!0)}),e},i.prototype.getRegion=function(r,t,e,n){var a=1/(t===0?1:t),o=1/(r===0?1:r),s={x:a*e,y:o*n},l={x:a*(e+1),y:o*(n+1)};return{start:s,end:l}},i.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},i.prototype.getDefaultTitleCfg=function(){var r=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:r}}},i.prototype.processAxis=function(r,t){var e=r.getOptions(),n=e.coordinate,a=r.geometries,o=(0,f.get)(n,"type","rect");if(o==="rect"&&a.length){(0,f.isNil)(e.axes)&&(e.axes={});var s=e.axes,l=a[0].getXYFields(),u=l[0],h=l[1],c=Or(s,u),d=Or(s,h);c!==!1&&(e.axes[u]=this.getXAxisOption(u,s,c,t)),d!==!1&&(e.axes[h]=this.getYAxisOption(h,s,d,t))}},i.prototype.getFacetDataFilter=function(r){return function(t){return(0,f.every)(r,function(e){var n=e.field,a=e.value;return!(0,f.isNil)(a)&&n?t[n]===a:!0})}},i}(),$n={},Qn=function(i){return $n[(0,f.lowerCase)(i)]},Tn=function(i,r){$n[(0,f.lowerCase)(i)]=r},gi=function(){function i(r,t){this.context=r,this.cfg=t,r.addAction(this)}return i.prototype.applyCfg=function(r){(0,f.assign)(this,r)},i.prototype.init=function(){this.applyCfg(this.cfg)},i.prototype.destroy=function(){this.context.removeAction(this),this.context=null},i}(),Kr=gi,zn=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.callback=null},r}(Kr),Mi=zn,Gn={};function Oi(i,r){var t=Gn[i],e=null;if(t){var n=t.ActionClass,a=t.cfg;e=new n(r,a),e.name=i,e.init()}return e}function Ii(i){var r=Gn[i];return(0,f.get)(r,"ActionClass")}function Ar(i,r,t){Gn[i]={ActionClass:r,cfg:t}}function ki(i){delete Gn[i]}function Vi(i,r){var t=new Mi(r);return t.callback=i,t.name="callback",t}function Bi(i){if((0,f.isEmpty)(i))return null;var r=i[0].x,t=i[0].x,e=i[0].y,n=i[0].y;return(0,f.each)(i,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,e=e>a.y?a.y:e,n=n<a.y?a.y:n}),{minX:r,maxX:t,minY:e,maxY:n,centerX:(r+t)/2,centerY:(e+n)/2}}function dn(i,r,t,e){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e)}}function oi(i,r,t,e,n,a){a===void 0&&(a=0);var o=dn(i,r,t,e),s=dn(i,r,t,n),l=dn(i,r,a,e),u=dn(i,r,a,n);if(n-e==Math.PI*2){var h=dn(i,r,t,e+Math.PI),c=dn(i,r,a,e+Math.PI),d=[["M",o.x,o.y],["A",t,t,0,1,1,h.x,h.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(d.push(["A",a,a,0,1,0,c.x,c.y]),d.push(["A",a,a,0,1,0,u.x,u.y])),d.push(["M",o.x,o.y]),d.push(["Z"]),d}var y=n-e<=Math.PI?0:1,_=[["M",o.x,o.y],["A",t,t,0,y,1,s.x,s.y],["L",u.x,u.y]];return a&&_.push(["A",a,a,0,y,0,l.x,l.y]),_.push(["L",o.x,o.y]),_.push(["Z"]),_}function Di(i,r,t,e,n){var a=dn(i,r,t,e),o=dn(i,r,t,n);if((0,f.isNumberEqual)(n-e,Math.PI*2)){var s=dn(i,r,t,e+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=n-e<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function Un(i,r){var t=i.points,e=Bi(t),n,a,o=r.startAngle,s=r.endAngle,l=s-o;return r.isTransposed?(n=e.maxY*l,a=e.minY*l):(n=e.maxX*l,a=e.minX*l),n+=o,a+=o,{startAngle:a,endAngle:n}}function Jn(i,r){if((0,f.isNumber)(i)&&(0,f.isNumber)(r))return[i,r];for(var t=-1,e=0,n=0,a,o=i.length-1,s,l=0;++t<i.length;)a=o,o=t,l+=s=i[a]*r[o]-i[o]*r[a],e+=(i[a]+i[o])*s,n+=(r[a]+r[o])*s;return l*=3,[e/l,n/l]}function hn(i,r){var t=i.attr(),e=r.attr();return(0,f.each)(t,function(n,a){e[a]===void 0&&(e[a]=void 0)}),e}function Ei(i,r,t){var e=Math.min(r,t),n=Math.max(r,t);return i>=e&&i<=n}function Hi(i,r,t){if((0,f.isString)(i))return i.padEnd(r,t);if((0,f.isArray)(i)){var e=i.length;if(e<r)for(var n=r-e,a=0;a<n;a++)i.push(t)}return i}function Nt(i,r){return r.forEach(function(t){delete i[t]}),i}function kt(i,r,t){r===void 0&&(r=[]),t===void 0&&(t={});for(var e=0,n=i;e<n.length;e++){var a=n[e];t[a]||(r.push(a),t[a]=!0)}return r}function gt(i){if(i.isPolar&&!i.isTransposed)return(i.endAngle-i.startAngle)*i.getRadius();var r=i.convert({x:0,y:0}),t=i.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function Et(i){if(i.isPolar){var r=i.startAngle,t=i.endAngle;return t-r==Math.PI*2}return!1}function et(i,r){var t=i.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function ht(i,r){var t=!1;if(i)if(i.type==="theta"){var e=i.start,n=i.end;t=Ei(r.x,e.x,n.x)&&Ei(r.y,e.y,n.y)}else{var a=i.invert(r);t=Ei(a.x,0,1)&&Ei(a.y,0,1)}return t}function Mt(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function Bt(i,r){r===void 0&&(r=0);var t=i.start,e=i.end,n=i.getWidth(),a=i.getHeight();if(i.isPolar){var o=i.startAngle,s=i.endAngle,l=i.getCenter(),u=i.getRadius();return{type:"path",startState:{path:oi(l.x,l.y,u+r,o,o)},endState:function(c){var d=(s-o)*c+o,y=oi(l.x,l.y,u+r,o,d);return{path:y}},attrs:{path:oi(l.x,l.y,u+r,o,s)}}}var h;return i.isTransposed?h={height:a+r*2}:h={width:n+r*2},{type:"rect",startState:{x:t.x-r,y:e.y-r,width:i.isTransposed?n+r*2:0,height:i.isTransposed?0:a+r*2},endState:h,attrs:{x:t.x-r,y:e.y-r,width:n+r*2,height:a+r*2}}}function Ft(i,r){var t=[];if(i.length){t.push(["M",i[0].x,i[0].y]);for(var e=1,n=i.length;e<n;e+=1){var a=i[e];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}function jt(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convert({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function ne(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",h=Math.abs(s[u]-o[u])*(a-n),c=s[u]>=o[u]?1:0,d=h>Math.PI?1:0,y=t.convert(s),_=et(t,y);if(_>=.5)if(h===Math.PI*2){var k={x:(s.x+o.x)/2,y:(s.y+o.y)/2},F=t.convert(k);l.push(["A",_,_,0,d,c,F.x,F.y]),l.push(["A",_,_,0,d,c,y.x,y.y])}else l.push(["A",_,_,0,d,c,y.x,y.y]);return l}function le(i){(0,f.each)(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var Ae=function(i,r,t,e){var n=[],a,o,s=!!e,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var d=i[h];l=Ne.min([0,0],l,d),u=Ne.max([0,0],u,d)}l=Ne.min([0,0],l,e[0]),u=Ne.max([0,0],u,e[1])}for(var h=0,y=i.length;h<y;h++){var d=i[h];if(t)a=i[h?h-1:y-1],o=i[(h+1)%y];else if(h===0||h===y-1){n.push(d);continue}else a=i[h-1],o=i[h+1];var _=[0,0];_=Ne.sub(_,o,a),_=Ne.scale(_,_,r);var k=Ne.distance(d,a),F=Ne.distance(d,o),Y=k+F;Y!==0&&(k/=Y,F/=Y);var G=Ne.scale([0,0],_,-k),ut=Ne.scale([0,0],_,F),ft=Ne.add([0,0],d,G),Tt=Ne.add([0,0],d,ut);s&&(ft=Ne.max([0,0],ft,l),ft=Ne.min([0,0],ft,u),Tt=Ne.max([0,0],Tt,l),Tt=Ne.min([0,0],Tt,u)),n.push(ft),n.push(Tt)}return t&&n.push(n.shift()),n};function ye(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=Ae(n,.4,e,t),l=n.length,u=[],h,c,d,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],d=n[a+1],u.push(["C",h[0],h[1],c[0],c[1],d[0],d[1]]);return e&&(h=s[l],c=s[l+1],d=n[0],u.push(["C",h[0],h[1],c[0],c[1],d[0],d[1]])),u}function de(i,r){return Ft(i,r)}function Ue(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return de(i,r);for(var o=0,s=i.length;o<s;o++){var l=i[o];(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)}var u=t||[[0,0],[1,1]],h=ye(e,r,u);return h.unshift(["M",n.x,n.y]),h}function qe(i,r){var t=[];return(0,f.each)(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(jt(e,i));break;case"z":default:t.push(e);break}}),t}function wr(i,r){var t=[],e,n,a,o;return(0,f.each)(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(jt(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(ne(e,n,i)):t.push(jt(s,i));break;case"z":default:t.push(s);break}}),le(t),t}var ur=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=r,this.y=t,this.height=n,this.width=e}return i.fromRange=function(r,t,e,n){return new i(r,t,e-r,n-t)},Object.defineProperty(i.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,f.each)(r,function(n){e.x=Math.min(n.x,e.x),e.y=Math.min(n.y,e.y),e.width=Math.max(n.maxX,e.maxX)-e.x,e.height=Math.max(n.maxY,e.maxY)-e.y}),e},i.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,f.each)(r,function(n){e.x=Math.max(n.x,e.x),e.y=Math.max(n.y,e.y),e.width=Math.min(n.maxX,e.maxX)-e.x,e.height=Math.min(n.maxY,e.maxY)-e.y}),e},i.prototype.cut=function(r,t){var e=r.width,n=r.height;switch(t){case St.TOP:case St.TOP_LEFT:case St.TOP_RIGHT:return i.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case St.RIGHT:case St.RIGHT_TOP:case St.RIGHT_BOTTOM:return i.fromRange(this.minX,this.minY,this.maxX-e,this.maxY);case St.BOTTOM:case St.BOTTOM_LEFT:case St.BOTTOM_RIGHT:return i.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case St.LEFT:case St.LEFT_TOP:case St.LEFT_BOTTOM:return i.fromRange(this.minX+e,this.minY,this.maxX,this.maxY);default:return this}},i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return new i(this.x+a,this.y+t,this.width-a-e,this.height-t-n)},i.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},i.prototype.size=function(){return this.width*this.height},i}(),Ke=function(i,r){var t=r.start,e=r.end;return new ur(i.x+i.width*t.x,i.y+i.height*t.y,i.width*Math.abs(e.x-t.x),i.height*Math.abs(e.y-t.y))};function We(i){return[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}var Tr=v(70146);function Zr(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?n:null}function cn(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?e.attr("path"):null}function yn(i){var r=i.event,t,e=r.target;return e&&(t=e.get("element")),t}function Xn(i){var r=i.event,t=r.target,e;return t&&(e=t.get("delegateObject")),e}function qn(i){var r=i.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function Vn(i){return i&&i.component&&i.component.isList()}function Ai(i){return i&&i.component&&i.component.isSlider()}function si(i){var r=i.event,t=r.target;return t&&t.get("name")==="mask"}function Fi(i,r){var t=i.event.target;if(t.get("type")==="path"){var e=cn(i,r);return e?Ua(i.view,e):void 0}var n=Zr(i,r);return n?yi(i.view,n):null}function Wi(i,r,t){var e=Zr(i,t);if(!e)return null;var n=i.view,a=ea(n,r,{x:e.x,y:e.y}),o=ea(n,r,{x:e.maxX,y:e.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return yi(r,s)}function Qr(i){var r=i.geometries,t=[];return(0,f.each)(r,function(e){var n=e.elements;t=t.concat(n)}),i.views&&i.views.length&&(0,f.each)(i.views,function(e){t=t.concat(Qr(e))}),t}function ta(i,r,t){var e=Qr(i);return e.filter(function(n){return Hn(n,r)===t})}function la(i,r){var t=i.geometries,e=[];return(0,f.each)(t,function(n){var a=n.getElementsBy(function(o){return o.hasState(r)});e=e.concat(a)}),e}function Hn(i,r){var t=i.getModel(),e=t.data,n;return(0,f.isArray)(e)?n=e[0][r]:n=e[r],n}function ua(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function yi(i,r){var t=Qr(i),e=[];return(0,f.each)(t,function(n){var a=n.shape,o=a.getCanvasBBox();ua(r,o)&&e.push(n)}),e}function ji(i){var r=[];return(0,f.each)(i,function(t){var e=t[0];if(e!=="A")for(var n=1;n<t.length;n=n+2)r.push([t[n],t[n+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function Ua(i,r){var t=Qr(i),e=ji(r),n=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=ji(o.attr("path"));else{var l=o.getCanvasBBox();s=We(l)}return(0,Tr.default)(e,s)});return n}function ka(i){return i.getComponents().map(function(r){return r.component})}function _i(i,r){var t=r.x-i.x,e=r.y-i.y;return Math.sqrt(t*t+e*e)}function Ba(i,r){if(i.length<=2)return de(i,!1);var t=i[0],e=[];(0,f.each)(i,function(a){e.push(a.x),e.push(a.y)});var n=ye(e,r,null);return n.unshift(["M",t.x,t.y]),n}function Ui(i,r){return i.x<=r.x&&i.maxX>=r.x&&i.y<=r.y&&i.maxY>r.y}function li(i){var r=i.parent,t=null;return r&&(t=r.views.filter(function(e){return e!==i})),t}function ba(i,r){var t=i.getCoordinate();return t.invert(r)}function ea(i,r,t){var e=ba(i,t);return r.getCoordinate().convert(e)}function Za(i,r,t,e){var n=!1;return(0,f.each)(i,function(a){if(a[t]===r[t]&&a[e]===r[e])return n=!0,!1}),n}function wa(i,r){var t=i.getScaleByField(r);return!t&&i.views&&(0,f.each)(i.views,function(e){if(t=wa(e,r),t)return!1}),t}var as=function(){function i(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return i.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)return this.cacheMap[r[0]];r.length===2&&(this.cacheMap[r[0]]=r[1])},i.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},i.prototype.addAction=function(r){this.actions.push(r)},i.prototype.removeAction=function(r){var t=this.actions,e=this.actions.indexOf(r);e>=0&&t.splice(e,1)},i.prototype.getCurrentPoint=function(){var r=this.event;if(r)if(r.target instanceof HTMLElement){var t=this.view.getCanvas(),e=t.getPointByClient(r.clientX,r.clientY);return e}else return{x:r.x,y:r.y};return null},i.prototype.getCurrentShape=function(){return(0,f.get)(this.event,["gEvent","shape"])},i.prototype.isInPlot=function(){var r=this.getCurrentPoint();return r?this.view.isPointInPlot(r):!1},i.prototype.isInShape=function(r){var t=this.getCurrentShape();return t?t.get("name")===r:!1},i.prototype.isInComponent=function(r){var t=ka(this.view),e=this.getCurrentPoint();return e?!!t.find(function(n){var a=n.getBBox();return r?n.get("name")===r&&Ui(a,e):Ui(a,e)}):!1},i.prototype.destroy=function(){this.view=null,this.event=null,(0,f.each)(this.actions.slice(),function(r){r.destroy()}),this.actions=null,this.cacheMap=null},i}(),Lo=as,Vs=function(){function i(r,t){this.view=r,this.cfg=t}return i.prototype.init=function(){this.initEvents()},i.prototype.initEvents=function(){},i.prototype.clearEvents=function(){},i.prototype.destroy=function(){this.clearEvents()},i}(),fo=Vs;function Oo(i,r){var t=i.split(":"),e=t[0],n=r.getAction(e)||Oi(e,r);if(!n)throw new Error("There is no action named "+e);var a=t[1];return{action:n,methodName:a}}function Ka(i){var r=i.action,t=i.methodName;if(r[t])r[t]();else throw new Error("Action("+r.name+") doesn't have a method called "+t)}var mi={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},os=function(i){(0,H.__extends)(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.callbackCaches={},n.emitCaches={},n.steps=e,n}return r.prototype.init=function(){this.initContext(),i.prototype.init.call(this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,f.each)(this.steps,function(e,n){(0,f.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.bindEvent(a.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;(0,f.each)(this.steps,function(e,n){(0,f.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.offEvent(a.trigger,o)})})},r.prototype.initContext=function(){var t=this.view,e=new Lo(t);this.context=e;var n=this.steps;(0,f.each)(n,function(a){(0,f.each)(a,function(o){if((0,f.isFunction)(o.action))o.actionObject={action:Vi(o.action,e),methodName:"execute"};else if((0,f.isString)(o.action))o.actionObject=Oo(o.action,e);else if((0,f.isArray)(o.action)){var s=o.action;o.actionObject=[],(0,f.each)(s,function(l){o.actionObject.push(Oo(l,e))})}})})},r.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t||t===mi.SHOW_ENABLE)return!0;if(t===mi.PROCESSING)return e===mi.START;if(t===mi.START)return e!==mi.PROCESSING;if(t===mi.END)return e===mi.PROCESSING||e===mi.START;if(t===mi.ROLLBACK){if(n[mi.END])return e===mi.END;if(e===mi.START)return!0}return!1},r.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return e.once&&this.emitCaches[n]?!1:e.isEnable?e.isEnable(this.context):!0}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,e){t!==mi.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},r.prototype.getKey=function(t,e){return t+e.trigger+e.action},r.prototype.getActionCallback=function(t,e){var n=this,a=this.context,o=this.callbackCaches,s=e.actionObject;if(e.action&&s){var l=this.getKey(t,e);if(!o[l]){var u=function(h){a.event=h,n.isAllowExcute(t,e)?((0,f.isArray)(s)?(0,f.each)(s,function(c){a.event=h,Ka(c)}):(a.event=h,Ka(s)),n.afterExecute(t,e),e.callback&&(a.event=h,e.callback(a))):a.event=null};e.debounce?o[l]=(0,f.debounce)(u,e.debounce.wait,e.debounce.immediate):e.throttle?o[l]=(0,f.throttle)(u,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):o[l]=u}return o[l]}return null},r.prototype.bindEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.addEventListener(n[1],e):n[0]==="document"?document.addEventListener(n[1],e):this.view.on(t,e)},r.prototype.offEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.removeEventListener(n[1],e):n[0]==="document"?document.removeEventListener(n[1],e):this.view.off(t,e)},r}(fo),ss=os,Io={};function ho(i){return Io[(0,f.lowerCase)(i)]}function pn(i,r){Io[(0,f.lowerCase)(i)]=r}function ls(i,r,t){var e=ho(i);if(!e)return null;if((0,f.isPlainObject)(e)){var n=(0,f.mix)((0,f.clone)(e),t);return new ss(r,n)}else{var a=e;return new a(r,t)}}var ui=v(7755),vn=v(31506);function ko(i){var r,t={point:{default:{fill:i.pointFillColor,r:i.pointSize,stroke:i.pointBorderColor,lineWidth:i.pointBorder,fillOpacity:i.pointFillOpacity},active:{stroke:i.pointActiveBorderColor,lineWidth:i.pointActiveBorder},selected:{stroke:i.pointSelectedBorderColor,lineWidth:i.pointSelectedBorder},inactive:{fillOpacity:i.pointInactiveFillOpacity,strokeOpacity:i.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:i.hollowPointFillColor,lineWidth:i.hollowPointBorder,stroke:i.hollowPointBorderColor,strokeOpacity:i.hollowPointBorderOpacity,r:i.hollowPointSize},active:{stroke:i.hollowPointActiveBorderColor,strokeOpacity:i.hollowPointActiveBorderOpacity},selected:{lineWidth:i.hollowPointSelectedBorder,stroke:i.hollowPointSelectedBorderColor,strokeOpacity:i.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:i.hollowPointInactiveBorderOpacity}},area:{default:{fill:i.areaFillColor,fillOpacity:i.areaFillOpacity,stroke:null},active:{fillOpacity:i.areaActiveFillOpacity},selected:{fillOpacity:i.areaSelectedFillOpacity},inactive:{fillOpacity:i.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:i.hollowAreaBorderColor,lineWidth:i.hollowAreaBorder,strokeOpacity:i.hollowAreaBorderOpacity},active:{fill:null,lineWidth:i.hollowAreaActiveBorder},selected:{fill:null,lineWidth:i.hollowAreaSelectedBorder},inactive:{strokeOpacity:i.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:i.intervalFillColor,fillOpacity:i.intervalFillOpacity},active:{stroke:i.intervalActiveBorderColor,lineWidth:i.intervalActiveBorder},selected:{stroke:i.intervalSelectedBorderColor,lineWidth:i.intervalSelectedBorder},inactive:{fillOpacity:i.intervalInactiveFillOpacity,strokeOpacity:i.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:i.hollowIntervalFillColor,stroke:i.hollowIntervalBorderColor,lineWidth:i.hollowIntervalBorder,strokeOpacity:i.hollowIntervalBorderOpacity},active:{stroke:i.hollowIntervalActiveBorderColor,lineWidth:i.hollowIntervalActiveBorder,strokeOpacity:i.hollowIntervalActiveBorderOpacity},selected:{stroke:i.hollowIntervalSelectedBorderColor,lineWidth:i.hollowIntervalSelectedBorder,strokeOpacity:i.hollowIntervalSelectedBorderOpacity},inactive:{stroke:i.hollowIntervalInactiveBorderColor,lineWidth:i.hollowIntervalInactiveBorder,strokeOpacity:i.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:i.lineBorderColor,lineWidth:i.lineBorder,strokeOpacity:i.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:i.lineActiveBorder},selected:{lineWidth:i.lineSelectedBorder},inactive:{strokeOpacity:i.lineInactiveBorderOpacity}}},e={title:{autoRotate:!0,position:"center",style:{fill:i.axisTitleTextFillColor,fontSize:i.axisTitleTextFontSize,lineHeight:i.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},label:{autoRotate:!0,autoEllipsis:!0,autoHide:!0,offset:16,style:{fill:i.axisLabelFillColor,fontSize:i.axisLabelFontSize,lineHeight:i.axisLabelLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},line:{style:{lineWidth:i.axisLineBorder,stroke:i.axisLineBorderColor}},tickLine:{style:{lineWidth:i.axisTickLineBorder,stroke:i.axisTickLineBorderColor},alignTick:!0,length:i.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:i.axisGridBorderColor,lineWidth:i.axisGridBorder,lineDash:i.axisGridLineDash}},alignTick:!0,animate:!0},a={title:null,marker:{symbol:"circle",style:{r:i.legendCircleMarkerSize,fill:i.legendMarkerColor}},itemName:{spacing:5,style:{fill:i.legendItemNameFillColor,fontFamily:i.fontFamily,fontSize:i.legendItemNameFontSize,lineHeight:i.legendItemNameLineHeight,fontWeight:i.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:.2};return{background:i.backgroundColor,defaultColor:i.brandColor,padding:"auto",fontFamily:i.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:i.paletteQualitative10,colors20:i.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(o){var s=o.geometry.coordinate;if(s.isPolar&&s.isTransposed){var l=Un(o.getModel(),s),u=l.startAngle,h=l.endAngle,c=(u+h)/2,d=7.5,y=d*Math.cos(c),_=d*Math.sin(c);return{matrix:vn.transform(null,[["t",y,_]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,H.__assign)((0,H.__assign)({},t.line.default),{lineDash:[1,1]})},active:{style:(0,H.__assign)((0,H.__assign)({},t.line.active),{lineDash:[1,1]})},inactive:{style:(0,H.__assign)((0,H.__assign)({},t.line.inactive),{lineDash:[1,1]})},selected:{style:(0,H.__assign)((0,H.__assign)({},t.line.selected),{lineDash:[1,1]})}},dash:{default:{style:(0,H.__assign)((0,H.__assign)({},t.line.default),{lineDash:[5.5,1]})},active:{style:(0,H.__assign)((0,H.__assign)({},t.line.active),{lineDash:[5.5,1]})},inactive:{style:(0,H.__assign)((0,H.__assign)({},t.line.inactive),{lineDash:[5.5,1]})},selected:{style:(0,H.__assign)((0,H.__assign)({},t.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}}},components:{axis:{top:(0,f.deepMix)({},e,{position:"top",grid:null,title:null,verticalLimitLength:1/2}),bottom:(0,f.deepMix)({},e,{position:"bottom",grid:null,title:null,verticalLimitLength:1/2}),left:(0,f.deepMix)({},e,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),right:(0,f.deepMix)({},e,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),circle:(0,f.deepMix)({},e,{title:null,label:{offset:8},grid:(0,f.deepMix)({},n,{line:{type:"line"}})}),radius:(0,f.deepMix)({},e,{title:null,label:{offset:8},grid:(0,f.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:(0,f.deepMix)({},a,{layout:"vertical"}),left:(0,f.deepMix)({},a,{layout:"vertical"}),top:(0,f.deepMix)({},a,{layout:"horizontal"}),bottom:(0,f.deepMix)({},a,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:i.sliderRailHeight,defaultLength:i.sliderRailWidth,style:{fill:i.sliderRailFillColor,stroke:i.sliderRailBorderColor,lineWidth:i.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:i.sliderLabelTextFillColor,fontSize:i.sliderLabelTextFontSize,lineHeight:i.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},handler:{size:i.sliderHandlerWidth,style:{fill:i.sliderHandlerFillColor,stroke:i.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:i.tooltipCrosshairsBorderColor,lineWidth:i.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r[""+ui.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:i.tooltipContainerFillColor,opacity:i.tooltipContainerFillOpacity,boxShadow:i.tooltipContainerShadow,borderRadius:i.tooltipContainerBorderRadius+"px",color:i.tooltipTextFillColor,fontSize:i.tooltipTextFontSize+"px",fontFamily:i.fontFamily,lineHeight:i.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},r[""+ui.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},r[""+ui.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},r[""+ui.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r[""+ui.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r[""+ui.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:i.annotationArcBorderColor,lineWidth:i.annotationArcBorder},animate:!0},line:{style:{stroke:i.annotationLineBorderColor,lineDash:i.annotationLineDash,lineWidth:i.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textAlign:"start",fontFamily:i.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:i.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:i.annotationRegionBorder,stroke:i.annotationRegionBorderColor,fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:i.brandColor,lineWidth:2}},line:{style:{stroke:i.annotationLineBorderColor,lineWidth:i.annotationLineBorder},length:i.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:i.labelFillColor,fontSize:i.labelFontSize,fontFamily:i.fontFamily,stroke:i.labelBorderColor,lineWidth:i.labelBorder},autoRotate:!0},innerLabels:{style:{fill:i.innerLabelFillColor,fontSize:i.innerLabelFontSize,fontFamily:i.fontFamily,stroke:i.innerLabelBorderColor,lineWidth:i.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:i.labelLineBorder}},autoRotate:!0}}}var on={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Da={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Kt=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],bt=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],R={backgroundColor:"transparent",brandColor:Kt[0],paletteQualitative10:Kt,paletteQualitative20:bt,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:on[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:on[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:on[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:on[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:on[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:on[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:on[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Kt[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:on[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:on[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:on[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:on[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:on[25],annotationArcBorderColor:on[15],annotationArcBorder:.5,annotationLineBorderColor:on[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:on[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:Da[95],annotationTextBorder:1.5,annotationRegionFillColor:on[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:on[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:on[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:on[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Da[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:on[25],pointFillColor:Kt[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Da[100],pointBorderOpacity:1,pointActiveBorderColor:on[100],pointSelectedBorder:2,pointSelectedBorderColor:on[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Kt[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Da[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:on[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:on[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Kt[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Kt[0],areaFillOpacity:.25,areaActiveFillColor:Kt[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Kt[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Kt[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:on[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:on[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Kt[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:on[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:on[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Kt[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Da[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:on[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:on[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},$=ko(R),vt={default:$};function Pt(i){return(0,f.get)(vt,(0,f.lowerCase)(i),vt.default)}function Gt(i,r){vt[(0,f.lowerCase)(i)]=(0,f.deepMix)({},vt.default,r)}function Zt(i,r,t){var e=t.translate(i),n=t.translate(r);return(0,f.isNumberEqual)(e,n)}function re(i,r){var t=r.coordinate,e=r.getXScale(),n=e.range,a=n[n.length-1],o=n[0],s=t.invert(i),l=s.x;return t.isPolar&&l>(1+a)/2&&(l=o),e.translate(e.invert(l))}function ie(i,r,t){var e=t.coordinate,n=t.getYScale(),a=n.field,o=e.invert(r),s=n.invert(o.y),l=(0,f.find)(i,function(u){var h=u[xt];return h[a][0]<=s&&h[a][1]>=s});return l||i[i.length-1]}var ve=(0,f.memoize)(function(i){if(i.isCategory)return 1;for(var r=i.values,t=r.length,e=i.translate(r[0]),n=e,a=0;a<t;a++){var o=r[a],s=i.translate(o);s<e&&(e=s),s>n&&(n=s)}return(n-e)/(t-1)});function be(i,r,t){var e=t;if(!t){var n=r.getAttribute("position"),a=n.getFields();e=a[0]}var o=r.scales;return o[e]?o[e].getText(i[e]):(0,f.hasKey)(i,e)?i[e]:e}function Ie(i){var r=(0,f.values)(i.attributes);return(0,f.filter)(r,function(t){return(0,f.contains)(Lt,t.type)})}function Ge(i){for(var r=Ie(i),t,e=0,n=r;e<n.length;e++){var a=n[e],o=a.getScale(a.type);if(o&&o.isLinear){t=o;break}}var s=i.getXScale(),l=i.getYScale();return t||l||s}function rr(i,r){var t=r.field,e=i[t];if((0,f.isArray)(e)){var n=e.map(function(a){return r.getText(a)});return n.join("-")}return r.getText(e)}function Mr(i,r){var t,e=r.getGroupScales();if(e.length&&(t=e[0]),t){var n=t.field;return t.getText(i[n])}var a=Ge(r);return Je(a)}function gr(i,r,t){if(r.length===0)return null;var e=t.type,n=t.getXScale(),a=t.getYScale(),o=n.field,s=a.field,l=null;if(e==="heatmap"||e==="point"){for(var u=t.coordinate,h=u.invert(i),c=n.invert(h.x),d=a.invert(h.y),y=Infinity,_=0;_<r.length;_++){var k=r[_],F=k[xt],Y=Math.pow(F[o]-c,2)+Math.pow(F[s]-d,2);Y<y&&(y=Y,l=k)}return l}var G=r[0],ut=r[r.length-1],ft=re(i,t),Tt=G[xt][o],Yt=G[xt][s],Ut=ut[xt][o],Jt=a.isLinear&&(0,f.isArray)(Yt);if((0,f.isArray)(Tt)){for(var _=0;_<r.length;_++){var Wt=r[_],F=Wt[xt];if(n.translate(F[o][0])<=ft&&n.translate(F[o][1])>=ft)if(Jt)(0,f.isArray)(l)||(l=[]),l.push(Wt);else{l=Wt;break}}(0,f.isArray)(l)&&(l=ie(l,i,t))}else{var ee=void 0;if(!n.isLinear&&n.type!=="timeCat"){for(var _=0;_<r.length;_++){var Wt=r[_],F=Wt[xt];if(Zt(F[o],ft,n))if(Jt)(0,f.isArray)(l)||(l=[]),l.push(Wt);else{l=Wt;break}else n.translate(F[o])<=ft&&(ut=Wt,ee=r[_+1])}(0,f.isArray)(l)&&(l=ie(l,i,t))}else{if((ft>n.translate(Ut)||ft<n.translate(Tt))&&(ft>n.max||ft<n.min))return null;for(var ue=0,oe=r.length-1,we=void 0;ue<=oe;){we=Math.floor((ue+oe)/2);var _e=r[we][xt][o];if(Zt(_e,ft,n))return r[we];n.translate(_e)<=n.translate(ft)?(ue=we+1,ut=r[we],ee=r[we+1]):(oe===0&&(ut=r[0]),oe=we-1)}}ut&&ee&&Math.abs(n.translate(ut[xt][o])-ft)>Math.abs(n.translate(ee[xt][o])-ft)&&(ut=ee)}var Ee=ve(t.getXScale());return!l&&Math.abs(n.translate(ut[xt][o])-ft)<=Ee/2&&(l=ut),l}function Vr(i,r,t){t===void 0&&(t="");var e=i[xt],n=be(e,r,t),a=r.tooltipOption,o=r.theme.defaultColor,s=[],l,u;function h(Yt,Ut){if(!(0,f.isNil)(Ut)&&Ut!==""){var Jt={title:n,data:e,mappingData:i,name:Yt,value:Ut,color:i.color||o,marker:!0};s.push(Jt)}}if((0,f.isObject)(a)){var c=a.fields,d=a.callback;if(d){var y=c.map(function(Yt){return i[xt][Yt]}),_=d.apply(void 0,y),k=(0,H.__assign)({data:i[xt],mappingData:i,title:n,color:i.color||o,marker:!0},_);s.push(k)}else for(var F=r.scales,Y=0,G=c;Y<G.length;Y++){var ut=G[Y];if(!(0,f.isNil)(e[ut])){var ft=F[ut];l=Je(ft),u=ft.getText(e[ut]),h(l,u)}}}else{var Tt=Ge(r);(0,f.isNil)(e[Tt.field])||(u=rr(e,Tt),l=Mr(e,r),h(l,u))}return s}var Wr={};function Hr(i,r){Wr[i]=r}function Rt(i){delete Wr[i]}function te(){return Object.keys(Wr)}function ce(i){return Wr[i]}var pe=function(){function i(r){this.option=this.wrapperOption(r)}return i.prototype.update=function(r){return this.option=this.wrapperOption(r),this},i.prototype.hasAction=function(r){var t=this.option.actions;return(0,f.some)(t,function(e){return e[0]===r})},i.prototype.create=function(r,t){var e=this.option,n=e.type,a=e.cfg,o=n==="theta",s=(0,H.__assign)({start:r,end:t},a),l=(0,lr.getCoordinate)(o?"polar":n);return this.coordinate=new l(s),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},i.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},i.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},i.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},i.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},i.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},i.prototype.getOption=function(){return this.option},i.prototype.getCoordinate=function(){return this.coordinate},i.prototype.wrapperOption=function(r){return(0,H.__assign)({type:"rect",actions:[],cfg:{}},r)},i.prototype.execActions=function(r){var t=this,e=this.option.actions;(0,f.each)(e,function(n){var a,o=n[0],s=n.slice(1),l=(0,f.isNil)(r)?!0:r.includes(o);l&&(a=t.coordinate)[o].apply(a,s)})},i}(),Le=pe,Qe=function(){function i(r,t,e){this.view=r,this.gEvent=t,this.data=e,this.type=t.type}return Object.defineProperty(i.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return"[Event (type="+this.type+")]"},i.prototype.clone=function(){return new i(this.view,this.gEvent,this.data)},i}(),_r=Qe;function nn(i){return!(0,f.isNumber)(i)&&!(0,f.isArray)(i)}function ti(i){i===void 0&&(i=0);var r=(0,f.isArray)(i)?i:[i];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,H.__spreadArrays)(r,r);break;case 3:r=(0,H.__spreadArrays)(r,[r[1]]);break;default:r=r.slice(0,4);break}return r}var Zi=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.top=r,this.right=t,this.bottom=e,this.left=n}return i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return this.top+=t,this.right+=e,this.bottom+=n,this.left+=a,this},i.prototype.inc=function(r,t){var e=r.width,n=r.height;switch(t){case St.TOP:case St.TOP_LEFT:case St.TOP_RIGHT:this.top+=n;break;case St.RIGHT:case St.RIGHT_TOP:case St.RIGHT_BOTTOM:this.right+=e;break;case St.BOTTOM:case St.BOTTOM_LEFT:case St.BOTTOM_RIGHT:this.bottom+=n;break;case St.LEFT:case St.LEFT_TOP:case St.LEFT_BOTTOM:this.left+=e;break;default:break}return this},i.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},i}();function Ji(i){var r=i.padding;if(!nn(r))return ti(r);var t=i.viewBBox,e=i.autoPadding,n=new Zi;(0,f.each)(i.getComponents(),function(s){var l=s.component,u=s.type;if(!(u===at.GRID||u===at.TOOLTIP)){var h=l.getLayoutBBox(),c=new ur(h.x,h.y,h.width,h.height);if(u===at.AXIS){var d=c.exceed(t);n.shrink(d)}else{var y=s.direction;n.inc(c,y)}}});var a=n.getPadding();if(e){var o=ti(i.appendPadding);return[Math.max(e[0]-o[0],a[0]),Math.max(e[1]-o[1],a[1]),Math.max(e[2]-o[2],a[2]),Math.max(e[3]-o[3],a[3])]}return a}function us(i){var r=i.getController("axis"),t=i.getController("legend"),e=i.getController("annotation"),n=i.getController("slider"),a=Ji(i);i.coordinateBBox=i.viewBBox.shrink(a).shrink(ti(i.appendPadding)),i.adjustCoordinate(),[r,n,t,e].forEach(function(o){o&&o.layout()})}var L1=function(){function i(){this.scales=new Map,this.syncScales=new Map}return i.prototype.createScale=function(r,t,e,n){var a=e,o=this.getScaleMeta(n);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,f.deepMix)(l,o.scaleDef,e)}var u=fr(r,t,a);return this.cacheScale(u,e,n),u},i.prototype.sync=function(){var r=this;this.syncScales.forEach(function(t,e){var n=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=[];(0,f.each)(t,function(s){var l=r.getScale(s);a=(0,f.isNumber)(l.max)?Math.max(a,l.max):a,n=(0,f.isNumber)(l.min)?Math.min(n,l.min):n,(0,f.each)(l.values,function(u){o.includes(u)||o.push(u)})}),(0,f.each)(t,function(s){var l=r.getScale(s);l.isContinuous?l.change({min:n,max:a,values:o}):l.isCategory&&l.change({values:o})})})},i.prototype.cacheScale=function(r,t,e){var n=this.getScaleMeta(e);n&&n.scale.type===r.type?(sr(n.scale,r),n.scaleDef=t):(n={key:e,scale:r,scaleDef:t},this.scales.set(e,n));var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(e),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(e)}},i.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var e=(0,f.last)(r.split("-")),n=this.syncScales.get(e);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},i.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var e=t.syncKey,n=this.syncScales.get(e);if(n&&n.length){var a=n.indexOf(r);a!==-1&&n.splice(a,1)}}this.scales.delete(r)},i.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},i.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(e,n){var a=e.indexOf(r);if(a!==-1)return e.splice(a,1),e.length===0&&t.syncScales.delete(n),!1})},i.prototype.getSyncKey=function(r){var t=r.scale,e=r.scaleDef,n=t.field,a=(0,f.get)(e,["sync"]);return a===!0?n:a===!1?void 0:a},i.prototype.getScaleMeta=function(r){return this.scales.get(r)},i}(),uc=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,{visible:t.visible})||this;e.id=(0,f.uniqueId)("view"),e.views=[],e.geometries=[],e.controllers=[],e.interactions={},e.limitInPlot=!1,e.options={data:[],animate:!0},e.usedControllers=te(),e.scalePool=new L1,e.layoutFunc=us,e.isPreMouseInPlot=!1,e.isDataChanged=!1,e.isCoordinateChanged=!1,e.createdScaleKeys=new Map,e.onCanvasEvent=function(F){var Y=F.name;if(!Y.includes(":")){var G=e.createViewEvent(F);e.doPlotEvent(G),e.emit(Y,G)}},e.onDelegateEvents=function(F){var Y=F.name;if(!!Y.includes(":")){var G=e.createViewEvent(F);e.emit(Y,G)}};var n=t.parent,a=t.canvas,o=t.backgroundGroup,s=t.middleGroup,l=t.foregroundGroup,u=t.region,h=u===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:u,c=t.padding,d=t.appendPadding,y=t.theme,_=t.options,k=t.limitInPlot;return e.parent=n,e.canvas=a,e.backgroundGroup=o,e.middleGroup=s,e.foregroundGroup=l,e.region=h,e.padding=c,e.appendPadding=d,e.options=(0,H.__assign)((0,H.__assign)({},e.options),_),e.limitInPlot=k,e.themeObject=(0,f.isObject)(y)?(0,f.deepMix)({},Pt("default"),y):Pt(y),e.init(),e}return r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new Le(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},r.prototype.render=function(t){t===void 0&&(t=!1),this.emit(wt.BEFORE_RENDER),this.paint(t),this.emit(wt.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(wt.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear();this.geometries=[];for(var a=this.controllers,n=0;n<a.length;n++)a[n].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,n=0;n<o.length;n++)o[n].clear();this.emit(wt.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(wt.BEFORE_DESTROY);var t=this.interactions;(0,f.each)(t,function(s){s&&s.destroy()}),this.clear();for(var e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.geometries,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}for(var s=this.controllers,n=0,a=s.length;n<a;n++){var l=s[n];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,f.set)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,e){return(0,f.isFunction)(e)?((0,f.set)(this.options,["filters",t],e),this):(!e&&(0,f.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,e){return(0,f.isBoolean)(t)?(0,f.set)(this.options,["axes"],t):(0,f.set)(this.options,["axes",t],e),this},r.prototype.legend=function(t,e){return(0,f.isBoolean)(t)?(0,f.set)(this.options,["legends"],t):(0,f.isString)(t)?(0,f.set)(this.options,["legends",t],e):(0,f.set)(this.options,["legends"],t),this},r.prototype.scale=function(t,e){var n=this;return(0,f.isString)(t)?(0,f.set)(this.options,["scales",t],e):(0,f.isObject)(t)&&(0,f.each)(t,function(a,o){(0,f.set)(n.options,["scales",o],a)}),this},r.prototype.tooltip=function(t){return(0,f.set)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,e){return(0,f.isString)(t)?(0,f.set)(this.options,"coordinate",{type:t,cfg:e}):(0,f.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},r.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=Qn(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,(0,H.__assign)((0,H.__assign)({},e),{type:t})),this},r.prototype.animate=function(t){return(0,f.set)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,f.mix)(this.options,t),this.initOptions(),this},r.prototype.option=function(t,e){if(r.prototype[t])throw new Error(`Can't use built in variable name "`+t+'", please change another one.');return(0,f.set)(this.options,t,e),this},r.prototype.theme=function(t){return this.themeObject=(0,f.isObject)(t)?(0,f.deepMix)({},this.themeObject,t):Pt(t),this},r.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var a=ls(t,this,e);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(wt.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.changeData(t)}this.emit(wt.AFTER_CHANGE_DATA)},r.prototype.createView=function(t){var e={data:this.options.data,scales:(0,f.clone)(this.options.scales),axes:(0,f.clone)(this.options.axes),coordinate:(0,f.clone)(this.coordinateController.getOption()),tooltip:(0,f.clone)(this.options.tooltip),legends:(0,f.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new r((0,H.__assign)((0,H.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Ct.BG}),middleGroup:this.middleGroup.addGroup({zIndex:Ct.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Ct.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,H.__assign)((0,H.__assign)({},e),(0,f.get)(t,"options",{}))}));return this.views.push(n),n},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var e=(0,f.remove)(this.views,function(n){return n===t})[0];return e&&e.destroy(),e},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={};return this.geometries.map(function(e){var n=e.getYScale(),a=n.field;if(!t[a])return t[a]=!0,n})},r.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},a=0,o=e.length;a<o;a++){var s=e[a],l=t==="x"?s.getXScale():s.getYScale();l&&!n[l.field]&&(n[l.field]=l)}return n},r.prototype.getScaleByField=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getLayer=function(t){return t===yt.BG?this.backgroundGroup:t===yt.MID?this.middleGroup:t===yt.FORE?this.foregroundGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return ht(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,f.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(e){return e.getGroupScales()});return kt((0,f.flatten)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},r.prototype.getXY=function(t){var e=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,f.each)(t,function(l,u){n[u]&&(o=n[u].scale(l)),a[u]&&(s=a[u].scale(l))}),!(0,f.isNil)(o)&&!(0,f.isNil)(s))return e.convert({x:o,y:s})},r.prototype.getController=function(t){return(0,f.find)(this.controllers,function(e){return e.name===t})},r.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],a=0,o=e.length;a<o;a++){var s=e[a],l=s.dataArray;s.sort(l);for(var u=void 0,h=0,c=l.length;h<c;h++){var d=l[h];u=gr(t,d,s),u&&n.push(u)}}for(var y=this.views,a=0,o=y.length;a<o;a++){var _=y[a],k=_.getSnapRecords(t);n=n.concat(k)}return n},r.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];t=t.concat(o.getComponents())}return t},r.prototype.filterData=function(t){var e=this.options.filters;return(0,f.size)(e)===0?t:(0,f.filter)(t,function(n,a){var o=Object.keys(e);return o.every(function(s){var l=e[s];return l(n[s],n,a)})})},r.prototype.filterFieldData=function(t,e){var n=this.options.filters,a=(0,f.get)(n,t);return(0,f.isUndefined)(a)?e:e.filter(function(o,s){return a(o[t],o,s)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,f.isEqual)(e,a)&&(0,f.isEqual)(n,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(wt.BEFORE_PAINT),this.renderBackgroundStyleShape(),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(wt.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,f.get)(this.themeObject,"background");if(t){this.backgruondStyleRectShape||(this.backgruondStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{zIndex:-1}}));var e=this.viewBBox,n=e.x,a=e.y,o=e.width,s=e.height;this.backgruondStyleRectShape.attr({fill:t,x:n,y:a,width:o,height:s})}else this.backgruondStyleRectShape&&(this.backgruondStyleRectShape.remove(!0),this.backgruondStyleRectShape=void 0)}},r.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var e=this.viewBBox,n=this.coordinateBBox;nn(this.padding)&&(this.autoPadding=[n.tl.y-e.tl.y,e.tr.x-n.tr.x,e.bl.y-n.bl.y,n.tl.x-e.tl.x]);for(var a=this.views,o=0,s=a.length;o<s;o++){var l=a[o];l.renderLayoutRecursive(t)}},r.prototype.renderPaintRecursive=function(t){if(this.limitInPlot){var e=this.middleGroup,n=Bt(this.coordinateInstance),a=n.type,o=n.attrs;e.setClip({type:a,attrs:o})}this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,u=s.length;l<u;l++){var h=s[l];h.renderPaintRecursive(t)}},r.prototype.createScale=function(t,e,n,a){var o=(0,f.get)(this.options.scales,[t]),s=(0,H.__assign)((0,H.__assign)({},o),n);return this.parent?this.parent.createScale(t,e,s,a):this.scalePool.createScale(t,e,s,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.renderDataRecursive(t)}},r.prototype.calculateViewBBox=function(){var t,e,n,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,n=o.width,a=o.height}else t=0,e=0,n=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,u=s.end,h=new ur(t+n*l.x,e+a*l.y,n*(u.x-l.x),a*(u.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(h))&&(this.viewBBox=new ur(t+n*l.x,e+a*l.y,n*(u.x-l.x),a*(u.y-l.y)),this.coordinateBBox=this.viewBBox)},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var a=t[e],o=ce(a);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,a=e?e.get("origin"):null,o=new _r(this,t,a);return o.type=n,o},r.prototype.doPlotEvent=function(t){var e=t.type,n=t.x,a=t.y,o={x:n,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(e)){var l=this.isPointInPlot(o);if(l){var u="plot:"+e;t.type=u,this.emit(u,t),(e==="mouseleave"||e==="touchend")&&(this.isPreMouseInPlot=!1)}e==="mousemove"||e==="touchmove"?(this.isPreMouseInPlot&&!l?(e==="mousemove"&&(t.type=At.MOUSE_LEAVE,this.emit(At.MOUSE_LEAVE,t)),t.type=At.LEAVE,this.emit(At.LEAVE,t)):!this.isPreMouseInPlot&&l&&(e==="mousemove"&&(t.type=At.MOUSE_ENTER,this.emit(At.MOUSE_ENTER,t)),t.type=At.ENTER,this.emit(At.ENTER,t)),this.isPreMouseInPlot=l):(e==="mouseleave"||e==="touchend")&&this.isPreMouseInPlot&&(e==="mouseleave"&&(t.type=At.MOUSE_LEAVE,this.emit(At.MOUSE_LEAVE,t)),t.type=At.LEAVE,this.emit(At.LEAVE,t),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,f.get)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var u={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(u):l.init(u)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),a=n.data,o=n.scales,s=o===void 0?{}:o,l=this.filteredData,u=0,h=t.length;u<h;u++){var c=t[u],d=s[c],y=this.getScaleKey(c);this.createScale(c,e.includes(c)?a:l,d,y),this.createdScaleKeys.set(y,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync()},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var a=t[n];e[a]=this.getScaleByField(a)}return e},r.prototype.getScaleFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getScaleFields();kt(s,t,e)}return t},r.prototype.getGroupedFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getGroupFields();kt(s,t,e)}return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,H.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(o){return!!o}),n=this.getCoordinate(),a=this.options.scales;(0,f.each)(e,function(o){var s=o.field,l=o.values,u=o.isCategory,h=o.isIdentity;if((u||h)&&l&&!(0,f.get)(a,[s,"range"])){var c=l.length,d=void 0;if(c===1)d=[.5,1];else{var y=1,_=0;Et(n)?n.isTransposed?(y=(0,f.get)(t.theme,"widthRatio.multiplePie",1/1.3),_=1/c*y,d=[_/2,1-_/2]):d=[0,1-1/c]:(_=1/c/2,d=[_,1-_])}o.range=d}})},r.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var a=e[n];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},r.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=n,l.canvasRegion=a,e||l.animate(!1),l.paint(t)}},r.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){var n=this.getComponents()[e];n.component.render()}},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,n=e===void 0?[]:e,a=t.interactions,o=a===void 0?[]:a,s=t.views,l=s===void 0?[]:s,u=t.annotations,h=u===void 0?[]:u,c=0;c<n.length;c++){var d=n[c];this.createGeometry(d)}for(var y=0;y<o.length;y++){var _=o[y],k=_.type,F=_.cfg;this.interaction(k,F)}for(var Y=0;Y<l.length;Y++){var G=l[Y];this.createView(G)}for(var ut=this.getController("annotation"),ft=0;ft<h.length;ft++){var Tt=h[ft];ut.annotation(Tt)}},r.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,a=n===void 0?{}:n;if(this[e]){var o=this[e](a);(0,f.each)(t,function(s,l){(0,f.isFunction)(o[l])&&o[l](s)})}},r.prototype.getScaleKey=function(t){return this.id+"-"+t},r}(fe);function fa(i,r){uc.prototype[i.toLowerCase()]=function(t){t===void 0&&(t={});var e=(0,H.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new r(e);return this.geometries.push(n),n}}var Nu=uc,O1=function(i){(0,H.__extends)(r,i);function r(t){var e=this,n=t.container,a=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,u=t.padding,h=t.appendPadding,c=t.renderer,d=c===void 0?"canvas":c,y=t.pixelRatio,_=t.localRefresh,k=_===void 0?!0:_,F=t.visible,Y=F===void 0?!0:F,G=t.defaultInteractions,ut=G===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:G,ft=t.options,Tt=t.limitInPlot,Yt=t.theme,Ut=(0,f.isString)(n)?document.getElementById(n):n,Jt=(0,pt.Z)('<div style="position:relative;"></div>');Ut.appendChild(Jt);var Wt=he(Ut,l,a,o),ee=rt(d),ue=new ee.Canvas((0,H.__assign)({container:Jt,pixelRatio:y,localRefresh:k},Wt));return e=i.call(this,{parent:null,canvas:ue,backgroundGroup:ue.addGroup({zIndex:Ct.BG}),middleGroup:ue.addGroup({zIndex:Ct.MID}),foregroundGroup:ue.addGroup({zIndex:Ct.FORE}),padding:u,appendPadding:h,visible:Y,options:ft,limitInPlot:Tt,theme:Yt})||this,e.onResize=(0,f.debounce)(function(){e.forceFit()},300),e.ele=Ut,e.canvas=ue,e.width=Wt.width,e.height=Wt.height,e.autoFit=l,e.localRefresh=k,e.renderer=d,e.wrapperElement=Jt,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(ut),e}return r.prototype.initDefaultInteractions=function(t){var e=this;(0,f.each)(t,function(n){e.interaction(n)})},r.prototype.changeSize=function(t,e){return this.width===t&&this.height===e?this:(this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),me(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return i.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=he(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},r.prototype.updateCanvasStyle=function(){(0,It.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(Nu),I1=O1,Bo=function(){function i(r){this.visible=!0,this.components=[],this.view=r}return i.prototype.clear=function(){(0,f.each)(this.components,function(r){r.component.destroy()}),this.components=[]},i.prototype.destroy=function(){this.clear()},i.prototype.getComponents=function(){return this.components},i.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},i}(),fc=0,k1=1/2,B1=1/2,D1=.05,F1=function(){function i(r){var t=r.xField,e=r.yField,n=r.adjustNames,a=n===void 0?["x","y"]:n;this.adjustNames=a,this.xField=t,this.yField=e}return i.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},i.prototype.getAdjustRange=function(r,t,e){var n=this.yField,a=e.indexOf(t),o=e.length,s,l;return!n&&this.isAdjust("y")?(s=0,l=1):o>1?(s=e[a===0?0:a-1],l=e[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-e[o-2])/2):(s=t===0?0:t-.5,l=t===0?1:t+.5),{pre:s,next:l}},i.prototype.adjustData=function(r,t){var e=this,n=this.getDimValues(t);f.each(r,function(a,o){f.each(n,function(s,l){e.adjustDim(l,s,a,o)})})},i.prototype.groupData=function(r,t){return f.each(r,function(e){e[t]===void 0&&(e[t]=fc)}),f.groupBy(r,t)},i.prototype.adjustDim=function(r,t,e,n){},i.prototype.getDimValues=function(r){var t=this,e=t.xField,n=t.yField,a={},o=[];if(e&&this.isAdjust("x")&&o.push(e),n&&this.isAdjust("y")&&o.push(n),o.forEach(function(l){a[l]=f.valuesOfKey(r,l).sort(function(u,h){return u-h})}),!n&&this.isAdjust("y")){var s="y";a[s]=[fc,1]}return a},i}(),Hs=F1,hc={},cc=function(i){return hc[i.toLowerCase()]},Ws=function(i,r){if(cc(i))throw new Error("Adjust type '"+i+"' existed.");hc[i.toLowerCase()]=r},J=v(60153),R1=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var n=t.marginRatio,a=n===void 0?k1:n,o=t.dodgeRatio,s=o===void 0?B1:o,l=t.dodgeBy,u=t.intervalPadding,h=t.dodgePadding,c=t.xDimensionLength,d=t.groupNum,y=t.defaultSize,_=t.maxColumnWidth,k=t.minColumnWidth,F=t.columnWidthRatio;return e.marginRatio=a,e.dodgeRatio=s,e.dodgeBy=l,e.intervalPadding=u,e.dodgePadding=h,e.xDimensionLegenth=c,e.groupNum=d,e.defaultSize=y,e.maxColumnWidth=_,e.minColumnWidth=k,e.columnWidthRatio=F,e}return r.prototype.process=function(t){var e=f.clone(t),n=f.flatten(e),a=this.dodgeBy,o=a?f.group(n,a):e;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjustDataArray=[],this.mergeData=[],e},r.prototype.adjustDim=function(t,e,n,a){var o=this,s=this.getDistribution(t),l=this.groupData(n,t);return f.each(l,function(u,h){var c;e.length===1?c={pre:e[0]-1,next:e[0]+1}:c=o.getAdjustRange(t,parseFloat(h),e),f.each(u,function(d){var y=d[t],_=s[y],k=_.indexOf(a);d[t]=o.getDodgeOffset(c,k,_.length)})}),[]},r.prototype.getDodgeOffset=function(t,e,n){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,u=a.dodgePadding,h=t.pre,c=t.next,d=c-h,y;if(!f.isNil(l)&&f.isNil(u)&&l>=0){var _=this.getIntervalOnlyOffset(n,e);y=h+_}else if(!f.isNil(u)&&f.isNil(l)&&u>=0){var _=this.getDodgeOnlyOffset(n,e);y=h+_}else if(!f.isNil(l)&&!f.isNil(u)&&l>=0&&u>=0){var _=this.getIntervalAndDodgeOffset(n,e);y=h+_}else{var k=d*o/n,F=s*k,_=1/2*(d-n*k-(n-1)*F)+((e+1)*k+e*F)-1/2*k-1/2*d;y=(h+c)/2+_}return y},r.prototype.getIntervalOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.intervalPadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.dodgeRatio,h=n.maxColumnWidth,c=n.minColumnWidth,d=n.columnWidthRatio,y=o/s,_=(1-(l-1)*y)/l*u/(t-1),k=((1-y*(l-1))/l-_*(t-1))/t;if(k=f.isNil(d)?k:1/l/t*d,!f.isNil(h)){var F=h/s;k=Math.min(k,F)}if(!f.isNil(c)){var Y=c/s;k=Math.max(k,Y)}k=a?a/s:k,_=((1-(l-1)*y)/l-t*k)/(t-1);var G=((1/2+e)*k+e*_+1/2*y)*l-y/2;return G},r.prototype.getDodgeOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.marginRatio,h=n.maxColumnWidth,c=n.minColumnWidth,d=n.columnWidthRatio,y=o/s,_=1*u/(l-1),k=((1-_*(l-1))/l-y*(t-1))/t;if(k=d?1/l/t*d:k,!f.isNil(h)){var F=h/s;k=Math.min(k,F)}if(!f.isNil(c)){var Y=c/s;k=Math.max(k,Y)}k=a?a/s:k,_=(1-(k*t+y*(t-1))*l)/(l-1);var G=((1/2+e)*k+e*y+1/2*_)*l-_/2;return G},r.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=a/s,h=o/s,c=((1-u*(l-1))/l-h*(t-1))/t,d=((1/2+e)*c+e*h+1/2*u)*l-u/2;return d},r.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,a=n[t];return a||(a={},f.each(e,function(o,s){var l=f.valuesOfKey(o,t);l.length||l.push(0),f.each(l,function(u){a[u]||(a[u]=[]),a[u].push(s)})}),n[t]=a),a},r}(Hs),N1=R1;function G1(i,r){return(r-i)*Math.random()+i}var Y1=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=f.clone(t),n=f.flatten(e);return this.adjustData(e,n),e},r.prototype.adjustDim=function(t,e,n){var a=this,o=this.groupData(n,t);return f.each(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),e)})},r.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,a=(n-e)*D1;return G1(e+a,n-a)},r.prototype.adjustGroup=function(t,e,n,a){var o=this,s=this.getAdjustRange(e,n,a);return f.each(t,function(l){l[e]=o.getAdjustOffset(s)}),t},r}(Hs),z1=Y1,Gu=f.Cache,X1=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this,t)||this,n=t.adjustNames,a=n===void 0?["y"]:n,o=t.height,s=o===void 0?NaN:o,l=t.size,u=l===void 0?10:l,h=t.reverseOrder,c=h===void 0?!1:h;return e.adjustNames=a,e.height=s,e.size=u,e.reverseOrder=c,e}return r.prototype.process=function(t){var e=this,n=e.yField,a=e.reverseOrder,o=n?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var e=this,n=e.xField,a=e.yField,o=e.reverseOrder,s=o?this.reverse(t):t,l=new Gu,u=new Gu;return s.map(function(h){return h.map(function(c){var d,y=f.get(c,n,0),_=f.get(c,[a]),k=y.toString();if(_=f.isArray(_)?_[1]:_,!f.isNil(_)){var F=_>=0?l:u;F.has(k)||F.set(k,0);var Y=F.get(k),G=_+Y;return F.set(k,G),(0,J.__assign)((0,J.__assign)({},c),(d={},d[a]=[Y,G],d))}return c})})},r.prototype.processOneDimStack=function(t){var e=this,n=this,a=n.xField,o=n.height,s=n.reverseOrder,l="y",u=s?this.reverse(t):t,h=new Gu;return u.map(function(c){return c.map(function(d){var y,_=e.size,k=d[a],F=_*2/o;h.has(k)||h.set(k,F/2);var Y=h.get(k);return h.set(k,Y+F),(0,J.__assign)((0,J.__assign)({},d),(y={},y[l]=Y,y))})})},r}(Hs),V1=X1,H1=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=f.flatten(t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(e),l=Math.max.apply(Math,Object.keys(s).map(function(u){return s[u]}));return f.map(t,function(u){return f.map(u,function(h){var c,d,y=h[o],_=h[a];if(f.isArray(y)){var k=(l-s[_])/2;return(0,J.__assign)((0,J.__assign)({},h),(c={},c[o]=f.map(y,function(Y){return k+Y}),c))}var F=(l-y)/2;return(0,J.__assign)((0,J.__assign)({},h),(d={},d[o]=[F,y+F],d))})})},r.prototype.getXValuesMaxMap=function(t){var e=this,n=this,a=n.xField,o=n.yField,s=f.groupBy(t,function(l){return l[a]});return f.mapValues(s,function(l){return e.getDimMaxValue(l,o)})},r.prototype.getDimMaxValue=function(t,e){var n=f.map(t,function(o){return f.get(o,e,[])}),a=f.flatten(n);return Math.max.apply(Math,a)},r}(Hs),W1=H1;Ws("Dodge",N1),Ws("Jitter",z1),Ws("Stack",V1),Ws("Symmetric",W1);var vc={};function Yu(i){return vc[i.toLowerCase()]}function Yn(i,r){vc[i.toLowerCase()]=r}var Do={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},j1={interval:function(i){return{enter:{animation:i.isRect?i.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:i.isPolar&&i.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},dc={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",i.isPolar&&i.isTransposed&&(r="wave-in")),{animation:r}},schema:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":r="grow-in-xy",{animation:r}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function U1(i,r){return{delay:(0,f.isFunction)(i.delay)?i.delay(r):i.delay,easing:(0,f.isFunction)(i.easing)?i.easing(r):i.easing,duration:(0,f.isFunction)(i.duration)?i.duration(r):i.duration,callback:i.callback}}function pc(i,r,t){var e=j1[i];return e&&((0,f.isFunction)(e)&&(e=e(r)),e=(0,f.deepMix)({},Do,e),t)?e[t]:e}function Fo(i,r,t){var e=(0,f.get)(i.get("origin"),"data",xt),n=r.animation,a=U1(r,e);if(n){var o=Yu(n);o&&o(i,a,t)}else i.animate(t.toAttrs,a)}function Z1(i,r,t,e,n){if(dc[t]){var a=dc[t](e),o=Yu((0,f.get)(a,"animation",""));if(o){var s=(0,H.__assign)((0,H.__assign)((0,H.__assign)({},Do.appear),a),r);i.stopAnimate(),o(i,s,{coordinate:e,minYPoint:n,toAttrs:null})}}}var K1=v(31207),$1=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.states=[];var n=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.visible,l=s===void 0?!0:s;return e.shapeFactory=n,e.container=a,e.offscreenGroup=o,e.visible=l,e}return r.prototype.draw=function(t,e){e===void 0&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),this.visible===!1&&this.changeVisible(!1)},r.prototype.update=function(t){var e=this,n=e.shapeFactory,a=e.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=n.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,this.syncShapeStyle(a,s,"",this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var t=this,e=t.shapeFactory,n=t.shape;if(n){var a=this.getAnimateCfg("leave");a?Fo(n,a,{coordinate:e.coordinate,toAttrs:(0,H.__assign)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(e){e.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(e){e.hide()}))},r.prototype.setState=function(t,e){var n=this,a=this,o=a.states,s=a.shapeFactory,l=a.model,u=a.shape,h=a.shapeType,c=o.indexOf(t);if(e){if(c>-1)return;o.push(t),(t==="active"||t==="selected")&&u.toFront()}else{if(c===-1)return;o.splice(c,1),(t==="active"||t==="selected")&&u.toBack()}var d=s.drawShape(h,l,this.getOffscreenGroup());o.length?o.forEach(function(_){n.syncShapeStyle(u,d,_,null)}):this.syncShapeStyle(u,d,"reset",null),d.remove(!0);var y={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",y),(0,K1.propagationDelegate)(this.shape,"statechange",y)},r.prototype.clearStates=function(){var t=this,e=this.states;(0,f.each)(e,function(n){t.setState(n,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this,e=t.shape,n=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(a=e.getCanvasBBox()),n&&n.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,a=t.shapeFactory,o=n.stateOption,s=a.defaultShapeType,l=a.theme[e]||a.theme[s];this.statesStyle=(0,f.deepMix)({},l,o)}return this.statesStyle},r.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),a=(0,f.get)(n,[t,"style"],{}),o=a[e]||a;return(0,f.isFunction)(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},r.prototype.drawShape=function(t,e){e===void 0&&(e=!1);var n=this,a=n.shapeFactory,o=n.container,s=n.shapeType;if(this.shape=a.drawShape(s,t,o),this.shape){this.setShapeInfo(this.shape,t);var l=this.shape.cfg.name;l?(0,f.isString)(l)&&(this.shape.cfg.name=["element",l]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var u=e?"enter":"appear",h=this.getAnimateCfg(u);h&&Fo(this.shape,h,{coordinate:a.coordinate,toAttrs:(0,H.__assign)({},this.shape.attr())})}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,e){var n=this;if(t.cfg.origin=e,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){n.setShapeInfo(o,e)})}},r.prototype.syncShapeStyle=function(t,e,n,a,o){if(n===void 0&&(n=""),o===void 0&&(o=0),t.isGroup())for(var s=t.get("children"),l=e.get("children"),u=0;u<s.length;u++)this.syncShapeStyle(s[u],l[u],n,a,o+u);else{if(n&&n!=="reset"){var h=t.get("name");(0,f.isArray)(h)&&(h=h[1]);var c=this.getStateStyle(n,h||o);e.attr(c)}var d=hn(t,e);this.animate?a?Fo(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:d,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(d,{duration:300})):t.attr(d):t.attr(d)}},r.prototype.getShapeType=function(t){var e=(0,f.get)(t,"shape");return(0,f.isArray)(e)?e[0]:e},r}(fe),gc=$1,yc={},mc={};function xc(i){return yc[i.toLowerCase()]}function fs(i,r){yc[i.toLowerCase()]=r}function bc(i){return mc[i.toLowerCase()]}function co(i,r){mc[i.toLowerCase()]=r}var js=v(57350),Q1={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(i,r){var t=this.getShape(i);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(i){var r=this[i]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getMarker:function(i,r){var t=this.getShape(i);if(!t.getMarker){var e=this.defaultShapeType;t=this.getShape(e)}var n=this.theme,a=(0,f.get)(n,[i,"default"],{}),o=t.getMarker(r);return(0,f.deepMix)({},a,o)},drawShape:function(i,r,t){var e=this.getShape(i);return e.draw(r,t)}},J1={coordinate:null,parsePath:function(i){var r=this.coordinate,t=(0,js.parsePathString)(i);return r.isPolar?t=wr(r,t):t=qe(r,t),t},parsePoint:function(i){var r=this.coordinate;return r.convert(i)},parsePoints:function(i){var r=this.coordinate;return i.map(function(t){return r.convert(t)})},draw:function(i,r){}},zu={};function $a(i,r){var t=(0,f.upperFirst)(i),e=(0,H.__assign)((0,H.__assign)((0,H.__assign)({},Q1),r),{geometryType:i});return zu[t]=e,e}function Jr(i,r,t){var e=(0,f.upperFirst)(i),n=zu[e],a=(0,H.__assign)((0,H.__assign)({},J1),t);return n[r]=a,a}function Xu(i){var r=(0,f.upperFirst)(i);return zu[r]}function q1(i,r,t){if(t===void 0&&(t={}),!r)return[i];var e=(0,f.groupToMap)(i,r),n=[];if(r.length===1&&t[r[0]])for(var a=t[r[0]],o=0,s=a;o<s.length;o++){var l=s[o],u=e["_"+l];u&&n.push(u)}else for(var h in e)if(e.hasOwnProperty(h)){var c=e[h];n.push(c)}return n}function wc(i,r){return(0,f.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,f.isEqual)(i[t],r[t])})}function hs(i){return(0,f.isArray)(i)?i:i.split("*")}function tb(i,r){var t=[];return(0,f.each)(r,function(e,n){var a=n.split(" ")[0];a===i&&t.push(e)}),t}var eb=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var n=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,u=l===void 0?!1:l,h=t.visible,c=h===void 0?!0:h,d=t.theme,y=t.scales,_=y===void 0?{}:y,k=t.scaleDefs,F=k===void 0?{}:k;return e.container=n,e.labelsContainer=a,e.coordinate=o,e.data=s,e.sortable=u,e.visible=c,e.userTheme=d,e.scales=_,e.scaleDefs=F,e}return r.prototype.position=function(t){var e=t;(0,f.isPlainObject)(t)||(e={fields:hs(t)});var n=(0,f.get)(e,"fields");return n.length===1&&(n.unshift("1"),(0,f.set)(e,"fields",n)),(0,f.set)(this.attributeOption,"position",e),this},r.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},r.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},r.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},r.prototype.adjust=function(t){var e=t;return((0,f.isString)(t)||(0,f.isPlainObject)(t))&&(e=[t]),(0,f.each)(e,function(n,a){(0,f.isObject)(n)||(e[a]={type:n})}),this.adjustOption=e,this},r.prototype.style=function(t,e){if((0,f.isString)(t)){var n=hs(t);this.styleOption={fields:n,callback:e}}else{var a=t,n=a.fields,o=a.callback,s=a.cfg;n||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},r.prototype.tooltip=function(t,e){if((0,f.isString)(t)){var n=hs(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,e,n){if((0,f.isString)(t)){var a={},o=hs(t);a.fields=o,(0,f.isFunction)(e)?a.callback=e:(0,f.isPlainObject)(e)&&(a.cfg=e),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){t===void 0&&(t={});var e=t.data,n=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;(0,f.isEqual)(s,l)?e&&(n||!(0,f.isEqual)(e,this.data))?(this.setCfg(t),this.processData(e)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){var e=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,f.deepMix)({},pc(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var n=this.getOffscreenGroup();n.clear();for(var a=this.beforeMappingData,o=this.beforeMapping(a),s=[],l=0,u=o.length;l<u;l++){var h=o[l],c=this.mapping(h);s.push(c),this.createElements(c,l,t)}if(this.canDoGroupAnimation(t)){var d=this.container,y=this.type,_=this.coordinate,k=(0,f.get)(this.animateOption,"appear"),F=this.getYScale(),Y=_.convert({x:0,y:F.scale(this.getYMinValue())});Z1(d,k,y,_,Y)}this.labelOption&&this.renderLabels((0,f.flatten)(s),t),this.dataArray=s,(0,f.each)(this.lastElementsMap,function(G){G.animate=e.animateOption,G.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=(0,H.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,a=t.offscreenGroup;e&&e.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,i.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,f.each)(this.attributes,function(e){Lt.includes(e.type)&&t.push(e)}),t},r.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,f.isEmpty)(n.scales)&&(e=n.values[0]),e},r.prototype.getAttributeValues=function(t,e){for(var n=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o],u=l.field;l.isIdentity?n.push(l.values):n.push(e[u])}return t.mapping.apply(t,n)},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getShapeMarker=function(t,e){var n=this.getShapeFactory();return n.getMarker(t,e)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(e){return t(e)})},r.prototype.getElementId=function(t){t=(0,f.isArray)(t)?t[0]:t;var e=t[xt];if(this.idFields.length){for(var n=e[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+e[this.idFields[a]];return n}var o=this.type,s=this.getXScale(),l=this.getYScale(),u=s.field||"x",h=l.field||"y",c=e[h],d;s.type==="identity"?d=s.values[0]:d=e[u];var y;o==="interval"||o==="schema"?y=d:o==="line"||o==="area"||o==="path"?y=o:y=d+"-"+c;for(var _=this.groupScales,a=0,k=_.length;a<k;a++){var F=_[a],Y=F.field;y=y+"-"+e[Y]}var G=this.getAdjust("dodge");if(G){var ut=G.dodgeBy;ut&&(y=y+"-"+e[ut])}return this.getAdjust("jitter")&&(y=y+"-"+t.x+"-"+t.y),y},r.prototype.getScaleFields=function(){var t=[],e={},n=this,a=n.attributeOption,o=n.labelOption,s=n.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];u.fields?kt(u.fields,t,e):u.values&&kt(u.values,t,e)}return o&&o.fields&&kt(o.fields,t,e),(0,f.isObject)(s)&&s.fields&&kt(s.fields,t,e),t},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.elements,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getGroupFields=function(){for(var t=[],e={},n=0,a=Lt.length;n<a;n++){var o=Lt[n],s=this.attributeOption[o];s&&s.fields&&kt(s.fields,t,e)}return t},r.prototype.getXYFields=function(){var t=this.attributeOption.position.fields,e=t[0],n=t[1];return[e,n]},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,l){return e.translate(s[xt][n])-e.translate(l[xt][n])})}this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!Xu(t))return this.shapeFactory||(this.shapeFactory=(0,f.clone)(Xu(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale(),a=this.normalizeValues(t[e.field],e),o;return n?o=this.normalizeValues(t[n.field],n):o=t.y?t.y:.1,{x:a,y:o,y0:n?n.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,e){e===void 0&&(e=!1);var n=this.container,a=this.getDrawCfg(t),o=this.getShapeFactory(),s=new gc({shapeFactory:o,container:n,offscreenGroup:this.getOffscreenGroup()});return s.animate=this.animateOption,s.geometry=this,s.draw(a,e),s},r.prototype.getDrawCfg=function(t){var e=t[xt],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var o=this.theme.geometries[this.shapeType];n.defaultStyle=(0,f.get)(o,[a,"default"],{}).style;var s=this.styleOption;return s&&(n.style=this.getStyleCfg(s,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);for(var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=0,h=t.length;u<h;u++){var c=t[u],d=this.getElementId(c);s[d]&&(d=d+"-"+e+"-"+u);var y=o[d];if(!y)y=this.createElement(c,n);else{var _=this.getDrawCfg(c),k=y.getModel();(this.isCoordinateChanged||wc(_,k))&&(y.animate=this.animateOption,y.update(_)),delete o[d]}l.push(y),s[d]=y}return l},r.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,a=t.type,o=n.type,s=(0,f.get)(e,["cfg","type"]);return s||(o==="polar"?s="polar":o==="theta"?s="pie":a==="interval"||a==="polygon"?s="interval":s="base"),s},r.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max,a;return e>=0?a=e:n<=0?a=n:a=0,a},r.prototype.createAttrOption=function(t,e,n){if((0,f.isNil)(e)||(0,f.isObject)(e))(0,f.isObject)(e)&&(0,f.isEqual)(Object.keys(e),["values"])?(0,f.set)(this.attributeOption,t,{fields:e.values}):(0,f.set)(this.attributeOption,t,e);else{var a={};(0,f.isNumber)(e)?a.values=[e]:a.fields=hs(e),n&&((0,f.isFunction)(n)?a.callback=n:a.values=n),(0,f.set)(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,a=e.attributeOption,o=e.theme,s=e.shapeType;this.groupScales=[];var l={},u=function(d){if(a.hasOwnProperty(d)){var y=a[d];if(!y)return{value:void 0};var _=(0,H.__assign)({},y),k=_.callback,F=_.values,Y=_.fields,G=Y===void 0?[]:Y,ut=G.map(function(Tt){var Yt=t.scales[Tt];return Yt.isCategory&&!l[Tt]&&Lt.includes(d)&&(t.groupScales.push(Yt),l[Tt]=!0),Yt});_.scales=ut,d!=="position"&&ut.length===1&&ut[0].type==="identity"?_.values=ut[0].values:!k&&!F&&(d==="size"?_.values=o.sizes:d==="shape"?_.values=o.shapes[s]||[]:d==="color"&&(ut.length?_.values=ut[0].values.length<=10?o.colors10:o.colors20:_.values=o.colors10));var ft=(0,$e.getAttribute)(d);n[d]=new ft(_)}};for(var h in a){var c=u(h);if(typeof c=="object")return c.value}},r.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales,n=e.filter(function(Tt){return Tt.isCategory}),a=this.groupData(t),o=[],s=0,l=a.length;s<l;s++){for(var u=a[s],h=[],c=0,d=u.length;c<d;c++){var y=u[c],_={};for(var k in y)_[k]=y[k];_[xt]=y;for(var F=0,Y=n;F<Y.length;F++){var G=Y[F],ut=G.field;_[ut]=G.translate(_[ut])}h.push(_)}o.push(h)}var ft=this.adjustData(o);return this.beforeMappingData=ft,ft},r.prototype.adjustData=function(t){var e=this.adjustOption,n=t;if(e)for(var a=this.getXScale(),o=this.getYScale(),s=a.field,l=o?o.field:null,u=0,h=e.length;u<h;u++){var c=e[u],d=(0,H.__assign)({xField:s,yField:l},c),y=c.type;if(y==="dodge"){var _=[];if(a.isCategory||a.type==="identity")_.push("x");else if(!o)_.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");d.adjustNames=_,d.dodgeRatio=this.theme.columnWidthRatio}else if(y==="stack"){var k=this.coordinate;if(!o){d.height=k.getHeight();var F=this.getDefaultValue("size")||3;d.size=F}!k.isTransposed&&(0,f.isNil)(d.reverseOrder)&&(d.reverseOrder=!0)}var Y=cc(y),G=new Y(d);n=G.process(n),this.adjusts[y]=G}return n},r.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,a={},o=[],s=0;s<e.length;s++){var l=e[s],u=l.field;o.push(u),(0,f.get)(n,[u,"values"])&&(a[u]=n[u].values)}return q1(t,o,a)},r.prototype.updateStackRange=function(t,e){for(var n=(0,f.flatten)(e),a=t.field,o=t.min,s=t.max,l=0;l<n.length;l++){var u=n[l],h=Math.min.apply(null,u[a]),c=Math.max.apply(null,u[a]);h<o&&(o=h),c>s&&(s=c)}var d=this.scaleDefs,y={};o<t.min&&!(0,f.get)(d,[a,"min"])&&(y.min=o),s>t.max&&!(0,f.get)(d,[a,"max"])&&(y.max=s),t.change(y)},r.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,a=e.length;n<a;n++){var o=e[n];this.generateShapePoints(o);var s=e[n+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return e},r.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=n?this.getAttributeValues(n,o):null,u=e.getShapePoints(l,s);o.points=u}},r.prototype.normalizeValues=function(t,e){var n=[];if((0,f.isArray)(t))for(var a=0;a<t.length;a++){var o=t[a];n.push(e.scale(o))}else n=e.scale(t);return n},r.prototype.mapping=function(t){for(var e=this.attributes,n=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[xt],points:o.points,nextPoints:o.nextPoints};for(var l in e)if(e.hasOwnProperty(l)){var u=e[l],h=u.names,c=this.getAttributeValues(u,o);if(h.length>1)for(var d=0;d<c.length;d+=1){var y=c[d],_=h[d];s[_]=(0,f.isArray)(y)&&y.length===1?y[0]:y}else s[h[0]]=c.length===1?c[0]:c}this.convertPoint(s),n.push(s)}return n},r.prototype.convertPoint=function(t){var e=t.x,n=t.y,a,o,s,l=this.coordinate;if((0,f.isArray)(e)&&(0,f.isArray)(n)){a=[],o=[];for(var u=0,h=0,c=e.length,d=n.length;u<c&&h<d;u+=1,h+=1)s=l.convert({x:e[u],y:n[h]}),a.push(s.x),o.push(s.y)}else if((0,f.isArray)(n)){o=[];for(var y=0;y<n.length;y++){var _=n[y];s=l.convert({x:e,y:_}),a&&a!==s.x?((0,f.isArray)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,f.isArray)(e)){a=[];for(var y=0;y<e.length;y++){var k=e[y];s=l.convert({x:k,y:n}),o&&o!==s.y?((0,f.isArray)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var F=l.convert({x:e,y:n});a=F.x,o=F.y}t.x=a,t.y=o},r.prototype.getStyleCfg=function(t,e){var n=t.fields,a=n===void 0?[]:n,o=t.callback,s=t.cfg;if(s)return s;var l=a.map(function(u){return e[u]});return o.apply(void 0,l)},r.prototype.setCfg=function(t){var e=this,n=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,f.each)(s,function(l,u){l&&l.key&&e.idFields.push(u)})),o&&(this.theme=this.userTheme?(0,f.deepMix)({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,e){e===void 0&&(e=!1);var n=this.geometryLabel;if(!n){var a=this.getLabelType(),o=xc(a);n=new o(this),this.geometryLabel=n}n.render(t,e);var s=n.labelsRenderer.shapesMap;(0,f.each)(this.elementsMap,function(l,u){var h=tb(u,s);if(h.length){l.labelShape=h;for(var c=0;c<h.length;c++)for(var d=h[c],y=d.getChildren(),_=0;_<y.length;_++){var k=y[_];k.cfg.name=["element","label"],k.cfg.element=l}}})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,f.get)(this.animateOption,"appear")===void 0||(0,f.get)(this.animateOption,"appear")&&(0,f.get)(this.animateOption,["appear","animation"])===void 0)},r}(fe),Fa=eb,Us=vn.transform;function Vu(i,r,t){var e=Us(i.getMatrix(),[["t",r,t]]);i.setMatrix(e)}function Sc(i,r){var t=i.attr(),e=t.x,n=t.y,a=Us(i.getMatrix(),[["t",-e,-n],["r",r],["t",e,n]]);i.setMatrix(a)}function rG(){return[1,0,0,0,1,0,0,0,1]}function rb(i,r){var t=i.getBBox(),e=(t.minX+t.maxX)/2,n=(t.minY+t.maxY)/2;i.applyToMatrix([e,n,1]);var a=Us(i.getMatrix(),[["t",-e,-n],["s",r,r],["t",e,n]]);i.setMatrix(a)}var nb=function(){function i(r){this.shapesMap={},this.lastShapesMap={};var t=r.layout,e=r.container;this.layout=t,this.container=e}return i.prototype.render=function(r,t,e){var n=this;e===void 0&&(e=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(r.length){for(var s=0,l=r;s<l.length;s++){var u=l[s];u&&this.renderLabel(u,o)}this.doLayout(r,t),this.renderLabelLine(r),this.adjustLabel(r)}var h=this.lastShapesMap,c=this.shapesMap;(0,f.each)(c,function(d,y){if(d.destroyed)delete c[y];else{if(h[y]){var _=d.get("data"),k=d.get("origin"),F=d.get("coordinate"),Y=h[y],G=d.get("animateCfg");Y.set("data",_),Y.set("origin",k),Y.set("animateCfg",G),Y.set("coordinate",F);var ut=(0,f.get)(G,"update"),ft=Y.getChildren();d.getChildren().map(function(Yt,Ut){var Jt=ft[Ut];Jt.set("data",_),Jt.set("origin",k),Jt.set("animateCfg",G),Jt.set("coordinate",F);var Wt=hn(Jt,Yt);ut?Fo(Jt,ut,{toAttrs:Wt,coordinate:F}):Jt.attr(Wt)}),n.shapesMap[y]=Y}else{a.add(d);var Tt=(0,f.get)(d.get("animateCfg"),e?"enter":"appear");Tt&&Fo(d,Tt,{toAttrs:(0,H.__assign)({},d.attr()),coordinate:d.get("coordinate")})}delete h[y]}}),(0,f.each)(h,function(d){var y=(0,f.get)(d.get("animateCfg"),"leave");y?Fo(d,y,{toAttrs:null,coordinate:d.get("coordinate")}):d.remove(!0)}),this.lastShapesMap=c,o.destroy()},i.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},i.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},i.prototype.renderLabel=function(r,t){var e=r.id,n=r.data,a=r.mappingData,o=r.coordinate,s=r.animate,l=r.content,u={id:e,data:n,origin:a,coordinate:o},h=t.addGroup((0,H.__assign)({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:(0,f.deepMix)({},this.animate,s)},u)),c;if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var d=l.getCanvasBBox(),y=d.width,_=d.height,k=(0,f.get)(r,"textAlign","left"),F=r.x,Y=r.y-_/2;k==="center"?F=F-y/2:(k==="right"||k==="end")&&(F=F-y),Vu(l,F,Y),c=l,h.add(l)}else c=h.addShape("text",(0,H.__assign)({attrs:(0,H.__assign)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,f.get)(r,"textBaseline","middle"),text:r.content},r.style)},u));r.rotate&&Sc(c,r.rotate),this.shapesMap[e]=h},i.prototype.doLayout=function(r,t){var e=this;if(this.layout){var n=(0,f.isArray)(this.layout)?this.layout:[this.layout];(0,f.each)(n,function(a){var o=bc((0,f.get)(a,"type",""));if(o){var s=[],l=[];(0,f.each)(e.shapesMap,function(u,h){s.push(u),l.push(t[h])}),o(r,s,l,e.region,a.cfg)}})}},i.prototype.renderLabelLine=function(r){var t=this;(0,f.each)(r,function(e){var n=(0,f.get)(e,"coordinate");if(!(!e||!n)){var a=n.getCenter(),o=n.getRadius();if(!!e.labelLine){var s=(0,f.get)(e,"labelLine",{}),l=e.id,u=s.path;if(!u){var h=dn(a.x,a.y,o,e.angle);u=[["M",h.x,h.y],["L",e.x,e.y]]}var c=t.shapesMap[l];c.destroyed||c.addShape("path",{capture:!1,attrs:(0,H.__assign)({path:u,stroke:e.color?e.color:(0,f.get)(e,["style","fill"],"#000"),fill:null},s.style),id:l,origin:e.mappingData,data:e.data,coordinate:e.coordinate})}}})},i.prototype.createOffscreenGroup=function(){var r=this.container,t=r.getGroupBase(),e=new t({});return e},i.prototype.adjustLabel=function(r){var t=this;(0,f.each)(r,function(e){if(e){var n=e.id,a=t.shapesMap[n];if(!a.destroyed){var o=a.find(function(s){return s.get("type")==="text"});o&&(e.offsetX&&o.attr("x",o.attr("x")+e.offsetX),e.offsetY&&o.attr("y",o.attr("y")+e.offsetY))}}})},i}(),ib=nb;function ab(i){var r=0;return(0,f.each)(i,function(t){r+=t}),r/i.length}var ob=function(){function i(r){this.geometry=r}return i.prototype.getLabelItems=function(r){var t=this,e=[],n=this.getLabelCfgs(r);return(0,f.each)(r,function(a,o){var s=n[o];if(!s||(0,f.isNil)(a.x)||(0,f.isNil)(a.y)){e.push(null);return}var l=(0,f.isArray)(s.content)?s.content:[s.content];s.content=l;var u=l.length;(0,f.each)(l,function(h,c){if((0,f.isNil)(h)||h===""){e.push(null);return}var d=(0,H.__assign)((0,H.__assign)({},s),t.getLabelPoint(s,a,c));d.textAlign||(d.textAlign=t.getLabelAlign(d,c,u)),d.offset<=0&&(d.labelLine=null),e.push(d)})}),e},i.prototype.render=function(r,t){t===void 0&&(t=!1);var e=this.getLabelItems(r),n=this.getLabelsRenderer(),a=this.getGeometryShapes();n.render(e,a,t)},i.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},i.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},i.prototype.getCoordinate=function(){return this.geometry.coordinate},i.prototype.getDefaultLabelCfg=function(){return(0,f.get)(this.geometry.theme,"labels",{})},i.prototype.setLabelPosition=function(r,t,e,n){},i.prototype.getDefaultOffset=function(r){var t=this.getCoordinate(),e=this.getOffsetVector(r);return t.isTransposed?e[0]:e[1]},i.prototype.getLabelOffset=function(r,t,e){var n=this.getDefaultOffset(r.offset),a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,u={x:0,y:0};return t>0||e===1?u[s]=n*l:u[s]=n*l*-1,u},i.prototype.getLabelPoint=function(r,t,e){var n=this.getCoordinate(),a=r.content.length;function o(k,F){var Y=k;return(0,f.isArray)(Y)&&(r.content.length===1?Y.length<=2?Y=Y[k.length-1]:Y=ab(Y):Y=Y[F]),Y}var s={content:r.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(t&&this.geometry.type==="polygon"){var l=Jn(t.x,t.y);s.x=l[0],s.y=l[1]}else s.x=o(t.x,e),s.y=o(t.y,e);var u=(0,f.isArray)(t.shape)?t.shape[0]:t.shape;if(u==="funnel"||u==="pyramid"){var h=(0,f.get)(t,"nextPoints"),c=(0,f.get)(t,"points");if(h){var d=n.convert(c[1]),y=n.convert(h[1]);s.x=(d.x+y.x)/2,s.y=(d.y+y.y)/2}else if(u==="pyramid"){var d=n.convert(c[1]),y=n.convert(c[2]);s.x=(d.x+y.x)/2,s.y=(d.y+y.y)/2}}r.position&&this.setLabelPosition(s,t,e,r.position);var _=this.getLabelOffset(r,e,a);return s.start={x:s.x,y:s.y},s.x+=_.x,s.y+=_.y,s.color=t.color,s},i.prototype.getLabelAlign=function(r,t,e){var n="center",a=this.getCoordinate();if(a.isTransposed){var o=this.getDefaultOffset(r.offset);o<0?n="right":o===0?n="center":n="left",e>1&&t===0&&(n==="right"?n="left":n==="left"&&(n="right"))}return n},i.prototype.getLabelId=function(r){var t=this.geometry,e=t.type,n=t.getXScale(),a=t.getYScale(),o=r[xt],s=t.getElementId(r);return e==="line"||e==="area"?s+=" "+o[n.field]:e==="path"&&(s+=" "+o[n.field]+"-"+o[a.field]),s},i.prototype.getLabelsRenderer=function(){var r=this.geometry,t=r.labelsContainer,e=r.labelOption,n=r.canvasRegion,a=r.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new ib({container:t,layout:(0,f.get)(e,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=n,s.animate=a?pc("label",o):!1,s},i.prototype.getLabelCfgs=function(r){var t=this,e=this.geometry,n=this.getDefaultLabelCfg(),a=e.type,o=e.theme,s=e.labelOption,l=e.scales,u=e.coordinate,h=s,c=h.fields,d=h.callback,y=h.cfg,_=c.map(function(F){return l[F]}),k=[];return(0,f.each)(r,function(F,Y){var G=F[xt],ut=t.getLabelText(G,_),ft;if(d){var Tt=c.map(function(Jt){return G[Jt]});if(ft=d.apply(void 0,Tt),(0,f.isNil)(ft)){k.push(null);return}}var Yt=(0,H.__assign)((0,H.__assign)({id:t.getLabelId(F),data:G,mappingData:F,coordinate:u},y),ft),Ut=Yt.content;(0,f.isFunction)(Ut)?Yt.content=Ut(G,F,Y):(0,f.isUndefined)(Ut)&&(Yt.content=ut[0]),(0,f.isFunction)(Yt.position)&&(Yt.position=Yt.position(G,F,Y)),a==="polygon"||Yt.offset<0&&!["line","point","path"].includes(a)?Yt=(0,f.deepMix)({},n,o.innerLabels,Yt):Yt=(0,f.deepMix)({},n,o.labels,Yt),k.push(Yt)}),k},i.prototype.getLabelText=function(r,t){var e=[];return(0,f.each)(t,function(n){var a=r[n.field];(0,f.isArray)(a)?a=a.map(function(o){return n.getText(o)}):a=n.getText(a),(0,f.isNil)(a)||a===""?e.push(null):e.push(a)}),e},i.prototype.getOffsetVector=function(r){r===void 0&&(r=0);var t=this.getCoordinate();return t.isTransposed?t.applyMatrix(r,0):t.applyMatrix(0,r)},i.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,f.each)(r.elementsMap,function(e,n){t[n]=e.shape}),(0,f.each)(r.getOffscreenGroup().getChildren(),function(e){var n=r.getElementId(e.get("origin").mappingData);t[n]=e}),t},i}(),Zs=ob,sb=v(66002),lb="4.0.15",vo={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Cn={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},ra=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],ub=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],fb={backgroundColor:"#141414",brandColor:ra[0],paletteQualitative10:ra,paletteQualitative20:ub,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:Cn[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:Cn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:Cn[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:Cn[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:Cn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:Cn[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:Cn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:ra[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Cn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:Cn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Cn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:vo[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:vo[25],annotationArcBorderColor:Cn[15],annotationArcBorder:.5,annotationLineBorderColor:Cn[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:Cn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:vo[95],annotationTextBorder:1.5,annotationRegionFillColor:Cn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Cn[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Cn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Cn[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:vo[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:Cn[25],pointFillColor:ra[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:vo[100],pointBorderOpacity:1,pointActiveBorderColor:Cn[100],pointSelectedBorder:2,pointSelectedBorderColor:Cn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:ra[0],hollowPointBorderOpacity:.95,hollowPointFillColor:vo[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Cn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Cn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:ra[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:ra[0],areaFillOpacity:.25,areaActiveFillColor:ra[0],areaActiveFillOpacity:.5,areaSelectedFillColor:ra[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:ra[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Cn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Cn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:ra[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Cn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Cn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:ra[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:vo[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Cn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Cn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},fi=v(73890),rn=v(21830),Ks=v(46812),hi=v(66631),un=v(27154),hb=v(9217),cb=v(5253),nG=v(39984),vb=v(98229),db=v(35755);function pb(){return window?window.devicePixelRatio:1}function Cc(i,r,t,e){var n=i-t,a=r-e;return Math.sqrt(n*n+a*a)}function po(i,r,t,e,n,a){return n>=i&&n<=i+t&&a>=r&&a<=r+e}function Hu(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function gb(i,r){return!i||!r?i||r:{minX:Math.min(i.minX,r.minX),minY:Math.min(i.minY,r.minY),maxX:Math.max(i.maxX,r.maxX),maxY:Math.max(i.maxY,r.maxY)}}function Mc(i,r){return i[0]===r[0]&&i[1]===r[1]}var iG=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,aG=/[^\s\,]+/gi,yb=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,mb=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,xb=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Ec=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Ac(i,r){var t=i.match(Ec);(0,un.default)(t,function(e){var n=e.split(":");r.addColorStop(n[0],n[1])})}function bb(i,r,t){var e=yb.exec(t),n=parseFloat(e[1])%360*(Math.PI/180),a=e[2],o=r.getBBox(),s,l;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(n),h=u*u,c=(l.x-s.x+u*(l.y-s.y))/(h+1)+s.x,d=u*(l.x-s.x+u*(l.y-s.y))/(h+1)+s.y,y=i.createLinearGradient(s.x,s.y,c,d);return Ac(a,y),y}function wb(i,r,t){var e=mb.exec(t),n=parseFloat(e[1]),a=parseFloat(e[2]),o=parseFloat(e[3]),s=e[4];if(o===0){var l=s.match(Ec);return l[l.length-1].split(":")[1]}var u=r.getBBox(),h=u.maxX-u.minX,c=u.maxY-u.minY,d=Math.sqrt(h*h+c*c)/2,y=i.createRadialGradient(u.minX+h*n,u.minY+c*a,0,u.minX+h/2,u.minY+c/2,o*d);return Ac(s,y),y}function Sb(i,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var e,n,a=xb.exec(t),o=a[1],s=a[2];function l(){e=i.createPattern(n,o),r.set("pattern",e),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?l():(n.onload=l,n.src=n.src),e}function Cb(i,r,t){if((0,rn.default)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return bb(i,r,t);if(t[0]==="r")return wb(i,r,t);if(t[0]==="p")return Sb(i,r,t)}return t}}function Mb(i){var r=0,t=0,e=0,n=0;return(0,hi.default)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,[r,t,e,n]}function $s(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function Wu(i,r){return $s(i)*$s(r)?(i[0]*r[0]+i[1]*r[1])/($s(i)*$s(r)):1}function _c(i,r){return(i[0]*r[1]<i[1]*r[0]?-1:1)*Math.acos(Wu(i,r))}function Tc(i,r){var t=r[1],e=r[2],n=(0,cb.default)((0,hb.default)(r[3]),Math.PI*2),a=r[4],o=r[5],s=i[0],l=i[1],u=r[6],h=r[7],c=Math.cos(n)*(s-u)/2+Math.sin(n)*(l-h)/2,d=-1*Math.sin(n)*(s-u)/2+Math.cos(n)*(l-h)/2,y=c*c/(t*t)+d*d/(e*e);y>1&&(t*=Math.sqrt(y),e*=Math.sqrt(y));var _=t*t*(d*d)+e*e*(c*c),k=_?Math.sqrt((t*t*(e*e)-_)/_):1;a===o&&(k*=-1),isNaN(k)&&(k=0);var F=e?k*t*d/e:0,Y=t?k*-e*c/t:0,G=(s+u)/2+Math.cos(n)*F-Math.sin(n)*Y,ut=(l+h)/2+Math.sin(n)*F+Math.cos(n)*Y,ft=[(c-F)/t,(d-Y)/e],Tt=[(-1*c-F)/t,(-1*d-Y)/e],Yt=_c([1,0],ft),Ut=_c(ft,Tt);return Wu(ft,Tt)<=-1&&(Ut=Math.PI),Wu(ft,Tt)>=1&&(Ut=0),o===0&&Ut>0&&(Ut=Ut-2*Math.PI),o===1&&Ut<0&&(Ut=Ut+2*Math.PI),{cx:G,cy:ut,rx:Mc(i,[u,h])?0:t,ry:Mc(i,[u,h])?0:e,startAngle:Yt,endAngle:Yt+Ut,xRotation:n,arcFlag:a,sweepFlag:o}}var Qs=Math.sin,Js=Math.cos,ju=Math.atan2,qs=Math.PI;function Pc(i,r,t,e,n,a,o){var s=r.stroke,l=r.lineWidth,u=t-n,h=e-a,c=ju(h,u),d=new qu({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Js(qs/6)+","+10*Qs(qs/6)+" L0,0 L"+10*Js(qs/6)+",-"+10*Qs(qs/6),stroke:s,lineWidth:l}});d.translate(n,a),d.rotateAtPoint(n,a,c),i.set(o?"startArrowShape":"endArrowShape",d)}function Lc(i,r,t,e,n,a,o){var s=r.startArrow,l=r.endArrow,u=r.stroke,h=r.lineWidth,c=o?s:l,d=c.d,y=c.fill,_=c.stroke,k=c.lineWidth,F=(0,J.__rest)(c,["d","fill","stroke","lineWidth"]),Y=t-n,G=e-a,ut=ju(G,Y);d&&(n=n-Js(ut)*d,a=a-Qs(ut)*d);var ft=new qu({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,J.__assign)((0,J.__assign)({},F),{stroke:_||u,lineWidth:k||h,fill:y})});ft.translate(n,a),ft.rotateAtPoint(n,a,ut),i.set(o?"startArrowShape":"endArrowShape",ft)}function go(i,r,t,e,n){var a=ju(e-r,t-i);return{dx:Js(a)*n,dy:Qs(a)*n}}function Uu(i,r,t,e,n,a){typeof r.startArrow=="object"?Lc(i,r,t,e,n,a,!0):r.startArrow?Pc(i,r,t,e,n,a,!0):i.set("startArrowShape",null)}function Zu(i,r,t,e,n,a){typeof r.endArrow=="object"?Lc(i,r,t,e,n,a,!1):r.endArrow?Pc(i,r,t,e,n,a,!1):i.set("startArrowShape",null)}var Oc={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Ro(i,r){var t=r.attr();for(var e in t){var n=t[e],a=Oc[e]?Oc[e]:e;a==="matrix"&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&i.setLineDash?(0,f.isArray)(n)&&i.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=Cb(i,r,n):a==="globalAlpha"&&(n=n*i.globalAlpha),i[a]=n)}}function Ku(i,r,t){for(var e=0;e<r.length;e++){var n=r[e];n.get("visible")?n.draw(i,t):n.skipDraw()}}function Ic(i,r,t,e){var n=t.path,a=t.startArrow,o=t.endArrow,s=[0,0],l=[0,0],u={dx:0,dy:0};r.beginPath();for(var h=0;h<n.length;h++){var c=n[h],d=c[0];if(h===0&&a&&a.d){var y=i.getStartTangent();u=go(y[0][0],y[0][1],y[1][0],y[1][1],a.d)}else if(h===n.length-2&&n[h+1][0]==="Z"&&o&&o.d){var _=n[h+1];if(_[0]==="Z"){var y=i.getEndTangent();u=go(y[0][0],y[0][1],y[1][0],y[1][1],o.d)}}else if(h===n.length-1&&o&&o.d&&n[0]!=="Z"){var y=i.getEndTangent();u=go(y[0][0],y[0][1],y[1][0],y[1][1],o.d)}var k=u.dx,F=u.dy;switch(d){case"M":r.moveTo(c[1]-k,c[2]-F),l=[c[1],c[2]];break;case"L":r.lineTo(c[1]-k,c[2]-F);break;case"Q":r.quadraticCurveTo(c[1],c[2],c[3]-k,c[4]-F);break;case"C":r.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-k,c[6]-F);break;case"A":{var Y=void 0;e?(Y=e[h],Y||(Y=Tc(s,c),e[h]=Y)):Y=Tc(s,c);var G=Y.cx,ut=Y.cy,ft=Y.rx,Tt=Y.ry,Yt=Y.startAngle,Ut=Y.endAngle,Jt=Y.xRotation,Wt=Y.sweepFlag;if(r.ellipse)r.ellipse(G,ut,ft,Tt,Jt,Yt,Ut,1-Wt);else{var ee=ft>Tt?ft:Tt,ue=ft>Tt?1:ft/Tt,oe=ft>Tt?Tt/ft:1;r.translate(G,ut),r.rotate(Jt),r.scale(ue,oe),r.arc(0,0,ee,Yt,Ut,1-Wt),r.scale(1/ue,1/oe),r.rotate(-Jt),r.translate(-G,-ut)}break}case"Z":r.closePath();break;default:break}if(d==="Z")s=l;else{var we=c.length;s=[c[we-2],c[we-1]]}}}function kc(i,r){var t=i.get("canvas");t&&(r==="remove"&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(t.refreshElement(i,r,t),t.get("autoDraw")&&t.draw(),i.set("hasChanged",!0)))}function Eb(i){var r;if(i.destroyed)r=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),e=t&&!!(t.width&&t.height),n=i.getCanvasBBox(),a=n&&!!(n.width&&n.height);e&&a?r=gb(t,n):e?r=t:a&&(r=n)}return r}function Bc(i){if(!i.length)return null;var r=[],t=[],e=[],n=[];return(0,f.each)(i,function(a){var o=Eb(a);o&&(r.push(o.minX),t.push(o.minY),e.push(o.maxX),n.push(o.maxY))}),{minX:Math.min.apply(null,r),minY:Math.min.apply(null,t),maxX:Math.max.apply(null,e),maxY:Math.max.apply(null,n)}}function Ab(i,r){return!i||!r||!Hu(i,r)?null:{minX:Math.max(i.minX,r.minX),minY:Math.max(i.minY,r.minY),maxX:Math.min(i.maxX,r.maxX),maxY:Math.min(i.maxY,r.maxY)}}var Dc=v(41056),_b=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.onCanvasChange=function(t){kc(this,t)},r.prototype.getShapeBase=function(){return g},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,e){e&&(t.save(),Ro(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getChildren();n.length&&(t.save(),Ro(t,this),this._applyClip(t,this.getClip()),Ku(t,n,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(Se.AbstractGroup),$u=_b,Tb=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return g},r.prototype.getGroupBase=function(){return $u},r.prototype.onCanvasChange=function(t){kc(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=(0,Dc.b)(t),a=n(this),o=e/2,s=a.x-o,l=a.y-o,u=a.x+a.width+o,h=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+e,height:a.height+e,maxX:u,maxY:h}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,e){e&&(t.save(),Ro(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getClip();if(e){var a=n?Bc([this,n]):this.getCanvasBBox();if(!Hu(e,a)){this.set("hasChanged",!1);return}}t.save(),Ro(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype._afterDraw=function(){var t=this.getCanvasBBox(),e=this.getCanvas();if(this.set("cacheCanvasBBox",t),e){var n=e.getViewRange();this.set("isInView",Hu(t,n))}this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isFill()&&(!(0,fi.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,fi.default)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,e){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(Se.AbstractShape),ha=Tb,Pb=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,u=s.y,h=s.r,c=o/2,d=Cc(l,u,t,e);return a&&n?d<=h+c:a?d<=h:n?d>=h-c&&d<=h+c:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},r}(ha),Lb=Pb;function tl(i,r,t,e){return i/(t*t)+r/(e*e)}var Ob=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=o/2,u=s.x,h=s.y,c=s.rx,d=s.ry,y=(t-u)*(t-u),_=(e-h)*(e-h);return a&&n?tl(y,_,c+l,d+l)<=1:a?tl(y,_,c,d)<=1:n?tl(y,_,c-l,d-l)>=1&&tl(y,_,c+l,d+l)<=1:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.rx,s=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,u=o>s?1:o/s,h=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(u,h),t.arc(0,0,l,0,Math.PI*2),t.restore(),t.closePath()}},r}(ha),Ib=Ob;function Fc(i){return i instanceof HTMLElement&&(0,rn.default)(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"}var kb=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,rn.default)(t)){var a=new Image;a.onload=function(){if(e.destroyed)return!1;e.attr("img",a),e.set("loading",!1),e._afterLoading();var o=e.get("callback");o&&o.call(e)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):Fc(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="img"&&this._setImage(e)},r.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.sx,u=e.sy,h=e.swidth,c=e.sheight,d=e.img;(d instanceof Image||Fc(d))&&(!(0,fi.default)(l)&&!(0,fi.default)(u)&&!(0,fi.default)(h)&&!(0,fi.default)(c)?t.drawImage(d,l,u,h,c,n,a,o,s):t.drawImage(d,n,a,o,s))},r}(ha),Bb=kb,Ra=v(23646);function Qa(i,r,t,e,n,a,o){var s=Math.min(i,t),l=Math.max(i,t),u=Math.min(r,e),h=Math.max(r,e),c=n/2;return a>=s-c&&a<=l+c&&o>=u-c&&o<=h+c?Ra.default.pointToLine(i,r,t,e,a,o)<=n/2:!1}var Db=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,l=t.endArrow;s&&Uu(this,t,a,o,e,n),l&&Zu(this,t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr(),l=s.x1,u=s.y1,h=s.x2,c=s.y2;return Qa(l,u,h,c,o,t,e)},r.prototype.createPath=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2,l=e.startArrow,u=e.endArrow,h={dx:0,dy:0},c={dx:0,dy:0};l&&l.d&&(h=go(n,a,o,s,e.startArrow.d)),u&&u.d&&(c=go(n,a,o,s,e.endArrow.d)),t.beginPath(),t.moveTo(n+h.dx,a+h.dy),t.lineTo(o-c.dx,s-c.dy)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ra.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Ra.default.pointAt(n,a,o,s,t)},r}(ha),Fb=Db,Rc=v(74479),Rb={circle:function(i,r,t){return[["M",i-t,r],["A",t,t,0,1,0,i+t,r],["A",t,t,0,1,0,i-t,r]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["Z"]]},"triangle-down":function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},Nb=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,f.isNil)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,l;return(0,Ks.default)(a)?(s=a,l=s(e,n,o),l=(0,Rc.Z)(l)):(s=r.Symbols[a],l=s(e,n,o)),s?l:(console.warn(a+" marker is not supported."),null)},r.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");Ic(this,t,{path:e},n)},r.Symbols=Rb,r}(ha),Gb=Nb,el=v(15730),Yb=v(49274),zb=v(26632);function Nc(i,r,t){var e=(0,zb.getOffScreenContext)();return i.createPath(e),e.isPointInPath(r,t)}var Xb=1e-6;function Qu(i){return Math.abs(i)<Xb?0:i<0?-1:1}function Vb(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}function Gc(i,r,t){var e=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=i[a],s=i[(a+1)%n];if(Vb(o,s,[r,t]))return!0;Qu(o[1]-t)>0!=Qu(s[1]-t)>0&&Qu(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(e=!e)}return e}var Hb=v(2879);function cs(i,r,t,e,n,a,o,s){var l=(Math.atan2(s-r,o-i)+Math.PI*2)%(Math.PI*2);if(l<e||l>n)return!1;var u={x:i+t*Math.cos(l),y:r+t*Math.sin(l)};return Cc(u.x,u.y,o,s)<=a/2}var Ju=v(35600),Yc=v(77160);function Wb(i){for(var r=!1,t=i.length,e=0;e<t;e++){var n=i[e],a=n[0];if(a==="C"||a==="A"||a==="Q"){r=!0;break}}return r}function jb(i,r,t,e){for(var n=!1,a=r/2,o=0;o<i.length;o++){var s=i[o],l=s.currentPoint,u=s.params,h=s.prePoint,c=s.box;if(!(c&&!po(c.x-a,c.y-a,c.width+r,c.height+r,t,e))){switch(s.command){case"L":case"Z":n=Qa(h[0],h[1],l[0],l[1],r,t,e);break;case"Q":var d=Hb.default.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],t,e);n=d<=r/2;break;case"C":var y=el.default.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],u[5],u[6],t,e);n=y<=r/2;break;case"A":var _=s.arcParams,k=_.cx,F=_.cy,Y=_.rx,G=_.ry,ut=_.startAngle,ft=_.endAngle,Tt=_.xRotation,Yt=[t,e,1],Ut=[1,0,0,0,1,0,0,0,1],Jt=Y>G?Y:G,Wt=Y>G?1:Y/G,ee=Y>G?G/Y:1;Ju.translate(Ut,Ut,[-k,-F]),Ju.rotate(Ut,Ut,-Tt),Ju.scale(Ut,Ut,[1/Wt,1/ee]),Yc.transformMat3(Yt,Yt,Ut),n=cs(0,0,Jt,ut,ft,r,Yt[0],Yt[1]);break;default:break}if(n)break}}return n}function Ub(i){for(var r=i.length,t=[],e=[],n=[],a=0;a<r;a++){var o=i[a],s=o[0];s==="M"?(n.length&&(e.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&e.push(n),{polygons:t,polylines:e}}var rl=(0,J.__assign)({hasArc:Wb,extractPolygons:Ub,isPointInStroke:jb},Se.PathUtil);function zc(i,r,t){for(var e=!1,n=0;n<i.length;n++){var a=i[n];if(e=Gc(a,r,t),e)break}return e}var Zb=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="path"&&this._setPathArr(e),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,Rc.Z)(t);var e=rl.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,Yb.default)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var a=this.getStartTangent();Uu(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();Zu(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.getSegments(),l=this.get("hasArc"),u=!1;if(n&&(u=rl.isPointInStroke(s,o,t,e)),!u&&a)if(l)u=Nc(this,t,e);else{var h=this.attr("path"),c=rl.extractPolygons(h);u=zc(c.polygons,t,e)||zc(c.polylines,t,e)}return u},r.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");Ic(this,t,e,n)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,f.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var e=this.get("tCache");e||(this._calculateCurve(),this._setTcache(),e=this.get("tCache"));var n,a,o=this.get("curve");if(!e||e.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,f.each)(e,function(h,c){t>=h[0]&&t<=h[1]&&(n=(t-h[0])/(h[1]-h[0]),a=c)});var s=o[a];if((0,f.isNil)(s)||(0,f.isNil)(a))return null;var l=s.length,u=o[a+1];return el.default.pointAt(s[l-2],s[l-1],u[1],u[2],u[3],u[4],u[5],u[6],n)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",rl.pathToCurve(t))},r.prototype._setTcache=function(){var t=0,e=0,n=[],a,o,s,l,u=this.get("curve");if(!!u){if((0,f.each)(u,function(h,c){s=u[c+1],l=h.length,s&&(t+=el.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,f.each)(u,function(h,c){s=u[c+1],l=h.length,s&&(a=[],a[0]=e/t,o=el.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),e+=o||0,a[1]=e/t,n.push(a))}),this.set("tCache",n)}},r.prototype.getStartTangent=function(){var t=this.getSegments(),e;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([n[0]-o[0],n[1]-o[1]]),e.push([n[0],n[1]])):(e.push([a[0],a[1]]),e.push([n[0],n[1]]))}return e},r.prototype.getEndTangent=function(){var t=this.getSegments(),e=t.length,n;if(e>1){var a=t[e-2].currentPoint,o=t[e-1].currentPoint,s=t[e-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},r}(ha),qu=Zb;function Xc(i,r,t,e,n){var a=i.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=i[o][0],l=i[o][1],u=i[o+1][0],h=i[o+1][1];if(Qa(s,l,u,h,r,t,e))return!0}if(n){var c=i[0],d=i[a-1];if(Qa(c[0],c[1],d[0],d[1],r,t,e))return!0}return!1}var Kb=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr().points,l=!1;return n&&(l=Xc(s,o,t,e,!0)),!l&&a&&(l=Gc(s,t,e)),l},r.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}(ha),$b=Kb,Vc=v(65386),Qb=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,a=e.startArrow,o=e.endArrow,s=n.length,l=n[0][0],u=n[0][1],h=n[s-1][0],c=n[s-1][1];a&&Uu(this,t,n[1][0],n[1][1],l,u),o&&Zu(this,t,n[s-2][0],n[s-2][1],h,c)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return Xc(s,o,t,e,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var e=this.attr(),n=e.points,a=e.startArrow,o=e.endArrow,s=n.length;if(!(n.length<2)){var l=n[0][0],u=n[0][1],h=n[s-1][0],c=n[s-1][1];if(a&&a.d){var d=go(l,u,n[1][0],n[1][1],a.d);l+=d.dx,u+=d.dy}if(o&&o.d){var d=go(n[s-2][0],n[s-2][1],h,c,o.d);h-=d.dx,c-=d.dy}t.beginPath(),t.moveTo(l,u);for(var y=0;y<s-1;y++){var _=n[y];t.lineTo(_[0],_[1])}t.lineTo(h,c)}},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,f.isNil)(e)?(this.set("totalLength",Vc.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ra.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/e,s=Ra.default.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(ha),Jb=Qb;function qb(i,r,t,e,n,a,o){var s=n/2;return po(i-s,r-s,t,n,a,o)||po(i+t-s,r-s,n,e,a,o)||po(i+s,r+e-s,t,n,a,o)||po(i-s,r+s,n,e,a,o)}function tw(i,r,t,e,n,a,o,s){var l=a/2;return Qa(i+n,r,i+t-n,r,a,o,s)||Qa(i+t,r+n,i+t,r+e-n,a,o,s)||Qa(i+t-n,r+e,i+n,r+e,a,o,s)||Qa(i,r+e-n,i,r+n,a,o,s)||cs(i+t-n,r+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||cs(i+t-n,r+e-n,n,0,.5*Math.PI,a,o,s)||cs(i+n,r+e-n,n,.5*Math.PI,Math.PI,a,o,s)||cs(i+n,r+n,n,Math.PI,1.5*Math.PI,a,o,s)}var ew=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,u=s.y,h=s.width,c=s.height,d=s.radius;if(d){var _=!1;return n&&(_=tw(l,u,h,c,d,o,t,e)),!_&&a&&(_=Nc(this,t,e)),_}else{var y=o/2;if(a&&n)return po(l-y,u-y,h+y,c+y,t,e);if(a)return po(l,u,h,c,t,e);if(n)return qb(l,u,h,c,o,t,e)}},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.radius;if(t.beginPath(),l===0)t.rect(n,a,o,s);else{var u=Mb(l),h=u[0],c=u[1],d=u[2],y=u[3];t.moveTo(n+h,a),t.lineTo(n+o-c,a),c!==0&&t.arc(n+o-c,a+c,c,-Math.PI/2,0),t.lineTo(n+o,a+s-d),d!==0&&t.arc(n+o-d,a+s-d,d,0,Math.PI/2),t.lineTo(n+y,a+s),y!==0&&t.arc(n+y,a+s-y,y,Math.PI/2,Math.PI),t.lineTo(n,a+h),h!==0&&t.arc(n+h,a+h,h,Math.PI,Math.PI*1.5),t.closePath()}},r}(ha),rw=ew,Hc=v(8914),nw=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,Hc.assembleFont)(t)},r.prototype._setText=function(t){var e=null;(0,rn.default)(t)&&t.indexOf(`
`)!==-1&&(e=t.split(`
`)),this.set("textArr",e)},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(e)},r.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=t.fontSize*1;return e?e-n:n*.14},r.prototype._drawTextArr=function(t,e,n){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,u=a.fontSize*1,h=this._getSpaceingY(),c=(0,Hc.getTextHeight)(a.text,a.fontSize,a.lineHeight),d;(0,un.default)(e,function(y,_){d=l+_*(h+u)-c+u,o==="middle"&&(d+=c-u-(c-u)/2),o==="top"&&(d+=c-u),n?t.fillText(y,s,d):t.strokeText(y,s,d)})},r.prototype._drawText=function(t,e){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,e);else{var l=n.text;e?t.fillText(l,a,o):t.strokeText(l,a,o)}},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isStroke()&&n>0&&(!(0,fi.default)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,fi.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(ha),iw=nw,aw=v(4555),oG=v(85424),ow=v(22487),Wc=v(6052);function sw(i,r){if(r){var t=(0,Wc.U_)(r);return(0,Wc.rG)(t,i)}return i}function jc(i,r,t){var e=i.getTotalMatrix();if(e){var n=sw([r,t,1],e),a=n[0],o=n[1];return[a,o]}return[r,t]}function Uc(i,r,t){if(i.isCanvas&&i.isCanvas())return!0;if(!(0,ow.isAllowCapture)(i)&&i.cfg.isInView===!1)return!1;if(i.cfg.clipShape){var e=jc(i,r,t),n=e[0],a=e[1];if(i.isClipped(n,a))return!1}var o=i.cfg.cacheCanvasBBox;return o||(o=i.getCanvasBBox()),r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function Zc(i,r,t){if(!Uc(i,r,t))return null;for(var e=null,n=i.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())e=Zc(s,r,t);else if(Uc(s,r,t)){var l=s,u=jc(s,r,t),h=u[0],c=u[1];l.isInShape(h,c)&&(e=s)}if(e)break}return e}var lw=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return g},r.prototype.getGroupBase=function(){return $u},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||pb();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},r.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},r.prototype.setDOMSize=function(t,e){i.prototype.setDOMSize.call(this,t,e);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*e,o>1&&n.scale(o,o)},r.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},r.prototype.getShape=function(t,e){return this.get("quickHit")?Zc(this,t,e):i.prototype.getShape.call(this,t,e,null)},r.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),e=this.getViewRange(),n;if(t.length&&t[0]===this)n=e;else if(n=Bc(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY);var a=this.get("clipView");a&&(n=Ab(n,e))}return n},r.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,db.default)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Ro(t,this),Ku(t,n),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a&&(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),Ro(t,this),Ku(t,n,a),t.restore()),(0,un.default)(e,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,vb.default)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},r.prototype.skipDraw=function(){},r}(Se.AbstractCanvas),Kc=lw,uw=v(71270),fw=uw.version,tf={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},qr={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},sG=null;function na(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function $c(i){var r=tf[i.type],t=i.getParent();if(!r)throw new Error("the type "+i.type+" is not supported by svg");var e=na(r);if(i.get("id")&&(e.id=i.get("id")),i.set("el",e),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e}function Qc(i,r){var t=i.get("el"),e=(0,f.toArray)(t.children).sort(r),n=document.createDocumentFragment();e.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function hw(i,r){var t=i.parentNode,e=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=e[r],a=e.indexOf(i);if(n){if(a>r)t.insertBefore(i,n);else if(a<r){var o=e[r+1];o?t.insertBefore(i,o):t.appendChild(i)}}else t.appendChild(i)}function cw(i,r){var t=i.cfg.el,e=i.attr(),n={dx:e.shadowOffsetX,dy:e.shadowOffsetY,blur:e.shadowBlur,color:e.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=r.find("filter",n);a||(a=r.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function vs(i){var r=i.attr().matrix;if(r){for(var t=i.cfg.el,e=[],n=0;n<9;n+=3)e.push(r[n]+","+r[n+1]);e=e.join(","),e.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+e+")"):console.warn("invalid matrix:",r)}}function ds(i,r){var t=i.getClip(),e=i.get("el");if(!t)e.removeAttribute("clip-path");else if(t&&!e.hasAttribute("clip-path")){$c(t),t.createPath(r);var n=r.addClip(t);e.setAttribute("clip-path","url(#"+n+")")}}function Jc(i,r){r.forEach(function(t){t.draw(i)})}function qc(i,r){var t=i.get("canvas");if(t&&t.get("autoDraw")){var e=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],o=i.get("el");if(r==="remove"){var s=i.get("isClipShape");if(s){var l=o&&o.parentNode,u=l&&l.parentNode;l&&u&&u.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(r==="show")o.setAttribute("visibility","visible");else if(r==="hide")o.setAttribute("visibility","hidden");else if(r==="zIndex")hw(o,a.indexOf(i));else if(r==="sort"){var h=i.get("children");h&&h.length&&Qc(i,function(c,d){return h.indexOf(c)-h.indexOf(d)?1:0})}else r==="clear"?o&&(o.innerHTML=""):r==="matrix"?vs(i):r==="clip"?ds(i,e):r==="attr"||r==="add"&&i.draw(e)}}var vw=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=na("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.createPath(n,t)}},r.prototype.onCanvasChange=function(t){qc(this,t)},r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),ds(this,t),this.createPath(t),e.length&&Jc(t,e))},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){qr[s]&&a.setAttribute(qr[s],o)}),vs(this)},r}(Se.AbstractGroup),ef=vw,dw=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.draw(n,t)}},r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return ef},r.prototype.onCanvasChange=function(t){qc(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,Dc.b)(this.get("type"));n&&(e=n(this))}if(e){var a=e.x,o=e.y,s=e.width,l=e.height,u=this.getHitLineWidth(),h=u/2,c=a-h,d=o-h,y=a+s+h,_=o+l+h;return{x:c,y:d,minX:c,minY:d,maxX:y,maxY:_,width:s+u,height:l+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},r.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||$c(this),ds(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},r.prototype.createPath=function(t,e){},r.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,l=n.strokeStyle,u=n.fillOpacity,h=n.strokeOpacity,c=n.lineWidth,d=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),u&&d.setAttribute(qr.fillOpacity,u)),this.canStroke&&c>0&&(e?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),h&&d.setAttribute(qr.strokeOpacity,h),c&&d.setAttribute(qr.lineWidth,c))},r.prototype._setColor=function(t,e,n){var a=this.get("el");if(!n){a.setAttribute(qr[e],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(qr[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(qr[e],"url(#"+o+")")}else a.setAttribute(qr[e],n)},r.prototype.shadow=function(t,e){var n=this.attr(),a=e||n,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,u=a.shadowColor;(o||s||l||u)&&cw(this,t)},r.prototype.transform=function(t){var e=this.attr(),n=(t||e).matrix;n&&vs(this)},r.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},r.prototype.isPointInPath=function(t,e){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,l=e+o.top,u=document.elementFromPoint(s,l);return!!(u&&u.isEqualNode(n))},r.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},r}(Se.AbstractShape),ia=dw,pw=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):qr[s]&&a.setAttribute(qr[s],o)})},r}(ia),gw=pw,yw=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){qr[s]&&a.setAttribute(qr[s],o)}),a.innerHTML=n.html},r}(ia),mw=yw,xw=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):qr[s]&&a.setAttribute(qr[s],o)})},r}(ia),bw=xw,ww=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(e||a,function(s,l){l==="img"?n._setImage(a.img):qr[l]&&o.setAttribute(qr[l],s)})},r.prototype.setAttr=function(t,e){this.attrs[t]=e,t==="img"&&this._setImage(e)},r.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,f.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,f.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},r}(ia),Sw=ww,Cw=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=(0,f.isObject)(o)?t.addArrow(n,qr[s]):t.getDefaultArrow(n,qr[s]);a.setAttribute(qr[s],"url(#"+l+")")}else a.removeAttribute(qr[s]);else qr[s]&&a.setAttribute(qr[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ra.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Ra.default.pointAt(n,a,o,s,t)},r}(ia),Mw=Cw,nl={circle:function(i,r,t){return[["M",i,r],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["z"]]},triangleDown:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},tv={get:function(i){return nl[i]},register:function(i,r){nl[i]=r},remove:function(i){delete nl[i]},getAll:function(){return nl}},Ew=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t){var e=this.get("el");e.setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,f.isArray)(t)?t.map(function(e){return e.join(" ")}).join(""):t},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,f.isFunction)(o)?s=o:s=tv.get(o),s?s(e,n,a):(console.warn(s+" symbol is not exist."),null)},r.symbolsFactory=tv,r}(ia),Aw=Ew,_w=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(e||a,function(s,l){if(l==="path"&&(0,f.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var u=(0,f.isObject)(s)?t.addArrow(a,qr[l]):t.getDefaultArrow(a,qr[l]);o.setAttribute(qr[l],"url(#"+u+")")}else o.removeAttribute(qr[l]);else qr[l]&&o.setAttribute(qr[l],s)})},r.prototype._formatPath=function(t){var e=t.map(function(n){return n.join(" ")}).join("");return~e.indexOf("NaN")?"":e},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength(),a=e?e.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},r}(ia),Tw=_w,Pw=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):qr[s]&&a.setAttribute(qr[s],o)})},r}(ia),Lw=Pw,Ow=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):qr[s]&&a.setAttribute(qr[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,f.isNil)(e)?(this.set("totalLength",Vc.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ra.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/e,s=Ra.default.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(ia),Iw=Ow,kw=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Bw=/[^\s\,]+/gi;function Dw(i){var r=0,t=0,e=0,n=0;return(0,f.isArray)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,{r1:r,r2:t,r3:e,r4:n}}function lG(i){if(i=i||[],isArray(i))return i;if(isString(i))return i=i.match(kw),each(i,function(r,t){if(r=r.match(Bw),r[0].length>1){var e=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=e}each(r,function(n,a){isNaN(n)||(r[a]=+n)}),i[t]=r}),i}var Fw=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,f.each)(e||a,function(u,h){l.indexOf(h)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):l.indexOf(h)===-1&&qr[h]&&o.setAttribute(qr[h],u)})},r.prototype._assembleRect=function(t){var e=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=Dw(s);(0,f.isArray)(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var u=[["M "+(e+l.r1)+","+n],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return u.join(" ")},r}(ia),Rw=Fw,Nw=v(56463),ev=.3,Gw={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},Yw={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},zw={left:"left",start:"left",center:"middle",right:"end",end:"end"},Xw=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,J.__assign)((0,J.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,f.each)(e||a,function(s,l){l==="text"?n._setText(""+s):l==="matrix"&&s?vs(n):qr[l]&&o.setAttribute(qr[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,a=e.textAlign,o=(0,Nw.detect)();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",Yw[n]||"alphabetic"):t.setAttribute("alignment-baseline",Gw[n]||"baseline"),t.setAttribute("text-anchor",zw[a]||"left")},r.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)e.innerHTML="";else if(~t.indexOf(`
`)){var l=t.split(`
`),u=l.length-1,h="";(0,f.each)(l,function(c,d){d===0?s==="alphabetic"?h+='<tspan x="'+a+'" dy="'+-u+'em">'+c+"</tspan>":s==="top"?h+='<tspan x="'+a+'" dy="0.9em">'+c+"</tspan>":s==="middle"?h+='<tspan x="'+a+'" dy="'+-(u-1)/2+'em">'+c+"</tspan>":s==="bottom"?h+='<tspan x="'+a+'" dy="-'+(u+ev)+'em">'+c+"</tspan>":s==="hanging"&&(h+='<tspan x="'+a+'" dy="'+(-(u-1)-ev)+'em">'+c+"</tspan>"):h+='<tspan x="'+a+'" dy="1em">'+c+"</tspan>"}),e.innerHTML=h}else e.innerHTML=t},r}(ia),Vw=Xw,Hw=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Ww=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,jw=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function rv(i){var r=i.match(jw);if(!r)return"";var t="";return r.sort(function(e,n){return e=e.split(":"),n=n.split(":"),Number(e[0])-Number(n[0])}),(0,f.each)(r,function(e){e=e.split(":"),t+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),t}function Uw(i,r){var t=Hw.exec(i),e=(0,f.mod)((0,f.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;e>=0&&e<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=e&&e<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=e&&e<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(e),l=s*s,u=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,h=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;r.setAttribute("x1",a.x),r.setAttribute("y1",a.y),r.setAttribute("x2",u),r.setAttribute("y2",h),r.innerHTML=rv(n)}function Zw(i,r){var t=Ww.exec(i),e=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];r.setAttribute("cx",e),r.setAttribute("cy",n),r.setAttribute("r",a),r.innerHTML=rv(o)}var Kw=function(){function i(r){this.cfg={};var t=null,e=(0,f.uniqueId)("gradient_");return r.toLowerCase()[0]==="l"?(t=na("linearGradient"),Uw(r,t)):(t=na("radialGradient"),Zw(r,t)),t.setAttribute("id",e),this.el=t,this.id=e,this.cfg=r,this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),$w=Kw,Qw={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},Jw={x:"-40%",y:"-40%",width:"200%",height:"200%"},qw=function(){function i(r){this.type="filter",this.cfg={},this.type="filter";var t=na("filter");return(0,f.each)(Jw,function(e,n){t.setAttribute(n,e)}),this.el=t,this.id=(0,f.uniqueId)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return i.prototype.match=function(r,t){if(this.type!==r)return!1;var e=!0,n=this.cfg;return(0,f.each)(Object.keys(n),function(a){if(n[a]!==t[a])return e=!1,!1}),e},i.prototype.update=function(r,t){var e=this.cfg;return e[Qw[r]]=t,this._parseShadow(e,this.el),this},i.prototype._parseShadow=function(r,t){var e=`<feDropShadow
      dx="`+(r.dx||0)+`"
      dy="`+(r.dy||0)+`"
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;t.innerHTML=e},i}(),tS=qw,eS=function(){function i(r,t){this.cfg={};var e=na("marker"),n=(0,f.uniqueId)("marker_");e.setAttribute("id",n);var a=na("path");a.setAttribute("stroke",r.stroke||"none"),a.setAttribute("fill",r.fill||"none"),e.appendChild(a),e.setAttribute("overflow","visible"),e.setAttribute("orient","auto-start-reverse"),this.el=e,this.child=a,this.id=n;var o=r[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(r.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(r,t){var e=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),e.setAttribute("refX",""+10*Math.cos(Math.PI/6)),e.setAttribute("refY",""+5)},i.prototype._setMarker=function(r,t){var e=this.el,n=this.cfg.path,a=this.cfg.d;(0,f.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),e.appendChild(t),a&&e.setAttribute("refX",""+a/r)},i.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},i}(),nv=eS,rS=function(){function i(r){this.type="clip",this.cfg={};var t=na("clipPath");this.el=t,this.id=(0,f.uniqueId)("clip_"),t.id=this.id;var e=r.cfg.el;return t.appendChild(e),this.cfg=r,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},i}(),nS=rS,iS=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,aS=function(){function i(r){this.cfg={};var t=na("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var e=na("image");t.appendChild(e);var n=(0,f.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=r;var a=iS.exec(r),o=a[2];e.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),oS=aS,sS=function(){function i(r){var t=na("defs"),e=(0,f.uniqueId)("defs_");t.id=e,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return i.prototype.find=function(r,t){for(var e=this.children,n=null,a=0;a<e.length;a++)if(e[a].match(r,t)){n=e[a].id;break}return n},i.prototype.findById=function(r){for(var t=this.children,e=null,n=0;n<t.length;n++)if(t[n].id===r){e=t[n];break}return e},i.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},i.prototype.getDefaultArrow=function(r,t){var e=r.stroke||r.strokeStyle;if(this.defaultArrow[e])return this.defaultArrow[e].id;var n=new nv(r,t);return this.defaultArrow[e]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(r){var t=new $w(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(r,t){var e=new nv(r,t);return this.el.appendChild(e.el),this.add(e),e.id},i.prototype.addShadow=function(r){var t=new tS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(r){var t=new oS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(r){var t=new nS(r);return this.el.appendChild(t.el),this.add(t),t.id},i}(),lS=sS,uS=function(i){(0,J.__extends)(r,i);function r(t){return i.call(this,(0,J.__assign)((0,J.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return ef},r.prototype.getShape=function(t,e,n){var a=n.target||n.srcElement;if(!tf[a.tagName]){for(var o=a.parentNode;o&&!tf[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},r.prototype.createDom=function(){var t=na("svg"),e=new lS(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},r.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&Qc(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=e.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?vs(this):t==="clip"?ds(this,e):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();ds(this,t),e.length&&Jc(t,e)},r}(Se.AbstractCanvas),iv=uS,fS=v(23231),hS=fS.version;function rf(i){return i?!1:i==null||isNaN(i)}function av(i){if((0,f.isArray)(i))return rf(i[1].y);var r=i.y;return(0,f.isArray)(r)?rf(r[0]):rf(r)}function nf(i,r,t){if(r===void 0&&(r=!1),t===void 0&&(t=!0),!i.length||i.length===1&&!t)return[];if(r){for(var e=[],n=0,a=i.length;n<a;n++){var o=i[n];av(o)||e.push(o)}return[e]}for(var s=[],l=[],n=0,a=i.length;n<a;n++){var o=i[n];av(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function ei(i,r,t,e){e===void 0&&(e="");var n=i.style,a=n===void 0?{}:n,o=i.defaultStyle,s=i.color,l=i.size,u=(0,H.__assign)((0,H.__assign)({},o),a);return s&&(r&&(a.stroke||(u.stroke=s)),t&&(a.fill||(u.fill=s))),e&&(0,f.isNil)(a[e])&&!(0,f.isNil)(l)&&(u[e]=l),u}function af(i){var r=i.x,t=(0,f.isArray)(i.y)?i.y:[i.y];return t.map(function(e,n){return{x:(0,f.isArray)(r)?r[n]:r,y:e}})}var cS={line:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dot:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dash:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},smooth:function(i,r,t){return[["M",i-t,r],["A",t/2,t/2,0,1,1,i,r],["A",t/2,t/2,0,1,0,i+t,r]]},hv:function(i,r,t){return[["M",i-t-1,r-2.5],["L",i,r-2.5],["L",i,r+2.5],["L",i+t+1,r+2.5]]},vh:function(i,r,t){return[["M",i-t-1,r+2.5],["L",i,r+2.5],["L",i,r-2.5],["L",i+t+1,r-2.5]]},hvh:function(i,r,t){return[["M",i-(t+1),r+2.5],["L",i-t/2,r+2.5],["L",i-t/2,r-2.5],["L",i+t/2,r-2.5],["L",i+t/2,r+2.5],["L",i+t+1,r+2.5]]},vhv:function(i,r){return[["M",i-5,r+2.5],["L",i-5,r],["L",i,r],["L",i,r-3],["L",i,r+3],["L",i+6.5,r+3]]}};function ov(i,r){var t=i.color;return{symbol:cS[r],style:{lineWidth:2,r:6,stroke:t}}}function vS(i,r,t){for(var e=i.isStack,n=i.connectNulls,a=i.isInCircle,o=i.showSinglePoint,s=ei(i,!0,!1,"lineWidth"),l=nf(i.points,n,o),u=[],h=0,c=l.length;h<c;h++){var d=l[h];u=u.concat(pS(d,a,e,r,t,s))}return s.path=u,s}function of(i,r,t,e,n){if(i.length===1)return[["M",i[0].x,i[0].y-n.lineWidth/2],["L",i[0].x,i[0].y],["L",i[0].x,i[0].y+n.lineWidth/2]];var a;return t?(r&&i.length&&i.push({x:i[0].x,y:i[0].y}),a=Ue(i,!1,e)):(a=de(i,!1),r&&a.push(["Z"])),a}function dS(i,r,t,e,n,a){var o=[],s=[];(0,f.each)(i,function(h){var c=af(h);o.push(c[1]),s.push(c[0])});var l=of(o,r,e,n,a),u=of(s,r,e,n,a);return t?l:l.concat(u)}function pS(i,r,t,e,n,a){if(i.length){var o=i[0];return(0,f.isArray)(o.y)?dS(i,r,t,e,n,a):of(i,r,e,n,a)}return[]}var uG=$a("line",{defaultShapeType:"line"});(0,f.each)(["line","dot","dash","smooth"],function(i){Jr("line",i,{draw:function(r,t){var e=i==="smooth",n;if(e){var a=this.coordinate,o=a.start,s=a.end;n=[[o.x,s.y],[s.x,o.y]]}var l=vS(r,e,n),u=t.addShape({type:"path",attrs:l,name:"line"});return u},getMarker:function(r){return ov(r,i)}})});var fG=null,gS=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="path",e.shapeType="line";var n=t.connectNulls,a=n===void 0?!1:n,o=t.showSinglePoint,s=o===void 0?!0:o;return e.connectNulls=a,e.showSinglePoint=s,e}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=a.container,h=this.getElementId(t),c=this.getShapeInfo(t),d=o[h];if(d){var _=d.getModel();(this.isCoordinateChanged||wc(_,c))&&(d.animate=this.animateOption,d.update(c)),delete o[h]}else{var y=this.getShapeFactory();d=new gc({shapeFactory:y,container:u,offscreenGroup:this.getOffscreenGroup()}),d.geometry=this,d.animate=this.animateOption,d.draw(c,n)}return l.push(d),s[h]=d,l},r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push({x:s.x,y:s.y}),n.push(s[xt])}return{points:e,data:n}},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,o=n.data;return e.mappingData=t,e.data=o,e.isStack=!!this.getAdjust("stack"),e.points=a,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},r}(Fa),sf=gS;function yS(i,r,t,e,n){var a=[];if(i.length){for(var o=[],s=[],l=0,u=i.length;l<u;l++){var h=i[l];o.push(h[1]),s.push(h[0])}s=s.reverse(),(0,f.each)([o,s],function(c,d){var y=[],_=e.parsePoints(c),k=_[0];o.length===1&&s.length===1?y=d===0?[["M",k.x-.5,k.y],["L",k.x+.5,k.y]]:[["L",k.x+.5,k.y],["L",k.x-.5,k.y]]:(r&&_.push({x:k.x,y:k.y}),t?y=Ue(_,!1,n):y=de(_,!1),d>0&&(y[0][0]="L")),a=a.concat(y)}),a.push(["Z"])}return a}function il(i,r,t,e,n){for(var a=ei(i,r,!r,"lineWidth"),o=i.connectNulls,s=i.isInCircle,l=i.points,u=i.showSinglePoint,h=nf(l,o,u),c=[],d=0,y=h.length;d<y;d++){var _=h[d];c=c.concat(yS(_,s,t,e,n))}return a.path=c,a}function sv(i){var r=i.start,t=i.end;return[[r.x,t.y],[t.x,r.y]]}var hG=$a("area",{defaultShapeType:"area",getDefaultPoints:function(i){var r=i.x,t=i.y0,e=(0,f.isArray)(i.y)?i.y:[t,i.y];return e.map(function(n){return{x:r,y:n}})}});Jr("area","area",{draw:function(i,r){var t=il(i,!1,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}});var cG=null,mS=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var n=t.startOnZero,a=n===void 0?!0:n,o=t.sortable,s=o===void 0?!0:o,l=t.showSinglePoint,u=l===void 0?!1:l;return e.startOnZero=a,e.sortable=s,e.showSinglePoint=u,e}return r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push(s.points),n.push(s[xt])}return{points:e,data:n}},r.prototype.getYMinValue=function(){if(this.startOnZero)return i.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},r}(sf),xS=mS,vG=$a("edge",{defaultShapeType:"line",getDefaultPoints:function(i){return af(i)}});Jr("edge","line",{draw:function(i,r){var t=ei(i,!0,!1,"lineWidth"),e=de(this.parsePoints(i.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var dG=null,bS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return r}(Fa),wS=bS,SS=v(55223),CS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this.prepareRange(t),o=this.prepareSize(),s=(0,f.get)(this.styleOption,["style","shadowBlur"]);return(0,f.isNumber)(s)||(s=o/2),this.prepareGreyScaleBlurredCircle(o,s),this.drawWithRange(t,a,o,s),null},r.prototype.clear=function(){i.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[xt][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,f.isNumber)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),a=t+e,o=n.getContext("2d");n.width=n.height=a*2,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,e,n,a){var o=this.coordinate,s=o.start,l=o.end,u=this.coordinate.getWidth(),h=this.coordinate.getHeight(),c=this.getAttribute("color"),d=c.getFields()[0];this.clearShadowCanvasCtx();var y=this.getShadowCanvasCtx();e&&(t=t.filter(function(Jt){return Jt[xt][d]<=e[1]&&Jt[xt][d]>=e[0]}));for(var _=this.scales[d],k=0,F=t;k<F.length;k++){var Y=F[k],G=this.getDrawCfg(Y),ut=G.x,ft=G.y,Tt=_.scale(Y[xt][d]);this.drawGrayScaleBlurredCircle(ut-s.x,ft-l.y,n+a,Tt,y)}var Yt=y.getImageData(0,0,u,h);this.clearShadowCanvasCtx(),this.colorize(Yt),y.putImageData(Yt,0,0);var Ut=this.getImageShape();Ut.attr("x",s.x),Ut.attr("y",l.y),Ut.attr("width",u),Ut.attr("height",h),Ut.attr("img",y.canvas),Ut.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if((0,f.isNumber)(s)){var l=a[s]?a[s]:SS.default.rgb2arr(e.gradient(s/256));n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;return t=e.addShape({type:"image",attrs:{}}),this.imageShape=t,t},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,H.__assign)((0,H.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[xt]})},r}(Fa),MS=CS;function lf(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,f.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,u;(0,f.isArray)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:u,y:(s+o)/2}):h.push({x:u,y:s},{x:u,y:o}),h}function uf(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}function lv(i,r,t){var e=[];return(0,f.isNil)(r)?t?e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[2].x,i[2].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),e}var pG=$a("interval",{defaultShapeType:"rect",getDefaultPoints:function(i){return lf(i)}});Jr("interval","rect",{draw:function(i,r){var t=ei(i,!1,!0),e=this.parsePath(uf(i.points)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var gG=null;function ES(i,r){var t=i.length,e=i;(0,f.isString)(e[0])&&(e=i.map(function(s){return r.translate(s)}));for(var n=e[1]-e[0],a=2;a<t;a++){var o=e[a]-e[a-1];n>o&&(n=o)}return n}function AS(i,r){if(r){var t=(0,f.flatten)(i),e=(0,f.valuesOfKey)(t,r);return e.length}return i.length}function uv(i){var r=i.theme,t=i.coordinate,e=i.getXScale(),n=e.values,a=i.beforeMappingData,o=n.length;if(e.isLinear&&n.length>1){n.sort();var s=ES(n,e);o=(e.max-e.min)/s,n.length>o&&(o=n.length)}var l=e.range,u=1/o,h=1;if(t.isPolar?t.isTransposed&&o>1?h=r.multiplePieWidthRatio:h=r.roseWidthRatio:(e.isLinear&&(u*=l[1]-l[0]),h=r.columnWidthRatio),u*=h,i.getAdjust("dodge")){var c=i.getAdjust("dodge"),d=c.dodgeBy,y=AS(a,d);u=u/y}var _=r.maxColumnWidth,k=r.minColumnWidth,F=gt(i.coordinate);if(_){var Y=_/F;u>Y&&(u=Y)}if(k){var G=k/F;u<G&&(u=G)}return u}var _S=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=gt(o);n=n/s}else this.defaultSize||(this.defaultSize=uv(this)),n=this.defaultSize;return e.size=n,e},r.prototype.adjustScale=function(){i.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,t.values),t.max)});else{var e=this.scaleDefs,n=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,f.get)(e,[n,"min"])&&t.change({min:0}),o<=0&&!(0,f.get)(e,[n,"max"])&&t.change({max:0}))}},r}(Fa),TS=_S,PS=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="line";var n=t.sortable,a=n===void 0?!0:n;return e.sortable=a,e}return r}(sf),LS=PS,yo={hexagon:function(i,r,t){var e=t/2*Math.sqrt(3);return[["M",i,r-t],["L",i+e,r-t/2],["L",i+e,r+t/2],["L",i,r+t],["L",i-e,r+t/2],["L",i-e,r-t/2],["Z"]]},bowtie:function(i,r,t){var e=t-1.5;return[["M",i-t,r-e],["L",i+t,r+e],["L",i+t,r-e],["L",i-t,r+e],["Z"]]},cross:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r+t],["M",i+t,r-t],["L",i-t,r+t]]},tick:function(i,r,t){return[["M",i-t/2,r-t],["L",i+t/2,r-t],["M",i,r-t],["L",i,r+t],["M",i-t/2,r+t],["L",i+t/2,r+t]]},plus:function(i,r,t){return[["M",i-t,r],["L",i+t,r],["M",i,r-t],["L",i,r+t]]},hyphen:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},line:function(i,r,t){return[["M",i,r-t],["L",i,r+t]]}},fv=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],OS=["cross","tick","plus","hyphen","line"];function ff(i,r,t,e,n){var a=ei(r,n,!n,"r"),o=i.parsePoints(r.points),s=o[0];if(r.isStack)s=o[1];else if(o.length>1){for(var l=t.addGroup(),u=0,h=o;u<h.length;u++){var c=h[u];l.addShape({type:"marker",attrs:(0,H.__assign)((0,H.__assign)((0,H.__assign)({},a),{symbol:yo[e]||e}),c)})}return l}return t.addShape({type:"marker",attrs:(0,H.__assign)((0,H.__assign)((0,H.__assign)({},a),{symbol:yo[e]||e}),s)})}var yG=$a("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(i){return af(i)}});(0,f.each)(fv,function(i){Jr("point","hollow-"+i,{draw:function(r,t){return ff(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:yo[i]||i,style:{r:4.5,stroke:t,fill:null}}}})});var mG=null,IS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return r.prototype.getDrawCfg=function(t){var e=i.prototype.getDrawCfg.call(this,t);return(0,H.__assign)((0,H.__assign)({},e),{isStack:!!this.getAdjust("stack")})},r}(Fa),kS=IS;function BS(i){for(var r=i[0],t=1,e=[["M",r.x,r.y]];t<i.length;){var n=i[t];(n.x!==i[t-1].x||n.y!==i[t-1].y)&&(e.push(["L",n.x,n.y]),n.x===r.x&&n.y===r.y&&t<i.length-1&&(r=i[t+1],e.push(["Z"]),e.push(["M",r.x,r.y]),t++)),t++}return(0,f.isEqual)((0,f.last)(e),r)||e.push(["L",r.x,r.y]),e.push(["Z"]),e}var xG=$a("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var r=[];return(0,f.each)(i.x,function(t,e){var n=i.y[e];r.push({x:t,y:n})}),r}});Jr("polygon","polygon",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=ei(i,!0,!0),e=this.parsePath(BS(i.points));return r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var bG=null,DS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n=e.x,a=e.y,o;if(!((0,f.isArray)(n)&&(0,f.isArray)(a))){var s=this.getXScale(),l=this.getYScale(),u=s.values.length,h=l.values.length,c=.5*1/u,d=.5*1/h;s.isCategory&&l.isCategory?(n=[n-c,n-c,n+c,n+c],a=[a-d,a+d,a+d,a-d]):(0,f.isArray)(n)?(o=n,n=[o[0],o[0],o[1],o[1]],a=[a-d/2,a+d/2,a+d/2,a-d/2]):(0,f.isArray)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],n=[n-c/2,n-c/2,n+c/2,n+c/2]),e.x=n,e.y=a}return e},r}(Fa),FS=DS,wG=$a("schema",{defaultShapeType:""}),SG=null,RS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=gt(o);n=n/s}else this.defaultSize||(this.defaultSize=uv(this)),n=this.defaultSize;return e.size=n,e},r}(Fa),NS=RS;Jr("area","line",{draw:function(i,r){var t=il(i,!0,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}}),Jr("area","smooth",{draw:function(i,r){var t=this.coordinate,e=il(i,!1,!0,this,sv(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}}),Jr("area","smooth-line",{draw:function(i,r){var t=this.coordinate,e=il(i,!0,!0,this,sv(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});function hf(i,r){var t=[];t.push({x:i.x,y:i.y*1/2+r.y*1/2}),t.push({x:r.x,y:i.y*1/2+r.y*1/2}),t.push(r);var e=["C"];return(0,f.each)(t,function(n){e.push(n.x,n.y)}),e}function cf(i,r){var t=[];t.push({x:r.x,y:r.y}),t.push(i);var e=["Q"];return(0,f.each)(t,function(n){e.push(n.x,n.y)}),e}function GS(i,r,t){var e=cf(r,t),n=[["M",i.x,i.y]];return n.push(e),n}function YS(i,r){var t=cf(i[1],r),e=cf(i[3],r),n=[["M",i[0].x,i[0].y]];return n.push(e),n.push(["L",i[3].x,i[3].y]),n.push(["L",i[2].x,i[2].y]),n.push(t),n.push(["L",i[1].x,i[1].y]),n.push(["L",i[0].x,i[0].y]),n.push(["Z"]),n}Jr("edge","arc",{draw:function(i,r){var t=ei(i,!0,!1,"lineWidth"),e=i.points,n=e.length>2?"weight":"normal",a;if(i.isInCircle){var o={x:0,y:1};return n==="normal"?a=GS(e[0],e[1],o):(t.fill=t.stroke,a=YS(e,o)),a=this.parsePath(a),r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:a})})}else{if(n==="normal")return e=this.parsePoints(e),a=Di((e[1].x+e[0].x)/2,e[0].y,Math.abs(e[1].x-e[0].x)/2,Math.PI,Math.PI*2),r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:a})});var s=hf(e[1],e[3]),l=hf(e[2],e[0]);return a=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],s,["L",e[3].x,e[3].y],["L",e[2].x,e[2].y],l,["Z"]],a=this.parsePath(a),t.fill=t.stroke,r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:a})})}},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});function zS(i,r){var t=hf(i,r),e=[["M",i.x,i.y]];return e.push(t),e}Jr("edge","smooth",{draw:function(i,r){var t=ei(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(zS(e[0],e[1]));return r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var al=1/3;function XS(i,r){var t=[];t.push({x:i.x,y:i.y*(1-al)+r.y*al}),t.push({x:r.x,y:i.y*(1-al)+r.y*al}),t.push(r);var e=[["M",i.x,i.y]];return(0,f.each)(t,function(n){e.push(["L",n.x,n.y])}),e}Jr("edge","vhv",{draw:function(i,r){var t=ei(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(XS(e[0],e[1]));return r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),Jr("interval","funnel",{getPoints:function(i){return i.size=i.size*2,lf(i)},draw:function(i,r){var t=ei(i,!1,!0),e=this.parsePath(lv(i.points,i.nextPoints,!1)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}}),Jr("interval","hollow-rect",{draw:function(i,r){var t=ei(i,!0,!1),e=this.parsePath(uf(i.points)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}});function VS(i){var r=i.x,t=i.y,e=i.y0;return(0,f.isArray)(t)?t.map(function(n,a){return{x:(0,f.isArray)(r)?r[a]:r,y:n}}):[{x:r,y:e},{x:r,y:t}]}Jr("interval","line",{getPoints:function(i){return VS(i)},draw:function(i,r){var t=ei(i,!0,!1,"lineWidth"),e=this.parsePath(uf(i.points,!1)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:r}}}}),Jr("interval","pyramid",{getPoints:function(i){return i.size=i.size*2,lf(i,!0)},draw:function(i,r){var t=ei(i,!1,!0),e=this.parsePath(lv(i.points,i.nextPoints,!0)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function HS(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,f.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s=r+n/2,l=r-n/2;return[{x:r,y:a},{x:r,y:o},{x:l,y:a},{x:s,y:a},{x:l,y:o},{x:s,y:o}]}function WS(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]}Jr("interval","tick",{getPoints:function(i){return HS(i)},draw:function(i,r){var t=ei(i,!0,!1),e=this.parsePath(WS(i.points)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:r}}}});var jS=function(i,r,t){var e=i.x,n=i.y,a=r.x,o=r.y,s;switch(t){case"hv":s=[{x:a,y:n}];break;case"vh":s=[{x:e,y:o}];break;case"hvh":var l=(a+e)/2;s=[{x:l,y:n},{x:l,y:o}];break;case"vhv":var u=(n+o)/2;s=[{x:e,y:u},{x:a,y:u}];break;default:break}return s};function US(i,r){var t=[];return(0,f.each)(i,function(e,n){var a=i[n+1];if(t.push(e),a){var o=jS(e,a,r);t=t.concat(o)}}),t}function ZS(i){return i.map(function(r,t){return t===0?["M",r.x,r.y]:["L",r.x,r.y]})}function KS(i,r){var t=nf(i.points,i.connectNulls,i.showSinglePoint),e=[];return(0,f.each)(t,function(n){var a=US(n,r);e=e.concat(ZS(a))}),(0,H.__assign)((0,H.__assign)({},ei(i,!0,!1,"lineWidth")),{path:e})}(0,f.each)(["hv","vh","hvh","vhv"],function(i){Jr("line",i,{draw:function(r,t){var e=KS(r,i),n=t.addShape({type:"path",attrs:e,name:"line"});return n},getMarker:function(r){return ov(r,i)}})}),(0,f.each)(OS,function(i){Jr("point",i,{draw:function(r,t){return ff(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:yo[i],style:{r:4.5,stroke:t,fill:null}}}})}),Jr("point","image",{draw:function(i,r){var t=ei(i,!1,!1,"r").r,e=this.parsePoints(i.points),n=e[0];if(i.isStack)n=e[1];else if(e.length>1){for(var a=r.addGroup(),o=0,s=e;o<s.length;o++){var l=s[o];a.addShape("image",{attrs:{x:l.x-t/2,y:l.y-t,width:t,height:t,img:i.shape[1]}})}return a}return r.addShape("image",{attrs:{x:n.x-t/2,y:n.y-t,width:t,height:t,img:i.shape[1]}})},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}}),(0,f.each)(fv,function(i){Jr("point",i,{draw:function(r,t){return ff(this,r,t,i,!1)},getMarker:function(r){var t=r.color;return{symbol:yo[i]||i,style:{r:4.5,fill:t}}}})});function hv(i){var r=(0,f.isArray)(i)?i:[i],t=r[0],e=r[r.length-1],n=r.length>1?r[1]:t,a=r.length>3?r[3]:e,o=r.length>2?r[2]:n;return{min:t,max:e,min1:n,max1:a,median:o}}function cv(i,r,t){var e=t/2,n;if((0,f.isArray)(r)){var a=hv(r),o=a.min,s=a.max,l=a.median,u=a.min1,h=a.max1,c=i-e,d=i+e;n=[[c,s],[d,s],[i,s],[i,h],[c,u],[c,h],[d,h],[d,u],[i,u],[i,o],[c,o],[d,o],[c,l],[d,l]]}else{r=(0,f.isNil)(r)?.5:r;var y=hv(i),o=y.min,s=y.max,l=y.median,u=y.min1,h=y.max1,_=r-e,k=r+e;n=[[o,_],[o,k],[o,r],[u,r],[u,_],[u,k],[h,k],[h,_],[h,r],[s,r],[s,_],[s,k],[l,_],[l,k]]}return n.map(function(F){return{x:F[0],y:F[1]}})}function $S(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]}Jr("schema","box",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return cv(r,t,e)},draw:function(i,r){var t=ei(i,!0,!1),e=this.parsePath($S(i.points)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e-6,e-3,e,e+3,e+6],o=cv(t,a,n);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:r}}}});function QS(i){var r=(0,f.isArray)(i)?i:[i],t=r.sort(function(e,n){return n-e});return Hi(t,4,t[t.length-1])}function vv(i,r,t){var e=QS(r);return[{x:i,y:e[0]},{x:i,y:e[1]},{x:i-t/2,y:e[2]},{x:i-t/2,y:e[1]},{x:i+t/2,y:e[1]},{x:i+t/2,y:e[2]},{x:i,y:e[2]},{x:i,y:e[3]}]}function JS(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]}Jr("schema","candle",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return vv(r,t,e)},draw:function(i,r){var t=ei(i,!0,!0),e=this.parsePath(JS(i.points)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e+7.5,e+3,e-3,e-7.5],o=vv(t,a,n);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}});function qS(i,r){var t=Math.abs(i[0].x-i[2].x),e=Math.abs(i[0].y-i[2].y),n=Math.min(t,e);r&&(n=(0,f.clamp)(r,0,Math.min(t,e))),n=n/2;var a=(i[0].x+i[2].x)/2,o=(i[0].y+i[2].y)/2;return{x:a-n,y:o-n,width:n*2,height:n*2}}Jr("polygon","square",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=ei(i,!0,!0),e=this.parsePoints(i.points);return r.addShape("rect",{attrs:(0,H.__assign)((0,H.__assign)({},t),qS(e,i.size)),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var t2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setLabelPosition=function(t,e,n,a){var o=this.getCoordinate(),s=o.isTransposed,l=e.points,u=o.convert(l[0]),h=o.convert(l[2]),c=s?-1:1,d=(u.x-h.x)/2*c,y=(u.y-h.y)/2*c;switch(a){case"right":s||(t.x-=d,t.y+=y),t.textAlign=(0,f.get)(t,"textAlign","left");break;case"left":s?t.x-=d*2:(t.x+=d,t.y+=y),t.textAlign=(0,f.get)(t,"textAlign","right");break;case"bottom":s?(t.x-=d,t.y-=y):t.y+=y*2,t.textAlign=(0,f.get)(t,"textAlign","center"),t.textBaseline=(0,f.get)(t,"textBaseline","top");break;case"middle":s?t.x-=d:t.y+=y,t.textAlign=(0,f.get)(t,"textAlign","center");break;case"top":s&&(t.x-=d,t.y+=y),t.textAlign=(0,f.get)(t,"textAlign","center"),t.textBaseline=(0,f.get)(t,"textBaseline","bottom");break;default:break}},r}(Zs),e2=t2,ol=Math.PI/2,r2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n;if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!e.isTransposed)n="center";else{var a=e.getCenter(),o=this.getDefaultOffset(t.offset);Math.abs(t.x-a.x)<1?n="center":t.angle>Math.PI||t.angle<=0?n=o>0?"left":"right":n=o>0?"right":"left"}return n},r.prototype.getLabelPoint=function(t,e,n){var a=1,o,s=t.content[n];this.isToMiddle(e)?o=this.getMiddlePoint(e.points):(t.content.length===1&&n===0?n=1:n===0&&(a=-1),o=this.getArcPoint(e,n));var l=this.getDefaultOffset(t.offset)*a,u=this.getPointAngle(o),h=t.labelEmit,c=this.getCirclePoint(u,l,o,h);return c.r===0?c.content="":(c.content=s,c.angle=u,c.color=e.color),c.rotate=t.autoRotate?this.getLabelRotate(u,l,h):t.rotate,c.start={x:o.x,y:o.y},c},r.prototype.getArcPoint=function(t,e){return e===void 0&&(e=0),!(0,f.isArray)(t.x)&&!(0,f.isArray)(t.y)?{x:t.x,y:t.y}:{x:(0,f.isArray)(t.x)?t.x[e]:t.x,y:(0,f.isArray)(t.y)?t.y[e]:t.y}},r.prototype.getPointAngle=function(t){return Mt(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,e,n,a){var o=this.getCoordinate(),s=o.getCenter(),l=et(o,n);if(l===0)return(0,H.__assign)((0,H.__assign)({},s),{r:l});var u=t;if(o.isTransposed&&l>e&&!a){var h=Math.asin(e/(2*l));u=t+h*2}else l=l+e;return{x:s.x+l*Math.cos(u),y:s.y+l*Math.sin(u),r:l}},r.prototype.getLabelRotate=function(t,e,n){var a=t+ol;return n&&(a-=ol),a&&(a>ol?a=a-Math.PI:a<-ol&&(a=a+Math.PI)),a},r.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,a={x:0,y:0};return(0,f.each)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=n,a.y/=n,a=e.convert(a),a},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(Zs),dv=r2,n2=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.defaultLayout="distribute",e}return r.prototype.getDefaultLabelCfg=function(){return(0,f.get)(this.geometry.theme,"pieLabels",{})},r.prototype.getDefaultOffset=function(t){return t||0},r.prototype.getLabelRotate=function(t,e,n){var a;return e<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n=e.getCenter(),a;t.angle<=Math.PI/2&&t.x>=n.x?a="left":a="right";var o=this.getDefaultOffset(t.offset);return o<=0&&(a==="right"?a="left":a="right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var e=this.getCoordinate(),n={x:(0,f.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,f.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=Mt(e,n);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=Mt(e,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},r.prototype.getCirclePoint=function(t,e,n){var a=this.getCoordinate(),o=a.getCenter(),s=a.getRadius()+e;return(0,H.__assign)((0,H.__assign)({},dn(o.x,o.y,s,t)),{angle:t,r:s})},r}(dv),i2=n2,pv=4;function a2(i,r,t,e,n,a){var o=!0,s=e.start,l=e.end,u=Math.min(s.y,l.y),h=Math.abs(s.y-l.y),c,d=0,y=Number.MIN_VALUE,_=r.map(function(Tt){return Tt.y>d&&(d=Tt.y),Tt.y<y&&(y=Tt.y),{size:t,targets:[Tt.y-u]}});for(y-=u,d-u>h&&(h=d-u);o;)for(_.forEach(function(Tt){var Yt=(Math.min.apply(y,Tt.targets)+Math.max.apply(y,Tt.targets))/2;Tt.pos=Math.min(Math.max(y,Yt-Tt.size/2),h-Tt.size)}),o=!1,c=_.length;c--;)if(c>0){var k=_[c-1],F=_[c];k.pos+k.size>F.pos&&(k.size+=F.size,k.targets=k.targets.concat(F.targets),k.pos+k.size>h&&(k.pos=h-k.size),_.splice(c,1),o=!0)}c=0,_.forEach(function(Tt){var Yt=u+t/2;Tt.targets.forEach(function(){r[c].y=Tt.pos+Yt,Yt+=t,c++})});for(var Y={},G=0,ut=i;G<ut.length;G++){var ft=ut[G];Y[ft.get("id")]=ft}r.forEach(function(Tt){var Yt=Tt.r*Tt.r,Ut=Math.pow(Math.abs(Tt.y-n.y),2);if(Yt<Ut)Tt.x=n.x;else{var Jt=Math.sqrt(Yt-Ut);a?Tt.x=n.x+Jt:Tt.x=n.x-Jt}var Wt=Y[Tt.id];Wt.attr("x",Tt.x),Wt.attr("y",Tt.y);var ee=(0,f.find)(Wt.getChildren(),function(ue){return ue.get("type")==="text"});ee&&(ee.attr("y",Tt.y),ee.attr("x",Tt.x))})}function o2(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=14,u=o+n,h=u*2+l*2,c={start:a.start,end:a.end},d=[[],[]];i.forEach(function(y){!y||(y.textAlign==="right"?d[0].push(y):d[1].push(y))}),d.forEach(function(y,_){var k=h/l;y.length>k&&(y.sort(function(F,Y){return Y["..percent"]-F["..percent"]}),y.splice(k,y.length-k)),y.sort(function(F,Y){return F.y-Y.y}),a2(r,y,l,c,s,_)})}(0,f.each)(i,function(y){if(y&&y.labelLine){var _=y.offset,k=y.angle,F=dn(s.x,s.y,o,k),Y=dn(s.x,s.y,o+_/2,k),G=y.x+(0,f.get)(y,"offsetX",0),ut=y.y+(0,f.get)(y,"offsetY",0),ft={x:G-Math.cos(k)*pv,y:ut-Math.sin(k)*pv};(0,f.isObject)(y.labelLine)||(y.labelLine={}),y.labelLine.path=["M "+F.x,F.y+" Q"+Y.x,Y.y+" "+ft.x,ft.y].join(",")}})}var gv=4;function s2(i,r,t,e,n,a,o){r.sort(function(Wt,ee){return Wt.y-ee.y});var s=e.start,l=e.end,u=Math.min(s.y,l.y),h=Math.max(s.y,l.y),c,d=r.map(function(Wt){return{content:Wt.content,size:t,pos:Wt.y,targets:[Wt.y]}}),y=Math.max.apply(Math,d.map(function(Wt){return Wt.pos})),_=Math.min.apply(Math,d.map(function(Wt){return Wt.pos}));if(o){for(var k=Math.min(_,h-(d.length-1)*t),F=Math.max(k+d.length*t,y+t),Y=!0;Y;)for(Y=!1,c=d.length;c--;)if(c>0){var G=d[c-1],ut=d[c];G.pos+G.size>ut.pos&&(ut.pos+c*t<F?(G.size+=ut.size,G.targets=G.targets.concat(ut.targets),d.splice(c,1)):G.pos=ut.pos-G.size,Y=!0)}}else for(var F=Math.max(u+(d.length-1)*t,y),k=Math.min(_,F-(d.length-1)*t),Y=!0;Y;)for(Y=!1,c=d.length;c--;)if(c>0){var G=d[c-1],ut=d[c];G.pos+G.size>ut.pos&&(G.pos-k>c*t?G.pos-=G.size:(G.size+=ut.size,G.targets=G.targets.concat(ut.targets),d.splice(c,1)),Y=!0)}c=0,d.forEach(function(Wt){var ee=Wt.pos;Wt.targets.forEach(function(){r[c].y=ee,ee+=t,c++})});for(var ft={},Tt=0,Yt=i;Tt<Yt.length;Tt++){var Ut=Yt[Tt];ft[Ut.get("id")]=Ut}var Jt=(Math.max.apply(Math,r.map(function(Wt){return Wt.y}))-Math.min.apply(Math,r.map(function(Wt){return Wt.y})))/2;Jt=Math.max(Jt,a),r.forEach(function(Wt){var ee=ft[Wt.id],ue=ee.find(function(Ee){return Ee.get("type")==="text"});if(ue&&ue.attr("y")!==Wt.y){var oe=Jt*Jt,we=Math.pow(Math.abs(Wt.y-n.y),2);if(oe<we)Wt.x=n.x;else{var _e=Math.sqrt(oe-we);o?Wt.x=n.x+_e:Wt.x=n.x-_e}}ee.attr("x",Wt.x),ee.attr("y",Wt.y),ue&&(ue.attr("y",Wt.y),ue.attr("x",Wt.x))})}function l2(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=(0,f.get)(i[0],"labelHeight",14),u=o+n,h=u*2+l*2,c={start:a.start,end:a.end},d=[[],[]];i.forEach(function(y){!y||(y.x<s.x?d[0].push(y):d[1].push(y))}),d.forEach(function(y,_){var k=h/l;if(y.length>k){y.sort(function(Y,G){return G["data.percent"]-Y["data.percent"]});var F=y.splice(k,y.length-k+1);F.forEach(function(Y){var G=r.findIndex(function(ut){return ut.get("id")===Y.id});r[G]&&(r[G].remove(!0),r.splice(G,1))})}s2(r,y,l,c,s,u,_===1)})}(0,f.each)(i,function(y){if(y&&y.labelLine){var _=y.angle,k=dn(s.x,s.y,o,_),F=y.x+(0,f.get)(y,"offsetX",0)*(Math.cos(_)>0?1:-1),Y=y.y+(0,f.get)(y,"offsetY",0)*(Math.sin(_)>0?1:-1),G={x:F-Math.cos(_)*gv,y:Y-Math.sin(_)*gv},ut=y.labelLine.smooth,ft=[],Tt=G.x-s.x,Yt=G.y-s.y,Ut=Math.atan(Yt/Tt);if(Tt<0&&(Ut+=Math.PI),ut===!1){(0,f.isObject)(y.labelLine)||(y.labelLine={});var Jt=0;(_<0&&_>-Math.PI/2||_>Math.PI*1.5)&&G.y>k.y&&(Jt=1),_>=0&&_<Math.PI/2&&G.y>k.y&&(Jt=1),_>=Math.PI/2&&_<Math.PI&&k.y>G.y&&(Jt=1),(_<-Math.PI/2||_>=Math.PI&&_<Math.PI*1.5)&&k.y>G.y&&(Jt=1);var Wt=n/2>4?4:Math.max(n/2-1,0),ee=dn(s.x,s.y,o+Wt,_),ue=dn(s.x,s.y,o+n/2,Ut),oe=0;ft.push("M "+k.x+" "+k.y),ft.push("L "+ee.x+" "+ee.y),ft.push("A "+s.x+" "+s.y+" 0 "+oe+" "+Jt+" "+ue.x+" "+ue.y),ft.push("L "+G.x+" "+G.y)}else{var ee=dn(s.x,s.y,o+(n/2>4?4:Math.max(n/2-1,0)),_),we=k.x<s.x?1:-1;ft.push("M "+G.x+" "+G.y);var _e=(k.y-s.y)/(k.x-s.x),Ee=(G.y-s.y)/(G.x-s.x);Math.abs(_e-Ee)>Math.pow(Math.E,-16)&&ft.push.apply(ft,["C",G.x+we*4,G.y,2*ee.x-k.x,2*ee.y-k.y,k.x,k.y]),ft.push("L "+k.x+" "+k.y)}y.labelLine.path=ft.join(" ")}})}function u2(i,r,t,e){(0,f.each)(r,function(n){var a=e.minX,o=e.minY,s=e.maxX,l=e.maxY,u=n.getCanvasBBox(),h=u.minX,c=u.minY,d=u.maxX,y=u.maxY,_=u.x,k=u.y,F=u.width,Y=u.height,G=_,ut=k;(h<a||d<a)&&(G=a),(c<o||y<o)&&(ut=o),h>s?G=s-F:d>s&&(G=G-(d-s)),c>l?ut=l-Y:y>l&&(ut=ut-(y-l)),(G!==_||ut!==k)&&Vu(n,G-_,ut-k)})}function f2(i,r,t,e){(0,f.each)(r,function(n,a){var o=n.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&n.remove(!0)})}var h2=100,yv=function(){function i(r){r===void 0&&(r={}),this.bitmap={};var t=r.xGap,e=t===void 0?1:t,n=r.yGap,a=n===void 0?8:n;this.xGap=e,this.yGap=a}return i.prototype.hasGap=function(r){for(var t=!0,e=this.bitmap,n=Math.round(r.minX),a=Math.round(r.maxX),o=Math.round(r.minY),s=Math.round(r.maxY),l=n;l<=a;l+=1){if(!e[l]){e[l]={};continue}if(l===n||l===a){for(var u=o;u<=s;u++)if(e[l][u]){t=!1;break}}else if(e[l][o]||e[l][s]){t=!1;break}}return t},i.prototype.fillGap=function(r){for(var t=this.bitmap,e=Math.round(r.minX),n=Math.round(r.maxX),a=Math.round(r.minY),o=Math.round(r.maxY),s=e;s<=n;s+=1)t[s]||(t[s]={});for(var s=e;s<=n;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[e][s]=!0,t[n][s]=!0;if(this.xGap!==1)for(var s=e;s<=n;s+=1)t[s][a]=!0,t[s][o]=!0},i.prototype.destroy=function(){this.bitmap={}},i}();function c2(i,r,t){t===void 0&&(t=h2);var e=-1,n=i.attr(),a=n.x,o=n.y,s=i.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),u,h=-e,c=0,d=0,y=function(Y){var G=Y*.1;return[G*Math.cos(G),G*Math.sin(G)]};if(r.hasGap(s))return r.fillGap(s),!0;for(var _=!1,k=0,F={};Math.min(Math.abs(c),Math.abs(d))<l&&k<t;)if(u=y(h+=e),c=~~u[0],d=~~u[1],!(!c&&!d||F[c+"-"+d])&&(i.attr({x:a+c,y:o+d}),c+d<0&&i.attr("textAlign","right"),k++,r.hasGap(i.getCanvasBBox()))){r.fillGap(i.getCanvasBBox()),_=!0,F[c+"-"+d]=!0;break}return _}function v2(i,r,t,e){var n=i.getCanvasBBox(),a=n.width,o=n.height,s={x:r,y:t,textAlign:"center"};switch(e){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return i.attr(s),i.getCanvasBBox()}function d2(i,r,t,e){var n=new yv;(0,f.each)(r,function(a){var o=a.find(function(s){return s.get("type")==="text"});c2(o,n)||a.remove(!0)}),n.destroy()}function p2(i,r,t,e){var n=new yv;(0,f.each)(r,function(a){for(var o=a.find(function(y){return y.get("type")==="text"}),s=o.attr(),l=s.x,u=s.y,h=!1,c=0;c<=8;c++){var d=v2(o,l,u,c);if(n.hasGap(d)){n.fillGap(d),h=!0;break}}h||a.remove(!0)}),n.destroy()}function g2(i,r,t){var e={fillOpacity:(0,f.isNil)(i.attr("fillOpacity"))?1:i.attr("fillOpacity"),strokeOpacity:(0,f.isNil)(i.attr("strokeOpacity"))?1:i.attr("strokeOpacity"),opacity:(0,f.isNil)(i.attr("opacity"))?1:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),i.animate(e,r)}function y2(i,r,t){var e={fillOpacity:0,strokeOpacity:0,opacity:0},n=r.easing,a=r.duration,o=r.delay;i.animate(e,a,n,function(){i.remove(!0)},o)}function m2(i,r,t){var e,n=r[0],a=r[1];return i.applyToMatrix([n,a,1]),t==="x"?(i.setMatrix(vn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,1],["t",n,a]])),e=vn.transform(i.getMatrix(),[["t",-n,-a],["s",100,1],["t",n,a]])):t==="y"?(i.setMatrix(vn.transform(i.getMatrix(),[["t",-n,-a],["s",1,.01],["t",n,a]])),e=vn.transform(i.getMatrix(),[["t",-n,-a],["s",1,100],["t",n,a]])):t==="xy"&&(i.setMatrix(vn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])),e=vn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])),e}function vf(i,r,t,e,n){var a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),u,h;n==="y"?(u=a.x+s/2,h=e.y<a.y?e.y:a.y):n==="x"?(u=e.x>a.x?e.x:a.x,h=a.y+l/2):n==="xy"&&(t.isPolar?(u=t.getCenter().x,h=t.getCenter().y):(u=(a.x+o.x)/2,h=(a.y+o.y)/2));var c=m2(i,[u,h],n);i.animate({matrix:c},r)}function x2(i,r,t){var e=t.coordinate,n=t.minYPoint;vf(i,r,e,n,"x")}function b2(i,r,t){var e=t.coordinate,n=t.minYPoint;vf(i,r,e,n,"y")}function w2(i,r,t){var e=t.coordinate,n=t.minYPoint;vf(i,r,e,n,"xy")}function S2(i,r,t){var e=i.getTotalLength();i.attr("lineDash",[e]),i.animate(function(n){return{lineDashOffset:(1-n)*e}},r)}function C2(i,r,t){var e=t.toAttrs,n=e.x,a=e.y;delete e.x,delete e.y,i.attr(e),i.animate({x:n,y:a},r)}function M2(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=n.points,o=a[0].y-a[1].y>0?e.maxX:e.minX,s=(e.minY+e.maxY)/2;i.applyToMatrix([o,s,1]);var l=vn.transform(i.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);i.setMatrix(l),i.animate({matrix:vn.transform(i.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},r)}function E2(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=(e.minX+e.maxX)/2,o=n.points,s=o[0].y-o[1].y<=0?e.maxY:e.minY;i.applyToMatrix([a,s,1]);var l=vn.transform(i.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);i.setMatrix(l),i.animate({matrix:vn.transform(i.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},r)}var A2=v(84909);function mv(i,r){var t,e=(0,A2.Z)(i,r),n=e.startAngle,a=e.endAngle;return!(0,f.isNumberEqual)(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),!(0,f.isNumberEqual)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),r[5]===0&&(t=[a,n],n=t[0],a=t[1]),(0,f.isNumberEqual)(n,Math.PI*1.5)&&(n=Math.PI*-.5),(0,f.isNumberEqual)(a,Math.PI*-.5)&&(a=Math.PI*1.5),{startAngle:n,endAngle:a}}function xv(i){var r;return i[0]==="M"||i[0]==="L"?r=[i[1],i[2]]:(i[0]==="a"||i[0]==="A")&&(r=[i[i.length-2],i[i.length-1]]),r}function bv(i){var r,t,e,n=i.filter(function(ut){return ut[0]==="A"||ut[0]==="a"}),a=n[0],o=n.length>1?n[1]:n[0],s=i.indexOf(a),l=i.indexOf(o),u=xv(i[s-1]),h=xv(i[l-1]),c=mv(u,a),d=c.startAngle,y=c.endAngle,_=mv(h,o),k=_.startAngle,F=_.endAngle;(0,f.isNumberEqual)(d,k)&&(0,f.isNumberEqual)(y,F)?(t=d,e=y):(t=Math.min(d,k),e=Math.max(y,F));var Y=a[1],G=n[n.length-1][1];return Y<G?(r=[G,Y],Y=r[0],G=r[1]):Y===G&&(G=0),{startAngle:t,endAngle:e,radius:Y,innerRadius:G}}function _2(i,r,t){var e=t.toAttrs,n=t.coordinate,a=e.path,o=a.map(function(G){return G[0]}),s=bv(a),l=s.startAngle,u=s.endAngle,h=s.radius,c=s.innerRadius,d=bv(i.attr("path")),y=d.startAngle,_=d.endAngle,k=n.getCenter(),F=l-y,Y=u-_;i.animate(function(G){var ut=y+G*F,ft=_+G*Y;return(0,H.__assign)((0,H.__assign)({},e),{path:(0,f.isEqual)(o,["M","A","A","Z"])?Di(k.x,k.y,h,ut,ft):oi(k.x,k.y,h,ut,ft,c)})},(0,H.__assign)((0,H.__assign)({},r),{callback:function(){i.attr("path",a)}}))}function T2(i,r,t){var e=Bt(t.coordinate,20),n=e.type,a=e.startState,o=e.endState,s=i.setClip({type:n,attrs:a});s.animate(o,(0,H.__assign)((0,H.__assign)({},r),{callback:function(){i&&!i.get("destroyed")&&i.set("clipShape",null),s.remove(!0)}}))}function df(i,r,t){if(i.isGroup())(0,f.each)(i.getChildren(),function(s){df(s,r,t)});else{var e=i.getBBox(),n=(e.minX+e.maxX)/2,a=(e.minY+e.maxY)/2;if(i.applyToMatrix([n,a,1]),t==="zoomIn"){var o=vn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);i.setMatrix(o),i.animate({matrix:vn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},r)}else i.animate({matrix:vn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},(0,H.__assign)((0,H.__assign)({},r),{callback:function(){i.remove(!0)}}))}}function P2(i,r,t){df(i,r,"zoomIn")}function L2(i,r,t){df(i,r,"zoomOut")}function Na(i){return[St.TOP,St.BOTTOM].includes(i)?{offsetX:0,offsetY:i===St.TOP?-8:8,style:{textAlign:"center",textBaseline:i===St.TOP?"bottom":"top"}}:[St.LEFT,St.RIGHT].includes(i)?{offsetX:i===St.LEFT?-8:8,offsetY:0,style:{textAlign:i===St.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function pf(i,r,t){return{x:i.x+r*Math.cos(t),y:i.y+r*Math.sin(t)}}var O2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,e){var n=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*e,l=n/(1+1/Math.sin(o/2)),u=pf(a,n-l,s),h=Math.PI*5/4,c=Math.PI*1/4;return{start:pf(u,l,h),end:pf(u,l,c)}},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg,a=n.fields,o=n.type,s=a[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),u=l.length,h=[];return l.forEach(function(c,d){var y=[{field:s,value:c,values:l}],_=(0,f.filter)(t,e.getFacetDataFilter(y)),k={type:o,data:_,region:e.getRegion(u,d),columnValue:c,columnField:s,columnIndex:d,columnValuesLength:u,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(k)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},Na(St.TOP),t.cfg.title);a.annotation().text(s)})},r}(_n),I2=O2,k2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=this.cfg.cols,o=n[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),l=s.length;a=a||l;var u=this.getPageCount(l,a),h=[];return s.forEach(function(c,d){var y=e.getRowCol(d,a),_=y.row,k=y.col,F=[{field:o,value:c,values:s}],Y=(0,f.filter)(t,e.getFacetDataFilter(F)),G={type:e.cfg.type,data:Y,region:e.getRegion(u,a,k,_),columnValue:c,rowValue:c,columnField:o,rowField:null,columnIndex:k,rowIndex:_,columnValuesLength:a,rowValuesLength:u,total:l};h.push(G)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,H.__assign)((0,H.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},Na(St.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},r.prototype.getRowCol=function(t,e){var n=Math.floor(t/e),a=t%e;return{row:n,col:a}},r}(_n),B2=k2,D2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,H.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,H.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,a=e.type,o=n.length,s=o,l=[],u=0;u<s;u++)for(var h=n[u],c=0;c<o;c++){var d=n[c],y={type:a,data:t,region:this.getRegion(o,s,u,c),columnValue:h,rowValue:d,columnField:h,rowField:d,columnIndex:u,rowIndex:c,columnValuesLength:s,rowValuesLength:o};l.push(y)}return l},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,H.__assign)((0,H.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.rowValuesLength,u=e.columnValue,h=e.rowValue,c=e.view;if(o===0){var d=(0,f.get)(t.cfg.columnTitle,"formatter"),y=(0,f.deepMix)({position:["50%","0%"],content:d?d(u):u},Na(St.TOP),t.cfg.columnTitle);c.annotation().text(y)}if(a===s-1){var d=(0,f.get)(t.cfg.rowTitle,"formatter"),y=(0,f.deepMix)({position:["100%","50%"],content:d?d(h):h},Na(St.RIGHT),t.cfg.rowTitle);c.annotation().text(y)}})},r}(_n),F2=D2,R2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields[0],a=[],o=1,s=1,l=[""],u=[""],h,c;return this.cfg.transpose?(h=n,l=this.getFieldValues(t,h).slice(0,2),o=l.length):(c=n,u=this.getFieldValues(t,c).slice(0,2),s=u.length),l.forEach(function(d,y){u.forEach(function(_,k){var F=[{field:h,value:d,values:l},{field:c,value:_,values:u}],Y=(0,f.filter)(t,e.getFacetDataFilter(F)),G={type:e.cfg.type,data:Y,region:e.getRegion(s,o,y,k),columnValue:d,rowValue:_,columnField:h,rowField:c,columnIndex:y,rowIndex:k,columnValuesLength:o,rowValuesLength:s};a.push(G)})}),a},r.prototype.getXAxisOption=function(t,e,n,a){return a.columnIndex===1||a.rowIndex===1?(0,H.__assign)((0,H.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnValue,o=e.rowValue,s=e.view,l=(0,f.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var u=(0,f.deepMix)({position:["50%","0%"],content:l?l(a):a},Na(St.TOP),t.cfg.title);s.annotation().text(u)}else{var u=(0,f.deepMix)({position:["100%","50%"],content:l?l(o):o},Na(St.RIGHT),t.cfg.title);s.annotation().text(u)}})},r}(_n),N2=R2,G2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,H.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,H.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=n[0],o=n[1],s=[],l=1,u=1,h=[""],c=[""];return a&&(h=this.getFieldValues(t,a),l=h.length),o&&(c=this.getFieldValues(t,o),u=c.length),h.forEach(function(d,y){c.forEach(function(_,k){var F=[{field:a,value:d,values:h},{field:o,value:_,values:c}],Y=(0,f.filter)(t,e.getFacetDataFilter(F)),G={type:e.cfg.type,data:Y,region:e.getRegion(u,l,y,k),columnValue:d,rowValue:_,columnField:a,rowField:o,columnIndex:y,rowIndex:k,columnValuesLength:l,rowValuesLength:u};s.push(G)})}),s},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.columnValue,u=e.rowValue,h=e.view;if(o===0){var c=(0,f.get)(t.cfg.columnTitle,"formatter"),d=(0,f.deepMix)({position:["50%","0%"],content:c?c(l):l},Na(St.TOP),t.cfg.columnTitle);h.annotation().text(d)}if(a===s-1){var c=(0,f.get)(t.cfg.rowTitle,"formatter"),d=(0,f.deepMix)({position:["100%","50%"],content:c?c(u):u},Na(St.RIGHT),t.cfg.rowTitle);h.annotation().text(d)}})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,H.__assign)((0,H.__assign)({},n),{title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,H.__assign)((0,H.__assign)({},n),{title:null}):n},r}(_n),Y2=G2,z2=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.init=function(){i.prototype.init.call(this),this.view.on(wt.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){var e=this.cfg.fields;if(!e.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},r.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(n){n.region=e.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},r.prototype.getRegion=function(t,e,n,a){var o=1/e,s=1/t,l={x:o*n,y:s*a},u={x:l.x+o,y:l.y+s*2/3};return{start:l,end:u}},r.prototype.forceColIndex=function(t){var e=this,n=[],a=0;t.forEach(function(d){e.isLeaf(d)&&(n.push(d),d.columnIndex=a,a++)}),n.forEach(function(d){d.columnValuesLength=n.length});for(var o=this.cfg.fields.length,s=o-1;s>=0;s--)for(var l=this.getFacetsByLevel(t,s),u=0,h=l;u<h.length;u++){var c=h[u];this.isLeaf(c)||(c.originColIndex=c.columnIndex,c.columnIndex=this.getRegionIndex(c.children),c.columnValuesLength=n.length)}},r.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(a){a.rowIndex===e&&n.push(a)}),n},r.prototype.getRegionIndex=function(t){var e=t[0],n=t[t.length-1];return(n.columnIndex-e.columnIndex)/2+e.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,e,n){var a=this,o=this.cfg.fields,s=o.length;if(!(s<e)){var l=[],u=o[e-1],h=this.getFieldValues(t,u);return h.forEach(function(c,d){var y=[{field:u,value:c,values:h}],_=t.filter(a.getFacetDataFilter(y));if(_.length){var k={type:a.cfg.type,data:_,region:null,columnValue:c,rowValue:"",columnField:u,rowField:"",columnIndex:d,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:e,children:a.getChildFacets(_,e+1,n)};l.push(k),n.push(k)}}),l}},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},Na(St.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.drawLines=function(t){var e=this;t.forEach(function(n){if(!e.isLeaf(n)){var a=n.children;e.addFacetLines(n,a)}})},r.prototype.addFacetLines=function(t,e){var n=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};e.forEach(function(l){var u=l.view.coordinateBBox,h={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},c={x:s.x,y:s.y+(h.y-s.y)/2},d={x:h.x,y:c.y};n.drawLine([s,c,d,h])})},r.prototype.getPath=function(t){var e=[],n=this.cfg.line.smooth;return n?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?e.push(["M",a.x,a.y]):e.push(["L",a.x,a.y])}),e},r.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,f.assign)({path:e},n)})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.originColIndex!==0&&a.columnIndex!==0?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):n},r}(_n),X2=z2,V2=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(yt.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(yt.BG).addGroup(),e.option=[],e}return Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){var t=this,e=this.getComponents(),n=function(o){var s=o.component,l=o.extra,u=l.type,h=t.getAnnotationTheme(u);s.update(t.getAnnotationCfg(u,l,h))},a=function(o){var s=t.createAnnotation(o);s&&(s.component.init(),o.type==="regionFilter"&&s.component.render(),t.cache.set(o,s))};e.length?(0,f.each)(e,function(o){var s=o.component;s.get("type")==="regionFilter"?t.view.getRootView().once(wt.AFTER_RENDER,function(){n(o)}):n(o)}):(0,f.each)(this.option,function(o){o.type==="regionFilter"?t.view.getRootView().once(wt.AFTER_RENDER,function(){a(o)}):a(o)})},r.prototype.render=function(){},r.prototype.update=function(){var t=this,e=new WeakMap,n=function(a){var o=a.type,s=t.getAnnotationTheme(o),l=t.getAnnotationCfg(o,a,s),u=t.cache.get(a);if(u)Nt(l,["container"]),u.component.update(l),e.set(a,!0);else{var h=t.createAnnotation(a);h&&(h.component.init(),a.type==="regionFilter"&&h.component.render(),t.cache.set(a,h),e.set(a,!0))}};this.view.once(wt.AFTER_RENDER,function(){(0,f.each)(t.option,function(o){o.type==="regionFilter"&&n(o)});var a=new Map;t.cache.forEach(function(o,s){e.has(s)?a.set(s,o):o.component.destroy()}),t.cache=a}),(0,f.each)(this.option,function(a){a.type!=="regionFilter"&&n(a)})},r.prototype.clear=function(t){t===void 0&&(t=!1),i.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.createAnnotation=function(t){var e=t.type,n=qt.Annotation[(0,f.upperFirst)(e)];if(n){var a=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,a),s=new n(o);return{component:s,layer:this.isTop(o)?yt.FORE:yt.BG,direction:St.NONE,type:at.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,H.__assign)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,H.__assign)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,H.__assign)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,H.__assign)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,H.__assign)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,H.__assign)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,H.__assign)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,H.__assign)({type:"regionFilter"},t))},r.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),a=(0,f.isFunction)(t)?t.call(null,e,n):t,o=0,s=0;if((0,f.isArray)(a)){var l=a[0],u=a[1];if((0,f.isString)(l)&&l.indexOf("%")!==-1&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(a);o=this.getNormalizedValue(l,e),s=this.getNormalizedValue(u,Object.values(n)[0])}else if(!(0,f.isNil)(a))for(var h=0,c=(0,f.keys)(a);h<c.length;h++){var d=c[h],y=a[d];d===e.field&&(o=this.getNormalizedValue(y,e)),n[d]&&(s=this.getNormalizedValue(y,n[d]))}return this.view.getCoordinate().convert({x:o,y:s})},r.prototype.getRegionPoints=function(t,e){var n=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,u=this.view.getData(),h=(0,f.isArray)(t)?t[0]:t[l],c=(0,f.isArray)(e)?e[0]:e[l],d=[],y;return(0,f.each)(u,function(_,k){if(_[l]===h&&(y=k),k>=y){var F=n.parsePosition([_[l],_[s.field]]);F&&d.push(F)}if(_[l]===c)return!1}),d},r.prototype.getNormalizedValue=function(t,e){var n,a;switch(t){case"start":n=0;break;case"end":n=1;break;case"median":{a=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(a);break}case"min":case"max":e.isCategory?a=t==="min"?0:e.values.length-1:a=e[t],n=e.scale(a);break;default:n=e.scale(t)}return n},r.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},u=a.getWidth()*e+l.x,h=a.getHeight()*n+l.y;return{x:u,y:h}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},r.prototype.getAnnotationCfg=function(t,e,n){var a=this.view.getCoordinate(),o={};if((0,f.isNil)(e))return null;if(t==="arc"){var s=e,l=s.start,u=s.end,h=this.parsePosition(l),c=this.parsePosition(u),d=Mt(a,h),y=Mt(a,c);d>y&&(y=Math.PI*2+y),o={center:a.getCenter(),radius:et(a,h),startAngle:d,endAngle:y}}else if(t==="image"){var _=e,l=_.start,u=_.end;o={start:this.parsePosition(l),end:this.parsePosition(u),src:e.src}}else if(t==="line"){var k=e,l=k.start,u=k.end;o={start:this.parsePosition(l),end:this.parsePosition(u),text:(0,f.get)(e,"text",null)}}else if(t==="region"){var F=e,l=F.start,u=F.end;o={start:this.parsePosition(l),end:this.parsePosition(u)}}else if(t==="text"){var Y=this.view.getData(),G=e,ut=G.position,ft=G.content,Tt=(0,H.__rest)(G,["position","content"]),Yt=ft;(0,f.isFunction)(ft)&&(Yt=ft(Y)),o=(0,H.__assign)((0,H.__assign)((0,H.__assign)({},this.parsePosition(ut)),Tt),{content:Yt})}else if(t==="dataMarker"){var Ut=e,ut=Ut.position,Jt=Ut.point,Wt=Ut.line,ee=Ut.text,ue=Ut.autoAdjust,oe=Ut.direction;o=(0,H.__assign)((0,H.__assign)({},this.parsePosition(ut)),{coordinateBBox:this.getCoordinateBBox(),point:Jt,line:Wt,text:ee,autoAdjust:ue,direction:oe})}else if(t==="dataRegion"){var we=e,l=we.start,u=we.end,_e=we.region,ee=we.text,Ee=we.lineLength;o={points:this.getRegionPoints(l,u),region:_e,text:ee,lineLength:Ee}}else if(t==="regionFilter"){var Re=e,l=Re.start,u=Re.end,Ye=Re.apply,Xe=Re.color,De=this.view.geometries,Fe=[],er=function(nr){!nr||(nr.isGroup()?nr.getChildren().forEach(function(yr){return er(yr)}):Fe.push(nr))};(0,f.each)(De,function(nr){Ye?(0,f.contains)(Ye,nr.type)&&(0,f.each)(nr.elements,function(yr){er(yr.shape)}):(0,f.each)(nr.elements,function(yr){er(yr.shape)})}),o={color:Xe,shapes:Fe,start:this.parsePosition(l),end:this.parsePosition(u)}}var tr=(0,f.deepMix)({},n,(0,H.__assign)((0,H.__assign)({},o),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return tr.container=this.getComponentContainer(tr),tr.animate=this.view.getOptions().animate&&tr.animate&&(0,f.get)(e,"animate",tr.animate),tr.animateOption=(0,f.deepMix)({},Do,tr.animateOption,e.animateOption),tr},r.prototype.isTop=function(t){return(0,f.get)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,f.get)(this.view.getTheme(),["components","annotation",t],{})},r}(Bo),H2=V2;function wv(i,r){return(0,f.get)(i,["components","axis",r,"grid"],{})}function sl(i,r,t,e){var n=[],a=r.getTicks();return i.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var u=s.value;if(e)n.push({points:[i.convert(t==="y"?{x:0,y:u}:{x:u,y:0}),i.convert(t==="y"?{x:1,y:u}:{x:u,y:1})]});else if(l){var h=o.value,c=(h+u)/2;n.push({points:[i.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),i.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]})}return s},a[0]),n}function gf(i,r,t,e,n){var a=r.values.length,o=[],s=t.getTicks();return s.reduce(function(l,u){var h=l?l.value:u.value,c=u.value,d=(h+c)/2;return n==="x"?o.push({points:[i.convert({x:e?c:d,y:0}),i.convert({x:e?c:d,y:1})]}):o.push({points:(0,f.map)(Array(a+1),function(y,_){return i.convert({x:_/a,y:e?c:d})})}),u},s[0]),o}function Sv(i,r){var t=(0,f.get)(r,"grid");if(t===null)return!1;var e=(0,f.get)(i,"grid");return!(t===void 0&&e===null)}var Ja=["container"],Cv=(0,H.__assign)((0,H.__assign)({},Do),{appear:null}),W2=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(yt.BG).addGroup(),e.axisContainer=e.view.getLayer(yt.BG).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,f.each)(this.getComponents(),function(n){var a=n.component,o=n.direction,s=n.type,l=n.extra,u=l.dim,h=l.scale,c=l.alignTick,d;if(s===at.AXIS)e.isPolar?u==="x"?d=e.isTransposed?Ze(e,o):Yr(e):u==="y"&&(d=e.isTransposed?Yr(e):Ze(e,o)):d=Ze(e,o);else if(s===at.GRID)if(e.isPolar){var y=void 0;e.isTransposed?y=u==="x"?gf(e,t.view.getYScales()[0],h,c,u):sl(e,h,u,c):y=u==="x"?sl(e,h,u,c):gf(e,t.view.getXScale(),h,c,u),d={items:y,center:t.view.getCoordinate().getCenter()}}else d={items:sl(e,h,u,c)};a.update(d)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach(function(n,a){t.has(a)?e.set(a,n):n.component.destroy()}),this.cache=e},r.prototype.clear=function(){i.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(!(!e||e.isIdentity)){var n=Or(this.option,e.field);if(n!==!1){var a=fn(n,St.BOTTOM),o=yt.BG,s="x",l=this.view.getCoordinate(),u=this.getId("axis",e.field),h=this.getId("grid",e.field);if(l.isRect){var c=this.cache.get(u);if(c){var d=this.getLineAxisCfg(e,n,a);Nt(d,Ja),c.component.update(d),t.set(u,c)}else c=this.createLineAxis(e,n,o,a,s),this.cache.set(u,c),t.set(u,c);var y=this.cache.get(h);if(y){var d=this.getLineGridCfg(e,n,a,s);Nt(d,Ja),y.component.update(d),t.set(h,y)}else y=this.createLineGrid(e,n,o,a,s),y&&(this.cache.set(h,y),t.set(h,y))}else if(l.isPolar){var c=this.cache.get(u);if(c){var d=l.isTransposed?this.getLineAxisCfg(e,n,St.RADIUS):this.getCircleAxisCfg(e,n,a);Nt(d,Ja),c.component.update(d),t.set(u,c)}else{if(l.isTransposed){if((0,f.isUndefined)(n))return;c=this.createLineAxis(e,n,o,St.RADIUS,s)}else c=this.createCircleAxis(e,n,o,a,s);this.cache.set(u,c),t.set(u,c)}var y=this.cache.get(h);if(y){var d=l.isTransposed?this.getCircleGridCfg(e,n,St.RADIUS,s):this.getLineGridCfg(e,n,St.CIRCLE,s);Nt(d,Ja),y.component.update(d),t.set(h,y)}else{if(l.isTransposed){if((0,f.isUndefined)(n))return;y=this.createCircleGrid(e,n,o,St.RADIUS,s)}else y=this.createLineGrid(e,n,o,St.CIRCLE,s);y&&(this.cache.set(h,y),t.set(h,y))}}}}},r.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,f.each)(n,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=Or(e.option,s);if(l!==!1){var u=yt.BG,h="y",c=e.getId("axis",s),d=e.getId("grid",s),y=e.view.getCoordinate();if(y.isRect){var _=fn(l,o===0?St.LEFT:St.RIGHT),k=e.cache.get(c);if(k){var F=e.getLineAxisCfg(a,l,_);Nt(F,Ja),k.component.update(F),t.set(c,k)}else k=e.createLineAxis(a,l,u,_,h),e.cache.set(c,k),t.set(c,k);var Y=e.cache.get(d);if(Y){var F=e.getLineGridCfg(a,l,_,h);Nt(F,Ja),Y.component.update(F),t.set(d,Y)}else Y=e.createLineGrid(a,l,u,_,h),Y&&(e.cache.set(d,Y),t.set(d,Y))}else if(y.isPolar){var k=e.cache.get(c);if(k){var F=y.isTransposed?e.getCircleAxisCfg(a,l,St.CIRCLE):e.getLineAxisCfg(a,l,St.RADIUS);Nt(F,Ja),k.component.update(F),t.set(c,k)}else{if(y.isTransposed){if((0,f.isUndefined)(l))return;k=e.createCircleAxis(a,l,u,St.CIRCLE,h)}else k=e.createLineAxis(a,l,u,St.RADIUS,h);e.cache.set(c,k),t.set(c,k)}var Y=e.cache.get(d);if(Y){var F=y.isTransposed?e.getLineGridCfg(a,l,St.CIRCLE,h):e.getCircleGridCfg(a,l,St.RADIUS,h);Nt(F,Ja),Y.component.update(F),t.set(d,Y)}else{if(y.isTransposed){if((0,f.isUndefined)(l))return;Y=e.createLineGrid(a,l,u,St.CIRCLE,h)}else Y=e.createCircleGrid(a,l,u,St.RADIUS,h);Y&&(e.cache.set(d,Y),t.set(d,Y))}}}}})},r.prototype.createLineAxis=function(t,e,n,a,o){var s={component:new ae(this.getLineAxisCfg(t,e,a)),layer:n,direction:a===St.RADIUS?St.NONE:a,type:at.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createLineGrid=function(t,e,n,a,o){var s=this.getLineGridCfg(t,e,a,o);if(s){var l={component:new ge(s),layer:n,direction:St.NONE,type:at.GRID,extra:{dim:o,scale:t,alignTick:(0,f.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.createCircleAxis=function(t,e,n,a,o){var s={component:new se(this.getCircleAxisCfg(t,e,a)),layer:n,direction:a,type:at.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createCircleGrid=function(t,e,n,a,o){var s=this.getCircleGridCfg(t,e,a,o);if(s){var l={component:new Ce(s),layer:n,direction:St.NONE,type:at.GRID,extra:{dim:o,scale:t,alignTick:(0,f.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.getLineAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=Ze(o,n),l=Rn(t,e),u=cr(this.view.getTheme(),n),h=(0,f.get)(e,["title"])?(0,f.deepMix)({title:{style:{text:l}}},e):e,c=(0,f.deepMix)((0,H.__assign)((0,H.__assign)({container:a},s),{ticks:t.getTicks().map(function(ut){return{id:""+ut.tickValue,name:ut.text,value:ut.value}}),verticalFactor:o.isPolar?dr(s,o.getCenter())*-1:dr(s,o.getCenter())}),u,h),d=this.getAnimateCfg(c),y=d.animate,_=d.animateOption;c.animateOption=_,c.animate=y;var k=Lr(s),F=(0,f.get)(c,"verticalLimitLength",k?1/3:1/2);if(F<=1){var Y=this.view.getCanvas().get("width"),G=this.view.getCanvas().get("height");c.verticalLimitLength=F*(k?Y:G)}return c},r.prototype.getLineGridCfg=function(t,e,n,a){if(!!Sv(cr(this.view.getTheme(),n),e)){var o=wv(this.view.getTheme(),n),s=(0,f.deepMix)({container:this.gridContainer},o,(0,f.get)(e,"grid"),this.getAnimateCfg(e));return s.items=sl(this.view.getCoordinate(),t,a,(0,f.get)(s,"alignTick",!0)),s}},r.prototype.getCircleAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(k){return{id:""+k.tickValue,name:k.text,value:k.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var l=Rn(t,e),u=cr(this.view.getTheme(),St.CIRCLE),h=(0,f.get)(e,["title"])?(0,f.deepMix)({title:{style:{text:l}}},e):e,c=(0,f.deepMix)((0,H.__assign)((0,H.__assign)({container:a},Yr(this.view.getCoordinate())),{ticks:s,verticalFactor:1}),u,h),d=this.getAnimateCfg(c),y=d.animate,_=d.animateOption;return c.animate=y,c.animateOption=_,c},r.prototype.getCircleGridCfg=function(t,e,n,a){if(!!Sv(cr(this.view.getTheme(),n),e)){var o=wv(this.view.getTheme(),St.RADIUS),s=(0,f.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,f.get)(e,"grid"),this.getAnimateCfg(e)),l=(0,f.get)(s,"alignTick",!0),u=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=gf(this.view.getCoordinate(),u,t,l,a),s}},r.prototype.getId=function(t,e){var n=this.view.getCoordinate();return t+"-"+e+"-"+n.type},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,f.get)(t,"animate"),animateOption:t&&t.animateOption?(0,f.deepMix)({},Cv,t.animateOption):Cv}},r}(Bo),j2=W2;function ll(i,r,t){return t===St.TOP?[i.minX+i.width/2-r.width/2,i.minY]:t===St.BOTTOM?[i.minX+i.width/2-r.width/2,i.maxY-r.height]:t===St.LEFT?[i.minX,i.minY+i.height/2-r.height/2]:t===St.RIGHT?[i.maxX-r.width,i.minY+i.height/2-r.height/2]:t===St.TOP_LEFT||t===St.LEFT_TOP?[i.tl.x,i.tl.y]:t===St.TOP_RIGHT||t===St.RIGHT_TOP?[i.tr.x-r.width,i.tr.y]:t===St.BOTTOM_LEFT||t===St.LEFT_BOTTOM?[i.bl.x,i.bl.y-r.height]:t===St.BOTTOM_RIGHT||t===St.RIGHT_BOTTOM?[i.br.x-r.width,i.br.y-r.height]:[0,0]}function U2(i,r){if(r.isTransposed)switch(i){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return i}function Mv(i){return i===DIRECTION.LEFT?DIRECTION.RIGHT:i===DIRECTION.RIGHT?DIRECTION.LEFT:i}function Ev(i){return i===DIRECTION.TOP?DIRECTION.BOTTOM:i===DIRECTION.BOTTOM?DIRECTION.TOP:i}function Z2(i,r){var t=r.matrix[0],e=r.matrix[4],n=i;return t<0&&(n=Mv(n)),e<0&&(n=Ev(n)),n}function K2(i,r){var t=i;return r.isReflect("x")&&(t=Mv(t)),r.isReflect("y")&&(t=Ev(t)),t}function CG(i,r){var t=i;return t=U2(t,r),t=Z2(t,r),t=K2(t,r),t}function Av(i,r,t){if(!i)return t;var e;if(i.callback&&i.callback.length>1){var n=Array(i.callback.length-1).fill("");e=i.mapping.apply(i,(0,H.__spreadArrays)([r],n)).join("")}else e=i.mapping(r).join("");return e||t}function _v(i){var r=i.symbol;(0,f.isString)(r)&&yo[r]&&(i.symbol=yo[r])}function yf(i){return i.startsWith(St.LEFT)||i.startsWith(St.RIGHT)?"vertical":"horizontal"}function $2(i,r,t,e,n){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=r.getAttribute("color"),l=r.getAttribute("shape"),u=i.getTheme().defaultColor,h=r.coordinate.isPolar;return a.getTicks().map(function(c){var d,y=c.text,_=c.value,k=y,F=a.invert(_),Y=i.filterFieldData(o,[(d={},d[o]=F,d)]).length===0,G=Av(s,F,u),ut=Av(l,F,"point"),ft=r.getShapeMarker(ut,{color:G,isInPolar:h});return ft=(0,f.deepMix)({},e,ft,n),_v(ft),{id:F,name:k,value:F,marker:ft,unchecked:Y}})}return[]}function Q2(i,r,t){return t.map(function(e){var n=(0,f.deepMix)({},i,r,e.marker);return _v(n),e.marker=n,e})}function Tv(i,r){return(0,f.isBoolean)(i)?i===!1?!1:{}:(0,f.get)(i,[r],i)}function ps(i){return(0,f.get)(i,"position",St.BOTTOM)}var J2=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.container=e.view.getLayer(yt.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){var t=this;this.option=this.view.getOptions().legends;var e=function(s,l,u){var h=t.createFieldLegend(s,l,u);h&&(h.component.init(),t.components.push(h))};if((0,f.get)(this.option,"custom")){var n=this.createCustomLegend(void 0,void 0,void 0,this.option);if(n){n.init();var a=yt.FORE,o=ps(this.option);this.components.push({id:"global-custom",component:n,layer:a,direction:o,type:at.LEGEND,extra:void 0})}}else this.loopLegends(e)},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox;var e=(0,f.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);(0,f.each)(this.components,function(n){var a=n.component,o=n.direction,s=yf(o),l=t.getCategoryLegendSizeCfg(s),u=a.get("maxWidth"),h=a.get("maxHeight");a.update({maxWidth:Math.min(l.maxWidth,u||0),maxHeight:Math.min(l.maxHeight,h||0)});var c=a.getLayoutBBox(),d=new ur(c.x,c.y,c.width,c.height),y=ll(t.view.viewBBox,d,o),_=y[0],k=y[1],F=ll(t.layoutBBox,d,o),Y=F[0],G=F[1],ut=0,ft=0;o.startsWith("top")||o.startsWith("bottom")?(ut=_,ft=G):(ut=Y,ft=k),o.indexOf("left")>=0&&(ut+=e[3]),o.indexOf("right")>=0&&(ut-=e[1]),o.indexOf("top")>=0&&(ft+=e[0]),o.indexOf("bottom")>=0&&(ft-=e[2]),a.update({x:ut,y:ft}),t.layoutBBox=t.layoutBBox.cut(d,o)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={},n=function(d,y,_){var k=t.getId(_.field),F=t.getComponentById(k);if(F){var Y=void 0,G=Tv(t.option,_.field);G!==!1&&((0,f.get)(G,"custom")?Y=t.getCategoryCfg(d,y,_,G,!0):_.isLinear?Y=t.getContinuousCfg(d,y,_,G):_.isCategory&&(Y=t.getCategoryCfg(d,y,_,G))),Y&&(Nt(Y,["container"]),F.direction=ps(G),F.component.update(Y),e[k]=!0)}else{var ut=t.createFieldLegend(d,y,_);ut&&(ut.component.init(),t.components.push(ut),e[k]=!0)}};if((0,f.get)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Nt(s,["container"]),o.component.update(s),e[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var u=yt.FORE,h=ps(this.option);this.components.push({id:a,component:l,layer:u,direction:h,type:at.LEGEND,extra:void 0}),e[a]=!0}}}else this.loopLegends(n);var c=[];(0,f.each)(this.getComponents(),function(d){e[d.id]?c.push(d):d.component.destroy()}),this.components=c},r.prototype.clear=function(){i.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,f.each)(t.views,function(a){n=n.concat(e.getGeometries(a))}),n},r.prototype.loopLegends=function(t){var e=this.view.getRootView()===this.view;if(!!e){var n=this.getGeometries(this.view),a={};(0,f.each)(n,function(o){var s=o.getGroupAttributes();(0,f.each)(s,function(l){var u=l.getScale(l.type);!u||u.type==="identity"||a[u.field]||(t(o,l,u),a[u.field]=!0)})})}},r.prototype.createFieldLegend=function(t,e,n){var a,o=Tv(this.option,n.field),s=yt.FORE,l=ps(o);if(o!==!1&&((0,f.get)(o,"custom")?a=this.createCustomLegend(t,e,n,o):n.isLinear?a=this.createContinuousLegend(t,e,n,o):n.isCategory&&(a=this.createCategoryLegend(t,e,n,o))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:s,direction:l,type:at.LEGEND,extra:{scale:n}}},r.prototype.createCustomLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a,!0);return new Me(o)},r.prototype.createContinuousLegend=function(t,e,n,a){var o=this.getContinuousCfg(t,e,n,a);return new Te(o)},r.prototype.createCategoryLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a);return new Me(o)},r.prototype.getContinuousCfg=function(t,e,n,a){var o=n.getTicks(),s=(0,f.find)(o,function(k){return k.value===0}),l=(0,f.find)(o,function(k){return k.value===1}),u=o.map(function(k){var F=k.value,Y=k.tickValue,G=e.mapping(n.invert(F)).join("");return{value:Y,attrValue:G,color:G,scaleValue:F}});s||u.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),l||u.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),u.sort(function(k,F){return k.value-F.value});var h={min:(0,f.head)(u).value,max:(0,f.last)(u).value,colors:[],rail:{type:e.type},track:{}};e.type==="size"&&(h.track={style:{fill:e.type==="size"?this.view.getTheme().defaultColor:void 0}}),e.type==="color"&&(h.colors=u.map(function(k){return k.attrValue}));var c=this.container,d=ps(a),y=yf(d),_=(0,f.get)(a,"title");return _&&(_=(0,f.deepMix)({text:Je(n)},_)),h.container=c,h.layout=y,h.title=_,h.animateOption=Do,this.mergeLegendCfg(h,a,"continuous")},r.prototype.getCategoryCfg=function(t,e,n,a,o){var s=this.container,l=(0,f.get)(a,"position",St.BOTTOM),u=(0,f.get)(this.view.getTheme(),["components","legend",l,"marker"]),h=(0,f.get)(a,"marker"),c=yf(l),d=o?Q2(u,h,a.items):$2(this.view,t,e,u,h),y=(0,f.get)(a,"title");y&&(y=(0,f.deepMix)({text:n?Je(n):""},y));var _=this.getCategoryLegendSizeCfg(c);_.container=s,_.layout=c,_.items=d,_.title=y,_.animateOption=Do;var k=this.mergeLegendCfg(_,a,l);k.reversed&&k.items.reverse();var F=(0,f.get)(k,"maxItemWidth");return F&&F<=1&&(k.maxItemWidth=this.view.viewBBox.width*F),k},r.prototype.mergeLegendCfg=function(t,e,n){var a=n.split("-")[0],o=(0,f.get)(this.view.getTheme(),["components","legend",a],{});return(0,f.deepMix)({},o,t,e)},r.prototype.getId=function(t){return this.name+"-"+t},r.prototype.getComponentById=function(t){return(0,f.find)(this.components,function(e){return e.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,n=e.width,a=e.height;return t==="vertical"?{maxWidth:n*Q,maxHeight:a}:{maxWidth:n,maxHeight:a*Q}},r}(Bo),q2=J2,tC=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.onValueChanged=function(n){var a=n[0],o=n[1];e.updateMinMaxText(a,o),e.view.render(!0)},e.container=e.view.getLayer(yt.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1;this.updateMinMaxText(t,e)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),n=new ur(e.x,e.y,Math.min(e.width,t),e.height),a=ll(this.view.viewBBox,n,St.BOTTOM),o=a[0],s=a[1],l=ll(this.view.coordinateBBox,n,St.BOTTOM),u=l[0],h=l[1];this.slider.component.update({x:u,y:s,width:t})}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new qt.Slider((0,H.__assign)({container:this.container},t));return e.init(),{component:e,layer:yt.FORE,direction:St.BOTTOM,type:at.OTHER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();return Nt(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},r.prototype.getSliderCfg=function(){if((0,f.isObject)(this.option)){var t=(0,H.__assign)({data:this.getData()},(0,f.get)(this.option,"trendCfg",{})),e=0,n=0,a=this.view.coordinateBBox.width,o=(0,f.deepMix)({},{x:e,y:n,width:a},this.option);return(0,H.__assign)((0,H.__assign)({},o),{trendCfg:t})}return{}},r.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var a=n[0],o=a.field,s=a.ticks;return t.reduce(function(l,u){return u[o]===s[0]&&l.push(u[e.field]),l},[])}return t.map(function(l){return l[e.field]||0})},r.prototype.updateMinMaxText=function(t,e){var n=this.view.getOptions().data,a=this.view.getXScale(),o=(0,f.size)(n);if(!(!a||!o)){var s=a.field,l=n.reduce(function(k,F){return k.includes(F[s])||k.push(F[s]),k},[]),u=(0,f.size)(l),h=Math.floor(t*(u-1)),c=Math.floor(e*(u-1)),d=(0,f.get)(l,[h]),y=(0,f.get)(l,[c]),_=this.getSliderCfg().formatter;_&&(d=_(d,n[h],h),y=_(y,n[c],c)),this.slider.component.update({minText:d,maxText:y,start:t,end:e}),this.view.filter(a.field,function(k,F){var Y=l.indexOf(k);return Y>-1?Ei(Y,h,c):!0})}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r}(Bo),eC=tC;function rC(i){for(var r=[],t=function(n){var a=i[n],o=(0,f.find)(r,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||r.push(a)},e=0;e<i.length;e++)t(e);return r}var nC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(!n.length){this.hideTooltip();return}var a=this.getTitle(n),o={x:n[0].x,y:n[0].y};e.emit("tooltip:show",(0,H.__assign)({items:n,title:a},t));var s=this.getTooltipCfg(),l=s.follow,u=s.showMarkers,h=s.showCrosshairs,c=s.showContent,d=s.marker,y=this.items,_=this.title;if(!(0,f.isEqual)(_,a)||!(0,f.isEqual)(y,n)?(e.emit("tooltip:change",(0,H.__assign)({items:n,title:a},t)),c&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,f.mix)({},s,{items:n,title:a},l?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(n,d)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=n,this.title=a,h){var k=(0,f.get)(s,["crosshairs","follow"],!1);this.renderCrosshairs(k?t:o,s)}}},r.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var e=this.tooltipMarkersGroup;e&&e.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",{}),this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),a&&a.clear(),o&&o.clear()},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,a=e.tooltipMarkersGroup,o=e.xCrosshair,s=e.yCrosshair;t?(n&&n.show(),a&&a.show(),o&&o.show(),s&&s.show()):(n&&n.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){e=(0,f.flatten)(e);for(var n=0,a=e;n<a.length;n++)for(var o=a[n],s=0,l=o;s<l.length;s++){var u=l[s],h=u.mappingData,c=h.x,d=h.y;u.x=(0,f.isArray)(c)?c[c.length-1]:c,u.y=(0,f.isArray)(d)?d[d.length-1]:d}var y=this.getTooltipCfg().shared;if(y===!1&&e.length>1){for(var _=e[0],k=Math.abs(t.y-_[0].y),F=0,Y=e;F<Y.length;F++){var G=Y[F],ut=Math.abs(t.y-G[0].y);ut<=k&&(_=G,k=ut)}e=[_]}return rC((0,f.flatten)(e))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=t.getTheme(),a=(0,f.get)(n,["components","tooltip"],{}),o=(0,f.isUndefined)((0,f.get)(e,"enterable"))?a.enterable:(0,f.get)(e,"enterable");return(0,f.deepMix)({},a,e,{capture:!!(o||this.isLocked)})},r.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new xe((0,H.__assign)((0,H.__assign)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),a=0,o=t;a<o.length;a++){var s=o[a],l=s.x,u=s.y,h=(0,H.__assign)((0,H.__assign)({fill:s.color,symbol:"circle",shadowColor:s.color},e),{x:l,y:u});n.addShape("marker",{attrs:h})}},r.prototype.renderCrosshairs=function(t,e){var n=(0,f.get)(e,["crosshairs","type"],"x");n==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):n==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):n==="xy"&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},r.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!ht(n,t)){var a,o;if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var s=Mt(n,t),l=n.getCenter(),u=n.getRadius();o=dn(l.x,l.y,u,s),a=l}var h=(0,f.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,f.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete h.type;var c=this.xCrosshair;c?c.update(h):(c=new qt.Crosshair.Line(h),c.init()),c.render(),c.show(),this.xCrosshair=c}},r.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!ht(n,t)){var a,o;if(n.isRect){var s=void 0,l=void 0;n.isTransposed?(s={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(s={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:n.getCenter(),radius:et(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";a=(0,f.deepMix)({container:this.getTooltipCrosshairsGroup()},a,(0,f.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e)),delete a.type;var u=this.yCrosshair;u?n.isRect&&u.get("type")==="circle"||!n.isRect&&u.get("type")==="line"?(u=new qt.Crosshair[o](a),u.init()):u.update(a):(u=new qt.Crosshair[o](a),u.init()),u.render(),u.show(),this.yCrosshair=u}},r.prototype.getCrosshairsText=function(t,e,n){var a=(0,f.get)(n,["crosshairs","text"]),o=(0,f.get)(n,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),u=s[0],h=l.getXScale(),c=l.getYScales()[0],d=void 0,y=void 0;if(o){var _=this.view.getCoordinate().invert(e);d=h.invert(_.x),y=c.invert(_.y)}else d=u.data[h.field],y=u.data[c.field];var k=t==="x"?d:y;return(0,f.isFunction)(a)?a=a(t,k,s,e):a.content=k,{text:a}}},r.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.getTooltipItemsByHitShape=function(t,e,n){var a=[],o=t.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,u=Vr(l,t,n);u.length&&a.push(u)}return a},r.prototype.getTooltipItemsByFindData=function(t,e,n){var a=[],o=t.dataArray;t.sort(o);for(var s=0,l=o;s<l.length;s++){var u=l[s],h=gr(e,u,t);if(h){var c=t.getElementId(h),d=t.elementsMap[c];if(t.type==="heatmap"||d.visible){var y=Vr(h,t,n);y.length&&a.push(y)}}}return a},r.prototype.findItemsFromView=function(t,e){if(t.getOptions().tooltip===!1)return[];for(var n=[],a=t.geometries,o=this.getTooltipCfg(),s=o.shared,l=o.title,u=0,h=a;u<h.length;u++){var c=h[u];if(c.visible&&c.tooltipOption!==!1){var d=c.type,y=void 0;["point","edge","polygon"].includes(d)?y=this.getTooltipItemsByHitShape(c,e,l):["area","line","path","heatmap"].includes(d)?y=this.getTooltipItemsByFindData(c,e,l):s!==!1?y=this.getTooltipItemsByFindData(c,e,l):y=this.getTooltipItemsByHitShape(c,e,l),y.length&&n.push(y)}}for(var _=0,k=t.views;_<k.length;_++){var F=k[_];n=n.concat(this.findItemsFromView(F,e))}return n},r.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,f.find)(t.views,function(n){return e.getViewWithGeometry(n)})},r}(Bo),iC=nC,aC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.context.view,e=this.context.event,n=t.getTooltipItems({x:e.x,y:e.y});if(!(0,f.isEqual)(n,this.items)&&(this.items=n,n.length)){var a=t.getXScale().field,o=n[0].data[a],s=[],l=t.geometries;if((0,f.each)(l,function(we){if(we.type==="interval"||we.type==="schema"){var _e=we.getElementsBy(function(Ee){var Re=Ee.getData();return Re[a]===o});s=s.concat(_e)}}),s.length){var u=t.getCoordinate(),h=s[0].shape.getCanvasBBox(),c=s[0].shape.getCanvasBBox(),d=h;(0,f.each)(s,function(we){var _e=we.shape.getCanvasBBox();u.isTransposed?(_e.minY<h.minY&&(h=_e),_e.maxY>c.maxY&&(c=_e)):(_e.minX<h.minX&&(h=_e),_e.maxX>c.maxX&&(c=_e)),d.x=Math.min(_e.minX,d.minX),d.y=Math.min(_e.minY,d.minY),d.width=Math.max(_e.maxX,d.maxX)-d.x,d.height=Math.max(_e.maxY,d.maxY)-d.y});var y=t.backgroundGroup,_=t.coordinateBBox,k=void 0;if(u.isRect){var F=t.getXScale(),Y=F.isLinear?0:.25,G=void 0,ut=void 0,ft=void 0,Tt=void 0;u.isTransposed?(G=_.minX,ut=Math.min(c.minY,h.minY)-Y*c.height,ft=_.width,Tt=d.height+Y*2*c.height):(G=Math.min(h.minX,c.minX)-Y*h.width,ut=Math.min(_.minY,h.minY),ft=d.width+Y*2*h.width,Tt=_.height),k=[["M",G,ut],["L",G+ft,ut],["L",G+ft,ut+Tt],["L",G,ut+Tt],["Z"]]}else{var Yt=(0,f.head)(s),Ut=(0,f.last)(s),Jt=Un(Yt.getModel(),u).startAngle,Wt=Un(Ut.getModel(),u).endAngle,ee=u.getCenter(),ue=u.getRadius(),oe=u.innerRadius*ue;k=oi(ee.x,ee.y,ue,Jt,Wt,oe)}this.regionPath?(this.regionPath.attr("path",k),this.regionPath.show()):this.regionPath=y.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:k,fill:"#CCD6EC",opacity:.3}})}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),i.prototype.destroy.call(this)},r}(Kr),oC=aC,sC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.context,e=t.event,n=t.view,a=n.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date;if(s-o>16){var l=this.location,u={x:e.x,y:e.y};(!l||!(0,f.isEqual)(l,u))&&this.showTooltip(n,u),this.timeStamp=s,this.location=u}}},r.prototype.hide=function(){var t=this.context.view,e=t.isTooltipLocked();e||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,e){t.showTooltip(e)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(Kr),Pv=sC,lC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.showTooltip=function(t,e){var n=li(t);(0,f.each)(n,function(a){var o=ea(t,a,e);a.showTooltip(o)})},r.prototype.hideTooltip=function(t){var e=li(t);(0,f.each)(e,function(n){n.hideTooltip()})},r}(Pv),uC=lC,fC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var t=this.context,e=t.event,n=this.timeStamp,a=+new Date;if(a-n>16){var o=this.location,s={x:e.x,y:e.y};(!o||!(0,f.isEqual)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var e=this.context,n=e.event,a=n.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,H.__assign)({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t=this.context.view,e=t.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},a=t.getTheme(),o=(0,f.get)(a,["components","tooltip","domStyles"],{}),s=new xe({parent:e.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:o});s.init(),s.setCapture(!1),this.tooltip=s},r}(Kr),hC=fC,cC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t}return r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},r.prototype.clearViewState=function(t){var e=this,n=la(t,this.stateName);(0,f.each)(n,function(a){e.setElementState(a,!1)})},r}(Kr),mf=cC;function Lv(i){return(0,f.get)(i.get("delegateObject"),"item")}var vC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return r.prototype.isItemIgnore=function(t,e){var n=this.ignoreListItemStates,a=n.filter(function(o){return e.hasState(t,o)});return!!a.length},r.prototype.setStateByComponent=function(t,e,n){var a=this.context.view,o=t.get("field"),s=Qr(a);this.setElementsStateByItem(s,o,e,n)},r.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},r.prototype.isMathItem=function(t,e,n){var a=this.context.view,o=wa(a,e),s=Hn(t,e);return!(0,f.isNil)(s)&&n.name===o.getText(s)},r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this;(0,f.each)(t,function(s){o.isMathItem(s,e,n)&&s.setState(o.stateName,a)})},r.prototype.setStateEnable=function(t){var e=yn(this.context);if(e)qn(this.context)&&this.setStateByElement(e,t);else{var n=Xn(this.context);if(Vn(n)){var a=n.item,o=n.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&Lv(s.fromShape)===Lv(s.toShape))return;this.setStateByComponent(o,a,t)}}}},r.prototype.toggle=function(){var t=yn(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(mf),xf=vC,dC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(xf),pC=dC,gC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.cache={},t}return r.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");if(!n)return null;var a=t.getScaleByField(n.getFields()[0]);return a},r.prototype.getLinkPath=function(t,e){var n=t.shape.getCanvasBBox(),a=e.shape.getCanvasBBox(),o=[["M",n.maxX,n.minY],["L",a.minX,a.minY],["L",a.minX,a.maxY],["L",n.maxX,n.maxY],["Z"]];return o},r.prototype.addLinkShape=function(t,e,n){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,n)}})},r.prototype.linkByElement=function(t){var e=this,n=this.context.view,a=this.getColorScale(n,t);if(!!a){var o=Hn(t,a.field);if(!this.cache[o]){var s=ta(n,a.field,o),l=this.linkGroup,u=l.addGroup();this.cache[o]=u;var h=s.length;(0,f.each)(s,function(c,d){if(d<h-1){var y=s[d+1];e.addLinkShape(u,c,y)}})}}},r.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(!!e){var n=Hn(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},r.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=yn(t);e&&this.linkByElement(e)},r.prototype.unlink=function(){var t=yn(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(Kr),yC=gC,mC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(si(this.context))t=Fi(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var a={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)},o=this.context.view;t=yi(o,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=Qr(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,e){var n=this,a=this.context.view,o=li(a),s=t.map(function(h){return h.getModel().data}),l=a.getXScale().field,u=a.getYScales()[0].field;(0,f.each)(o,function(h){var c=Qr(h),d=c.filter(function(y){var _=y.getModel().data;return Za(s,_,l,u)});n.setElementsState(d,e,c)})},r.prototype.setSiblingsState=function(t){var e=this,n=this.context.view,a=li(n);si(this.context)&&(0,f.each)(a,function(o){var s=Qr(o),l=Wi(e.context,o,10);l&&l.length?e.setElementsState(l,t,s):e.clearViewState(o)})},r.prototype.setElementsState=function(t,e,n){var a=this;(0,f.each)(n,function(o){t.includes(o)?a.setElementState(o,e):a.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=li(e);(0,f.each)(n,function(a){t.clearViewState(a)})}else this.clearViewState(e)},r}(mf),bf=mC,xC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(bf),bC=xC,wC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateEnable=function(t){var e=yn(this.context);if(e){if(!qn(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},r.prototype.toggle=function(){var t=yn(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(mf),wf=wC,SC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(wf),CC=SC,gs="inactive",ys="active";function Sf(i){var r=Qr(i);(0,f.each)(r,function(t){t.hasState(ys)&&t.setState(ys,!1),t.hasState(gs)&&t.setState(gs,!1)})}function Ov(i,r,t){(0,f.each)(i,function(e){r(e)?(e.hasState(gs)&&e.setState(gs,!1),e.setState(ys,t)):(e.hasState(ys)&&e.setState(ys,!1),e.setState(gs,t))})}var mo=_t.INACTIVE,Ga=_t.ACTIVE,MC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=Ga,t}return r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this,s=function(l){return o.isMathItem(l,e,n)};this.setHighlightBy(t,s,a)},r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(mo)&&t.setState(mo,!1),t.setState(Ga,!0)):t.hasState(Ga)||t.setState(mo,!0)},r.prototype.setHighlightBy=function(t,e,n){var a=this;if(n)(0,f.each)(t,function(l){a.setElementHighlight(l,e)});else{var o=la(this.context.view,Ga),s=!0;(0,f.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,f.each)(t,function(l){e(l)&&(l.hasState(Ga)&&l.setState(Ga,!1),l.setState(mo,!0))})}},r.prototype.setElementState=function(t,e){var n=this.context.view,a=Qr(n);this.setHighlightBy(a,function(o){return t===o},e)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.context.view;Sf(t)},r}(xf),Cf=MC,EC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=n.getScaleByField(a.getFields()[0]),s=Hn(t,o.field),l=Qr(n),u=l.filter(function(h){return Hn(h,o.field)===s});this.setHighlightBy(l,function(h){return u.includes(h)},e)}},r}(Cf),AC=EC,_C=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(mo)&&t.setState(mo,!1),t.setState(Ga,!0)):(t.setState(mo,!0),t.hasState(Ga)&&t.setState(Ga,!1))},r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=n.getXScale(),o=Hn(t,a.field),s=Qr(n),l=s.filter(function(u){return Hn(u,a.field)===o});this.setHighlightBy(s,function(u){return l.includes(u)},e)},r.prototype.toggle=function(){var t=yn(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},r}(Cf),TC=_C,PC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.clearViewState=function(t){Sf(t)},r.prototype.highlight=function(){this.setState()},r.prototype.setElementsState=function(t,e,n){Ov(n,function(a){return t.indexOf(a)>=0},e)},r}(bf),Iv=PC,LC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,e){var n=this.context.view,a=Qr(n);Ov(a,function(o){return t===o},e)},r.prototype.clear=function(){var t=this.context.view;Sf(t)},r}(wf),OC=LC,IC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(bf),kC=IC,BC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(xf),DC=BC,FC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(wf),RC=FC,NC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return r.prototype.getTriggerListInfo=function(){var t=Xn(this.context),e=null;return Vn(t)&&(e={item:t.item,list:t.component}),e},r.prototype.getAllowComponents=function(){var t=this,e=this.context.view,n=ka(e),a=[];return(0,f.each)(n,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},r.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,f.each)(e,function(n){n.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(this.cfg.componentNames.indexOf(n)===-1)return!1}var a=this.context.view,o=wa(a,e);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;if(n.length){var a=n.filter(function(o){return e.hasState(t,o)});return a.length===0}return!0},r.prototype.setStateByElement=function(t,e,n){var a=t.get("field"),o=this.context.view,s=wa(o,a),l=Hn(e,a),u=s.getText(l);this.setItemsState(t,u,n)},r.prototype.setStateEnable=function(t){var e=this,n=yn(this.context);if(n){var a=this.getAllowComponents();(0,f.each)(a,function(u){e.setStateByElement(u,n,t)})}else{var o=Xn(this.context);if(Vn(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},r.prototype.setItemsState=function(t,e,n){var a=this,o=t.getItems();(0,f.each)(o,function(s){s.name===e&&a.setItemState(t,s,n)})},r.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,a=this.hasState(e,n);this.setItemState(e,n,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(Kr),ul=NC,GC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(ul),YC=GC,kv="inactive",Bv="active";function zC(i){var r=i.getItems();(0,f.each)(r,function(t){i.hasState(t,Bv)&&i.setItemState(t,Bv,!1),i.hasState(t,kv)&&i.setItemState(t,kv,!1)})}var ms="inactive",xo="active",XC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=xo,t.ignoreItemStates=["unchecked"],t}return r.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,function(a){return a.name===e},n)},r.prototype.setItemState=function(t,e,n){var a=t.getItems();this.setHighlightBy(t,function(o){return o===e},n)},r.prototype.setHighlightBy=function(t,e,n){var a=t.getItems();if(n)(0,f.each)(a,function(l){e(l)?(t.hasState(l,ms)&&t.setItemState(l,ms,!1),t.setItemState(l,xo,!0)):t.hasState(l,xo)||t.setItemState(l,ms,!0)});else{var o=t.getItemsByState(xo),s=!0;(0,f.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,f.each)(a,function(l){e(l)&&(t.hasState(l,xo)&&t.setItemState(l,xo,!1),t.setItemState(l,ms,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)zC(t.list);else{var e=this.getAllowComponents();(0,f.each)(e,function(n){n.clearItemsState(xo),n.clearItemsState(ms)})}},r}(ul),Mf=XC,VC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(ul),HC=VC,WC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="unchecked",t}return r.prototype.unchecked=function(){this.setState()},r}(ul),jC=WC,UC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var e="mask:"+t,n=this.context.view,a=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,H.__assign)({fill:"#C5D4EB",opacity:.3},e)});return n},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,a=t.y-e.y,o=this.points;(0,f.each)(o,function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,i.prototype.destroy.call(this)},r}(Kr),Ef=UC,ZC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="circle",t}return r.prototype.getMaskAttrs=function(){var t=this.points,e=(0,f.last)(this.points),n=0,a=0,o=0;if(t.length){var s=t[0];n=_i(s,e)/2,a=(e.x+s.x)/2,o=(e.y+s.y)/2}return{x:a,y:o,r:n}},r}(Ef),KC=ZC,$C=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(){var t=this.points;return{start:(0,f.head)(t),end:(0,f.last)(t)}},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end,a=Math.min(e.x,n.x),o=Math.min(e.y,n.y),s=Math.abs(n.x-e.x),l=Math.abs(n.y-e.y);return{x:a,y:o,width:s,height:l}},r}(Ef),Dv=$C;function Fv(i){i.x=(0,f.clamp)(i.x,0,1),i.y=(0,f.clamp)(i.y,0,1)}var QC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(){var t=null,e=null,n=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,f.head)(n)),l=o.invert((0,f.last)(n));return this.inPlot&&(Fv(s),Fv(l)),a==="x"?(t=o.convert({x:s.x,y:0}),e=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:s.y}),e=o.convert({x:1,y:l.y})),{start:t,end:e}},r}(Dv),Rv=QC,JC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,f.each)(t,function(n,a){a===0?e.push(["M",n.x,n.y]):e.push(["L",n.x,n.y])}),e.push(["L",t[0].x,t[0].y])),e},r.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},r.prototype.addPoint=function(){this.resize()},r}(Ef),Nv=JC,qC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points;return Ba(t,!0)},r}(Nv),tM=qC,eM=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setCursor=function(t){var e=this.context.view;e.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r}(Kr),rM=eM,nM=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,f.each)(t.views,function(o){a.filterView(o,e,n)})},r.prototype.filter=function(){var t=Xn(this.context);if(t){var e=this.context.view,n=t.component,a=n.get("field");if(Vn(t)){if(a){var o=n.getItemsByState("unchecked"),s=wa(e,a),l=o.map(function(d){return d.name});l.length?this.filterView(e,a,function(d){var y=s.getText(d);return!l.includes(y)}):this.filterView(e,a,null),e.render(!0)}}else if(Ai(t)){var u=n.getValue(),h=u[0],c=u[1];this.filterView(e,a,function(d){return d>=h&&d<=c}),e.render(!0)}}},r}(Kr),iM=nM;function Gv(i,r,t,e){var n=Math.min(t[r],e[r]),a=Math.max(t[r],e[r]),o=i.range,s=o[0],l=o[1];if(n<s&&(n=s),a>l&&(a=l),n===l&&a===l)return null;var u=i.invert(n),h=i.invert(a);if(i.isCategory){var c=i.values.indexOf(u),d=i.values.indexOf(h),y=i.values.slice(c,d+1);return function(_){return y.includes(_)}}else return function(_){return _>=u&&_<=h}}var aM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,e;if(si(this.context)){var n=this.context.event.target,a=n.getCanvasBBox();t={x:a.x,y:a.y},e={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var o=this.context.view,s=o.getCoordinate(),l=s.invert(e),u=s.invert(t);if(this.hasDim("x")){var h=o.getXScale(),c=Gv(h,"x",l,u);this.filterView(o,h.field,c)}if(this.hasDim("y")){var d=o.getYScales()[0],c=Gv(d,"y",l,u);this.filterView(o,d.field,c)}this.reRender(o)}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t)},r.prototype.filterView=function(t,e,n){t.filter(e,n)},r.prototype.reRender=function(t){t.render(!0)},r}(Kr),fl=aM,oM=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=li(t);(0,f.each)(a,function(o){o.filter(e,n)})},r.prototype.reRender=function(t){var e=li(t);(0,f.each)(e,function(n){n.render(!0)})},r}(fl),Af=oM,sM=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filter=function(){var t=Xn(this.context),e=this.context.view,n=Qr(e);if(si(this.context)){var a=Fi(this.context,10);a&&(0,f.each)(n,function(_){a.includes(_)?_.show():_.hide()})}else if(t){var o=t.component,s=o.get("field");if(Vn(t)){if(s){var l=o.getItemsByState("unchecked"),u=wa(e,s),h=l.map(function(_){return _.name});(0,f.each)(n,function(_){var k=Hn(_,s),F=u.getText(k);h.indexOf(F)>=0?_.hide():_.show()})}}else if(Ai(t)){var c=o.getValue(),d=c[0],y=c[1];(0,f.each)(n,function(_){var k=Hn(_,s);k>=d&&k<=y?_.show():_.hide()})}}},r.prototype.clear=function(){var t=Qr(this.context.view);(0,f.each)(t,function(e){e.show()})},r.prototype.reset=function(){this.clear()},r}(Kr),lM=sM,uM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.byRecord=!1,t}return r.prototype.filter=function(){si(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,e=Fi(this.context,10);if(!!e){var n=t.getXScale().field,a=t.getYScales()[0].field,o=e.map(function(l){return l.getModel().data}),s=li(t);(0,f.each)(s,function(l){var u=Qr(l);(0,f.each)(u,function(h){var c=h.getModel().data;Za(o,c,n,a)?h.show():h.hide()})})}},r.prototype.filterByBBox=function(){var t=this,e=this.context.view,n=li(e);(0,f.each)(n,function(a){var o=Wi(t.context,a,10),s=Qr(a);o&&(0,f.each)(s,function(l){o.includes(l)?l.show():l.hide()})})},r.prototype.reset=function(){var t=li(this.context.view);(0,f.each)(t,function(e){var n=Qr(e);(0,f.each)(n,function(a){a.show()})})},r}(Kr),Yv=uM,fM=10,hM=5,cM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return r.prototype.getButtonCfg=function(){return(0,f.deepMix)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:(0,H.__assign)({text:t.text},t.textStyle)}),a=n.getBBox(),o=ti(t.padding),s=e.addShape({type:"rect",name:"button-rect",attrs:(0,H.__assign)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),e.on("mouseenter",function(){s.attr(t.activeStyle)}),e.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=e},r.prototype.resetPosition=function(){var t=this.context.view,e=t.getCoordinate(),n=e.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=vn.transform(null,[["t",n.x-o.width-fM,n.y+o.height+hM]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),i.prototype.destroy.call(this)},r}(Kr),vM=cM,dM=4,pM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):_i(t,this.startPoint)>dM&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},r}(Kr),gM=pM,yM=5,mM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(!!this.starting){var t=this.startPoint,e=this.context.getCurrentPoint(),n=_i(t,e);if(n>yM&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=vn.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(Kr),xM=mM,zv="x",Xv="y",bM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=[zv,Xv],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var e=this.context.view;return t==="x"?e.getXScale():e.getYScales()[0]},r.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(zv),this.resetDim(Xv);var t=this.context.view;t.render(!0)},r}(Kr),Vv=bM,wM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,f.each)(e,function(n){var a=t.getScale(n),o=a.min,s=a.max,l=a.values;t.startCache[n]={min:o,max:s,values:l}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(!!this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=n.invert(e),s=n.invert(a),l=s.x-o.x,u=s.y-o.y,h=this.context.view,c=this.dims;(0,f.each)(c,function(d){t.translateDim(d,{x:l*-1,y:u*-1})}),h.render(!0)}},r.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},r.prototype.translateLinear=function(t,e,n){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,u=l-s,h=n[t]*u;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:s,max:l}),a.scale(e.field,{nice:!1,min:s+h,max:l+h})},r.prototype.reset=function(){i.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(Vv),SM=wM,CM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.zoomRatio=.05,t}return r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var e=this,n=this.dims;(0,f.each)(n,function(a){e.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},r.prototype.zoomLinear=function(t,e,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=e.min,u=e.max,h=n*s,c=l-h,d=u+h,y=d-c,_=y/s;d>c&&_<100&&_>.01&&a.scale(e.field,{nice:!1,min:l-h,max:u+h})},r}(Vv),MM=CM;Gt("dark",ko(fb)),nt("canvas",O),nt("svg",P),fa("Polygon",FS),fa("Interval",TS),fa("Schema",NS),fa("Path",sf),fa("Point",kS),fa("Line",LS),fa("Area",xS),fa("Edge",wS),fa("Heatmap",MS),fs("base",Zs),fs("interval",e2),fs("pie",i2),fs("polar",dv),co("overlap",p2),co("distribute",o2),co("fixed-overlap",d2),co("limit-in-shape",f2),co("limit-in-canvas",u2),co("pie-outer",l2),Yn("fade-in",g2),Yn("fade-out",y2),Yn("grow-in-x",x2),Yn("grow-in-xy",w2),Yn("grow-in-y",b2),Yn("scale-in-x",M2),Yn("scale-in-y",E2),Yn("wave-in",T2),Yn("zoom-in",P2),Yn("zoom-out",L2),Yn("position-update",C2),Yn("sector-path-update",_2),Yn("path-in",S2),Tn("rect",Y2),Tn("mirror",N2),Tn("list",B2),Tn("matrix",F2),Tn("circle",I2),Tn("tree",X2),Hr("axis",j2),Hr("legend",q2),Hr("tooltip",iC),Hr("annotation",H2),Hr("slider",eC),Ar("tooltip",Pv),Ar("sibling-tooltip",uC),Ar("ellipsis-text",hC),Ar("element-active",pC),Ar("element-single-active",CC),Ar("element-range-active",bC),Ar("element-highlight",Cf),Ar("element-highlight-by-x",TC),Ar("element-highlight-by-color",AC),Ar("element-single-highlight",OC),Ar("element-range-highlight",Iv),Ar("element-sibling-highlight",Iv,{effectSiblings:!0,effectByRecord:!0}),Ar("element-selected",DC),Ar("element-single-selected",RC),Ar("element-range-selected",kC),Ar("element-link-by-color",yC),Ar("active-region",oC),Ar("list-active",YC),Ar("list-selected",HC),Ar("list-highlight",Mf),Ar("list-unchecked",jC),Ar("legend-item-highlight",Mf,{componentNames:["legend"]}),Ar("axis-label-highlight",Mf,{componentNames:["axis"]}),Ar("rect-mask",Dv),Ar("x-rect-mask",Rv,{dim:"x"}),Ar("y-rect-mask",Rv,{dim:"y"}),Ar("circle-mask",KC),Ar("path-mask",Nv),Ar("smooth-path-mask",tM),Ar("cursor",rM),Ar("data-filter",iM),Ar("brush",fl),Ar("brush-x",fl,{dims:["x"]}),Ar("brush-y",fl,{dims:["y"]}),Ar("sibling-filter",Af),Ar("sibling-x-filter",Af),Ar("sibling-y-filter",Af),Ar("element-filter",lM),Ar("element-sibling-filter",Yv),Ar("element-sibling-filter-record",Yv,{byRecord:!0}),Ar("view-drag",gM),Ar("view-move",xM),Ar("scale-translate",SM),Ar("scale-zoom",MM),Ar("reset-button",vM,{name:"reset-button",text:"reset"});function qa(i){return i.isInPlot()}pn("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),pn("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),pn("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),pn("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),pn("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),pn("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),pn("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),pn("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),pn("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),pn("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),pn("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),pn("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),pn("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:qa,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:qa,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:qa,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),pn("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),pn("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:qa,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:qa,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:qa,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),pn("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:qa,action:"path-mask:start"},{trigger:"mousedown",isEnable:qa,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),pn("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),pn("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),pn("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),pn("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),pn("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),pn("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function Hv(i){return i.gEvent.preventDefault(),i.gEvent.originalEvent.deltaY>0}pn("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(i){return Hv(i.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(i){return!Hv(i.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),pn("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var Wv={translate:Vu,rotate:Sc,zoom:rb,transform:Us,getAngle:Un,polarToCartesian:dn},hl=function(){function i(r){this.EVENT="gesture",this.gm=r}return i.prototype.do=function(r){var t=r.type;switch(t){case"touchstart":this.onTouchStart(r);break;case"touchmove":this.onTouchMove(r);break;case"touchend":this.onTouchEnd(r);break;case"touchcancel":this.onTouchCancel(r);break;default:return}},i.prototype.emit=function(r){this.gm.emit(this.EVENT,r)},i}(),EM=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="pan",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=e-this.preX,o=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:a,deltaY:o,event:t})},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},r}(hl),to=typeof performance=="object"&&performance.now?performance:Date,AM=300,jv=10,_M=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="press",t}return r.prototype.onTouchCancel=function(t){this.clearTimeout()},r.prototype.onTouchEnd=function(t){this.clearTimeout()},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(e-this.touchStartX>jv||n-this.touchStartY>jv)&&this.clearTimeout()},r.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,a=t.y;this.touchStartTime=to.now(),this.touchStartX=n,this.touchStartY=a,this.pressTimeout=window.setTimeout(function(){e.emit({x:n,y:a,event:t})},AM)},r.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},r}(hl),TM=100,PM=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=this.speedX,n=this.speedY;if(to.now()-this.latestMoveTime<TM){var a=t.x,o=t.y;this.emit({x:a,y:o,speedX:e,speedY:n,event:t})}},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=to.now(),o=e-this.preX,s=n-this.preY,l=a-this.ms;this.speedX=o/l,this.speedY=s/l,this.latestMoveTime=a},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=to.now()},r}(hl),LM=300,Uv=2,OM=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="tap",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<Uv&&n-this.touchStartY<Uv&&to.now()-this.touchStartTime<LM&&this.emit({x:e,y:n,event:t})},r.prototype.onTouchMove=function(t){},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=to.now(),this.touchStartX=e,this.touchStartY=n},r}(hl),IM={Pan:EM,Press:_M,Swipe:PM,Tap:OM},kM=function(i){return IM[i]},Zv=function(i){(0,J.__extends)(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this)||this;return n.onTouchStart=function(a){n.preventEvent(a),n.element.on("touchmove",n.onTouchMove),n.element.on("touchend",n.onTouchEnd),n.element.on("touchcancel",n.onTouchCancel),n.emit("touchdown",a),n.doGestures(a)},n.onTouchMove=function(a){n.preventEvent(a),n.emit("touchmove",a),n.doGestures(a)},n.onTouchEnd=function(a){n.preventEvent(a),n.emit("touchend",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.onTouchCancel=function(a){n.preventEvent(a),n.emit("touchcancel",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.element=t,n.options=e,n.initialGestures(),n.bindTouchStart(),n}return r.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},r.prototype.initialGestures=function(){var t=this,e=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=e.map(function(n){var a=kM(n);return new a(t)})},r.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},r.prototype.preventEvent=function(t){var e=t.type,n=this.options.prevents||[];n.includes(e)&&t.preventDefault()},r.prototype.doGestures=function(t){this.gestures.forEach(function(e){e.do(t)})},r}(Xt.default),BM=v(68716),DM=BM.yD,FM=800,RM="swipe",NM="pan",Kv="wheel",GM=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.rafMs=0,e.onPan=function(n){var a=n.deltaX,o=n.deltaY,s=e.getWrapperEvent(n,a,o);e.emit(Kv,s)},e.onSwipe=function(n){var a=n.speedX,o=n.speedY;e.rafMs=to.now(),e.ms=e.rafMs,(a!==0||o!==0)&&e.rafInertia(n)},e.element=t,e.gm=new Zv(t,{gestures:["Pan","Swipe"]}),e.gm.on(RM,e.onSwipe),e.gm.on(NM,e.onPan),e}return r.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},r.prototype.rafInertia=function(t){var e=this,n=t.speedX,a=t.speedY;this.raf=window.requestAnimationFrame(function(){var o=to.now(),s=(o-e.ms)/FM;if(s<1){s=DM(1-s);var l=o-e.rafMs,u=n*s*l,h=a*s*l,c=e.getWrapperEvent(t,u,h);e.emit(Kv,c),e.rafMs=o,e.rafInertia(t)}})},r.prototype.getWrapperEvent=function(t,e,n){return(0,J.__assign)((0,J.__assign)({},t),{deltaX:-e,deltaY:-n})},r}(Xt.default),tn=v(29583),$v=v(64815),YM=v(6750),MG=v(61058),zM=v(31882),eo=v(27978),EG=v(38700),XM=v(88373),bo=v(55225);Hr("gesture",j.Z);var Ki="origin",xs="_origin",Qv=1e3,Jv=60*Qv,qv=60*Jv,cl=24*qv,VM=cl*7,HM=cl*30,WM=cl*365,jM={second:{value:Qv,format:"HH:mm:ss"},miniute:{value:Jv,format:"HH:mm"},hour:{value:qv,format:"HH"},day:{value:cl,format:"YYYY-MM-DD"},week:{value:VM,format:"YYYY-MM-DD"},month:{value:HM,format:"YYYY-MM"},year:{value:WM,format:"YYYY"}},vl=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],UM=[],ZM={axis:"axis-label",label:"label",legend:"legend-item"},KM={title:"title",description:"description",breadcrumb:"breadcrumb"},td=(0,f.deepMix)(ri(KM),_f("Plot",vl)),ed=_f("Layer",vl),jr=(0,f.deepMix)({},ri(ZM),_f("View",vl),$M());function Nn(i,r,t){i.view.on(r,function(e){var n={x:e==null?void 0:e.x,y:e==null?void 0:e.y,clientX:e==null?void 0:e.clientX,clientY:e==null?void 0:e.clientY,target:e==null?void 0:e.target,data:(e==null?void 0:e.data)?e.data.data:null,plot:i,canvas:i.canvas,gEvent:e==null?void 0:e.gEvent};t(n)})}function ri(i){var r={};return(0,f.each)(i,function(t,e){var n=(0,f.upperFirst)(e),a="on"+n,o=t+":";(0,f.each)(vl,function(s){var l=(0,f.upperFirst)(s),u=""+a+l,h=""+o+s;r[u]=h})}),r}function _f(i,r){var t={},e="on";return(0,f.each)(r,function(n){var a=(0,f.upperFirst)(n),o=""+e+i+a;t[o]=n}),t}function $M(){var i={},r="on";return(0,f.each)(UM,function(t){var e=(0,f.upperFirst)(t),n=""+r+e;i[n]=t}),i}var QM=v(85800),JM=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.fromBBoxObject=function(t){return new r(t.x,t.y,t.width,t.height)},r}(QM.BBox),Br=JM,qM=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e}return r.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},r.prototype.updateConfig=function(t){this.options=(0,f.deepMix)({},this.options,t),this.processOptions(this.options)},r.prototype.beforeInit=function(){return null},r.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},r.prototype.afterInit=function(){return null},r.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},r.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},r.prototype.destroy=function(){var t=this;this.eachLayer(function(e){e.destroy()}),(0,f.each)(this.eventHandlers,function(e){t.off(e.eventName,e.handler)}),this.container.remove(!0),this.destroyed=!0},r.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},r.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},r.prototype.addLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e<0&&(t.parent!==this&&(t.parent=this,t.init()),this.layers.push(t))},r.prototype.removeLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e>=0&&this.layers.splice(e,1)},r.prototype.updateBBox=function(t,e){e===void 0&&(e=!1);var n={x:this.x,y:this.y,width:this.width,height:this.height},a=(0,f.deepMix)({},n,t);this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(o){o.updateBBoxByParent(),o.render()}),this.canvas.draw()},r.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},r.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,n=this.parent;n;)t+=n.x,e+=n.y,n=n.parent;return{x:t,y:e}},r.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new Br(t.x,t.y,this.width,this.height)},r.prototype.getOptions=function(t){var e=0,n=0;t.parent&&(e=t.parent.width,n=t.parent.height);var a={x:0,y:0,width:e,height:n};return(0,f.deepMix)({},a,t)},r.prototype.eachLayer=function(t){(0,f.each)(this.layers,t)},r.prototype.parseEvents=function(t){var e=this,n=(0,f.keys)(ed);(0,f.each)(t,function(a,o){if((0,f.contains)(n,o)&&(0,f.isFunction)(a)){var s=ed[o]||o,l=a;e.on(s,l),e.eventHandlers.push({name:s,handler:l})}})},r.prototype.getLayerBBox=function(){return new Br(this.x,this.y,this.width,this.height)},r.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,n=this.parent.x,a=this.parent.y,o=(this.x-n)/t,s=(this.y-a)/e,l=(this.x+this.width-n)/t,u=(this.y+this.height-a)/e;return{start:{x:o,y:s},end:{x:l,y:u}}}return{start:{x:0,y:0},end:{x:1,y:1}}},r}(Xt.default),dl=qM;function No(i){return i?!!(i.visible===!0&&typeof i.text=="string"&&i.text.trim()):!1}function rd(i,r){var t=(0,J.__spreadArrays)(i);return r.forEach(function(e,n){t.splice(e+n,0,`
`)}),t.join("")}function tE(i){return i.getComponents().filter(function(r){return r.type===tn.COMPONENT_TYPE.AXIS}).map(function(r){return r.component})}function eE(i){return i.getComponents().filter(function(r){return r.type===tn.COMPONENT_TYPE.LEGEND}).map(function(r){return r.component})}function AG(i){var r=i.backgroundGroup.findAll(function(t){if(t.get("name")){var e=t.get("name").split("-");return e[0]==="axis"}});return r}function _G(i){var r=i.foregroundGroup.findAll(function(t){if(t.get("name"))return t.get("name")==="legend-item-group"});return r}function rE(i,r){for(var t=i.length;t>0&&!(r>=i[t-1]);)t-=1;return t}function nd(i,r){return!(i.maxY<r.minY||r.maxY<i.minY||i.maxX<r.minX||r.maxX<i.minX)}function TG(){return!!navigator.userAgent.match(/(Mobile)|(Android)|(WebOS)|(iPhone)|(iPad)/)}var nE=function(){function i(r){this.position="top",this.destroyed=!1,(0,f.assign)(this,r),this.init()}return i.prototype.getBBox=function(){var r=this;if(this.shape){var t=this.shape.getBBox();if(this.index===0)return Br.fromBBoxObject(t);var e=this.plot.theme.description.padding;return(0,f.isArray)(e)&&(0,f.each)(e,function(n,a){typeof e[a]=="function"&&(e[a]=e[a](r.plot.options.legend.position))}),new Br(t.maxX,t.minY,t.width,t.height)}return null},i.prototype.clear=function(){this.shape&&this.shape.attr("text","")},i.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},i.prototype.init=function(){var r=this.textWrapper(),t=this.getPosition(),e=t.x,n=t.y;this.shape=this.container.addShape("text",{attrs:(0,f.mix)({x:e,y:n,text:r},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},i.prototype.getPosition=function(){return this.alignTo==="left"?{x:this.leftMargin,y:this.topMargin}:this.alignTo==="middle"?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},i.prototype.getTextAlign=function(){return this.alignTo==="left"?"left":this.alignTo==="middle"?"center":"right"},i.prototype.textWrapper=function(){var r=this.wrapperWidth,t=this.style,e=this.text,n=this.container.addShape("text",{attrs:(0,J.__assign)({text:"",x:0,y:0},t)}),a=e.split(`
`),o=a.map(function(s){for(var l="",u=s.split(""),h=[],c=0;c<u.length;c++){var d=u[c];n.attr("text",l+=d);var y=n.getBBox().width-1;if(y>r){if(c===0)break;h.push(c),l=""}}return rd(u,h)});return n.remove(),o.join(`
`)},i}(),pl=nE,iE=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.container=t.container,e.destroyed=!1,e.config=t,e.disposables=[],e}return r.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},r.prototype.getGroup=function(){return this.group},r.prototype.getConfig=function(){return this.config},r.prototype.getBBox=function(){return this.getGroup().getBBox()},r.prototype.clear=function(){this.group.clear()},r.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},r.prototype.update=function(t){this.config=(0,J.__assign)((0,J.__assign)({},this.config),t),this.initConfig(this.config)},r.prototype.destroy=function(){(0,f.each)(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},r.prototype.initGroup=function(){this.group=this.container.addGroup()},r.prototype.getCanvas=function(){return this.container.get("canvas")},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.initConfig=function(t){},r}(Xt.default),bs=iE,aE=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}return r.prototype.getGeometry=function(){return this.geometry},r.prototype.getLabels=function(){return this.labels},r.prototype.show=function(){this.container.show()},r.prototype.hide=function(){this.container.hide()},r.prototype.initConfig=function(t){var e=this;this.layer=t.layer;var n=this.layer.view;this.view=n,this.geometry=t.geometry,this.coord=n.getCoordinate(),this.options=(0,f.deepMix)(this.getDefaultOptions(),t.label);var a=function(){e.clear(),e.labelsCfgMap={},e.lastLabelsCfgMap={},e.render()};n.on(tn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){n.off(tn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)})},r.prototype.renderInner=function(t){var e=this;this.labels=[],this.labelsCfgMap={},(0,f.each)(this.geometry.elements,function(s,l){var u=[].concat(e.drawLabelItem(t,s,l));(0,f.each)(u,function(h,c){e.adjustLabel(h,s,c),h.destroyed||(e.labels.push(h),e.labelsCfgMap[h.get("id")]=(0,f.clone)(h.attrs))})}),this.layoutLabels(this.geometry,this.labels);var n=this.lastLabelsCfgMap,a=this.labelsCfgMap,o=this.geometry.animateOption?(0,eo.getDefaultAnimateCfg)("label",this.coord):!1;(0,f.each)(a,function(s,l){var u=t.findById(l);if(u)if(n[l]){var h=n[l],c=(0,f.get)(o,"update");c&&(u.stopAnimate(),u.attr(h),(0,eo.doAnimate)(u,c,{toAttrs:(0,J.__assign)({},s),coordinate:e.coord}))}else{var d=(0,f.get)(o,"appear");d&&(u.stopAnimate(),(0,eo.doAnimate)(u,d,{toAttrs:(0,J.__assign)({},u.attr()),coordinate:e.coord}))}delete n[l]}),(0,f.each)(n,function(s,l){var u=(0,f.get)(o,"leave");if(u){var h=t.addShape("text",{attrs:s,id:l,name:"label"});h.stopAnimate(),(0,eo.doAnimate)(h,u,{toAttrs:null,coordinate:e.coord})}}),this.lastLabelsCfgMap=this.labelsCfgMap},r.prototype.drawLabelText=function(t,e,n){return n===void 0&&(n={}),t.addShape("text",(0,J.__assign)({attrs:e},n))},r.prototype.drawLabelItem=function(t,e,n){var a=this,o=e.getModel(),s=[].concat(this.getLabelItemAttrs(e,n)),l=this.getDefaultOffset(),u=this.getLabelOffset();return(0,f.map)(s,function(h,c){var d,y={x:h.x+u.x,y:h.y+u.y},_=(0,f.isArray)(o.mappingData)?o.mappingData[c]:o.mappingData,k=a.getLabelId(_);return a.drawLabelText(t,(0,J.__assign)((0,J.__assign)({},h),y),(d={id:k,name:"label",offset:l,element:e},d[Ki]=_,d))})},r.prototype.getDefaultOffset=function(){return Number(this.options.offset)},r.prototype.getLabelOffset=function(){var t=this.options,e=t.offsetX,n=t.offsetY;return{x:(0,f.isNumber)(e)?e:0,y:(0,f.isNumber)(n)?n:0}},r.prototype.getLabelOffsetByDimAndFactor=function(t,e){var n=this.options,a=n.offsetX,o=n.offsetY,s=this.getDefaultOffset(),l={x:0,y:0};return l[t]=s*e,(0,f.isNumber)(a)&&(l.x+=a),(0,f.isNumber)(o)&&(l.y+=o),l},r.prototype.getDefaultOptions=function(){return{}},r.prototype.layoutLabels=function(t,e){},r.prototype.getLabelId=function(t){var e=t._origin,n=this.geometry.type,a=this.geometry.getXScale(),o=this.geometry.getYScale(),s=this.geometry.getElementId(t);return n==="line"||n==="area"?s+=" "+e[a.field]:n==="path"&&(s+=" "+e[a.field]+"-"+e[o.field]),s},r.prototype.getCoordinateBBox=function(){var t=this.coord,e=t.start,n=t.end;return new Br(Math.min(e.x,n.x),Math.min(e.y,n.y),t.getWidth(),t.getHeight())},r}(bs),Tf=aE,id={};function Ri(i,r){id[i]=r}function oE(i){return id[i]}var Pf=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return function(t,e,n){return i.reduce(function(a,o){return o(a,e,n)},t)}},Lf=function(){return function(i){return i}},ad=function(i){return function(r){var t=Number(r);return isNaN(t)||(0,f.isNil)(i)?r:t.toFixed(i)}},od=function(i){return function(r){return(0,f.isNil)(i)?r:r+" "+i}};function Of(i,r,t){i[t]&&(r[t]=i[t])}var sE=function(){function i(r){this.config=!1,this.plot=r.plot,this.dim=r.dim,this.init()}return i.prototype.init=function(){this.config=!1;var r=this.plot.getPlotTheme();this.themeConfig=r&&r.axis&&r.axis[this.dim],this._needDraw()&&this._styleParser()},i.prototype._styleParser=function(){this.config=(0,J.__assign)({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,Of(this.localProps,this.config,"autoHideLabel"),Of(this.localProps,this.config,"autoRotateLabel"),Of(this.localProps,this.config,"autoRotateTitle")},i.prototype._needDraw=function(){var r=this.plot.options,t=r[this.dim+"Axis"]?r[this.dim+"Axis"]:{},e=(0,f.deepMix)({},this.themeConfig,t);return this.localProps=e,!!e.visible},i.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},i.prototype._gridParser=function(){var r=this,t,e,n,a,o,s=(e=(t=this.localProps.grid)===null||t===void 0?void 0:t.line)===null||e===void 0?void 0:e.style,l=(a=(n=this.localProps.grid)===null||n===void 0?void 0:n.line)===null||a===void 0?void 0:a.type,u=(o=this.localProps.grid)===null||o===void 0?void 0:o.alternateColor;(0,f.isFunction)(s)?this.config.grid=function(h,c,d){var y=s(h,c,d);return{line:{type:l,style:(0,f.deepMix)({},(0,f.get)(r.themeConfig,"grid.line.style"),y)},alternateColor:u}}:s&&(this.config.grid={line:{type:l,style:s},alternateColor:u},this.applyThemeConfig("grid"))},i.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},i.prototype._labelParser=function(){var r=this.localProps.label,t=r.style,e=(0,J.__rest)(r,["style"]),n=(0,J.__assign)({},e);t&&(n.style=(0,J.__assign)({},this.localProps.label.style)),n.style=(0,f.deepMix)({},(0,f.get)(this.themeConfig,"label.style"),n.style);var a=this.parseFormatter(n);n.formatter=a,this.config.label=n},i.prototype._titleParser=function(){var r=(0,J.__assign)({},this.localProps.title),t=this.localProps.title,e=t.visible,n=t.style,a=t.text;e?(this.config.showTitle=!0,n&&(r.style=n),r.style=(0,f.deepMix)({},(0,f.get)(this.config,"title.style"),r.textStyle),a&&(r.text=a)):this.config.showTitle=!1,this.config.title=r},i.prototype._isVisible=function(r){return!!(this.localProps[r]&&this.localProps[r].visible)},i.prototype.applyThemeConfig=function(r){this.config[r]=(0,f.deepMix)({},(0,f.get)(this.themeConfig,r+".style"),this.config[r])},i.prototype.parseFormatter=function(r){var t=Pf(Lf(),ad(r.precision),od(r.suffix));return r.formatter&&(t=Pf(t,r.formatter)),t},i}(),lE=sE;function gl(i){var r=0;return each(i,function(t){r+=t*t}),Math.sqrt(r)}function If(i,r){return i.x*r.y+i.y*r.x}function PG(i,r){var t=gl(i),e=gl(r),n=If(i,r),a=Math.acos(n/t/e);return a}function LG(i,r){var t=gl(i),e=gl(r),n=If(i,r),a=Math.acos(n/t/e);return t*e*Math.sin(a)}function OG(i,r){var t=i.x,e=i.y,n=i.z,a=r.x,o=r.y,s=r.z,l=e*s-n*o,u=n*a-t*s,h=t*o-e*a;return{x:l,y:u,z:h}}function IG(i,r){return{x:i.x-r.x,y:i.y-r.y}}function yl(i,r,t){t===void 0&&(t=1);var e=[i.x,i.y,t];return Yc.transformMat3(e,e,r),{x:e[0],y:e[1]}}function sd(i,r,t){return i>=r&&i<=t}var uE=.001;function kG(i,r,t,e){var n={x:t.x-i.x,y:t.y-i.y},a={x:r.x-i.x,y:r.y-i.y},o={x:e.x-t.x,y:e.y-t.y},s=a.x*o.y-a.y*o.x,l=s*s,u=a.x*a.x+a.y*a.y,h=o.x*o.x+o.y*o.y,c=null;if(l>uE*u*h){var d=(n.x*o.y-n.y*o.x)/s,y=(n.x*a.y-n.y*a.x)/s;sd(d,0,1)&&sd(y,0,1)&&(c={x:i.x+d*a.x,y:i.y+d*a.y})}return c}function fE(i,r){for(var t=!1,e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,u=o>i.y!=l>i.y&&i.x<=(s-a)*(i.y-o)/(l-o)+a;u&&(t=!t)}return t}function ml(i){return i*i}function xl(i,r){return Math.sqrt(ml(i.x-r.x)+ml(i.y-r.y))}function ld(i,r){return Math.sqrt(ml(i.x-r.x)+ml(i.y-r.y))}function ud(i,r,t){var e=xl(r,t);if(e===0)return xl(i,r);var n=((i.x-r.x)*(t.x-r.x)+(i.y-r.y)*(t.y-r.y))/e;n=Math.max(0,Math.min(1,n));var a=xl(i,{x:r.x+n*(t.x-r.x),y:r.y+n*(t.y-r.y)});return Math.sqrt(a)}function fd(i,r){var t=Infinity;(0,f.each)(r,function(h){var c=Math.sqrt(xl(h,i));t>c&&(t=c)});for(var e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,u=ud(i,{x:a,y:o},{x:s,y:l});t>u&&(t=u)}return t}function hE(i,r){for(var t=0,e=i;t<e.length;t++){var n=e[t],a=fE(n,r);if(a)return!0}return!1}function hd(i,r){if(hE(i,r))return 0;var t=Infinity,e=Infinity;return(0,f.each)(i,function(n){var a=fd(n,r);t>a&&(t=a)}),(0,f.each)(r,function(n){var a=fd(n,i);e>a&&(e=a)}),Math.min(t,e)}function cE(i){var r=i.getBBox(),t=r.minX,e=r.minY,n=r.maxX-r.minX,a=r.maxY-r.minY,o=i.attr("matrix"),s;o?s=[o[0],o[1],0,o[3],o[4],0,0,0,1]:s=[1,0,0,0,1,0,0,0,1];var l=yl({x:0,y:0},s);l.x+=t,l.y+=e;var u=yl({x:n,y:0},s);u.x+=t,u.y+=e;var h=yl({x:0,y:a},s);h.x+=t,h.y+=e;var c=yl({x:n,y:a},s);c.x+=t,c.y+=e;var d=[l,u,h,c];d.sort(function(Jt,Wt){return Jt.y-Wt.y});var y=d[0].y,_=d[d.length-1].y,k=[d[0],d[1]],F=[d[2],d[3]],Y=k[0].x<k[1].x?k[0]:k[1],G=k[0].x<k[1].x?k[1]:k[0],ut=F[0].x<F[1].x?F[0]:F[1],ft=F[0].x<F[1].x?F[1]:F[0];d.sort(function(Jt,Wt){return Jt.x-Wt.x});var Tt=d[0].x,Yt=d[d.length-1].x,Ut={width:Yt-Tt,height:_-y,left:Tt,right:Yt,top:y,bottom:_,topLeft:Y,topRight:G,bottomLeft:ut,bottomRight:ft,centerX:Tt+(Yt-Tt)/2,centerY:y+(_-y)/2};return Ut}var vE=2;function kf(i){return i.length<5?i:Bf(i,vE)}function Bf(i,r){for(var t,e=-Infinity,n=0,a=i.length-1,o=1;o<a;o++){var s=i[o],l={start:i[0],end:i[a]},u=ud(s,l.start,l.end);u>e&&(e=u,n=o)}if(e>r){var h=Bf(i.slice(0,n+1),r),c=Bf(i.slice(n,i.length),r);t=h.concat(c)}else t=[i[0],i[i.length-1]];return t}function cd(i){var r=(0,f.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2?r[t]:(r[t-1]+r[t])/2}function dE(i){var r=0;return(0,f.each)(i,function(t){r+=t}),r/i.length}function vd(i){return Math.ceil(Math.log(i.length)/Math.LN2)+1}function pE(i,r,t,e,n){n===void 0&&(n=2);for(var a=[],o=i;o<=i+t;o+=n)a.push([o,r]);for(var s=r;s<=r+e;s+=n)a.push([i+t,s]);for(var o=i+t;o>=i;o-=n)a.push([o,r+e]);for(var s=r+e;s>=r;s-=n)a.push([i,s]);return a}var gE=function(){function i(r){(0,f.assign)(this,r),this._init()}return i.prototype._init=function(){var r=this.plot.options,t=r.yField,e=r.data,n=this.plot.processData(e);if(!((0,f.isEmpty)(n)||!(0,f.isNumber)(n[0][t]))){var a=this.getDefaultStyle(),o={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(o.style=(0,f.deepMix)({},a.line.style,this.cfg.lineStyle),o.text=(0,f.deepMix)({},a.text,this.cfg.text),this.cfg.type){var s=this._getState(this.cfg.type),l=this.getYScale(),u=(1-l.scale(s))*100+"%",h=["0%",u],c=["100%",u];this.config=(0,f.mix)({start:h,end:c},o)}else{var d=this.cfg,y=d.start,_=d.end;this.config=(0,f.clone)(o);var k=this.getXScale(),F=this.getYScale(),Y=(0,f.clone)(y),G=(0,f.clone)(_);(0,f.each)(y,function(ut,ft){(!(0,f.contains)((0,f.toArray)(y[ft]),"%")||(0,f.isNumber)(y[ft]))&&(ft===0?Y[ft]=k.scale(y[0])*100+"%":Y[ft]=(1-F.scale(y[1]))*100+"%")}),(0,f.each)(_,function(ut,ft){(!(0,f.contains)((0,f.toArray)(_[ft]),"%")||(0,f.isNumber)(_[ft]))&&(ft===0?G[ft]=k.scale(_[0])*100+"%":G[ft]=(1-F.scale(_[1]))*100+"%")}),this.config.start=Y,this.config.end=G}}},i.prototype.getYScale=function(){var r=this._getState("min"),t=this._getState("max"),e=(0,zt.getScale)("linear"),n=new e((0,f.mix)({},{min:this.plot.type==="column"?0:r,max:t,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]));return n},i.prototype.getXScale=function(){var r=this.extractXValue();if((0,f.isString)(r[0])){var t=(0,zt.getScale)("cat"),e=new t((0,f.mix)({},{values:r},this.plot.config.scales[this.plot.options.xField]));return e}else{var n=Math.min.apply(Math,r),a=Math.max.apply(Math,r),t=(0,zt.getScale)("linear"),e=new t((0,f.mix)({},{min:n,max:a,nice:!0,values:r},this.plot.config.scales[this.plot.options.xField]));return e}},i.prototype._getState=function(r){if(this.values=this._extractValues(),r==="median")return cd(this.values);if(r==="mean")return dE(this.values);if(r==="max")return Math.max.apply(Math,this.values);if(r==="min")return Math.min.apply(Math,this.values)},i.prototype._extractValues=function(){var r=this.plot.options,t=r.yField,e=[],n=this.plot.processData(r.data);return(0,f.each)(n,function(a){(0,f.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.extractXValue=function(){var r=this.plot.options,t=r.xField,e=[],n=this.plot.processData(r.data);return(0,f.each)(n,function(a){(0,f.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},i.prototype.getDefaultTextAlign=function(){var r=this.cfg.text;if(r){if(!r.position||r.position==="start")return"left";if(r.position==="center")return"center";if(r.position==="end")return"right"}},i}(),yE=gE,mE=function(){function i(r){this.config={};var t=r.plot,e=(0,J.__rest)(r,["plot"]);this.plot=t,this.originConfig=e,this.init(r)}return i.prototype.getConfig=function(){return this.config},i.prototype.init=function(r){var t=this;(0,f.assign)(this.config,r),this.config.callback=function(e){return t.parseCallBack(e)}},i.prototype.parseCallBack=function(r){var t=this.originConfig,e=this.plot.getPlotTheme(),n=(0,J.__assign)({},t);return this.parseOffset(t,n),t.position&&((0,f.isFunction)(t.position)?n.position=t.position(r):n.position=t.position),this.parseFormatter(n),t.style&&((0,f.isFunction)(t.style)?n.textStyle=t.style(r):n.textStyle=t.style),n.textStyle=(0,f.deepMix)({},(0,f.get)(e,"label.style"),n.textStyle),t.autoRotate&&(n.autoRotate=t.autoRotate),n},i.prototype.parseOffset=function(r,t){var e=["offset","offsetX","offsetY"],n=0;(0,f.each)(e,function(a){(0,f.has)(r,a)&&(t[a]=r[a],n++)}),n===0&&(0,f.get)(r,"position")==="middle"&&(t.offset=0)},i.prototype.parseFormatter=function(r){var t=this.originConfig;r.content=function(e,n){var a=e[t.fields[0]];return Pf(Lf(),ad(t.precision),od(t.suffix),t.formatter?t.formatter:Lf())(a,e,n)}},i}(),xE=mE,wo,Df;function dd(i,r){wo||pd(i),(0,f.each)(wo,function(t){var e=gd(t,r),n=e.labelData,a=e.con;if(yd(n,a)){var o=CE();t.shape.attr(o)}})}function bE(i,r){wo||pd(i),(0,f.each)(wo,function(t,e){var n=gd(t,r),a=n.labelData,o=n.con;if(yd(a,o)){var s=Df[e],l=SE(s);t.shape.attr(l)}})}function pd(i){var r;wo=[],Df=[];var t=(r=i.view.getController("axis"))===null||r===void 0?void 0:r.getComponents();(0,f.each)(t,function(e){var n=e.component,a=[],o=wE(i,n),s=n.get("labelRenderer").get("group").get("children");if((0,f.each)(s,function(h){h.type==="text"&&(a.push({shape:h}),Df.push(h.attr()))}),o){var l=o.ticks,u=o.field;(0,f.each)(a,function(h,c){h.value=l[c],h.scaleField=u,h.type=o.type})}wo.push.apply(wo,a)})}function wE(i,r){var t=i.options,e="y",n=r.get("position");(n==="bottom"||n==="top")&&(e="x");var a=t[e+"Field"];return i.view.get("scales")[a]}function gd(i,r){var t,e=(t={},t[i.scaleField]=i.value,t),n=(0,f.clone)(r);return i.type==="time"&&(0,f.isObject)(r)&&!(0,f.isFunction)(n.exp)&&(n.exp=new Date(n.exp).getTime()),{labelData:e,con:n}}function SE(i){var r=i.opacity||1;return{opacity:r*.2}}function CE(){return{opacity:1,fontWeight:600,fill:"red"}}function yd(i,r){if(!(0,f.isFunction)(r)){var t=r.name,e=r.exp;return i[t]?(0,f.isFunction)(e)?e(i[t]):i[t]===e:!1}return r(i)}var ME={active:dd,selected:dd,disable:bE},EE=function(i){(0,J.__extends)(r,i);function r(){var t=i.call(this)||this;return t._states={},t._stateStack={},t}return r.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},r.prototype.getState=function(t){return this._states[t]},r.prototype.getAllStates=function(){return this._states},r.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},r.prototype._onUpdate=function(){var t=this,e=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){(0,f.each)(e,function(n,a){var o=e[a];(!t._states[a]||t._states[a]!==n)&&(t._states[a]=n,t._triggerEvent(a,o))}),t._stateStack={}},16)},r.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},r}(Xt.default),AE=EE;function Ya(i,r){if(!(0,f.isFunction)(r)){var t=r.name,e=r.exp;return(0,f.isFunction)(e)?e(i[t]):i[t]===e}return r(i)}var _E=function(){function i(r){this.shapeContainers=[],(0,f.assign)(this,r)}return i.prototype.createStateManager=function(){this.stateManager=new AE},i.prototype.bindStateManager=function(r,t){this.stateManager=r,t.setState&&this._updateStateProcess(t.setState),t.onStateChange&&this._stateChangeProcess(t.onStateChange)},i.prototype.defaultStates=function(r){var t=this;(0,f.each)(r,function(e,n){var a=e.condition,o=e.related;t.setState({type:n,condition:a,related:o})})},i.prototype.setState=function(r){var t=this,e=r.type,n=r.condition,a=r.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),(0,f.each)(this.shapes,function(o,s){var l=o.get("origin").data,u=(0,f.isArray)(l)?l[0]:l;if(Ya(u,n)){var h=r.style?r.style:t._getDefaultStateStyle(e,o),c=t.originAttrs[s],d=void 0;(0,f.isFunction)(h)?d=h(c):d=(0,f.mix)({},c,h),o.attr(d),t.setZIndex(e,o)}}),a&&this._parserRelated(e,a,n),this.plot.canvas.draw()},i.prototype._updateStateProcess=function(r){var t=this;(0,f.each)(r,function(e){var n=e.state,a;(0,f.isFunction)(n)?a=function(o){var s=n(o);t.stateManager.setState(s.name,s.exp)}:a=function(){t.stateManager.setState(n.name,n.exp)},e.event?Nn(t.plot,t._eventParser(e.event),a):a()})},i.prototype._stateChangeProcess=function(r){var t=this;(0,f.each)(r,function(e){t.stateManager.on(e.name+":change",function(n){e.callback(n,t.plot)})})},i.prototype._getShapes=function(){var r=this,t=[],e=this.plot.view.geometries;return(0,f.each)(e,function(n){var a=n.container;r.shapeContainers.push(a),n.destroyed||t.push.apply(t,n.getShapes())}),t},i.prototype._getOriginAttrs=function(){var r=[];return(0,f.each)(this.shapes,function(t){r.push((0,f.clone)(t.attr()))}),r},i.prototype._eventParser=function(r){var t=r.split(":"),e=this.plot.geometryParser("g2",t[0]),n=t[1];return e+":"+n},i.prototype._getDefaultStateStyle=function(r,t){var e=this.plot.theme,n=this.plot.geometryParser("plot",t.name),a=n+"Style";if(e[a]){var o=e[a][r];return(0,f.isFunction)(o)&&(o=o(t.attr())),o}return{}},i.prototype._parserRelated=function(r,t,e){var n=this;(0,f.each)(t,function(a){if(n.plot[a]){var o=GE(a,r);o(n.plot,e)}})},i.prototype.setZIndex=function(r,t){if(r==="active"||r==="selected"){var e=t.get("parent").get("children");e[e.length-1].setZIndex(0),t.setZIndex(1)}},i.prototype.resetZIndex=function(){(0,f.each)(this.shapeContainers,function(r){var t=r.get("children");t.sort(function(e,n){return e._INDEX-n._INDEX})})},i}(),TE=_E,Go,bl;function md(i,r){Go||xd(i),(0,f.each)(Go,function(t,e){var n=t.get("origin");if(Ya(n,r)){var a=bl[e],o=(0,f.mix)({},a,{opacity:1});t.attr(o)}})}function PE(i,r){Go||xd(i),(0,f.each)(Go,function(t,e){var n=t.get("origin");if(Ya(n,r)){var a=bl[e],o=LE(a);t.attr(o)}})}function xd(i){Go=[],bl=[];var r=i.view.get("elements");(0,f.each)(r,function(t){var e=t.get("labels");e&&(0,f.each)(e,function(n){Go.push(n),bl.push(n.attr())})})}function LE(i){var r=i.opacity||1;return{opacity:r*.2}}var OE={active:md,selected:md,disable:PE},IE=["xField","yField","angleField"];function bd(i,r){var t=i.options;if(BE(t,r)){var e=t.data;(0,f.each)(e,function(n){if(Ya(n,r)){var a=i.view.getXY(n);i.view.on("tooltip:create",function(o){wd(r,o,!1)}),i.view.showTooltip(a)}})}}function kE(i,r){i.view.on("tooltip:change",function(t){wd(r,t,!0)})}function wd(i,r,t){var e=!t,n=(0,f.clone)(r.items);r.items.splice(0),(0,f.each)(n,function(a){var o=a.point._origin;Ya(o,i)===e&&r.items.push(a)})}function BE(i,r){var t=DE(i);return!(0,f.isFunction)(r)&&t.indexOf(r.name)}function DE(i){var r=[];return(0,f.each)(IE,function(t){(0,f.has)(i,t)&&r.push(t)}),r}var FE={active:bd,selected:bd,disable:kE},RE={axis:lE,label:xE,guideLine:yE},NE={tooltip:FE,label:OE,axis:ME};function ci(i,r){var t=RE[i];return new t(r).config}function GE(i,r){return NE[i][r]}var YE=["start","process","end","reset"],zE=function(){function i(r){var t=this.getDefaultCfg();(0,f.assign)(this,t,r),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}return i.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},i.prototype._start=function(r){this.preStart(r),this.start(r),this.afterStart(r)},i.prototype.preStart=function(r){},i.prototype.afterStart=function(r){},i.prototype._process=function(r){this.preProcess(r),this.process(r),this.afterProcess(r)},i.prototype.preProcess=function(r){},i.prototype.process=function(r){},i.prototype.afterProcess=function(r){},i.prototype._end=function(r){this.preEnd(r),this.end(r),this.afterEnd(r)},i.prototype.preEnd=function(r){},i.prototype.end=function(r){},i.prototype.afterEnd=function(r){},i.prototype._reset=function(r){this.preReset(r),this.reset(r),this.afterReset(r)},i.prototype.preReset=function(r){},i.prototype.reset=function(r){},i.prototype.afterReset=function(r){},i.prototype._bindEvents=function(){var r=this;(0,f.each)(YE,function(t){var e=r[t+"Event"],n=(0,f.wrapBehavior)(r,"_"+t);r.view.on(e,n),r._eventHandlers.push({type:e,handler:n})})},i.prototype._unbindEvents=function(){var r=this,t=this._eventHandlers;(0,f.each)(t,function(e){r.view.off(e.type,e.handler)})},i.prototype.destroy=function(){this._unbindEvents(),this._reset()},i}(),Ff=zE,XE=function(i){(0,J.__extends)(r,i);function r(t,e,n,a){var o=i.call(this,t)||this;return o.viewLayer=e,o.interactionRange=n,o.interactionConfig=a,o.disposables=[],o}return r.registerInteraction=function(t,e){r.GLOBAL_INTERACTION_MAP[t]=e},r.registerPlotInteraction=function(t,e,n){r.PLOT_INTERACTION_MAP[t]||(r.PLOT_INTERACTION_MAP[t]={}),r.PLOT_INTERACTION_MAP[t][e]=n},r.getInteraction=function(t,e){return e&&r.PLOT_INTERACTION_MAP[e]&&r[e][t]?r.PLOT_INTERACTION_MAP[e][t]:r.GLOBAL_INTERACTION_MAP[t]},r.getInteractionRange=function(t,e){},r.prototype.destroy=function(){(0,f.each)(this.disposables,function(t){t()}),this.disposables=[],this.clear(),i.prototype.destroy.call(this)},r.prototype.getViewLayer=function(){return this.viewLayer},r.prototype.getRange=function(){return this.interactionRange},r.prototype.getInteractionConfig=function(){return this.interactionConfig},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.render=function(){},r.prototype.start=function(t){},r.GLOBAL_INTERACTION_MAP={},r.PLOT_INTERACTION_MAP={},r}(Ff),ca=XE,Sd=function(i,r,t,e,n){var a=e[0],o=e[1];n===void 0&&(n=!1);var s=(0,f.groupBy)(t,i),l=n?r.slice(r.length-o,r.length-a):r.slice(a,o);return(0,f.flatten)((0,f.map)(l,function(u){return s[u]||[]}))},Sa;(function(i){i.BEFORE_INIT="beforeinit",i.AFTER_INIT="afterinit",i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata"})(Sa||(Sa={}));var wl=4,Cd=8,VE=32,HE=20,WE=999,Sl=function(i){i===void 0&&(i={});var r=(0,J.__assign)({type:"horizontal",categorySize:VE,width:Cd,height:Cd,padding:[0,0,0,0]},i);return i.padding||(r.padding=r.type==="horizontal"?[wl,0,wl,0]:[0,wl,0,wl]),r},jE=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Sl(e),a=n.padding,o=a[0],s=a[1],l=a[2],u=a[3];return n.type==="horizontal"?new Br(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l):new Br(t.maxX-n.width-u-s,t.minY,n.width+u+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view;this.ratio=0,this.thumbOffset=0;var a=function(){var s=t.view.padding;s==="auto"||(0,f.isEqual)(s,[0,0,0,1])||(t.trackLen?t.renderScrollbar():(t.measureScrollBar(),t.changeViewData(t.getScrollRange(),!0)))},o=function(){t.trackLen=0};n.on(tn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){return n.off(tn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)}),n.on(tn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a),this.addDisposable(function(){return n.off(tn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a)}),e.on(Sa.BEFORE_CHANGE_DATA,o),this.addDisposable(function(){return e.off(Sa.BEFORE_CHANGE_DATA,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},r.prototype.renderScrollbar=function(){var t=Sl(this.getInteractionConfig()),e=this.getRange(),n=t.type!=="vertical",a=this.view.coordinateBBox,o=t.padding,s=o[0],l=o[3],u=n?{x:a.minX+l,y:e.minY+s}:{x:e.minX+l,y:a.minY+s};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:u.x,y:u.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new qt.Scrollbar({container:this.container,x:u.x,y:u.y,isHorizontal:n,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",WE),this.scrollbar.on("scrollchange",this.onChangeFn))},r.prototype.measureScrollBar=function(){var t=Sl(this.getInteractionConfig()),e=t.padding,n=e[0],a=e[1],o=e[2],s=e[3],l=t.type!=="vertical",u=this.view.coordinateBBox,h=this.view.getXScale(),c=this.view.getYScales().filter(function(d){return d});this.cnt=h.values.length,this.xScaleCfg={field:h.field,values:h.values||[]},this.yScalesCfg=c,this.step=Math.floor((l?u.width:u.height)/t.categorySize),this.trackLen=l?u.width-s-a:u.height-n-o,this.thumbLen=Math.max(this.trackLen*(0,f.clamp)(this.step/h.values.length,0,1),HE)},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,f.clamp)(this.ratio,0,1)),e=Math.min(t+this.step,this.cnt);return[t,e]},r.prototype.changeViewData=function(t,e){var n=this,a=t[0],o=t[1],s=Sl(this.getInteractionConfig()),l=this.getViewLayer(),u=l.options.meta,h=l.getData(),c=Sd(this.xScaleCfg.field,this.xScaleCfg.values,h,[a,o],s.type==="vertical");this.yScalesCfg.forEach(function(d){var y=(0,f.get)(u,d.field)||{};n.view.scale(d.field,(0,J.__assign)((0,J.__assign)({formatter:d.formatter},y),{type:d.type,min:d.min,max:d.max}))}),e?(this.view.data(c),this.view.render()):this.view.changeData(c)},r.prototype.onChange=function(t){var e=t.ratio,n=t.thumbOffset;this.ratio=e,this.thumbOffset=n;var a=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange(),!0),this.view.animate(a),this.renderScrollbar()},r}(ca),UE=jE,Cl=4,Md=16,Rf=function(i){i===void 0&&(i={});var r=(0,J.__assign)({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},i);i.padding||(r.padding=r.type==="horizontal"?[Cl,0,Cl,0]:[0,Cl,0,Cl]),i.height||(r.height=Md),i.width||(r.width=Md);var t=(0,f.clamp)(Math.min(r.start,r.end),0,1),e=(0,f.clamp)(Math.max(r.start,r.end),0,1);return r.start=t,r.end=e,r},ZE=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Rf(e),a=n.padding||[0,0,0,0],o=a[0],s=a[1],l=a[2],u=a[3];if(n.type==="horizontal"){var h=new Br(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l);return h}else return new Br(t.maxX-n.width-u-s,t.minY,n.width+u+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view,a=Rf(this.getInteractionConfig());this.curStart=a.start,this.curEnd=a.end,this.xScaleCfg=void 0;var o=function(){var s=t.view.padding;if(!(s==="auto"||(0,f.isEqual)(s,[0,0,0,1]))&&!(0,f.isEmpty)(e.options.data))if(t.xScaleCfg)t.renderSlider();else{var l=n.getXScale();t.xScaleCfg={field:l.field,values:l.values||[]},n.data(t.getSliderData(t.curStart,t.curEnd)),n.render()}};n.on(tn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o),this.addDisposable(function(){return n.off(tn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o)}),n.on(tn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o),this.addDisposable(function(){return n.off(tn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},r.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new qt.Slider((0,J.__assign)((0,J.__assign)({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},r.prototype.getSliderConfig=function(){var t=this.view,e=t.coordinateBBox,n=this.getRange(),a=Rf(this.getInteractionConfig()),o=a||{},s=o.padding,l=s===void 0?[0,0,0,0]:s,u=o.backgroundStyle,h=o.foregroundStyle,c=o.handlerStyle,d=o.textStyle,y=o.trendCfg,_=y===void 0?{}:y,k=l[0],F=l[1],Y=l[2],G=l[3],ut=this.getSliderMinMaxText(this.curStart,this.curEnd),ft=ut.minText,Tt=ut.maxText,Yt={x:e.minX+G,y:n.minY+k,width:e.width-G-F,height:n.height-k-Y,start:this.curStart,end:this.curEnd,minText:ft,maxText:Tt,backgroundStyle:u,foregroundStyle:h,handlerStyle:c,textStyle:d,trendCfg:(0,J.__assign)((0,J.__assign)({isArea:!1,smooth:!1},_),{data:this.getSliderTrendData()})};return Yt},r.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,n=t.yField;return(0,f.map)(e,function(a){return a[n]})},r.prototype.getSliderData=function(t,e){var n=this.getViewLayer().getData(),a=(0,f.size)(this.xScaleCfg.values),o=Math.round(t*a),s=Math.max(o+1,Math.round(e*a));return Sd(this.xScaleCfg.field,this.xScaleCfg.values,n,[o,s])},r.prototype.getSliderMinMaxText=function(t,e){var n=this.getViewLayer().options,a=n.data,o=a===void 0?[]:a,s=n.xField,l=(0,f.size)(o),u=Math.round(t*l),h=Math.max(u+1,Math.round(e*l)),c=o.slice(u,h);return{minText:c.length>0?(0,f.head)(c)[s]:"",maxText:c.length>0?(0,f.last)(c)[s]:""}},r.prototype.onChange=function(t){var e=this.view,n=(0,f.clamp)(Math.min(t[0],t[1]),0,1),a=(0,f.clamp)(Math.max(t[0],t[1]),0,1),o=this.getSliderData(n,a),s=this.getSliderMinMaxText(n,a),l=s.minText,u=s.maxText;this.curStart=n,this.curEnd=a,this.slider.update({start:n,end:a,minText:l,maxText:u}),this.slider.render();var h=e.getOptions().animate;e.animate(!1),e.data(o),e.render(),e.animate(h)},r}(ca),KE=ZE,$E=function(i){(0,J.__extends)(r,i);function r(t){return i.call(this,(0,f.deepMix)({},t))||this}return r.prototype.renderInner=function(t){var e=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",function(){e.emit("click")})},r.prototype.destroy=function(){this.group.off(),i.prototype.destroy.call(this)},r.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var e=1/4*this.config.r,n=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}})},r.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=1/4*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},r.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},r.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},r}(bs),QE=$E,Ed="timelinestart",JE="timelinechange",Ad="timelineend",qE="timelineupdate",tA=20,eA=20,rA=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this,(0,f.deepMix)({},{speed:1,loop:!1},t))||this;return e.onTimeSelectMouseMove=function(n){n.stopPropagation(),n.preventDefault();var a=(0,f.get)(n,"touches.0.pageX",n.pageX),o=a-e.prevX;e.setTimeSelectX(o),e.prevX=a},e.onTimeSelectMouseUp=function(){e.syncCurrnentTick(),e.emit(Ad,null);var n=e.getCanvas().get("container");n&&(n.removeEventListener("mousemove",e.onTimeSelectMouseMove),n.removeEventListener("mouseup",e.onTimeSelectMouseUp),n.removeEventListener("mouseleave",e.onTimeSelectMouseUp),n.removeEventListener("touchmove",e.onTimeSelectMouseMove),n.removeEventListener("touchend",e.onTimeSelectMouseUp),n.removeEventListener("touchcancel",e.onTimeSelectMouseUp))},e.onTimeSelectMouseDown=function(n){var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),e.isPlay===!1?e.emit(Ed,null):(e.isPlay=!1,e.changePlayStatus(!1)),e.prevX=(0,f.get)(a,"touches.0.pageX",a.pageX);var o=e.getCanvas().get("container");o.addEventListener("mousemove",e.onTimeSelectMouseMove),o.addEventListener("mouseup",e.onTimeSelectMouseUp),o.addEventListener("mouseleave",e.onTimeSelectMouseUp),o.addEventListener("touchmove",e.onTimeSelectMouseMove),o.addEventListener("touchend",e.onTimeSelectMouseUp),o.addEventListener("touchcancel",e.onTimeSelectMouseUp)},e}return r.prototype.renderInner=function(t){var e=this.config,n=e.ticks,a=e.defaultCurrentTick;n&&n.length&&(this.currentTick=this.config.ticks.includes(a)?a:n[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},r.prototype.update=function(t){i.prototype.update.call(this,t),this.emit(qE,this.currentTick)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},r.prototype.renderPlayButton=function(t){var e=this.config,n=e.height,a=e.x,o=e.y,s=.8,l=n/2*s;this.timeLineButton?this.timeLineButton.update({x:a+l,y:o+l+n*(1-s)/2,r:l}):(this.timeLineButton=new QE({container:t,x:a+l,y:o+l+n*(1-s)/2,r:l,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},r.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,n=t.y,a=t.width,o=t.height,s=o/2;return a>0?"M"+e+", "+n+("A"+s+","+s+" 90 0,0 "+e+","+(n+o))+("L"+(e+a)+", "+(n+o))+("A"+s+","+s+" 90 0,0 "+(e+a)+","+n)+("L"+e+", "+n):[]},r.prototype.renderTimeLine=function(t){var e=this,n=this.config,a=n.width,o=n.height,s=n.ticks,l=n.x,u=n.y;this.timeLine||(this.timeLine={}),this.timeLine.height=o*.15,this.timeLine.x=l+o+tA,this.timeLine.y=u+(o/2-this.timeLine.height/2),this.timeLine.width=a-this.timeLine.x-eA,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=t.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var h=this.timeLine.width/(s.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(d){d.destroy()});var c=-Infinity;this.timeLine.textList=s.map(function(d,y){e.tickPosList.push(e.timeLine.x+y*h);var _=t.addShape("text",{attrs:{x:e.timeLine.x+y*h,y:e.timeLine.y+e.timeLine.height+5,text:d,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),k=_.getBBox();return k.minX>c?(_.show(),c=k.minX+k.width+10):_.hide(),_})},r.prototype.renderTimeSelect=function(t,e){var n=this.config,a=n.ticks,o=n.height,s=this.timeLine.width/(a.length-1),l=(0,f.findIndex)(a,function(d){return d===e}),u=this.timeLine.x+l*s,h=this.config.y+o/2,c=o*.15;this.timeSelect?(this.timeSelect.attr("x",u),this.timeSelect.attr("y",h),this.timeSelect.attr("r",c)):this.timeSelect=t.addShape("circle",{attrs:{x:u,y:h,r:c,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",u),this.timeSelectText.attr("y",h-o*.15-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:u,y:h-o*.15-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},r.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},r.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var n=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[n]&&(this.currentTick=this.config.ticks[n],this.timeSelectText.attr("text",this.currentTick),this.emit(JE,this.currentTick)),this.getCanvas().draw()},r.prototype.syncCurrnentTick=function(){var t=this,e=this.config.ticks,n=this.timeLine.width/(e.length-1),a=(0,f.findIndex)(e,function(s){return s===t.currentTick}),o=this.timeLine.x+a*n;this.timeSelect.attr("x",o),this.timeSelectText.attr("x",o),this.getCanvas().draw()},r.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame(function(){var e=t.config,n=e.speed,a=e.ticks,o=t.timeLine.width,s=o/a.length,l=s/(n*1e3/60);t.setTimeSelectX(l),t.isPlay&&(t.playHandler=t.startPlay())})},r.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit(Ed,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit(Ad,null))),this.getCanvas().draw()},r.prototype.initEvent=function(){var t=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",function(e){t.onTimeSelectMouseDown(e)})},r}(bs),nA=rA,iA=40;function _d(i){return(0,J.__assign)({loop:!1,auto:!0,height:iA,padding:[0,20,0,0],speed:2},i)}var aA=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=_d(e),a=n.padding[0],o=n.padding[2];return new Br(t.minX,t.maxY-n.height-a-o,t.width,n.height+a+o)},r.prototype.setAnimate=function(t){var e=this.view.geometries;this.view.animate(t),e.forEach(function(n){n.animate(t)})},r.prototype.start=function(){},r.prototype.renderTimeLine=function(){var t=this;this.config=_d(this.getInteractionConfig());var e=this.view.viewBBox,n=this.config,a=n.loop,o=n.padding,s=n.speed,l=o[0],u=o[1],h=o[2],c=o[3],d=this.getRange(),y=this.getTicks(),_=e.width-c-u,k={x:e.minX+c,y:d.tl.y+l,width:_,height:d.height-l-h,loop:a,ticks:y,speed:s,defaultCurrentTick:y[0]};this.timeline?(0,f.isEqual)(k,this.timeLineConfig)||(this.timeLineConfig=k,this.timeline.update(k)):(this.container=this.canvas.addGroup(),this.timeline=new nA((0,J.__assign)({container:this.container},k)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(y[0])),this.timeLineConfig=k)},r.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},r.prototype.getFilterData=function(t){var e=this.config.field,n=this.getViewLayer().options.data;return n.filter(function(a){return a[e]===t})},r.prototype.getTicks=function(){var t=this.config.field,e=this.getViewLayer().options.data;return(0,f.uniq)(e.map(function(n){return n[t]}))},r.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(tn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(tn.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(tn.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(tn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},r.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},r}(ca),oA=aA;function sA(i,r){var t=[1,0,0,0,1,0,0,0,1],e=vn.transform(t,r);i.setMatrix(e)}function Yo(i,r){var t=r?(0,f.clone)(r):[1,0,0,0,1,0,0,0,1];return vn.transform(t,i)}function Td(i,r,t,e){var n=e?(0,f.clone)(e):[1,0,0,0,1,0,0,0,1];n[6]=r,n[7]=t,i.setMatrix(n)}function lA(i,r,t){Wv.translate(i,r,t)}function BG(i,r){Util.rotate(i,r)}var uA=document.createElement("canvas"),Pd=uA.getContext("2d"),Ml=(0,f.memoize)(function(i,r){r===void 0&&(r={});var t=r.fontSize,e=r.fontFamily,n=r.fontWeight,a=r.fontStyle,o=r.fontVariant;return Pd.font=[a,o,n,t+"px",e].join(" "),Pd.measureText((0,f.isString)(i)?i:"").width},function(i,r){return r?(0,J.__spreadArrays)([i],(0,f.values)(r)).join(""):i}),Ld=function(i,r,t){var e=16,n=Ml("...",t),a;(0,f.isString)(i)?a=i:a=(0,f.toString)(i);var o=r,s=[],l,u;if(Ml(i,t)<=r)return i;for(;l=a.substr(0,e),u=Ml(l,t),!(u+n>o&&u>o);)if(s.push(l),o-=u,a=a.substr(e),!a)return s.join("");for(;l=a.substr(0,1),u=Ml(l,t),!(u+n>o);)if(s.push(l),o-=u,a=a.substr(1),!a)return s.join("");return s.join("")+"..."},On;(function(i){i.TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",i.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",i.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",i.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",i.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",i.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",i.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",i.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",i.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",i.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",i.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value"})(On||(On={}));var El;(function(i){i.ON_SELECT_ITEM="onSelectItem"})(El||(El={}));var ro;(function(i){i[i.LARGE=12]="LARGE",i[i.NORMAL=8]="NORMAL",i[i.SMALL=4]="SMALL"})(ro||(ro={}));var fA=160,hA=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.curX=0,t.curY=0,t.offsetX=0,t.scrollWidth=0,t.onBodyGroupMousemove=function(e){var n=vA(e.target,function(o){return o.get("name")===On.TOOLTIP_INDICATOR_ITEM_GROUP});if(n){var a=n.get("delegateObject");t.doSelectItem(a.item.id)}},t.onWheel=function(e){var n=t.config.width,a=n===void 0?0:n,o=e.deltaX,s=Math.min(t.scrollWidth-a,0)-(t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2)),l=Math.max(t.scrollWidth-a,0)+t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2),u=(0,f.clamp)(t.offsetX+o,s,l);u!==t.offsetX&&(lA(t.bodyGroup,t.offsetX-u,0),t.offsetX=u)},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.selectItem=function(t){this.doSelectItem(t)},r.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},r.prototype.initConfig=function(t){var e,n=t.theme,a=n===void 0?{}:n,o={x:0,y:0,title:{text:"",spacingY:ro.NORMAL,style:{}},line:{spacingX:ro.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:ro.SMALL,style:{}},itemName:{spacingX:ro.NORMAL,spacingY:ro.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:ro.LARGE};this.config=(0,f.deepMix)({},(e=a==null?void 0:a.components)===null||e===void 0?void 0:e.tooltipIndicator,o,t),this.selectedItemId=this.config.selectedItem},r.prototype.renderInner=function(t){var e=this;this.resetRender();var n=this.config,a=n.items,o=n.x,s=n.y,l=[],u=t.addGroup({name:On.TOOLTIP_INDICATOR_INNER});this.renderTitle(u),this.bodyGroup=u.addGroup({name:On.TOOLTIP_INDICATOR_BODY}),a==null||a.forEach(function(h,c){l.push(e.renderItem(e.bodyGroup,h,c))}),this.layoutItems(u),Td(u,o,s),this.applyClip(t),this.bindEvents(u)},r.prototype.renderTitle=function(t){var e=this.config.title;if(e==null?void 0:e.text){var n=t.addShape({type:"text",name:On.TOOLTIP_INDICATOR_TITLE,attrs:(0,J.__assign)({text:e==null?void 0:e.text,textAlign:"left",textBaseline:"top"},(e==null?void 0:e.style)||{})}),a=n.getBBox();return this.curY+=a.height,this.curY+=e.spacingY||0,n}},r.prototype.renderItem=function(t,e,n){var a=this.config.itemBackground,o=t.addGroup({name:On.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:e,index:n}}),s=this.curX,l=this.curY,u=o.addShape({name:On.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:(0,J.__assign)({x:this.curX,y:this.curY,width:1,height:1},a.style||{})}),h=this.renderLine(o,e);this.renderItemTitle(o,e),this.renderItemValues(o,e);var c=o.getBBox();return h.attr({y2:h.attr("y1")+c.height}),this.curX=s+c.width,this.curX+=this.config.itemSpacing||0,u.attr({width:this.curX-s-u.attr("lineWidth")*2,height:this.curY-l-u.attr("lineWidth")*2}),this.curY=l,o},r.prototype.renderLine=function(t,e){var n=this.config.line,a=n.width||2,o=(0,J.__assign)({x1:this.curX+a/2,y1:this.curY,x2:this.curX+a/2,y2:this.curY,lineWidth:a,stroke:e.color},(n==null?void 0:n.style)||{}),s=t.addShape({name:On.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:o}),l=s.getBBox();return this.curX+=l.width,this.curX+=n.spacingX||0,s},r.prototype.renderItemTitle=function(t,e){var n=this.config.itemTitle,a=Ld(e.title,fA,n.style||{}),o=t.addShape({name:On.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:(0,J.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:a},n.style||{})}),s=o.getBBox();return this.curY+=s.height,this.curY+=n.spacingY||0,o},r.prototype.renderItemValues=function(t,e){var n=this,a,o=t.addGroup({name:On.TOOLTIP_INDICATOR_ITEM_BODY}),s=this.curX;return(a=e.values)===null||a===void 0||a.forEach(function(l,u){var h=o.addGroup({name:On.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:e,valueIndex:u}});n.curX=s,n.renderItemValueName(h,l),n.renderItemValueValue(h,l)}),this.layoutItemValues(o),o},r.prototype.renderItemValueName=function(t,e){var n=this.config.itemName;if(e.name){var a=t.addShape({name:On.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:(0,J.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.name},n.style||{})}),o=a.getBBox();return e.wrapLine?(this.curY+=o.height,this.curY+=n.spacingY||0):(this.curX+=o.width,this.curX+=n.spacingX||0),a}},r.prototype.renderItemValueValue=function(t,e){var n=this.config,a=n.itemName,o=n.itemValue,s=t.addShape({name:On.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:(0,J.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.value},o.style||{})}),l=s.getBBox();return this.curY+=l.height,this.curY+=a.spacingY||0,s},r.prototype.layoutItems=function(t){var e=t.findAllByName(On.TOOLTIP_INDICATOR_BODY)[0],n=t.findAllByName(On.TOOLTIP_INDICATOR_ITEM_GROUP);if(!(!e||n.length===0)){var a=e.getBBox();this.scrollWidth=a.width}},r.prototype.layoutItemValues=function(t){var e=t.findAllByName(On.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),n=e.map(function(l){return Br.fromBBoxObject(l.getBBox())}),a=t.findAllByName(On.TOOLTIP_INDICATOR_ITEM_VALUE),o=a.map(function(l){return Br.fromBBoxObject(l.getBBox())}),s=Math.max.apply(Math,o.map(function(l){return l.maxX}));e.forEach(function(l,u){var h=n[u],c=l.findAllByName(On.TOOLTIP_INDICATOR_ITEM_NAME)[0],d=l.findAllByName(On.TOOLTIP_INDICATOR_ITEM_VALUE)[0];if(c&&d){var y=Br.fromBBoxObject(c.getBBox()),_=Br.fromBBoxObject(d.getBBox());y.height<h.height&&c.attr("y",c.attr("y")+(h.height-y.height)/2),_.height<h.height&&d.attr("y",d.attr("y")+(h.height-_.height)/2),_.maxX<s&&d.attr("x",d.attr("x")+s-_.maxX)}})},r.prototype.applyClip=function(t){var e=this.config,n=e.x,a=e.y,o=e.width,s=e.height,l=t.getBBox();(o||s)&&t.setClip({type:"rect",attrs:{x:n,y:a,width:o||l.width,height:s||l.height}})},r.prototype.doSelectItem=function(t){var e=this,n=this.getGroup(),a=n.findAllByName(On.TOOLTIP_INDICATOR_ITEM_GROUP);t!==this.selectedItemId?(a.forEach(function(o){var s=o.get("delegateObject");s&&e.applyItemStyle(o,s.item.id===t?"selected":"inactive")}),this.selectedItemId=t):(a.forEach(function(o){e.applyItemStyle(o)}),this.selectedItemId=void 0),this.emit(El.ON_SELECT_ITEM,this.selectedItemId)},r.prototype.applyItemStyle=function(t,e){var n=this.config,a=n.line,o=n.itemTitle,s=n.itemName,l=n.itemValue,u=t.findAllByName(On.TOOLTIP_INDICATOR_ITEM_LINE)[0],h=t.findAllByName(On.TOOLTIP_INDICATOR_ITEM_TITLE)[0],c=t.findAllByName(On.TOOLTIP_INDICATOR_ITEM_NAME),d=t.findAllByName(On.TOOLTIP_INDICATOR_ITEM_VALUE),y=e&&e+"Style";u&&(u.attr(a.style),u.attr(a[y]||{})),h&&(h.attr(o.style),h.attr(o[y]||{})),c.forEach(function(_){_.attr(s.style),_.attr(s[y]||{})}),d.forEach(function(_){_.attr(l.style),_.attr(l[y]||{})})},r.prototype.bindEvents=function(t){var e=this;this.offEvents();var n=t.findAllByName(On.TOOLTIP_INDICATOR_BODY)[0];n.on("mousemove",this.onBodyGroupMousemove),this.addDisposable(function(){n.off("mousemove",e.onBodyGroupMousemove)}),this.gm=new Zv(n),this.wheel=new GM(n),this.wheel.on("wheel",this.onWheel)},r.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},r.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},r}(bs),cA=hA;function vA(i,r){for(var t=i;t;){if(r(t))return t;t=t.getParent()}}function dA(i,r){return(0,f.filter)(i.geometries,function(t){return t.type===r})}function no(i,r){return(0,f.head)(dA(i,r))}function pA(i){return(0,f.map)(i.elements,function(r){return r.shape})}function DG(i,r){i.geometries.forEach(r)}function Nf(i,r){i.geometries.forEach(function(t){t.elements.forEach(function(e){r(e)})})}function gA(i,r,t){return(0,f.some)(r,function(e){return t(e.get(Ki),i.get(Ki))})}function Al(i,r){var t=i.getBBox(),e=0,n=0;t.minX<r.minX?e=t.minX-r.minX:t.maxX>r.maxX&&(e=t.maxX-r.maxX),e&&i.attr("x",i.attr("x")-e),t.minY<r.minY?n=t.minY-r.minY:t.maxY>r.maxY&&(n=t.maxY-r.maxY),n&&i.attr("y",i.attr("y")-n)}function Gf(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function _l(i,r){var t=i.getBBox();return(0,f.some)(r,function(e){var n=e.getBBox();return Gf(t,n,2)>0})}var Od=8,Id=function(i){i===void 0&&(i={});var r=(0,J.__assign)({showTotal:!1,showPercent:!1,padding:[Od,24,Od,24],height:i.showPercent?72:54},i);return r},zo;(function(i){i.ACTIVE_ELEMENT="tooltip_indicator_active_element",i.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x"})(zo||(zo={}));var yA=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.state="selected",t.isSingle=!1,t}return r.prototype.active=function(){var t=zM.getCurrentElement(this.context);t.hasState("selected")?this.isSingle?this.setStateByX(t):this.setState(t):this.setStateByX(t)},r.prototype.setState=function(t){var e=this;Nf(this.getView(),function(n){n===t?n.hasState(e.state)||n.setState(e.state,!0):n.setState(e.state,!1)}),this.isSingle=!0,this.getView().emit(zo.ACTIVE_ELEMENT,{element:t,isSingle:!0})},r.prototype.setStateByX=function(t){var e=this,n=this.getXField(),a=t.getData()[n];Nf(this.getView(),function(o){o.getData()[n]===a?o.hasState(e.state)||o.setState(e.state,!0):o.setState(e.state,!1)}),this.isSingle=!1,this.getView().emit(zo.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},r.prototype.setStateByField=function(t,e){var n=this,a=this.getView().getXScale().field,o=this.getView().getGroupScales()[0].field;Nf(this.getView(),function(s){var l=s.getData();s.setState(n.state,l[a]===t&&(e===void 0||l[o]===e))})},r.prototype.getView=function(){return this.context.view},r.prototype.getXField=function(){var t=this.context.view;return t.getXScale().field},r}(Kr);Ar("tooltip-indicator",yA),pn("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var mA=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onElementActive=function(e){var n=e.element,a=e.isSingle,o=t.view.getXScale(),s=t.view.getXScale().field,l=t.view.getGroupScales()[0].field,u=n.getData(),h=u[s],c=t.getLegendItems(h);t.component.update({items:c,title:{text:o.getText(h)}}),t.component.render(),a&&t.component.selectItem(u[l]),t.curX=h},t.onSelectTooltipIndicatorItem=function(e){t.component&&e&&t.getInteractionAction().setStateByField(t.curX,e)},t}return r.getInteractionRange=function(t,e){var n=Id(e),a=n.padding,o=a[0],s=a[2];return new Br(t.minX,t.minY,t.width,n.height+o+s)},r.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},r.prototype.render=function(){var t=this,e=this.view,n=function(){var a=t.view.getXScale(),o=(0,f.last)(a.getTicks()).tickValue,s=t.view.padding;(0,f.isEqual)([0,0,0,0],s)||(t.component?t.updateComponent():(t.createComponent(),t.component.on(El.ON_SELECT_ITEM,t.onSelectTooltipIndicatorItem)),t.curX=o,t.component.update({title:{text:a.getText(t.curX)}}),t.component.render(),t.getInteractionAction().setStateByField(o))};e.legend(!1),e.removeInteraction("active-region"),e.removeInteraction("tooltip"),e.interaction("element-tooltip-indicator"),e.on(tn.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),e.on(tn.VIEW_LIFE_CIRCLE.AFTER_RENDER,n),e.on(zo.ACTIVE_ELEMENT,this.onElementActive),e.on(zo.ACTIVE_ELEMENT_BY_X,this.onElementActive)},r.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},r.prototype.createComponent=function(){var t=Id(this.getInteractionConfig()).padding,e=t[0],n=t[1],a=t[2],o=t[3],s=this.getLegendItems(),l=this.getRange(),u=this.view.getXScale(),h=(0,f.last)(u.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new cA({container:this.container,x:l.x+o,y:l.y+e,width:l.width-o-n,height:l.height-e-a,theme:this.getViewLayer().getPlotTheme(),items:s}),this.component.init(),this.getInteractionAction().setStateByField(h)},r.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},r.prototype.getLegendItems=function(t){var e=this.view,n=e.getData(),a=e.getTheme().defaultColor,o=e.getXScale(),s=e.getYScales()[0],l=t||(0,f.last)(o.getTicks()).tickValue,u=e.getLegendAttributes(),h=u.find(function(k){return k.type==="color"}),c=[],d=e.getGroupScales()[0],y=d.field;d&&d.isCategory&&d.getTicks().forEach(function(k){var F=k.text,Y=k.tickValue,G=h.mapping(Y).join("")||a;c.push({id:Y,title:F,color:G,values:[]})});var _=(n==null?void 0:n.filter(function(k){return k[o.field]===l}))||[];return c.forEach(function(k){var F=_.find(function(Y){return Y[y]===k.id});k.values.push({value:s.formatter?s.formatter(F[s.field]):F[s.field]})}),c},r}(ca),xA=mA;ca.registerInteraction("slider",KE),ca.registerInteraction("scrollbar",UE),ca.registerInteraction("timeline",oA),ca.registerInteraction("tooltip-indicator",xA);var kd=ca,bA=function(){function i(r){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=r.plot}return i.prototype.registerPadding=function(r,t,e){t===void 0&&(t="outer"),e===void 0&&(e=!1),t==="inner"?e?this.innerPaddingComponents.find(function(n){return n==r})||this.innerPaddingComponents.push(r):this.innerPaddingComponents.push(r):e?this.outerPaddingComponents.find(function(n){return n==r})||this.outerPaddingComponents.push(r):this.outerPaddingComponents.push(r)},i.prototype.getPaddingComponents=function(r){return r===void 0&&(r="outer"),(r==="outer"?this.outerPaddingComponents:this.innerPaddingComponents)||[]},i.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=(0,f.filter)(this.outerPaddingComponents,function(r){return r.afterRender})},i.prototype.clearOuterComponents=function(){(0,f.each)(this.outerPaddingComponents,function(r){r.afterRender&&r.destroy()}),this.outerPaddingComponents=[]},i.prototype.getPadding=function(){var r=this.plot.options,t=r.padding?r.padding:this.plot.config.theme.padding;return t==="auto"?[0,0,0,1]:t},i.prototype.processAutoPadding=function(){var r=this._getInnerAutoPadding();this.plot.updateConfig({padding:r}),this.plot.render()},i.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new Br(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var r=this.plot.layerBBox.minX,t=this.plot.layerBBox.maxX,e=this.plot.layerBBox.minY,n=this.plot.layerBBox.maxY;return(0,f.each)(this.outerPaddingComponents,function(a){var o=a.position;if(!a.destroyed){var s=a.getBBox(),l=s.minX,u=s.maxX,h=s.minY,c=s.maxY;c>=e&&c<=n&&o==="top"&&(e=c),h>=e&&h<=n&&o==="bottom"&&(n=h),u>r&&u<=t&&o==="left"&&(r=u),l>=r&&u<=t&&o==="right"&&(t=l)}}),new Br(r,e,t-r,n-e)},i.prototype._getInnerAutoPadding=function(){var r,t=this.plot.options,e=this.plot.view,n=e.coordinateBBox,a=n.maxX,o=n.maxY,s=n.minY,l=n.minX,u=this.plot.config.theme.bleeding;(0,f.isArray)(u)&&(0,f.each)(u,function(k,F){typeof u[F]=="function"&&(u[F]=u[F](t))}),this.bleeding=(0,f.clone)(u);var h=[new Br(n.minX,n.minY,n.width,n.height)];((r=this.plot.config.coordinate)===null||r===void 0?void 0:r.type)==="cartesian"&&this._getCartesianAxis(e,h[0],h);var c=this._mergeBBox(h);this._getLegend(e,c,h),c=this._mergeBBox(h);var d=this.innerPaddingComponents;(0,f.each)(d,function(k){var F=k,Y=F.getBBox();h.push(Y)}),c=this._mergeBBox(h);var y=[s-c.minY+this.bleeding[0],c.maxX-a+this.bleeding[1],c.maxY-o+this.bleeding[2],l-c.minX+this.bleeding[3]],_=this._getPanel(e);return y[0]+=_[0],y[1]+=_[1],y[2]+=_[2],y[3]+=_[3],y},i.prototype._getCartesianAxis=function(r,t,e){var n=tE(r),a=r.getCoordinate().isTransposed;(0,f.each)(n,function(o){if(o.get("group").get("children").length!==0){var s=o.get("position"),l=o.getLayoutBBox(),u=l.minX,h=l.minY,c=l.width,d=l.height;a?s==="bottom"?e.push(new Br(t.minX-c,h,c,d)):s==="left"?e.push(new Br(u,t.maxY,c,d)):s==="top"&&e.push(new Br(t.maxX,h,c,d)):s==="left"?e.push(new Br(t.minX-c,h,c,d)):s==="bottom"?e.push(new Br(u,t.maxY,c,d)):s==="right"&&e.push(new Br(t.maxX,h,c,d))}})},i.prototype._getLegend=function(r,t,e){var n=eE(r);(0,f.each)(n,function(a){var o=a.get("position").split("-")[0],s=a.getLayoutBBox(),l=s.minX,u=s.minY,h=s.width,c=s.height;o==="top"?e.push(new Br(l,t.minY-c,h,c)):o==="bottom"?e.push(new Br(l,t.maxY,h,c)):o==="left"?e.push(new Br(t.minX-h,u,h,c)):e.push(new Br(t.maxX,u,h,c))})},i.prototype._getPanel=function(r){var t=[],e=r.geometries;(0,f.each)(e,function(_){_.labelsContainer&&t.push(_.labelsContainer)});var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;(0,f.each)(t,function(_){var k=_.get("children");k.forEach(function(F){if(!(F.type==="group"&&F.get("children").length===0)){var Y=F.getBBox();Y.minX<n&&(n=Y.minX),Y.maxX>a&&(a=Y.maxX),Y.minY<o&&(o=Y.minY),Y.maxY>s&&(s=Y.maxY)}})});var l=r.coordinateBBox,u=Math.max(a-parseFloat(l.maxX),0);if(u>0){var h=l.width/(l.width+u);u*=h}var c=Math.max(parseFloat(l.minX)-n,0);if(c>0){var h=l.width/(l.width+c);c*=h}var d=Math.max(parseFloat(l.minY)-o,0);if(d>0){var h=l.height/(l.height+d);d*=h}var y=Math.max(s-parseFloat(l.maxY),0);if(y>0){var h=l.height/(l.height+y);y*=h}return[d,u,y,c]},i.prototype._mergeBBox=function(r){var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity;return(0,f.each)(r,function(o){var s=o;t=Math.min(s.minX,t),e=Math.max(s.maxX,e),n=Math.min(s.minY,n),a=Math.max(s.maxY,a)}),{minX:t,maxX:e,minY:n,maxY:a}},i}(),wA=bA,SA="#5B8FF9",CA=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],MA=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],Bd=function(i){return i&&i.split("-")[0]==="top"?12:24},Dd=function(i){var r=i.title&&i.title.visible,t=i.description&&i.description.visible;return r||t?12:24},Fd=function(i){return(0,f.some)(i.interactions||[],function(r){return(r.type==="slider"||r.type==="scrollbar")&&(r.cfg&&r.cfg.type)!=="vertical"})?8:24},Rd={width:400,height:400,bleeding:[Dd,24,Fd,24],padding:"auto",defaultColor:SA,colors:CA,colors_20:MA,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Bd,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}},EA={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[Dd,24,Fd,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Bd,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}},Nd={default:Rd,dark:EA};function FG(i,r){var t=xi();Nd[i.toLowerCase()]=deepMix({},t,r)}function xi(i){i===void 0&&(i="default");var r=Nd[i.toLowerCase()];return r||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",i),Rd)}var Gd={};function Yd(i,r){var t={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},e={};i==="area"&&(t={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var n={};return(0,f.each)(r,function(a,o){var s;if((0,f.has)(t,o)){var l=t[o];(0,f.each)(a,function(u,h){(0,f.set)(n,l+"."+[h==="normal"?"default":h==="disable"?"inactive":h]+".style",u)})}else e=(0,f.deepMix)({},e,(s={},s[o]=a,s))}),(0,f.isEmpty)(n)||(e=(0,f.deepMix)({},e,{geometries:n})),e}function Ni(i,r){Gd[i.toLowerCase()]=Yd(i,r)}function zd(i){return Gd[i.toLowerCase()]||{}}function AA(i){var r=(0,f.clone)(i);return r.legend||(r.legend={}),r}var Yf={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}},Xd={default:Yf};function Vd(i,r){Xd[i.toLowerCase()]=(0,f.deepMix)({},Yf,r)}function Hd(i){var r=Xd[i.toLowerCase()];return r||Yf}var _A=Pt(),TA=function(){function i(){}return i.getGlobalTheme=function(r){return(0,f.isString)(r)?xi(r):(0,f.deepMix)({},xi(),r)},i.prototype.getPlotTheme=function(r,t){var e=r.theme;return(0,f.isString)(e)?(0,f.deepMix)({},xi(e),zd(t)):(0,f.deepMix)({},xi(),zd(t),Yd(t,e))},i.prototype.getTheme=function(r,t){var e=AA(this.getPlotTheme(r,t)),n=(0,f.deepMix)({},_A,e);return n},i.prototype.getResponsiveTheme=function(r){return Hd(r)||Hd("default")},i}(),zf=TA,PA=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.interactions=[],e.labels=[],e.options=e.getOptions(t),e.initialOptions=(0,f.deepMix)({},e.options),e.paddingController=new wA({plot:e}),e.stateController=new TE({plot:e}),e.themeController=new zf,e}return r.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t),o=(0,f.reduce)((0,f.flatten)((0,f.map)([n,a,(0,f.hasKey)(t,"interactions")?t:e],function(s){return(0,f.get)(s,"interactions",[])})),function(s,l){var u=(0,f.findIndex)(s,function(h){return h.type===l.type});return u>=0&&s.splice(u,1),(0,J.__spreadArrays)(s,[l])},[]);return(0,f.deepMix)({},n,a,e,t,{interactions:o})},r.prototype.beforeInit=function(){this.emit(Sa.BEFORE_INIT),i.prototype.beforeInit.call(this)},r.prototype.init=function(){var t=this;i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var e=this.viewRangeToRegion(this.viewRange);this.view=new Nu({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:e}),this.applyInteractions(),this.view.on(tn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this),!(!this.view||this.view.destroyed)&&(this.options.padding!=="auto"&&this.parseEvents(),this.emit(Sa.AFTER_INIT))},r.prototype.afterRender=function(){var t,e;if(!(!this.view||this.view.destroyed)){var n=this.options,a=n.padding?n.padding:this.config.theme.padding;n.defaultState&&a!=="auto"&&this.stateController.defaultStates(n.defaultState),a==="auto"&&this.paddingController.processAutoPadding(),((e=(t=n.tooltip)===null||t===void 0?void 0:t.custom)===null||e===void 0?void 0:e.onChange)&&n.padding!=="auto"&&this.customTooltip()}},r.prototype.render=function(){this.emit(Sa.BEFORE_RENDER),i.prototype.render.call(this);var t=this.options.data;(0,f.isEmpty)(t)||this.view.render(),this.emit(Sa.AFTER_RENDER)},r.prototype.repaint=function(){this.canvas&&this.canvas.draw()},r.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},r.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options;if((0,f.contains)(t,"colorField"))return this.view.getScaleByField(t)},r.prototype.getShapes=function(){var t=this.view.geometries,e={};return(0,f.each)(t,function(n){var a=n.type;e[a]=n.getShapes()}),e},r.prototype.destroy=function(){this.doDestroy(),i.prototype.destroy.call(this)},r.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&this.initialOptions.padding==="auto"&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){this.emit(Sa.BEFORE_CHANGE_DATA);var e=(0,f.isEmpty)(this.options.data);this.options.data=this.processData(t),e?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data),this.emit(Sa.AFTER_CHANGE_DATA)},r.prototype.getPlot=function(){return this.view},r.prototype.getLabels=function(){return this.labels},r.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},r.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},r.prototype.getInteractions=function(){return this.interactions},r.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},r.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},r.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},r.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},r.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},r.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},r.prototype.processData=function(t){return t},r.prototype.scale=function(){var t=(0,f.mapValues)(this.config.scales,function(n){var a=n.type;return a?{type:a}:{}}),e=(0,f.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},r.prototype.axis=function(){var t=ci("axis",{plot:this,dim:"x"}),e=ci("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.tooltip=function(){var t,e;if(this.options.tooltip.visible===!1){this.setConfig("tooltip",!1);return}var n=(0,f.get)(this.options,"tooltip");((t=n.custom)===null||t===void 0?void 0:t.container)&&(n.container=n.custom.container),((e=n.custom)===null||e===void 0?void 0:e.customContent)&&(n.customContent=n.custom.customContent),this.setConfig("tooltip",(0,f.deepMix)({},n)),(0,f.deepMix)(this.config.theme.tooltip,this.options.tooltip.domStyles)},r.prototype.createTooltipContainer=function(){var t=document.createElement("div");return t.className="g2-tooltip",t},r.prototype.customTooltip=function(){var t=this.options.tooltip.custom,e;t.container&&(e=(0,f.isString)(t.container)?document.getElementById(t.container):t.container),e||(e=this.createTooltipContainer()),this.view.on("tooltip:show",function(n){(t==null?void 0:t.onChange)&&t.onChange(e,n)}),this.view.hideTooltip(),this.view.on("tooltip:change",function(n){t.onChange(e,n)})},r.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&e.length>1&&e[1]==="center"?e[0]:t},r.prototype.legend=function(){var t;if(this.options.legend.visible===!1){this.setConfig("legends",!1);return}var e=(0,f.deepMix)({},this.theme.legend,this.options.legend),n={position:this.getLegendPosition((0,f.get)(e,"position")),offsetX:(0,f.get)(e,"offsetX"),offsetY:(0,f.get)(e,"offsetY"),flipPage:(0,f.get)(e,"flipPage"),marker:(0,f.get)(e,"marker"),title:((t=e.title)===null||t===void 0?void 0:t.visible)?(0,f.get)(e,"title"):null,itemName:(0,f.get)(e,"text")};this.setConfig("legends",n)},r.prototype.annotation=function(){var t=this,e=[];this.config.coordinate.type==="cartesian"&&this.options.guideLine&&(0,f.each)(this.options.guideLine,function(n){var a=ci("guideLine",{plot:t,cfg:n});e.push(a)}),this.setConfig("annotations",e)},r.prototype.interaction=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e;(0,f.each)(n,function(a){var o=a.type;if(o==="slider"||o==="scrollbar"){var s={label:{autoHide:!0,autoRotate:!1}};t.options.xAxis=(0,f.deepMix)({},t.options.xAxis,s)}t.setConfig("interaction",a)})},r.prototype.animation=function(){this.options.animation===!1&&this.setConfig("animate",!1)},r.prototype.applyInteractions=function(){var t=this,e=Br.fromBBoxObject(this.layerBBox),n=this.title||this.description,a=new Br(e.minX,e.minY,e.width,n?n.getBBox().maxY:0);e=e.cut(a,tn.DIRECTION.TOP);var o=this.options.interactions,s=o===void 0?[]:o;this.interactions&&this.interactions.forEach(function(l){l.destroy()}),this.interactions=[],s.forEach(function(l){var u=kd.getInteraction(l.type,t.type);if(u){var h=new u({view:t.view},t,u.getInteractionRange(e,l.cfg),l.cfg);h.render(),t.interactions.push(h)}})},r.prototype.setConfig=function(t,e){if(t==="geometry"){this.config.geometries.push(e);return}if(t==="interaction"){this.config.interactions.push(e);return}if(e===!1){this.config[t]=!1;return}(0,f.assign)(this.config[t],e)},r.prototype.parseEvents=function(t){var e=this,n=this.options;if(n.events){i.prototype.parseEvents.call(this,n.events);var a=t?t.EVENT_MAP:jr;(0,f.each)(n.events,function(o,s){if((0,f.isFunction)(o)){var l=a[s]||s,u=o;Nn(e,l,u)}})}},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),No(t.title)){var n=this.width,a=this.config.theme,o=new pl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,f.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:No(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o,this.paddingController.registerPadding(o,"outer")}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),No(t.description)){var n=this.width,a=this.config.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new pl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,f.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l,this.paddingController.registerPadding(l,"outer")}},r.prototype.doRenderLabel=function(t,e){(0,f.each)(this.labels,function(s){s.destroy()}),this.labels=[];var n={layer:this,container:t.labelsContainer,geometry:t,label:e},a=oE(e.type);if(a){var o=new a(n);o.init(),o.render(),this.labels.push(o)}},r.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},r.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},r.prototype.doDestroyLabels=function(){(0,f.each)(this.labels,function(t){t.destroy()}),this.labels=[]},r.prototype.getViewRange=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e,a=this.paddingController.processOuterPadding();n.forEach(function(s){var l=kd.getInteraction(s.type,t.type),u=l&&l.getInteractionRange(a,s.cfg),h="";u&&(u.maxY===a.maxY&&u.minY>a.minY?h="bottom":u.maxX===a.maxX&&u.minX>a.minX?h="right":u.minX===a.minX&&u.maxX>a.maxX?h="left":u.minY===a.minY&&u.maxY<a.maxY&&(h="top"),t.paddingController.registerPadding({interaction:s.type,name:s.type,getBBox:function(){return u},position:h},"outer"))});var o=this.paddingController.processOuterPadding();return o},r.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!((0,f.hasKey)(t,"max")||(0,f.hasKey)(t,"min")||(0,f.hasKey)(t,"maxLimit")||(0,f.hasKey)(t,"minLimit"))},r.prototype.viewRangeToRegion=function(t){var e=this,n=e.x,a=e.y,o=e.width,s=e.height,l={x:0,y:0},u={x:1,y:1};return l.x=t.minX/(n+o),l.y=t.minY/(a+s),u.x=t.maxX/(n+o),u.y=t.maxY/(a+s),{start:l,end:u}},r}(dl),In=PA,LA=v(91033),OA=function(){function i(r){var t=this;this.onResize=(0,f.debounce)(function(){if(!t.plot.destroyed){var a=t.getCanvasSize(),o=a.width,s=a.height;t.width===o&&t.height===s||(t.width=o,t.height=s,t.plot.updateConfig({width:o,height:s}),t.plot.render())}},300);var e=r.containerDOM,n=r.plot;this.containerDOM=e,this.plot=n,this.init()}return i.prototype.getCanvasSize=function(){var r=xi(),t=this.plot.width?this.plot.width:r.width,e=this.plot.height?this.plot.height:r.height;return this.plot.forceFit&&(t=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:t,e=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:e),{width:t,height:e}},i.prototype.getCanvasDOM=function(){return this.canvas.get("container")},i.prototype.updateCanvasSize=function(){var r=this.getCanvasSize(),t=r.width,e=r.height;this.width=t,this.height=e,this.canvas.changeSize(t,e)},i.prototype.updateCanvasTheme=function(){var r=this.plot.theme,t=zf.getGlobalTheme(r),e=(0,f.get)(t,"backgroundStyle.fill");e&&this.updateCanvasStyle({backgroundColor:e})},i.prototype.updateCanvasStyle=function(r){(0,It.Z)(this.getCanvasDOM(),r),(0,It.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},i.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},i.prototype.bindForceFit=function(){var r=this.plot.forceFit;r&&(this.resizeObserver=new LA.Z(this.onResize),this.resizeObserver.observe(this.containerDOM))},i.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},i.prototype.initGCanvas=function(){var r=this.plot,t=r.renderer,e=t===void 0?"canvas":t,n=r.pixelRatio,a=r.localRefresh,o=a===void 0?!1:a,s=this.getCanvasSize(),l=s.width,u=s.height,h=e==="canvas"?Kc:iv;this.canvas=new h({localRefresh:o,container:this.containerDOM,width:l,height:u,pixelRatio:n}),this.width=l,this.height=u,this.updateCanvasTheme()},i}(),IA=OA;function kA(i,r){return!!(i&&r&&i===r)}function BA(i,r){return i.x>=r.minX&&i.x<=r.maxX&&i.y>=r.minY&&i.y<=r.maxY}var DA=function(){function i(r){this.plot=r.plot,this.canvas=r.canvas,this.eventHandlers=[]}return i.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"mousemove",(0,f.wrapBehavior)(this,"onMove")),this.addEvent(this.canvas,"mouseup",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"click",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"dblclick",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"wheel",(0,f.wrapBehavior)(this,"onEvents"))},i.prototype.clearEvents=function(){var r=this.eventHandlers;(0,f.each)(r,function(t){t.target.off(t.type,t.handler)})},i.prototype.addEvent=function(r,t,e){r.on(t,e),this.eventHandlers.push({target:r,type:t,handler:e})},i.prototype.onEvents=function(r){var t=this.getEventObj(r),e=r.target;!this.isShapeInView(e)&&e.name&&this.plot.emit(e.name+":"+r.type,r),this.plot.emit(""+r.type,t);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,t,r.type)},i.prototype.onMove=function(r){var t=r.target,e=this.getEventObj(r);!this.isShapeInView(t)&&t.name&&(this.plot.emit(t.name+":"+r.type,e),this.lastShape&&!kA(t,this.lastShape)&&(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",e),this.plot.emit(t.name+":mouseenter",e)),this.lastShape=t),this.plot.emit("mousemove",e);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,e,"mousemove")},i.prototype.isShapeInView=function(r){for(var t=["frontgroundGroup","backgroundGroup","panelGroup"],e=r.get("parent");e;){var n=e.get("name");if(n&&(0,f.contains)(t,n))return!0;e=e.get("parent")}return!1},i.prototype.getEventObj=function(r){var t={clientX:r.clientX,clientY:r.clientY,x:r.x,y:r.y,plot:this.plot,data:r.data?r.data.data:null,canvas:this.canvas,target:r.target,gEvent:r};return t},i.prototype.onLayerEvent=function(r,t,e){var n=this;(0,f.each)(r,function(a){var o=a.getGlobalBBox();if(BA({x:t.x,y:t.y},o)){a.emit(""+e,t);var s=a.layers;s.length>0&&n.onLayerEvent(s,t,e)}})},i}(),FA=DA,Wd={};function zr(i,r){Wd[i.toLowerCase()]=r}function RA(i){return Wd[i.toLowerCase()]}var NA=function(i){(0,J.__extends)(r,i);function r(t,e){var n=i.call(this)||this;return n.containerDOM=typeof t=="string"?document.getElementById(t):t,n.forceFit=(0,f.isNil)(e.forceFit)?(0,f.isNil)(e.width)&&(0,f.isNil)(e.height):e.forceFit,n.renderer=e.renderer||"canvas",n.pixelRatio=e.pixelRatio||null,n.width=e.width,n.height=e.height,n.theme=e.theme,n.localRefresh=e.localRefresh,n.canvasController=new IA({containerDOM:n.containerDOM,plot:n}),n.width=n.canvasController.width,n.height=n.canvasController.height,n.canvas=n.canvasController.canvas,n.layers=[],n.destroyed=!1,n.createLayers(e),n.eventController=new FA({plot:n,canvas:n.canvasController.canvas}),n.eventController.bindEvents(),n.parseEvents(e),n}return r.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},r.prototype.repaint=function(){this.canvasController.canvas.draw()},r.prototype.updateConfig=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof In&&a.updateConfig(t)});else{var n=this.layers[0];n instanceof dl&&n.updateConfig(t)}t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.theme&&(this.theme=t.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},r.prototype.changeData=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof In&&a.changeData(t)});else{var n=this.layers[0];n instanceof In&&n.changeData(t)}},r.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},r.prototype.getXScale=function(){return this.layers[0].getXScale()},r.prototype.getYScale=function(){return this.layers[0].getYScale()},r.prototype.getColorScale=function(){return this.layers[0].getColorScale()},r.prototype.getPlotTheme=function(){var t=this.layers[0];return t.getPlotTheme()},r.prototype.getData=function(){var t=this.layers[0];return t.getData()},r.prototype.bindStateManager=function(t,e){this.eachLayer(function(n){n instanceof In&&n.bindStateManager(t,e)})},r.prototype.setActive=function(t,e){this.eachLayer(function(n){n instanceof In&&n.setActive(t,e)})},r.prototype.setSelected=function(t,e){this.eachLayer(function(n){n instanceof In&&n.setSelected(t,e)})},r.prototype.setDisable=function(t,e){this.eachLayer(function(n){n instanceof In&&n.setDisable(t,e)})},r.prototype.setDefault=function(t,e){this.eachLayer(function(n){n instanceof In&&n.setDefault(t,e)})},r.prototype.getView=function(){return this.layers[0].view},r.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers[t]},r.prototype.getCanvas=function(){return this.canvasController.canvas},r.prototype.getLayers=function(){return this.layers},r.prototype.render=function(){this.eachLayer(function(t){return t.render()})},r.prototype.eachLayer=function(t){(0,f.each)(this.layers,t)},r.prototype.addLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e<0&&this.layers.push(t)},r.prototype.createLayers=function(t){if(!t.layers){if(t.type){var e=RA(t.type),n=(0,f.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}),a=new e(n);this.addLayer(a)}}},r.prototype.parseEvents=function(t){var e=this,n=(0,f.keys)(td);t.events&&(0,f.each)(t.events,function(a,o){if((0,f.contains)(n,o)&&(0,f.isFunction)(a)){var s=td[o]||o,l=a;e.on(s,l)}})},r}(Xt.default),Ir=NA,GA=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},i}(),ws=GA,YA=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();if(n&&(e.fields=n),(0,f.has)(t,"color")){var a=t.color;(0,f.isString)(a)?e.values=[a]:(0,f.isFunction)(a)?e.callback=a:(0,f.isArray)(a)&&(n?e.values=a:a.length>0&&(e.values=[a[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,n={};(0,f.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return[t[o]]}},r}(ws),jd=YA;function zA(i,r){var t=[];if(i.length){for(var e=0,n=i.length;e<n;e+=1){var a=i[e],o=e===0?"M":"L";t.push([o,a.x,a.y])}r&&t.push(["Z"])}return t}function Ud(i,r){var t=i.getCenter(),e=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return e}function Xf(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convertPoint({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function XA(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",h=Math.abs(s[u]-o[u])*(a-n),c=s[u]>=o[u]?1:0,d=h>Math.PI?1:0,y=t.convertPoint(s),_=Ud(t,y);if(_>=.5)if(h===Math.PI*2){var k={x:(s.x+o.x)/2,y:(s.y+o.y)/2},F=t.convertPoint(k);l.push(["A",_,_,0,d,c,F.x,F.y]),l.push(["A",_,_,0,d,c,y.x,y.y])}else l.push(["A",_,_,0,d,c,y.x,y.y]);return l}function VA(i){each(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var HA=function(i,r,t,e){var n=[],a,o,s=!!e,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var d=i[h];l=Ne.min([0,0],l,d),u=Ne.max([0,0],u,d)}l=Ne.min([0,0],l,e[0]),u=Ne.max([0,0],u,e[1])}for(var h=0,y=i.length;h<y;h++){var d=i[h];if(t)a=i[h?h-1:y-1],o=i[(h+1)%y];else if(h===0||h===y-1){n.push(d);continue}else a=i[h-1],o=i[h+1];var _=[0,0];_=Ne.sub(_,o,a),_=Ne.scale(_,_,r);var k=Ne.distance(d,a),F=Ne.distance(d,o),Y=k+F;Y!==0&&(k/=Y,F/=Y);var G=Ne.scale([0,0],_,-k),ut=Ne.scale([0,0],_,F),ft=Ne.add([0,0],d,G),Tt=Ne.add([0,0],d,ut);s&&(ft=Ne.max([0,0],ft,l),ft=Ne.min([0,0],ft,u),Tt=Ne.max([0,0],Tt,l),Tt=Ne.min([0,0],Tt,u)),n.push(ft),n.push(Tt)}return t&&n.push(n.shift()),n};function WA(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=HA(n,.4,e,t),l=n.length,u=[],h,c,d,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],d=n[a+1],u.push(["C",h[0],h[1],c[0],c[1],d[0],d[1]]);return e&&(h=s[l],c=s[l+1],d=n[0],u.push(["C",h[0],h[1],c[0],c[1],d[0],d[1]])),u}function jA(i,r){return zA(i,r)}function Vf(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return jA(i,r);(0,f.each)(i,function(l){(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)});var o=t||[[0,0],[1,1]],s=WA(e,r,o);return s.unshift(["M",n.x,n.y]),s}function RG(i,r){return Ud(i,r)}function NG(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function GG(i,r){var t=[];return each(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(Xf(e,i));break;case"z":default:t.push(e);break}}),t}function YG(i,r){var t=[],e,n,a,o;return each(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(Xf(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(XA(e,n,i)):t.push(Xf(s,i));break;case"z":default:t.push(s);break}}),VA(t),t}Jr("area","miniArea",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=Zd(i,this,!1),n=(0,f.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),a=r.addShape("path",{attrs:{path:e,fill:$d(i.color||xi().defaultColor),opacity:t||.4},style:n});return a}}),Jr("area","miniAreaSmooth",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=Zd(i,this,!0),n=r.addShape("path",{attrs:{path:e,fill:$d(i.color||xi().defaultColor),opacity:t||.5}});return n}});function Zd(i,r,t){var e=[[0,0],[1,1]],n=[],a=[];(0,f.each)(i.points,function(u){n.push(u[1]),a.push(u[0])}),a=r.parsePoints(a.reverse()),n=kf(r.parsePoints(n));var o=t?Vf(n,!1,e):Kd(n),s=Kd(a);s[0][0]="L";var l=o.concat(s);return l}function Kd(i){for(var r=[],t=0;t<i.length;t++){var e=i[t],n=t===0?"M":"L";r.push([n,e.x,e.y])}return r}function $d(i){return"l(90) 0:"+i+" 1:#ffffff"}var UA=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},r}(jd),ZA=UA,KA={main:jd,mini:ZA},Qd=["colorField","stackField","groupField"],$A=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.type="interval",i.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var n=this._getStyleProps(t);n&&this.parseStyle(n)},r.prototype.parseColor=function(){var t=this.plot.options,e=this._getColorMappingField(t),n={};e&&(n.fields=e),t.color&&((0,f.isString)(t.color)?n.values=[t.color]:(0,f.isFunction)(t.color)?n.callback=t.color:(0,f.isArray)(t.color)?e?n.values=t.color:t.color.length>0&&(n.values=[t.color[0]]):(0,f.isObject)(t.color)&&(n.fields=e,n.callback=function(a){return t.color[a]})),this.config.color=n},r.prototype.parseSize=function(t){var e=this.plot.options,n={};(0,f.isFunction)(e[t])?(n.fields=[this.config.position.fields],n.callback=e[t]):n.values=[e[t]],this.config.size=n},r.prototype.parseStyle=function(t){var e=this.plot.options,n=this.config.color,a=this.plot.options[t],o={};(0,f.isFunction)(a)?(o.fields=(n==null?void 0:n.fields)||[e.xField,e.yField],o.callback=a):o.cfg=a,this.config.style=o},r.prototype._getSizeProps=function(t){for(var e=["columnSize","barSize"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return o}},r.prototype._getStyleProps=function(t){for(var e=["columnStyle","barStyle","pieStyle","ringStyle"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return o}},r.prototype._getColorMappingField=function(t){for(var e=0,n=Qd;e<n.length;e++){var a=n[e];if((0,f.get)(t,a))return[t[a]]}},r.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,n=Qd;e<n.length;e++){var a=n[e];if(t[a])return!0}return!1},r}(ws),QA=$A,JA={main:QA},qA=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),(t.lineStyle||(0,f.get)(t,["line","style"]))&&this.parseStyle()},r.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};(0,f.isFunction)(t)?e.callback=t:e.values=[t],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={};if(t.seriesField&&(e.fields=[t.seriesField]),(0,f.has)(t,"color")){var n=t.color;(0,f.isString)(n)?e.values=[n]:(0,f.isFunction)(n)?e.callback=n:(0,f.isArray)(n)&&(t.seriesField?e.values=n:n.length>0&&(e.values=[n[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle||(0,f.get)(t,["line","style"]),n={fields:null,callback:null,cfg:null};(0,f.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r}(ws),Hf=qA,t_=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;!t.xField||!t.yField||(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();n&&(e.fields=n),t.line.color?e.values=[t.line.color]:(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?(e.fields=n,e.callback=t.color):(0,f.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]])),this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.line.style,n={};(0,f.isFunction)(e)?(n.fields=this.config.position.fields,n.callback=e):n.cfg=e,this.config.style=n},r.prototype._needParseAttribute=function(t){var e=this.plot.options;return e[t]?!0:!!e.line[t]},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return[t[o]]}},r}(Hf),e_=t_;Jr("line","miniLine",{draw:function(i,r){for(var t=kf(i.points),e=[],n=0;n<t.length;n++){var a=t[n],o=n===0?"M":"L";e.push([o,a.x,a.y])}var s=(0,f.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),l=r.addShape("path",{attrs:(0,f.mix)({path:e,stroke:i.color||xi().defaultColor,lineWidth:i.size||2},s)});return l}}),Jr("line","miniLineSmooth",{draw:function(i,r){var t=kf(i.points),e=[[0,0],[1,1]],n=Vf(t,!1,e),a=r.addShape("path",{attrs:(0,f.mix)({path:n,stroke:i.color||xi().defaultColor,lineWidth:i.size||2},i.style)});return a}});var r_=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},r}(Hf),n_=r_,i_={main:Hf,guide:e_,mini:n_},a_=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=t.colorField;n&&(e.fields=(0,f.isArray)(n)?n:[n]),t.color&&this._parseColor(t,e),(0,f.isEmpty)(e)||(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=(0,f.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},r.prototype.parseShape=function(t){this.config.shape=t},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,n={fields:null,callback:null,cfg:null},a=t.xField,o=t.yField,s=t.colorField;(0,f.isFunction)(e)?(s?n.fields=(0,f.isArray)(s)?[a,o,s].concat(s):[a,o,s]:n.fields=[a,o],n.callback=e):(n.cfg=e,(0,f.isNil)(e.opacity)||(n.cfg.fillOpacity=e.opacity)),this.config.style=n},r.prototype._parseColor=function(t,e){(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?e.callback=t.color:(0,f.isArray)(t.color)&&(e.values=t.color)},r}(ws),o_=a_;function s_(i,r){var t=[];return(0,f.each)(r,function(e){var n=e[i];t.push(n)}),(0,f.uniq)(t)}var l_=["seriesField","stackField"],u_=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField(t);if(n)this._parseColorByField(t,e,n);else if(t.point&&t.point.color)e.values=[t.point.color];else if(t.color)this._parseColor(t,e);else{var a=this.plot.getTheme();e.values=[a.defaultColor]}(0,f.keys)(e).length>0&&(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},r.prototype.parseShape=function(t){var e={};(0,f.isString)(t)?e.values=[t]:(0,f.isObject)(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,n={fields:null,callback:null,cfg:null},a=this._getColorMappingField(t);(0,f.isFunction)(e)?(n.fields=[t.xField,t.yField],n.callback=e,a&&n.fields.unshift(a)):n.cfg=e,this.config.style=n},r.prototype._parseColorByField=function(t,e,n){if(e.fields=[n],t.point.color){for(var a=s_(n,t.data).length,o=[],s=0;s<a;s++)o.push(t.point.color);e.values=o}else t.color&&this._parseColor(t,e)},r.prototype._parseColor=function(t,e){var n=this._getColorMappingField(t);(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?e.callback=t.color:(0,f.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]]))},r.prototype._needParseAttribute=function(t){var e=this.plot.options,n=e.point&&(0,f.has)(e.point,t);return n},r.prototype._getColorMappingField=function(t){for(var e=0,n=l_;e<n.length;e++){var a=n[e];if((0,f.get)(t,a))return[t[a]]}},r}(ws),f_=u_,h_={guide:f_,circle:o_},c_={area:KA,line:i_,point:h_,interval:JA};function Dn(i,r,t){var e=c_[i][r];return new e(t).config}function v_(i){var r=jM,t=i.split(" "),e=r[t[1]],n=parseInt(t[0],10);return[e.format,n*e.value]}function Zn(i,r){if(!r)return i;Object.prototype.hasOwnProperty.call(r,"tickCount")&&(i.tickCount=r.tickCount),Object.prototype.hasOwnProperty.call(r,"type")&&r.type!=="dateTime"&&(i.type=r.type),Object.prototype.hasOwnProperty.call(r,"tickInterval")&&(r.type==="time"?i.tickInterval=v_(r.tickInterval):i.tickInterval=r.tickInterval),r.type==="time"&&r.mask&&(i.mask=r.mask),Object.prototype.hasOwnProperty.call(r,"min")&&(i.min=r.min),Object.prototype.hasOwnProperty.call(r,"max")&&(i.max=r.max),Object.prototype.hasOwnProperty.call(r,"minLimit")&&(i.minLimit=r.minLimit),Object.prototype.hasOwnProperty.call(r,"maxLimit")&&(i.maxLimit=r.maxLimit),Object.prototype.hasOwnProperty.call(r,"nice")&&(i.nice=r.nice),Object.prototype.hasOwnProperty.call(r,"formatter")&&(i.formatter=r.formatter),Object.prototype.hasOwnProperty.call(r,"exponent")&&(i.exponent=r.exponent),Object.prototype.hasOwnProperty.call(r,"base")&&(i.base=r.base),r.tickMethod&&(i.tickMethod=r.tickMethod)}function d_(i,r){var t=(0,f.filter)(r,function(a){return(0,f.isNumber)(a)}),e=Math.min.apply(Math,t),n=Math.max.apply(Math,t);e>0?(0,f.isNil)(i.min)&&(i.min=0):n<0&&(0,f.isNil)(i.max)&&(i.max=0)}var Wf;function p_(i,r){var t={easing:"easeLinear",duration:1e4},e=(0,f.deepMix)({},r,t),n=i.get("element").geometry;n.labelsContainer.set("visible",!1);var a=i.get("index"),o=n.coordinate,s=n.scales,l=s[Wf.options.yField],u=(0,f.clone)(i.get("origin"));g_(i,o);var h=i.get("clipShape"),c=i.get("parent"),d=12,y=null,_=Wf.options.seriesField;_&&(y=c.addShape("text",{attrs:{x:o.start.x+d,y:0,text:u.data[0][_],fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var k=y?16:0,F=c.addShape("text",{attrs:{x:o.start.x+d,y:k,text:"test"+a,fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});e.callback=function(){i&&!i.get("destroyed")&&(i.setClip(null),h.remove(),F.animate({opacity:0},300,function(){F.remove(),(0,f.isNil)(y)||y.remove();var ut=n.labelsContainer;ut.get("visible")||ut.set("visible",!0)}))};var Y=e.delay;(0,f.isFunction)(Y)&&(Y=e.delay(a));var G=e.easing;(0,f.isFunction)(G)&&(G=e.easing(a)),h.animate({width:o.getWidth()},e.duration,G,e.callback,Y),e.onFrame=function(ut){var ft=Jd(ut,u,o);if(!!ft){F.attr("x",ft[0]+d),F.attr("y",ft[1]+k);var Tt=y_(l,ft[1],o);l.formatter&&(Tt=l.formatter(Tt)),F.attr("text",Tt)}},F.animate(e.onFrame,{duration:e.duration,easing:G,callback:e.callback,delay:Y}),y&&y.animate({onFrame:function(ut){var ft=Jd(ut,u,o);!ft||(y.attr("x",ft[0]+d),y.attr("y",ft[1]))}},e.duration,G,e.callback,Y)}function g_(i,r){var t=r.start,e=r.end,n=r.height;i.setClip({type:"rect",attrs:{x:t.x,y:e.y,width:0,height:n}})}function Jd(i,r,t){for(var e=r.points,n=t.start.x+t.getWidth()*i,a=0;a<e.length-1;a++){var o=e[a],s=e[a+1];if(n>=o.x&&n<=s.x){var l=(s.y-o.y)/(s.x-o.x),u=o.y+l*(n-o.x);return[n,u]}}}function y_(i,r,t){var e=(r-t.start.y)/(t.end.y-t.start.y);return i.invert(e).toFixed(2)}function m_(i){Wf=i}Yn("clipingWithData",p_);var x_=function(){function i(r){this.type="shape",this.shapes=r.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=(0,f.deepMix)([],this.nodes)}return i.prototype.measure=function(r){var t=(0,f.deepMix)({},cE(r),{shape:r});return t},i.prototype.measureNodes=function(){var r=this,t=[],e=[];(0,f.each)(this.shapes,function(n,a){var o=(0,f.deepMix)({},r.nodes[a],r.measure(n));o.width!==0&&o.height!==0&&(t.push(o),e.push(n))}),this.nodes=t,this.shapes=e},i.prototype._parserNodes=function(){var r=this;(0,f.each)(this.shapes,function(t){var e=r.measure(t);r.nodes.push(e)})},i}(),qd=x_;function b_(i,r,t){return t===void 0&&(t={ratio:.6}),r.width*t.ratio}var w_={type:"padding",usage:"assign",expression:b_};function S_(i,r){var t=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],e=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],n=hd(t,e);return Math.round(n)>=2}var C_={type:"group",usage:"compare",expression:S_};function M_(i,r,t){t===void 0&&(t={value:4});var e=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],n=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],a=hd(e,n);return Math.round(a)>=t.value}var E_={type:"chain",usage:"compare",expression:M_};function A_(i,r,t){t===void 0&&(t={value:5});var e=Math.abs(i.bottom-r.top);return Math.round(e)>=t.value}var __={type:"chain",usage:"compare",expression:A_};function T_(i,r,t){return t===void 0&&(t={ratio:.15}),i.width<r.width*t.ratio}var P_={type:"padding",usage:"compare",expression:T_};function L_(i,r){var t=2,e=r.coord.radius/t;return Math.min(e,i.value)}var O_={type:"padding",usage:"assign",expression:L_};function I_(i,r,t){return t===void 0&&(t={ratio:.8}),r.radius*t.ratio}var k_={type:"padding",usage:"assign",expression:I_},tp={elementDist:E_,elementDistVertical:__,elementCollision:C_,elementWidth:P_,columnWidth:w_,ringThickness:k_,minRingThickness:O_};function zG(i,r){tp[i]=r}function Xo(i){i.attr("text","")}function B_(i,r,t,e){var n=e.nodes.nodes,a=n[t],o=[];if(!a.shape.get("blank"))for(var s=0;s<n.length;s++){var l=n[s],u=l.shape;if(s!==t&&!u.get("blank")){var h=ep(a,l);h&&o.push(l)}}o.length>0&&(o.push(a),o.sort(function(c,d){return d.top-c.top}),(0,f.each)(o,function(c,d){if(d>0){var y=c.shape;Xo(y),y.set("blank",!0)}}))}function ep(i,r){return!(i.bottom<r.top||r.bottom<i.top||i.right<r.left||r.right<i.left)}var io=v(19432),D_=1e3,rp=60*D_,jf=60*rp,Tl=24*jf,np=31*Tl,ip=365*Tl;function ap(i,r,t,e){var n=e.nodes.nodes,a;t===n.length-1?a=n[t-1].shape.get("delegateObject").item.name:a=n[t+1].shape.get("delegateObject").item.name;var o=new Date(a),s=i.get("delegateObject").item.name,l=new Date(s),u=n[0].shape.get("delegateObject").item.name,h=new Date(u),c=n[n.length-1].shape.get("delegateObject").item.name,d=new Date(c),y=op(h,d),_=op(l,o);if(y===_){if(t!==0&&t!==n.length-1){var k=N_(y);i.attr("text",io.default.format(l,k))}return}if(t!==0){var F=n[t-1].shape.get("delegateObject").item.name,Y=new Date(F),G=F_(y,l,Y);if(G){var k=R_(y,_);i.attr("text",io.default.format(l,k));return}}}function F_(i,r,t){var e=sp(r,i),n=sp(t,i);return e===n}function op(i,r){var t,e=Math.abs(i-r),n={minute:[rp,jf],hour:[jf,Tl],day:[Tl,np],month:[np,ip],year:[ip,Infinity]};return(0,f.each)(n,function(a,o){e>=a[0]&&e<a[1]&&(t=o)}),t}function R_(i,r){for(var t=["year","month","day","hour","minute"],e=["YYYY","MM","DD","HH","MM"],n=t.indexOf(i)+1,a=t.indexOf(r),o="",s=n;s<=a;s++)o+=e[s],s<a&&(o+="-");return o}function N_(i){var r=["year","month","day","hour","minute"],t=["YYYY","MM","DD","HH","MM"],e=r.indexOf(i),n=t[e];return n}function sp(i,r){if(r==="year")return i.getFullYear();if(r==="month")return i.getMonth()+1;if(r==="day")return i.getDay()+1;if(r==="hour")return i.getHours()+1;if(r==="minute")return i.getMinutes()+1}function G_(i){var r=/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/,t=/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/;return r.test(i)||t.test(i)}var lp={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function up(i,r,t,e){if(!(!(0,f.has)(e,"node")||!(0,f.has)(e.node,"node"))){var n=e.nodes.nodes,a=parseFloat(i.get("origin").text);if(a!==0){if(r.formatter){i.attr("text",r.formatter(a));return}if(r.unit){var o=fp(r,a),s=o.num,l=o.unitname;i.attr("text",s+l)}else{var u=z_(n),h=cd(u),l=Y_(h),c=lp[l].number,d=X_(n),y=V_(d,c),s=fp({unit:l,decimal:y},a).num;i.attr("text",s+l)}}}}function fp(i,r){var t=["k","m","b","t"],e,n;if(i.unit==="auto"){var a=Math.floor(Math.log(r)/Math.log(1e3));n=t[a-1],e=(r/Math.pow(1e3,a)).toFixed(i.decimal)}else if(i.unit){var o=lp[i.unit];n=i.unit,e=(r/o.number).toFixed(i.decimal)}return{num:e,unitname:n}}function Y_(i){var r=["k","m","b","t"],t=Math.floor(Math.log(i)/Math.log(1e3));return r[t-1]}function z_(i){var r=[];return(0,f.each)(i,function(t){var e=t,n=parseFloat(e.shape.get("origin").text);r.push(n)}),r}function X_(i){if(i.length>=2){var r=parseFloat(i[0].shape.get("origin").text),t=parseFloat(i[1].shape.get("origin").text);return Math.abs(r-t)}return 0}function V_(i,r){var t=Math.floor(Math.log10(r));if(i>=r){var e=i%r;if(e>0){var n=Math.floor(Math.log10(e));return Math.abs(n-t)}}else{var a=Math.floor(Math.log10(i));return Math.abs(a-t)}return 0}function H_(i,r,t){var e=t.nodes.nodes;if(r!==e.length-1){var n=e[r],a=e[r+1],o=W_(n,a).dir,s=i.get("startPoint");o==="x"&&i.attr("y",s.y+20)}}function W_(i,r){var t,e={x:r.centerX-i.centerX,y:r.centerY-i.centerY},n=Math.sqrt(e.x*e.x+e.y*e.y),a={x:10,y:0},o=Math.sqrt(a.x*a.x+a.y*a.y),s=If(e,a),l=s/(n*o)*180/Math.PI;l<0&&(l=360-l),l=j_(l);var u=Math.abs(i.centerX-r.centerX),h=Math.abs(i.centerY-r.centerY);return l>45?t="x":l<45&&(t="y"),{dir:t,distX:u,distY:h}}function j_(i){return i>90&&i<=180?180-i:i>180&&i<270?i-180:360-i}function U_(i,r,t,e){var n=e.nodes.nodes;if(t!==0){var a=n[t],o=n[t-1];if(ep(a,o)){var s=e.plot.view.geometries[0].elements[0],l=o.top-a.height/2,u=10;if(l-u>e.region.top){var h=a.shape.get("origin"),c=s.getShapeId(h),d=s.getShapes(),y=Z_(c,d).get("box"),_=y.left+y.width/2,k=y.top,F=s.get("labelController").labelsContainer,Y=F.addShape("path",{attrs:{path:[["M",_,k],["L",a.shape.attr("x"),l]],stroke:"#ccc",lineWidth:1}}),G={x:i.attr("x"),y:i.attr("y")};a.shape.attr("y",l-u),n[t]=e.nodes.measure(a.shape),n[t].line=Y,n[t].origin_position=G}}}}function Z_(i,r){var t;return(0,f.each)(r,function(e){var n=e,a=n.get("id");a===i&&(t=n)}),t}function K_(i,r,t,e){var n=e.nodes.nodes,a=n.length%2!=0;if(!hp(r.keep,t,n)){var o=t%2==0;(!a&&o||a&&!o)&&Xo(i)}}function hp(i,r,t){var e=[];(0,f.each)(i,function(s){s==="start"?e.push(r===0):s==="end"?e.push(r===t.length-1):(0,f.isNumber)(s)&&e.push(r===s)});for(var n=0,a=e;n<a.length;n++){var o=a[n];if(o===!0)return!0}return!1}function $_(i,r,t,e){var n=e.nodes.nodes;if(!hp(r.keep,t,n)){var a=i.attr("text"),o=i.get("delegateObject").item.name;a!==o&&Xo(i)}}function Q_(i,r,t,e){var n=e.nodes.nodes,a=q_(n);if(!(t<=1)){var o=n[t],s=J_(t,n),l=s.centerX-o.centerX,u=s.centerY-o.centerY,h=Math.sqrt(l*l+u*u);h<a&&(Xo(i),i.set("blank",!0))}}function J_(i,r){for(var t=i-1;t>0;t--){var e=r[t];if(!e.shape.get("blank"))return e}}function q_(i){var r=(0,f.deepMix)([],i);return r.sort(function(t,e){return e.width-t.width}),Math.round(r[0].width)}function tT(i,r,t,e){var n=e.nodes.nodes,a=n[t];a.line&&a.line.remove();var o=e.plot.initialOptions.data,s=e.plot[e.plot.type]||e.plot[e.plot.baseType],l=(0,f.get)(s,["label","fields",0],(0,f.get)(s,["position","fields",1])),u=eT(o,l,n),h=!1;if((0,f.each)(u,function(_){_.shape.get("origin")===a.shape.get("origin")&&(h=!0)}),h){if(a.origin_position){var c=a.origin_position,d=c.x,y=c.y;i.attr("x",d),i.attr("y",y)}}else Xo(i)}function eT(i,r,t){var e=[];(0,f.each)(i,function(h){e.push(h[r])}),e.sort(function(h,c){return h-c});var n=e[0],a=Uf(t,r,n),o=e[e.length-1],s=Uf(t,r,o),l=rT(e),u=Uf(t,r,l);return{min:a,max:s,median:u}}function rT(i){var r=(0,f.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2,r[t]}function Uf(i,r,t){for(var e=0,n=i;e<n.length;e++){var a=n[e],o=a.shape.get("origin")._origin;if(o[r]===t)return a}}function cp(i,r){var t=r.abbreviateBy?r.abbreviateBy:"end",e=i.attr("text"),n;t==="end"&&(n=e[0]+"..."),t==="start"&&(n="..."+e[e.length-1]),t==="middle"&&(n=e[0]+"..."+e[e.length-1]),i.resetMatrix(),i.attr({text:n,textAlign:"center",textBaseline:"top"})}function nT(i,r,t,e){var n=e.nodes.nodes,a=i.attr("text"),o=/^\d+$/.test(a);o?up(i,r,t,n):G_(a)?ap(i,r,t,n):cp(i,r)}function iT(i,r){i.resetMatrix(),i.attr({rotate:360-r.degree,textAlign:"right",textBaseline:"middle"})}function aT(i,r){for(var t=i.attr("text"),e=Math.ceil(t.length/r.lineNumber),n="",a=1;a<r.lineNumber;a++){var o=e*a;n=t.slice(0,o)+`
`+t.slice(o)}var s=i.attr("fontSize");i.attr({text:n,lineHeight:s,textAlign:"center",textBaseline:"top"})}var vp={textWrapper:aT,textRotation:iT,textAbbreviate:cp,textHide:Xo,digitsAbbreviate:up,datetimeStringAbbrevaite:ap,robustAbbrevaite:nT,nodesResampling:K_,nodesResamplingByAbbrevate:$_,nodesResamplingByChange:Q_,nodesResamplingByState:tT,nodeJitter:H_,nodeJitterUpward:U_,clearOverlapping:B_};function XG(i,r){vp[i]=r}var oT=function(){function i(r){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,(0,f.assign)(this,r),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}return i.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},i.prototype._iteration=function(){var r;this.nodes.type==="shape"?r=this.nodes:r=this.nodes,r.type==="shape"&&r.measureNodes(),this.rules&&this._applyRules(),r.type==="shape"&&r.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},i.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},i.prototype._run=function(){for(var r=this._constraintsTest();!r&&!(this.iterationIndex>this.iterationTime-1);)this._iteration(),r=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},i.prototype._constraintsTest=function(){var r=tp[this.currentConstraint.name],t=this.currentConstraint.option;return r.usage==="compare"?this._constraintCompare(r,t):this._constraintAssignment(r,t)},i.prototype._constraintCompare=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintCompare(n,a,t);if(e==="padding")return this._paddingConstraintCompare(n,this.region,a,t);if(e==="group")return this._groupConstraintCompare(n,a,t)},i.prototype._chainConstraintCompare=function(r,t,e){for(var n=0;n<t.length-1;n++){var a=t[n],o=t[n+1];if(r(a,o,e)===!1)return!1}return!0},i.prototype._paddingConstraintCompare=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a];if(r(s,t,n)===!1)return!1}return!0},i.prototype._groupConstraintCompare=function(r,t,e){for(var n=0;n<t.length;n++)for(var a=t[n],o=0;o<t.length;o++)if(o!==n){var s=t[o];if(r(a,s,e)===!1)return!1}return!0},i.prototype._constraintAssignment=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintAssign();if(e==="padding")return this._paddingConstraintAssign(n,this.region,a,t)},i.prototype._chainConstraintAssign=function(){return!0},i.prototype._paddingConstraintAssign=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a],l=r(s,t,n);s.value=l}return!0},i.prototype._applyRules=function(){for(var r=this.rules[this.currentConstraint.name][this.iterationIndex],t=vp[r.name],e=r.option?r.option:{},n=this.nodes.nodes,a=0;a<n.length;a++){var o=n[a];this._applyRule(o.shape,t,e,a)}},i.prototype._applyRule=function(r,t,e,n){var a={nodes:this.nodes,region:this.region,plot:this.plot};t(r,e,n,a)},i}(),dp=oT,sT=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},i}(),pp=sT,lT={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},uT=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.axisInstance=this.getAxisInstance(),i.prototype.init.call(this)},r.prototype.shouldApply=function(){var t=this.plot.options;return this.responsiveTheme.axis?!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible):!1},r.prototype.apply=function(){for(var t=this,e=this.plot.view.backgroundGroup.findAll(function(h){var c=h.get("name");if(c==="axis-label"){var d=h.get("delegateObject").axis.get("field");if(d===t.plot.options[t.dim+"Field"])return h}}),n=[],a=0;a<e.length;a++)n.push(e[a]);var o=new qd({shapes:n}),s=this.responsiveTheme.axis.x[this.type],l=s.constraints,u=s.rules;new dp({nodes:o,constraints:l,region:this.plot.getViewRange(),rules:u,plot:this.plot,onEnd:function(h){t.updateTicks(h.origion_nodes)}})},r.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",n=this.dim+"Field";if(t[e]&&t[e].type&&t[e].type==="dateTime")return"dateTime";var a=this.plot.view.getScaleByField([t[n]]).type;return lT[a]},r.prototype.getAxisInstance=function(){var t,e,n=this.dim==="x"?0:1,a=(t=this.plot.view.getController("axis"))===null||t===void 0?void 0:t.getComponents();if(a)return(e=a[n])===null||e===void 0?void 0:e.component},r.prototype.updateTicks=function(t){var e=this,n=this.plot.view.backgroundGroup.findAll(function(o){var s=o.get("name");if(s==="axis-tickline-group"){var l=o.get("delegateObject").axis.get("field");if(l===e.plot.options[e.dim+"Field"])return o}})[0];if(n){var a=n.get("children");(0,f.each)(t,function(o,s){o.shape.attr("text")===""&&a[s].attr("opacity",0)})}this.plot.canvas.draw()},r}(pp),ao=uT;function fT(i){var r=i.getResponsiveTheme(),t=i.canvas;new ao({plot:i,responsiveTheme:r,dim:"x"}),new ao({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var hT=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},r.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];(0,f.each)(t,function(l){e=e.concat(l.findAllByName("label"))});var n=new qd({shapes:e}),a=this.responsiveTheme.label[this.type],o=a.constraints,s=a.rules;new dp({nodes:n,constraints:o,rules:s,plot:this.plot,region:this.plot.view.coordinateBBox})},r.prototype.getType=function(){return null},r}(pp),gp=hT,cT=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,f.get)(this.plot.options,["label","type"],"point")},r}(gp);function vT(i){var r=i.getResponsiveTheme();new cT({plot:i,responsiveTheme:r})}var dT=[],pT=[{name:"responsiveAxis",method:fT},{name:"responsivePointLabel",method:vT}],gT={preRender:dT,afterRender:pT},yp=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,J.__assign)({offsetX:0,offsetY:0},n)},r.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},r.prototype.getLabelItemAttrs=function(t,e){var n=this,a=this.options,o=a.style,s=a.formatter,l=(0,f.get)(t,"model.mappingData",[]);return(0,f.map)(l,function(u,h){var c,d=n.getValue(u);return(0,J.__assign)((0,J.__assign)((0,J.__assign)({},n.getPosition(u)),{text:s?s(d,(c={},c[xs]=u._origin,c.mappingDatum=u,c.mappingDatumIndex=h,c.element=t,c.elementIndex=e,c),e):d,textAlign:"center",textBaseline:"middle"}),o)})},r.prototype.getValue=function(t){return(0,f.get)(t._origin,this.layer.options.yField)},r.prototype.getPosition=function(t){var e={x:(0,f.isArray)(t.x)?(0,f.last)(t.x):t.x,y:(0,f.isArray)(t.y)?(0,f.last)(t.y):t.y};return e},r.prototype.layoutLabels=function(t,e){var n=this;if(!!this.options.adjustPosition){var a=this.isOverlapped(e);if(a){var o=this.getGlobalTolerance(e);(0,f.each)(e,function(s,l){l>1&&n.labelResamplingByChange(s,e,l,o)})}a=this.isOverlapped(e),a&&(0,f.each)(e,function(s,l){s.get("visible")&&n.clearOverlapping(s,e,l)})}},r.prototype.adjustLabel=function(){},r.prototype.labelResamplingByChange=function(t,e,n,a){var o=this.findPrevious(n,e),s=this.getCenter(t),l=this.getCenter(o),u=l.x-s.x,h=l.y-s.y,c=Math.sqrt(u*u+h*h);c<a&&t.set("visible",!1)},r.prototype.clearOverlapping=function(t,e,n){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(o!==n&&s.get("visible")){var l=nd(t.getBBox(),s.getBBox());l&&a.push(s)}}a.length>0&&(a.push(t),a.sort(function(u,h){return h.minY-u.minY}),(0,f.each)(a,function(u,h){h>0&&u.set("visible",!1)}))},r.prototype.isOverlapped=function(t){for(var e=0;e<t.length;e++)if(t[e].get("visible")){for(var n=t[e].getBBox(),a=0;a<t.length;a++)if(a!==e&&t[a].get("visible")){var o=t[a].getBBox(),s=nd(n,o);if(s)return!0}}return!1},r.prototype.getGlobalTolerance=function(t){var e=t.slice();return e.sort(function(n,a){return a.getBBox().width-n.getBBox().width}),Math.round(e[0].getBBox().width)},r.prototype.findPrevious=function(t,e){for(var n=t-1;n>0;n--)if(e[n].get("visible"))return e[n]},r.prototype.getCenter=function(t){var e=t.getBBox(),n=e.minX,a=e.maxX,o=e.minY,s=e.maxY;return{x:n+(a-n)/2,y:o+(s-o)/2}},r}(Tf),mp=yp;Ri("point",yp);var xp=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){var n=this,a,o=[],s=Br.fromBBoxObject(this.getCoordinateBBox()),l=t.getXYFields(),u=l[0],h=l[1],c=(0,f.groupBy)(e,function(y){return y.get(Ki)[tn.FIELD_ORIGIN][u]}),d=(a=e[0])===null||a===void 0?void 0:a.get("offset");(0,f.each)((0,f.keys)(c).reverse(),function(y){for(var _=n.sortLabels(t,c[y]);_.length;){var k=_.shift();if(gA(k,o,function(G,ut){return G._origin[u]===ut._origin[u]&&G._origin[h]===ut._origin[h]})){k.set("visible",!1);continue}Al(k,s);var F=_l(k,o),Y=void 0;if(F&&(k.attr("y",k.attr("y")+2*d),Al(k,s),Y=_l(k,o)),Y){k.set("visible",!1);continue}o.push(k)}})},r.prototype.sortLabels=function(t,e){var n=t.getXYFields()[1],a=[];return e.sort(function(o,s){return s.get(Ki)[tn.FIELD_ORIGIN][n]-o.get(Ki)[tn.FIELD_ORIGIN][n]}),e.length>0&&a.push(e.shift()),e.length>0&&a.push(e.pop()),a.push.apply(a,e),a},r}(mp),yT=xp;Ri("point-auto",xp);var mT=8,xT=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,f.each)(t,function(e){var n=r.getShapeInfo(e.shape),a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,u=r.options.formatter,h=u?u(n.name):n.name;r.container.addShape("text",{attrs:(0,f.deepMix)({},{x:n.x+s,y:n.y+l,text:h,fill:n.color,textAlign:"left",textBaseline:"middle"},o),name:"label"})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,f.clone)(r.label.style);return delete t.fill,{offsetX:mT,offsetY:0,style:t}},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="line"})},i.prototype.getShapeInfo=function(r){var t=r.get("origin").points,e=t[t.length-1],n=r.attr("stroke"),a=this.plot.options.seriesField,o=r.get("origin").data[0][a];return{x:e.x,y:e.y,color:n,name:o}},i}(),bp=xT,bT={line:"line",point:"point"},wT=ri(bT);(0,f.assign)(jr,wT);var ST={stroke:"transparent",fill:"#FCC509",lineWidth:0},CT={stroke:"#FFF",fill:"#FCC509",lineWidth:1},MT={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},ET=function(){function i(r){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:ST,selected:MT,active:CT},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=r.view,this.size=r.size||6,this.config=(0,f.deepMix)({},this.defaultCfg,r),this._init()}return i.prototype.render=function(){var r=this.getDataArray();this._renderPoints(r),this.view.canvas.draw(),this._addInteraction()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},i.prototype.getDataArray=function(){var r=this.view.geometries[0];return r.dataArray},i.prototype._init=function(){var r=this,t=this.view.foregroundGroup;this.container=t.addGroup(),this.render(),this.view.on("beforerender",function(){r.clear()})},i.prototype._renderPoints=function(r){var t=this;(0,f.each)(this.config.data,function(e,n){(0,f.each)(r,function(a){var o=(0,f.find)(a,function(Y){return(0,f.isMatch)(Y._origin,e)});if(o){var s=t.config.style.normal,l=t.container.addGroup({name:t.name}),u=o.x,h=o.y;(0,f.isArray)(u)&&(u=u[0]),(0,f.isArray)(h)&&(h=h[0]);var c=t.config.symbol,d=t.config,y=d.offsetX,_=d.offsetY,k=void 0;if((0,f.isString)(c)&&c.startsWith("image://")){var F=c.substr(8);k=l.addShape("image",{attrs:{x:u-t.size/2+y,y:h-t.size/2+_,img:F,width:t.size,height:t.size}})}else c=(0,f.isString)(c)?YM.MarkerSymbols[c]:c,k=l.addShape({type:"marker",name:"marker-point",id:"point-"+n,attrs:(0,J.__assign)((0,J.__assign)({x:u+y,y:h+_,r:t.size/2},s),{symbol:c})});t.points.push(k),t._animatePoint(k),t._renderLabel(l,o,n),l.set("data",e),l.set("origin",o)}})})},i.prototype._renderLabel=function(r,t,e){var n=this.config.label;if(n&&n.visible){var a=n.offsetX,o=a===void 0?0:a,s=n.offsetY,l=s===void 0?0:s,u=n.formatter,h=n.position,c=n.field,d=t._origin[c];u&&(d=u(d,{_origin:t._origin},e));var y=(0,f.isArray)(t.x)?t.x[0]:t.x,_=(0,f.isArray)(t.y)?t.y[0]:t.y,k=r.addShape("text",{name:"marker-label",id:"label-"+e,attrs:(0,J.__assign)((0,J.__assign)({x:y+o,y:_+l,text:d||""},n.style),{textAlign:"center",textBaseline:h==="top"?"bottom":"top"})});this.labels.push(k)}},i.prototype._addInteraction=function(){var r=this,t=this.config.events;(0,f.each)(t,function(e,n){r.container.on(r.name+":"+n,function(a){e(a);var o=a.target.get("parent"),s=o.get("children")[0];if(s){var l=s.get("data"),u=s.get("id"),h={id:u,data:l};n==="click"?r.selectedPoint&&r.selectedPoint.get("id")===u?(r.selectedPoint=null,r.setState("inactive",h)):(r.selectedPoint=s,r.setState("selected",h)):n==="mouseenter"?r.setState("active",h):n==="mouseleave"&&r.setState("inactive",h)}r.view.canvas.draw()}),r.view.on("click",function(a){var o=a.target.get("parent");(!o||o.get("name")!==r.name&&r.selectedPoint)&&(r.selectedPoint=null,r.setState("inactive"))})})},i.prototype.setState=function(r,t){var e=this;r==="active"?(!this.selectedPoint||t.id!==this.selectedPoint.get("id"))&&this._onActive(t):r==="inactive"?this.points.forEach(function(n){return e._onInactive(n)}):r==="selected"&&this._onSelected(t)},i.prototype._onActive=function(r){var t=this,e=this.config.style.active;(0,f.each)(this.points,function(n){n.get("id")===r.id?(0,f.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._onInactive=function(r){var t=this.config.style.normal;(!this.selectedPoint||r.get("id")!==this.selectedPoint.get("id"))&&(0,f.each)(t,function(e,n){r.attr(n,e)})},i.prototype._onSelected=function(r){var t=this,e=this.config.style.selected;(0,f.each)(this.points,function(n){n.get("id")===r.id?(0,f.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._animatePoint=function(r){var t=this.config,e=t.animation,n=t.size;if(e!==!1){var a=e,o=a.endState,s=o===void 0?{}:o,l=a.animateCfg,u=l===void 0?eo.DEFAULT_ANIMATE_CFG.appear:l;r.animate((0,J.__assign)({r:Number.isNaN(s.size/2)?n/2:s.size/2},s),u)}},i}(),AT=ET,_T=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+1}},TT=function(i){var r=i.shape,t=r.attr("opacity")||1;return{opacity:t*.2}},PT=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+2}};Ni("line",{lineStyle:{normal:{},active:_T,disable:TT,selected:PT},pointStyle:{normal:{},active:{},disable:{},selected:{}}});var LT={label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}};Vd("line",LT);var OT=function(i){(0,J.__extends)(r,i);function r(t){return i.call(this,(0,J.__assign)({processEvent:"mousemove"},t))||this}return r.prototype.start=function(){},r.prototype.process=function(t){var e=(0,f.filter)(this.view.geometries,function(o){return o.type=="line"}),n=t.target;if(n.get("name")==="line"){var a=(0,f.get)(t,"data.data");(0,f.each)(e,function(o){(0,f.each)(o.elements,function(s){s.setState("active",s.data===a)})})}else(0,f.each)(e,function(o){(0,f.each)(o.elements,function(s){s.setState("active",!1)})})},r}(Ff),IT=OT,kT=function(i){(0,J.__extends)(r,i);function r(t){return i.call(this,(0,J.__assign)({endEvent:"click"},t))||this}return r.prototype.start=function(){},r.prototype.end=function(t){var e=t.target,n=(0,f.filter)(this.view.geometries,function(o){return o.type=="line"});if(e.get("name")==="line"){var a=(0,f.get)(t,"data.data");(0,f.each)(n,function(o){(0,f.each)(o.elements,function(s){s.setState("inactive",s.data!==a)})})}else(0,f.each)(n,function(o){(0,f.each)(o.elements,function(s){s.setState("inactive",!1)})})},r}(Ff),BT=kT,DT=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,J.__assign)((0,J.__assign)({},t),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},r}($v.Z);Hr("selected-tooltip",DT);var FT=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.getPoint();(0,f.isEqual)(t,this.location)||(this.location=t,this.showTooltip(t))},r.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},r.prototype.showTooltip=function(t){var e=this.getTooltipController();e.showTooltip(t)},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},r.prototype.getLastXPoint=function(){var t=this.getView(),e=t.getXScale(),n=t.getYScales()[0],a=t.getCoordinate(),o=(0,f.last)(e.getTicks()).value;return a.convert({x:o,y:(n.range[0]+n.range[1])/2})},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},r}(Kr),RT=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,J.__assign)((0,J.__assign)({},t),{showCrosshairs:!0,showMarkers:!1,shared:!0})},r}($v.Z);Hr("tooltip-active",RT);var NT=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.getView().removeInteraction("tooltip")},r.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},r.prototype.hide=function(){var t=this.getView(),e=this.getTooltipController();e.hideTooltip();var n=(0,f.filter)(t.geometries,function(a){return a.type=="point"});(0,f.each)(n,function(a){(0,f.each)(a.elements,function(o){o.setState("active",!1)})})},r.prototype.showTooltip=function(t){var e=this.getView(),n=this.getTooltipController();n.showTooltip(t);var a=n.getTooltipItems(t),o=(0,f.filter)(e.geometries,function(s){return s.type=="point"});(0,f.each)(o,function(s){(0,f.each)(s.elements,function(l){l.setState("active",(0,f.findIndex)(a,function(u){return u.data===l.data})!==-1)})})},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},r}(Kr),GT=NT;Ar("selected-tooltip",FT),pn("selected-tooltip",{start:[{trigger:tn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:tn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),Ar("marker-active",GT),pn("marker-active",{start:[{trigger:tn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:tn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]});var YT={line:"line",point:"point"},wp=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},r.prototype.afterRender=function(){var t=this,e=this.options;this.renderLabel(),e.markerPoints&&((0,f.each)(this.markerPoints,function(n){return n.destroy()}),this.markerPoints=[],e.markerPoints.forEach(function(n){if(n.visible){var a=new AT((0,J.__assign)((0,J.__assign)({},n),{view:t.view}));t.markerPoints.push(a)}})),e.responsive&&e.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return YT[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&Zn(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Zn(e[t.yField],t.yAxis),this.setConfig("scales",e),d_(e[t.yField],(0,f.map)(t.data||[],function(n){return n[t.yField]})),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.tooltip=function(){(0,f.some)(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){this.addLine(),this.addPoint()},r.prototype.addLine=function(){var t=this.options;this.line=Dn("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},r.prototype.addPoint=function(){var t=this.options,e={visible:!1};t.point&&(t.point=(0,f.deepMix)(e,t.point)),t.point&&t.point.visible&&(this.point=Dn("point","guide",{plot:this}),this.setConfig("geometry",this.point))},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=no(this.view,"line");if(n.type==="line"){var l=new bp((0,J.__assign)({view:this.view,plot:this},this.options.label));l.render()}else this.doRenderLabel(s,(0,J.__assign)({type:"point",formatter:o.formatter&&function(u){return o.formatter(u)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation?(m_({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},r.prototype.applyInteractions=function(){i.prototype.applyInteractions.call(this),this.interactions.push(new IT({view:this.view})),this.interactions.push(new BT({view:this.view}))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,A)},r.prototype.applyResponsive=function(t){var e=this,n=gT[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&this.options.label.type==="line"},r}(In),Ss=wp;zr("line",wp);var zT=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ss.getDefaultOptions,r}(Ir),Sp=zT;function XT(i,r,t,e,n){var a=e-r,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,u=r;(0,f.each)(o,function(h){h.y0=t,h.y1=n,h.x0=u,u+=h.value*l,h.x1=h.x0+h.value*l})}function VT(i,r,t,e,n){var a=n-t,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,u=t;(0,f.each)(o,function(h){h.x0=r,h.x1=e,h.y0=u,u+=h.value*l,h.y1=h.y0+h.value*l})}var HT=(1+Math.sqrt(5))/2;function Cp(i,r,t,e,n){var a=i.children,o=i.value;a.sort(function(Ut,Jt){return Jt.value-Ut.value});for(var s=[],l,u,h,c,d,y,_,k,F=0,Y=0;F<a.length;){var G=e-r,ut=n-t;for(l=a[Y++].value,u=l,h=l,c=Math.max(ut/G,G/ut)/(o*HT),d=l*l*c,_=Math.max(u/d,d/h);Y<a.length;Y++){if(k=a[Y].value,l+=k,k<h&&(h=k),k>u&&(u=k),d=l*l*c,y=Math.max(u/d,d/h),y>_){l-=k;break}_=y}var ft={value:l,dice:G<ut,children:a.slice(F,Y)};if(s.push(ft),ft.dice){var Tt=o?ut*l/o:ut;XT(ft,r,t,e,t+Tt),o&&(t+=Tt)}else{var Yt=o?G*l/o:G;VT(ft,r,t,r+Yt,n),o&&(r+=Yt)}o-=l,F=Y}return s}var WT=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.listeners=[],t.onItemGroupToggleActive=function(e,n){return function(){var a=e.get("children").find(function(o){return o.get("class")==="item-background"});a&&a.attr(n?t.itemActiveBackgroundStyle:t.itemBackgroundStyle),t.getCanvas().draw()}},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=(0,J.__assign)({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=(0,J.__assign)({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=(0,J.__assign)({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=(0,J.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=(0,J.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},r.prototype.renderInner=function(t){var e=0,n=0;this.offEvents(),this.renderItems(t,e,n),Td(this.group,this.x,this.y)},r.prototype.renderItems=function(t,e,n){var a=this,o=this.itemPadding,s=o[0],l=o[1],u=o[2],h=o[3],c,d=t.addShape("rect",{class:"breadcrumb-background",attrs:(0,J.__assign)({x:e,y:n,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(y,_){var k=t.addGroup({id:"item-group-"+y.key,data:y,class:"item-group",attrs:{cursor:"pointer"}}),F=k.addShape("rect",{id:"item-background-"+y.key,class:"item-background",attrs:(0,J.__assign)((0,J.__assign)({x:e,y:n,width:h+l,height:s+u},a.itemBackgroundStyle),{cursor:"pointer"})});F.name="breadcrumb";var Y=k.addShape("text",{id:"item-text-"+y.key,class:"item-text",attrs:(0,J.__assign)((0,J.__assign)({x:e+h,y:n+s,text:y.text},a.textStyle),{cursor:"pointer"})});Y.name="breadcrumb";var G=Y.getBBox();c=a.itemHeight||G.height;var ut=a.itemWidth||G.width;a.maxItemWidth&&(ut=Math.min(ut,a.maxItemWidth));var ft={x:e,y:n,width:ut+h+l,height:c+s+u};if(F.attr("width",ft.width),F.attr("height",ft.height),k.setClip({type:"rect",attrs:ft}),e+=ft.width,_!==a.items.length-1){var Tt=t.addShape("text",{attrs:(0,J.__assign)({x:e,y:n+s,text:a.separator},a.separatorStyle),class:"separator"});e+=Tt.getBBox().width}}),d.attr({width:e,height:c+s+u})},r.prototype.bindEvents=function(t){var e=this,n=this.items,a=t.get("children").filter(function(s){return s.get("class")==="item-group"}),o=function(s,l,u){return function(){var h=l.get("data"),c=n.find(function(d){return d.key===h});e.emit(u,{item:c})}};a.forEach(function(s){var l=o("click",s,"onItemClick"),u=o("dblclick",s,"onItemDblclick"),h=e.onItemGroupToggleActive(s,!0),c=e.onItemGroupToggleActive(s,!1);s.on("click",l),s.on("dblclick",u),s.on("mouseenter",h),s.on("mouseleave",c),e.listeners.push({target:s,event:"click",callback:l}),e.listeners.push({target:s,event:"dblclick",callback:u}),e.listeners.push({target:s,event:"mouseenter",callback:h}),e.listeners.push({target:s,event:"mouseleave",callback:c})})},r.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,n=t.event,a=t.callback;e.off(n,a)}),this.listeners=[]},r}(bs),jT=WT,Pl=[1,0,0,0,1,0,0,0,1],So=400,Vo="easeQuadInOut";function UT(i,r,t){var e=_p(i),n=Ap(r),a=n.width/e.width,o=n.height/e.height,s=(n.minX-e.minX)*a,l=(n.minY-e.minY)*o,u=Yo([["s",a,o],["t",s,l]]),h=r.geometries[0];Ll(h);var c=r.backgroundGroup.addGroup();c.set("zIndex",-100),c.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}});var d=Mp(h,c);h.container.set("visible",!1),r.canvas.draw(),t(),window.setTimeout(function(){(0,f.each)(d,function(F,Y){Y===0?F.animate({matrix:u},So,Vo,function(){c.remove(),r.canvas.draw()}):F.animate(Yo,So)}),h=r.geometries[0],Ll(h);var y=h.getShapes();(0,f.each)(y,function(F){F.attr("opacity",0),F.animate({opacity:1},So,Vo)});var _=h.container;_.stopAnimate(),_.set("visible",!0),_.attr("matrix",(0,f.clone)(Pl)),sA(_,[["s",e.width/n.width,e.height/n.height],["t",e.minX,e.minY]]);var k=(0,f.clone)(Pl);h.container.animate({matrix:k},So,Vo,function(){Tp(h)}),r.canvas.draw()},16)}function Mp(i,r){var t=i.getShapes(),e=[];return(0,f.each)(t,function(n){var a=r.addShape("path",{attrs:(0,f.deepMix)({},n.attrs,{capture:!1})});e.push(a)}),e}function Ep(i,r,t){var e=r.geometries[0];Ll(e);var n=e.container;n.attr("matrix",(0,f.clone)(Pl));var a=r.backgroundGroup.addGroup();a.set("zIndex",-100);var o=Mp(e,a);n.set("visible",!1),r.canvas.draw(),t(),e=r.geometries[0],Ll(e),n=e.container;var s=ZT(e.getShapes(),i),l=_p(s),u=Ap(r),h=n.get("parent");h.get("clipShape")||n.setClip({type:"rect",attrs:{x:u.minX,y:u.minY,width:u.width,height:u.height}}),KT(a,o,l,u);var c=u.width/l.width,d=u.height/l.height,y=(u.minX-l.minX)*c,_=(u.minY-l.minY)*d,k=Yo([["s",c,d],["t",y,_]]);n.setMatrix(k),n.set("visible",!0),n.animate({matrix:Pl},So,Vo,function(){Tp(e)})}function ZT(i,r){var t;return(0,f.each)(i,function(e){var n=e.get("origin").data.name;n===r&&(t=e)}),t}function Ap(i){var r=i.coordinateBBox,t={minX:r.minX,minY:r.minY,centerX:(r.maxX-r.minX)/2,centerY:(r.maxY-r.minY)/2,width:r.width,height:r.height};return t}function _p(i){var r=i.attr("path"),t=r[0][1],e=r[0][2],n=r[1][1],a=r[2][2],o={minX:t,minY:a,centerX:(n-t)/2,centerY:(e-a)/2,width:Math.abs(n-t),height:Math.abs(e-a)};return o}function KT(i,r,t,e){var n=t.width/e.width,a=t.height/e.height,o=Yo([["s",n,a],["t",t.minX,t.minY]]);i.animate({matrix:o},So,Vo,function(){i.remove()}),(0,f.each)(r,function(s){s.animate({opacity:0},So,Vo)})}function Ll(i){var r=i.labelsContainer;r.set("visible",!1)}function Tp(i){var r=i.labelsContainer;r.set("visible",!0)}var $T=100,QT=30,JT=10,qT=function(i){i===void 0&&(i={});var r=(0,J.__assign)({x:0,y:0,startNode:{name:"root"},itemWidth:$T,itemHeight:QT,padding:[0,0,0,0]},i);return r},Pp=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getInteractionRange=function(t,e){var n=qT(e),a=n.padding,o=a[0],s=a[1];if(t)return new Br(t.minX,t.maxY-n.itemHeight-o-s,t.width,n.itemHeight+o+s)},r.prototype.start=function(t){var e=this,n=t.data.data;n.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:(0,f.clone)(this.currentNode.name),value:(0,f.clone)(this.currentNode.value)},depth:(0,f.clone)(this.currentDepth)},this.currentDepth++,UT(t.target,this.view,function(){e.update(n)}))},r.prototype.update=function(t){(0,f.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},r.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.breadcrumb.render(),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),this.startNode.name==="root"?(this.startNodeName=(0,f.hasKey)(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+JT,this.breadcrumb=new jT({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},r.prototype.clear=function(){},r.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y}),this.breadcrumb.render()},r.prototype.getItems=function(){var t=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var e=this.getRootItem();t.push(e)}else{t=[];var n=[];this.findParent(this.currentNode,n),t.push(this.getRootItem()),(0,f.each)(n,function(a,o){t.push({key:String(o+2),text:a.name,data:a})}),t.push({key:String(n.length+2),text:this.currentNode.name,data:this.currentNode})}return t},r.prototype.findParent=function(t,e){if(t.parent)(0,f.hasKey)(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e);else return},r.prototype.onInteraction=function(){var t=this;this.container.on("click",function(e){var n=e.target.get("parent");if(n&&n.get("class")==="item-group"){var a=n.get("data");if(a.data)if(a.text===t.startNodeName){var o=1;t.currentDepth-1===o?Ep(t.currentNode.name,t.view,function(){t.updateRoot(a)}):t.updateRoot(a),t.currentDepth=1}else{if(t.currentNode===a.data)return;var s=(0,f.clone)(t.currentDepth);t.currentDepth=parseInt(a.key),s-1===t.currentDepth?Ep(t.currentNode.name,t.view,function(){t.update(a.data)}):t.update(a.data)}}})},r.prototype.getRootItem=function(){var t=this.plot.options.data,e=(0,f.hasKey)(t,"name")?t.name:"root";return{key:"1",text:e,data:this.plot.rootData}},r.prototype.saveOriginMapping=function(){var t=this.plot.options,e=t.colorField,n=t.colors,a={field:e,values:n};this.originMapping=a},r.prototype.adjustScale=function(t){var e=this.view;if(this.mapping&&(0,f.hasKey)(this.mapping,String(t))){var n=(0,f.clone)(this.mapping[t]);if(n.values&&(0,f.isFunction)(n.values)){var a=n.values(this.parentNode,this.currentNode);n.values=a}this.view.geometries[0].color(n.field,n.values)}else{var n=(0,f.clone)(this.originMapping);this.view.geometries[0].color(n.field,n.values)}e.render()},r.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox,e=this.geometry.container;e.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},r.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},r}(ca),tP=Pp;ca.registerInteraction("drilldown",Pp);var eP={drilldown:tP},rP={rect:"polygon",breadcrumb:"breadcrumb"},nP=ri(rP);(0,f.assign)(jr,nP);var Lp=4,iP=8;function aP(i,r){return!i.children||i.depth>=r}function oP(i,r,t){var e=i.attr("fontSize"),n=i.attr("text"),a=t.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),o=n.split(`
`),s=o.map(function(l){for(var u="",h=l.split(""),c=[],d=0;d<h.length;d++){var y=h[d];a.attr("text",u+=y);var _=a.getBBox().width-1;if(_>r){if(d===0)break;c.push(d),u=""}}return rd(h,c)});return a.remove(),s.join(`
`)}function Op(i,r,t,e){for(var n=e.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:r}}),a=n.getBBox().width,o=e.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:r}}),s="",l=t-a,u=0;u<i.length;u++){var h=i[u];o.attr("text",s+=h);var c=o.getBBox().width;if(c>=l){var d=s.substr(0,s.length-1);if(d.length>0)return d+"..."}}return o.remove(),n.remove(),s}var sP=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,f.each)(t,function(e){var n=e.shape,a=n.get("origin").data,o=aP(a,r.plot.options.maxLevel);if(a.showLabel){var s=(0,f.clone)(r.options.style),l=r.getPosition(n,o),u=r.options.formatter,h=u?u(a.name):a.name,c=r.getTextBaseLine(o),d=r.container.addShape("text",{attrs:(0,f.deepMix)({},s,{x:l.x,y:l.y,text:h,fill:"black",textAlign:"center",textBaseline:c,fontWeight:o?300:600}),name:"label"});r.adjustLabel(d,n,o)}})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getPosition=function(r,t){var e=r.getBBox(),n=0,a=0;return t?(n=e.minX+e.width/2,a=e.minY+e.height/2):(n=e.x+e.width/2,a=e.y+4),{x:n,y:a}},i.prototype.getTextBaseLine=function(r){return r?"middle":"top"},i.prototype.adjustLabel=function(r,t,e){e?this.adjustLeafLabel(r,t):this.adjustParentLabel(r,t)},i.prototype.adjustLeafLabel=function(r,t){var e=t.getBBox(),n=r.getBBox(),a=(0,f.clone)(r.attr("text")),o=2,s=Math.max(r.attr("fontSize")-o,iP),l=e.x+e.width/2,u=e.y+e.height/2;r.attr({x:l,y:u,textAlign:"center",textBaseline:"middle",lineHeight:s,fontSize:s});var h=e.width-Lp*2;if(n.width>e.width&&n.height>e.height){r.attr("text","");return}else if(h<s){r.attr("text","");return}if(n.width>e.width){var c=oP(r,h,this.container);r.attr({lineHeight:r.attr("fontSize"),text:c});var d=r.getBBox();if(d.height>e.height){var y=Op(a,s,h,this.container);r.attr("text",y)}}},i.prototype.adjustParentLabel=function(r,t){var e=t.getBBox(),n=e.width-Lp*2;if(r.getBBox().width>n){var a=Op(r.attr("text"),r.attr("fontSize"),n,this.container);r.attr("text",a)}},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,f.clone)(t)}},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="polygon"})},i}(),lP=sP,uP=4,Cs=4,Ip=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="treemap",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},r.prototype.beforeInit=function(){var t=this;i.prototype.beforeInit.call(this);var e=this.options.interactions;e&&(0,f.each)(e,function(o){o.type==="drilldown"&&(t.isDrilldown=!0,t.options.maxLevel=1)});var n=this.options.data,a=this.getTreemapData(n);this.rootData=a},r.prototype.afterRender=function(){if(i.prototype.afterRender.call(this),this.options.label&&this.options.label.visible){var t=new lP((0,J.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.geometryParser=function(){return"polygon"},r.prototype.getTreemapData=function(t,e){var n=this.getViewRange(),a=Cp(t,n.x,n.y,n.width,n.height);this.recursive(a,1);var o=[];return this.getAllNodes(a,o,e),o.sort(function(s,l){return s.depth-l.depth}),this.options.xField="x",this.options.yField="y",o},r.prototype.processData=function(){return this.rootData},r.prototype.coord=function(){},r.prototype.addGeometry=function(){var t=this,e=this.options,n=e.data,a=e.colorField,o=e.color,s=this.getTreemapData(n);this.rootData=s;var l=this.isNested(s);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[a],values:o},style:{fields:["depth"],callback:function(u){var h=t.adjustStyleByDepth(u,l);return(0,f.deepMix)({},h,t.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},r.prototype.applyInteractions=function(){var t=this,e=this.options.interactions,n=this.view.interactions;(0,f.each)(e,function(a){var o=eP[a.type];if(o){var s=new o((0,f.deepMix)({},{view:t.view,plot:t,startEvent:"polygon:click"},a.cfg,o.getInteractionRange(t.layerBBox,a.cfg)));n[a.type]=s}})},r.prototype.animation=function(){i.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,E)},r.prototype.recursive=function(t,e){var n=this,a=this.options.colorField;(0,f.each)(t,function(o){(0,f.each)(o.children,function(s){s.depth=e,e>1&&(s.parent=o),(0,f.hasKey)(s,a)||(s[a]=o[a]),s.showLabel=!0;var l=n.isLeaf(s);if(!l){var u=Math.abs(s.y1-s.y0),h=n.getLabelHeight(),c=u/2>h?h:Cs;s.showLabel=c!==Cs;var d=Cp(s,s.x0+Cs,s.y0+c,s.x1-Cs,s.y1-Cs);n.fillColorField(d,a,s[a]),n.recursive(d,s.depth+1)}})})},r.prototype.getAllNodes=function(t,e,n){var a=this,o=n||this.options.maxLevel,s=this.getViewRange();(0,f.each)(t,function(l){(0,f.hasKey)(l,"x0")&&l.depth<=o&&e.push((0,J.__assign)((0,J.__assign)({},l),{x:[l.x0,l.x1,l.x1,l.x0],y:[s.height-l.y1,s.height-l.y1,s.height-l.y0,s.height-l.y0]})),(0,f.hasKey)(l,"children")&&a.getAllNodes(l.children,e)})},r.prototype.fillColorField=function(t,e,n){(0,f.each)(t,function(a){(0,f.hasKey)(a,e)||(a[e]=n)})},r.prototype.getLabelHeight=function(){var t=this.options.label,e=this.getPlotTheme().label.style.fontSize,n=0;if(t&&t.visible){var a=t.style;n=a&&a.fontSize?a.fontSize:e}return n+uP*2},r.prototype.isLeaf=function(t){return!t.children||t.children.length===0},r.prototype.isNested=function(t){var e=this.options.maxLevel;if(e===1)return!1;for(var n=!1,a=0;a<t.length;a++)if(t[a].children){n=!0;break}return n},r.prototype.adjustStyleByDepth=function(t,e){var n=this.options.maxLevel;return e?t===1?{lineWidth:1,stroke:"black",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},r}(In),fP=Ip;zr("treemap",Ip);var hP=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="treemap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=fP.getDefaultOptions,r}(Ir),kp=hP,Bp=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="step-line",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{step:"hv"})},r}(Ss);zr("step-line",Bp);var cP=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="step-line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Bp.getDefaultOptions,r}(Ir),Dp=cP;function Fp(i,r){var t=[],e=i.get("origin").points;return(0,f.each)(e,function(n){t.push(r.convertPoint(n))}),t}var vP=function(){function i(r){(0,f.deepMix)(this,this.constructor.getDefaultOptions(r),r),this._init()}return i.getDefaultOptions=function(r){var t=r.transpose;return{visible:!0,size:t?32:80,spacing:t?8:12,offset:t?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(e,n){return(100*n/e).toFixed(2)+"%"}},animation:(0,f.deepMix)({},eo.DEFAULT_ANIMATE_CFG)}},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype.draw=function(){var r=this,t=this.transpose,e=this.view.getScaleByField(this.field).values,n=this.view.geometries[0],a=n.getShapes(),o,s,l,u;t?a.forEach(function(h,c){s=e[c],c++>0&&r._drawTag(l,u,h,s),u=s,l=h}):a.forEach(function(h,c){u=e[c],c++>0&&r._drawTag(h,u,o,s),s=u,o=h})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._drawTag=function(r,t,e,n){var a=this.transpose,o=this.view.geometries[0].coordinate,s=Fp(r,o)[a?3:0],l=Fp(e,o)[a?0:3];this._drawTagArrow(s,l),this._drawTagValue(s,t,l,n)},i.prototype._drawTagArrow=function(r,t){var e=this.spacing,n=this,a=n.size,o=n.offset,s=n.animation,l=n.transpose,u=this.arrow.headSize,h=t.y-r.y,c=t.x-r.x,d;l?(c-u)/2<e?(e=Math.max(1,(c-u)/2),d=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e,t.y-o-a/2]]):d=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e-u,t.y-o-a],[t.x-e,t.y-o-a/2],[t.x-e-u,t.y-o]]:(h-u)/2<e?(e=Math.max(1,(h-u)/2),d=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a/2,t.y-e]]):d=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a,t.y-e-u],[t.x+o+a/2,t.y-e],[t.x+o,t.y-e-u]];var y=this.container.addShape("polygon",{name:"arrow",attrs:(0,J.__assign)((0,J.__assign)({},this.arrow.style),{points:d})});s!==!1&&this._fadeInTagShape(y)},i.prototype._drawTagValue=function(r,t,e,n){var a=this,o=a.size,s=a.offset,l=a.animation,u=a.transpose,h=this.value.formatter(t,n),c=this.container.addShape("text",{name:"value",attrs:(0,J.__assign)((0,J.__assign)({},this.value.style),{text:h,x:u?(r.x+e.x)/2:r.x+s+o/2,y:u?r.y-s-o/2:(r.y+e.y)/2,textAlign:"center",textBaseline:"middle"})});if(u){var d=e.x-r.x,y=c.getBBox().width;if(y>d){var _=y/h.length,k=Math.max(1,Math.ceil(d/_)-1),F=h.slice(0,k)+"...";c.attr("text",F)}}l!==!1&&this._fadeInTagShape(c)},i.prototype._fadeInTagShape=function(r){var t=this.animation,e=r.attr("opacity");r.attr("opacity",0);var n=(0,f.get)(t,"appear",eo.DEFAULT_ANIMATE_CFG.appear).duration;r.animate({opacity:e},n)},i}(),Rp=vP;function dP(i){var r=i.getResponsiveTheme(),t=i.canvas;new ao({plot:i,responsiveTheme:r,dim:"x"}),new ao({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var pP=[],gP=[{name:"responsiveAxis",method:dP}],yP={preRender:pP,afterRender:gP},mP=function(i){var r=i.opacity||1;return{opacity:r*.5}},xP=function(i){var r=i.opacity||1;return{opacity:r*.5}},Zf={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:mP,disable:xP,selected:{lineWidth:1,stroke:"black"}}};Ni("bar",Zf);function za(i){var r=i.indexOf("#")===0?i.substr(1):i,t=[];return t.push(parseInt(r.substr(0,2),16)),t.push(parseInt(r.substr(2,2),16)),t.push(parseInt(r.substr(4,2),16)),t}function Kf(i){var r;return r=Math.round(i),r=r.toString(16),r.length===1&&(r="0"+i),r}function VG(i){return"#"+(Kf(i[0])+Kf(i[1])+Kf(i[2]))}function Ol(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var $f=function(i){var r=za(i),t=r[0],e=r[1],n=r[2],a=(t*299+e*587+n*114)/1e3<128;return a},Np=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a=this.options,o=a.style,s=a.formatter,l=[].concat(t.getModel().mappingData),u=this.getValue(t);return(0,f.deepMix)({},o,(0,J.__assign)((0,J.__assign)({},this.getPosition(t)),{text:s?s(u,(n={},n[xs]=l[0]._origin,n.mappingDatum=l[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):u,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},r.prototype.adjustLabel=function(t,e){var n=this.options,a=n.adjustPosition,o=n.style;if(a){var s=this.getDefaultOffset(),l=t.getBBox(),u=this.getElementShapeBBox(e);if(u.width<=l.width){var h=u.maxX+this.options.offsetX+s;t.attr("x",h),t.attr("fill",o.fill)}}},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,J.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.getValue=function(t){return(0,f.get)(t.getData(),this.layer.options.xField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,u=a.height,h=a.width,c=this.options,d=c.offsetX,y=c.offsetY,_=c.position,k=l+u/2+y,F=n<0?-1:1,Y;if(_==="left"){var G=n>0?o:s;Y=G+e*F+d}else if(_==="right"){var G=n>0?s:o;Y=G+e*F+d}else Y=o+h/2+d;return{x:Y,y:k}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="right"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=za(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=Ol(l,s);return u}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="right"&&o&&e!=="black"?null:void 0},r.prototype.getTextAlign=function(t){var e=this.getValue(t),n=this.options.position,a={right:"left",left:"left",middle:"center"},o={right:"right",left:"right",middle:"center"};return e<0?o[n]:a[n]},r.prototype.getTextBaseline=function(){return"middle"},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,f.each)(n.get("origin").points,function(y){a.push(e.coord.convertPoint(y))});var o=a.map(function(y){return y.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),u=a.map(function(y){return y.y}),h=Math.min.apply(Math,u),c=Math.max.apply(Math,u),d=new Br(s,h,l-s,c-h);return d},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(Tf),Gp=Np;Ri("bar",Np);var Yp=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,u=a.height,h=this.options,c=h.offsetX,d=h.offsetY,y=l+u/2+d,_=n<0?-1:1,k=n>0?s:o,F=k+e*_+c;return{x:F,y}},r.prototype.getTextAlign=function(t){var e=this.getValue(t);return e>0?"left":"right"},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,f.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.height>=a.height})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,u=s.lightStyle,h=(0,f.groupBy)(e,function(c){return c.get(Ki)[tn.FIELD_ORIGIN][o]});(0,f.each)(e,function(c){var d=h[c.get(Ki)[tn.FIELD_ORIGIN][o]]||[],y=c.get("element"),_=y.shape,k=$f(_.attr("fill")),F=n.getElementShapeBBox(y),Y=Br.fromBBoxObject(c.getBBox());if(Gf(a,F)<=0&&c.set("visible",!1),Y.width>F.width){var G=(0,f.findIndex)(d,function(ft){return ft===c});G!==d.length-1&&c.set("visible",!1)}else{c.attr({x:F.x+F.width/2,textAlign:"center"});var ut=Y.width>F.width||Y.height>F.height;ut?c.attr({stroke:u==null?void 0:u.stroke}):c.attr({fill:k?u==null?void 0:u.fill:l==null?void 0:l.fill,fillOpacity:k?u==null?void 0:u.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],u=(0,f.groupBy)(a,function(y){return y.get(Ki)[tn.FIELD_ORIGIN][o]}),h=(0,f.uniq)((0,f.map)(a,function(y){return y.get(Ki)[tn.FIELD_ORIGIN][o]})),c;for((0,f.size)(h)>0&&(c=h.shift(),(0,f.each)(u[c],function(y){return l.push(y)})),(0,f.size)(h)>0&&(c=h.pop(),(0,f.each)(u[c],function(y){return l.push(y)})),(0,f.each)(h.reverse(),function(y){(0,f.each)(u[y],function(_){return l.push(_)})});l.length>0;){var d=l.shift();d.get("visible")&&(Al(d,n),_l(d,s)?d.set("visible",!1):s.push(d))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,f.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(Gp),bP=Yp;Ri("bar-auto",Yp);var wP={bar:"interval"},SP=ri(wP);(0,f.assign)(jr,SP);var CP={bar:"interval"},MP={interval:"bar"},zp=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bar",t}return r.getDefaultOptions=function(){var t={xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}};return(0,f.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this);var t=this.options;t.responsive&&t.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&t.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new Rp((0,J.__assign)({view:this.view,field:t.xField,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?CP[e]:MP[e]},r.prototype.processData=function(t){var e=t&&t.slice().reverse(),n=this.options.yField,a=[];return(0,f.each)(e,function(o){var s=(0,f.clone)(o);s[n]=s[n].toString(),a.push(s)}),a},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},(0,f.has)(t,"yAxis")&&Zn(e[t.yField],t.yAxis),e[t.xField]={},(0,f.has)(t,"xAxis")&&Zn(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.axis=function(){var t=ci("axis",{plot:this,dim:"x"}),e=ci("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.adjustBar=function(t){return null},r.prototype.addGeometry=function(){var t=this.options,e=Dn("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,f.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.bar.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,C)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=no(this.view,"interval");this.doRenderLabel(s,(0,J.__assign)({type:"bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},r.prototype.applyResponsive=function(t){var e=this,n=yP[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r.prototype.getLabelOptionsByPosition=function(t){if(t==="middle")return{offset:0};if(t==="left")return{offset:7,style:{stroke:null,lineWidth:0}};if(t==="right")return{offset:4}},r}(In),Il=zp;zr("bar",zp);var EP=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Il.getDefaultOptions,r}(Ir),Xp=EP;Ni("stackedBar",Zf);var AP=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var n=t.getBBox(),a=this.getElementShapeBBox(e);a.maxX<=n.maxX&&t.set("visible",!1)}},r}(Gp),HG=null;Ri("stacked-bar",AP);var _P=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(bP),WG=null;Ri("stacked-bar-auto",_P);var Vp=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=no(this.view,"interval");this.doRenderLabel(s,(0,J.__assign)({type:"stacked-bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(Il),Qf=Vp;zr("stackedBar",Vp);var TP=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Qf.getDefaultOptions,r}(Ir),Hp=TP;Ni("groupedBar",Zf);var Wp=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=(0,f.valuesOfKey)(this.options.data,this.options.groupField)||[];this.view.on("tooltip:change",function(e){var n=e.items,a=n===void 0?[]:n,o=(0,f.sortBy)(a.slice(),function(s){return t.indexOf(s.name)}).reverse();o.forEach(function(s,l){e.items[l]=s})})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.scale=function(){var t={};t[this.options.groupField]={values:(0,f.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=(0,f.deepMix)({},this.options.meta,t):this.options.meta=t,i.prototype.scale.call(this)},r.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(Il),jp=Wp;zr("groupedBar",Wp);var PP=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=jp.getDefaultOptions,r}(Ir),Up=PP,Jf=function(i,r,t){var e=(0,f.groupBy)(i,r);e=(0,f.mapValues)(e,function(o){return(0,f.map)(o,function(s){return(0,f.map)(t,function(l){return s[l]})})}),e=(0,f.mapValues)(e,f.flatten),e=(0,f.mapValues)(e,function(o){return(0,f.map)(o,function(s){var l=Number.parseFloat(s);return!(0,f.isNumber)(l)||isNaN(l)?0:l})});var n=(0,f.mapValues)(e,function(o){return(0,f.reduce)(o,function(s,l){return s+l},0)}),a=(0,f.map)(i,function(o){var s=(0,J.__assign)((0,J.__assign)({},o),{_origin:o,total:n[o[r]]});return(0,f.each)(t,function(l){s[l]=o[l]/(n[o[r]]||1)}),s});return(0,f.each)((0,f.groupBy)(a,r),function(o){var s=0;(0,f.each)(o,function(l,u){(0,f.each)(t,function(h,c){(s+l[h]>=1||u===o.length-1&&c===t.length-1&&s>0)&&(l[h]=1-s),s+=l[h]})})}),a},Zp=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedBar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField,o=i.prototype.processData.call(this,t);return Jf(o,a,[n])},r.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(Qf),Kp=Zp;zr("percentStackedBar",Zp);var LP=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Kp.getDefaultOptions,r}(Ir),$p=LP,Qp=8;function OP(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var IP=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.elements,n=t.coordinate;this.coord=n,(0,f.each)(e,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),u=r.getTextAlign(),h=[];(0,f.each)(s,function(c,d){var y=d===0?r.options.leftStyle:r.options.rightStyle,_=r.getTextColor(o,d);r.options.position==="inner"&&r.options.adjustColor&&_!=="black"&&(y.stroke=null);var k=r.options.formatter,F=k?k(l[d]):l[d],Y=r.container.addShape("text",{attrs:(0,f.deepMix)({},y,{x:c.x,y:c.y,text:F,fill:_,textAlign:u[d],textBaseline:"middle"}),name:"label"});h.push(Y),r.doAnimation(Y)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,f.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new Br(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:Qp,offsetY:0,style:(0,f.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.maxX,a=t.minY,o=t.height,s=this.options,l=s.offsetX,u=s.offsetY,h=a+o/2+u,c,d;return this.options.position==="outer"?(c=e-l,d=n+l):(c=e+l,d=n-l),[{x:c,y:h},{x:d,y:h}]},i.prototype.getValue=function(r){var t=this.plot.options.xField;return r.get("origin").data[t]},i.prototype.getTextAlign=function(){return this.options.position==="outer"?["right","left"]:["left","right"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=za(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=OP(s,o);return l}var u=t===0?this.options.leftStyle.fill:this.options.rightStyle.fill;return u},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.x[0],o=n.x[1],s=Math.abs(o-a),l=this.view.coordinateBBox,u=[r.getBBox(),t.getBBox()],h=r.attr("x"),c=t.attr("x");if(this.options.adjustPosition&&this.options.position==="inner"){var d=u[0].width+u[1].width,y=u[0].maxX-u[1].minX>2,_=d>s;(y||_)&&(h=a-this.options.offsetX,r.attr("fill",this.options.leftStyle.fill),r.attr("textAlign","right"),u[0]=r.getBBox(),c=o+this.options.offsetX,t.attr("fill",this.options.rightStyle.fill),t.attr("textAlign","left"),u[1]=t.getBBox())}u[0].minX<l.minX&&(h=l.minX+Qp,r.attr("textAlign","left")),r.attr("x",h),t.attr("x",c),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),kP=IP,Jp;function qp(i,r){var t=i.getBBox(),e=t.minX+t.width/2;i.setClip({type:"rect",attrs:{x:e,y:t.minY,width:0,height:t.height}});var n=i.get("clipShape");n.animate({width:t.width,x:t.minX},r.duration,r.easing,function(){i.setClip(null)},r.delay)}qp.animationName="clipInFromCenter";function BP(i){Jp=i}function tg(i,r){var t=DP(i).attr("path"),e=(0,f.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function DP(i){var r=i.id,t;return(0,f.each)(Jp,function(e){e.id===r&&(t=e)}),t}tg.animationName="updateFromCenter",Yn("clipInFromCenter",qp),Yn("updateFromCenter",tg);var eg=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeBar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,f.each)(e,function(n){var a=n.elements;(0,f.each)(a,function(o){t.push(o.shape)})}),BP(t),i.prototype.afterRender.call(this)},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new kP((0,J.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.animation=function(){i.prototype.animation.call(this)},r}(Il),FP=eg;zr("rangeBar",eg);var RP=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rangeBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=FP.getDefaultOptions,r}(Ir),rg=RP,ng=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(mp),NP=ng;Ri("area-point",ng);var ig=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){i.prototype.layoutLabels.call(this,t,e),this.adjustAreaLabelsStyle(e)},r.prototype.adjustAreaLabelsStyle=function(t){var e=this.view,n=this.options,a=n.darkStyle,o=n.lightStyle,s=no(e,"area"),l=pA(s).sort(function(u,h){return h.getBBox().height-u.getBBox().height});(0,f.each)(t,function(u){var h=u.getBBox(),c=pE(h.x,h.y,h.width,h.height),d=(0,f.map)(l,function(k){return{area:k,matches:(0,f.filter)(c,function(F){return!!k.isHit(F[0],F[1])}).length}}).sort(function(k,F){return k.matches-F.matches});if((0,f.last)(d).matches>0){var y=(0,f.last)(d).area.attr("fill"),_=$f(y);u.attr({fill:_?o==null?void 0:o.fill:a==null?void 0:a.fill,fillOpacity:_?o.fillOpacity:a.fillOpacity,stroke:_?o==null?void 0:o.stroke:a==null?void 0:a.stroke})}})},r}(yT),GP=ig;Ri("area-point-auto",ig);function YP(i){var r=i.getResponsiveTheme(),t=i.canvas;new ao({plot:i,responsiveTheme:r,dim:"x"}),new ao({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var zP=[],XP=[{name:"responsiveAxis",method:YP}],VP={preRender:zP,afterRender:XP},HP={area:"area",line:"line",point:"point"},WP=ri(HP);(0,f.assign)(jr,WP);var jP=function(i){var r=i.opacity||1;return{opacity:r}},UP=function(i){var r=i.opacity||1;return{opacity:r*.5}},ZP=function(i){var r=i.opacity||1;return{opacity:r}},KP=function(i){var r=i.opacity||1;return{opacity:r*.5}},$P=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},QP=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},JP=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},qP=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}},ag={areaStyle:{normal:{},active:jP,disable:UP,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:ZP,disable:KP,selected:$P},pointStyle:{normal:{},active:QP,disable:qP,selected:JP},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}};Ni("area",ag);var tL={area:"area",line:"line",point:"point"},og=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return tL[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&Zn(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Zn(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){return null},r.prototype.addGeometry=function(){var t=this.options,e=Dn("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},r.prototype.adjustArea=function(t){},r.prototype.adjustLine=function(t){},r.prototype.adjustPoint=function(t){},r.prototype.addLine=function(){var t=this.options,e=(0,f.deepMix)({},t.line);if(e.visible){var n=Dn("line","guide",{type:"line",plot:this,line:e});this.adjustLine(n),this.setConfig("geometry",n),this.line=n}},r.prototype.addPoint=function(){var t=this.options,e=(0,f.deepMix)({},t.point);if(e.visible){var n=Dn("point","guide",{plot:this});this.adjustPoint(n),this.setConfig("geometry",n),this.point=n}},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=no(this.view,"area");this.doRenderLabel(s,(0,J.__assign)({type:"area-point",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.label=function(){},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,p)},r.prototype.applyResponsive=function(t){var e=this,n=VP[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r}(In),qf=og;zr("area",og);var eL=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="area",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=qf.getDefaultOptions,r}(Ir),sg=eL,rL=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getShapeInfo=function(t){var e=t.get("origin").points,n=e[e.length-1],a=t.attr("stroke"),o=this.plot.options.stackField,s=t.get("origin").data[0][o],l=(0,f.reduce)(n.y,function(u,h){return u+h},0)/(0,f.size)(n.y);return{x:n.x,y:l,color:a,name:s}},r}(bp),nL=rL,th=12,iL=.01,aL=100,oL=12;function sL(i){var r=-Infinity,t=Infinity,e=-Infinity;return(0,f.each)(i,function(n){t=Math.min(n.x,t),e=Math.max(n.x,e);var a=Math.abs(n.y[0]-n.y[1]);r=Math.max(r,a)}),{xRange:[t,e],maxHeight:r}}function lg(i,r,t){var e=r[0],n=r[r.length-1];(0,f.each)(r,function(o){if(o.x===i)return o.y[t];o.x<i&&o.x>e.x&&(e=o),o.x>i&&o.x<n.x&&(n=o)});var a=(i-e.x)/(n.x-e.x);return e.y[t]*(1-a)+n.y[t]*a}function lL(i,r){var t;for(t=0;t<i.length;t++){var e=i[t];if(e.x===r||e.x>r)break}return t}var uL=function(){function i(r){this.destroyed=!1,this.scaleFactor=[],this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.plot.options.stackField,e=this.getGeometry().dataArray,n=[];(0,f.each)(e,function(o,s){var l=r.drawLabel(o,s);l&&(n.push((0,f.deepMix)({},o[0],l)),r.scaleFactor.push(l.scaleFactor))});var a=[];(0,f.each)(n,function(o,s){var l=r.options,u=l.style,h=l.offsetX,c=l.offsetY,d=r.getFontSize(s),y=r.options.formatter,_=y?y(o._origin[t]):o._origin[t],k=r.container.addShape("text",{attrs:(0,f.deepMix)({},{x:o.x+h,y:o.y+c,text:_,fill:o.color,fontSize:d,textAlign:"center",textBaseline:"top"},u),name:"label"});a.push(k)}),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,f.clone)(r.label.style);return t.stroke=null,delete t.fill,{offsetX:0,offsetY:0,style:t,autoScale:!0}},i.prototype.drawLabel=function(r,t){var e=sL(r),n=e.xRange,a=e.maxHeight,o=n[1]-n[0],s=this.getInterpolatedPoints(n[0],o,r),l=this.getLabelBbox(t),u={xRange:n,aspect:l.width/l.height,data:s,justTest:!0},h=this.bisection(oL,a,this.testFit,u,iL,aL);if(h!==null){u.justTest=!1;var c=this.testFit(u);return c.x=c.x,c.y=c.y0+(c.y1-c.y0)/2,c.scaleFactor=h/l.height*.2,c}},i.prototype.getInterpolatedPoints=function(r,t,e){for(var n=[],a=2,o=r;o<t;o+=a){var s=lg(o,e,0),l=lg(o,e,1);n.push({x:o,y:[s,l]})}return n},i.prototype.bisection=function(r,t,e,n,a,o){for(var s=0;s<o;s++){var l=(r+t)/2,u=n;u.height=l,u.width=l*u.aspect;var h=e(u),c=(t-r)/2<a;if(h&&c)return l;h?r=l:t=l}return null},i.prototype.testFit=function(r){for(var t=r.xRange,e=r.width,n=r.height,a=r.data,o=r.justTest,s=0;s<a.length;s++){var l=a[s],u=l.x,h=u+e;if(h>t[1])break;for(var c=lL(a,h),d=-Infinity,y=null,_=Infinity,k=s;k<c;k++){var F=a[k].y[1],Y=a[k].y[0];if(Y<_&&(_=Y),F>d&&(d=F,y=Y),_-d<n)break}if(_-d>=n)return o?!0:{x:u,y0:d,y1:y,width:e,height:n}}return!1},i.prototype.getLabelBbox=function(r){var t=(0,f.clone)(this.plot.theme.label.textStyle);t.fontSize=th;var e=this.container.addShape("text",{attrs:(0,J.__assign)({text:r,x:0,y:0},t)}),n=e.getBBox();return e.remove(),n},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="area"})},i.prototype.getFontSize=function(r){if(this.options.autoScale){var t=this.scaleFactor[r];return th*t}return th},i}(),fL=uL,hL={lineLabel:{Ctr:nL},areaLabel:{Ctr:fL}};function cL(i,r,t){if(i.options[r]&&i.options[r].visible){var e=hL[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var vL=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(NP),jG=null;Ri("stackedArea-point",vL);var dL=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.sortLabels=function(t,e){var n=[];return e.length>0&&n.push(e.shift()),e.length>0&&n.push(e.pop()),n.push.apply(n,e),n},r}(GP),UG=null;Ri("stackedArea-point-auto",dL),Ni("stackedArea",ag);var ug=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t.baseType="area",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},r.prototype.beforeInit=function(){var t=(0,f.get)(this.options,["label","visible"]),e=(0,f.get)(this.options,["label","type"]),n=this.options;t&&(e==="line"&&(n.lineLabel=this.options.label),e==="area"&&(n.areaLabel=this.options.label)),i.prototype.beforeInit.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.label=function(){var t=this.options,e=t.label;if(e&&e.visible===!1){this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),this.area.label=!1;return}},r.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},r.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,i.prototype.afterRender.call(this)},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r.prototype.renderPlotComponents=function(){var t=this,e=["areaLabel","lineLabel"];(0,f.each)(e,function(n){var a=(0,J.__assign)({view:t.view,plot:t},t.options[n]),o=cL(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(qf),eh=ug;zr("stackedArea",ug);var pL=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=eh.getDefaultOptions,r}(Ir),fg=pL,hg=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedArea",t.baseType="stackedArea",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return Jf(t,n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},t,this.options.meta),i.prototype.scale.call(this)},r}(eh),cg=hg;zr("percentStackedArea",hg);var gL=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=cg.getDefaultOptions,r}(Ir),vg=gL;function yL(i){var r=i.getResponsiveTheme(),t=i.canvas;new ao({plot:i,responsiveTheme:r,dim:"x"}),new ao({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var mL=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,f.get)(this.plot.options,["label","position"],"inner")},r}(gp);function xL(i){var r=i.getResponsiveTheme();new mL({plot:i,responsiveTheme:r})}var bL=[],wL=[{name:"responsiveAxis",method:yL},{name:"responsiveLabel",method:xL}],SL={preRender:bL,afterRender:wL},CL={label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}};Vd("column",CL);var dg=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a,o=this.options,s=o.style,l=o.formatter,u=[].concat(t.getModel().mappingData),h=this.getValue(t);return(0,f.deepMix)({},s,(0,J.__assign)((0,J.__assign)({},this.getPosition(t)),{text:l?l(h,(n={},n[xs]=(a=u[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=u[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):h,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,J.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=this.getDefaultOffset(),o=t.getBBox(),s=this.getElementShapeBBox(e);if(s.height<=o.height){var l=s.minY+this.options.offsetY-a;t.attr("y",l),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)}}},r.prototype.getValue=function(t){return(0,f.get)(t.getData(),this.layer.options.yField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,u=a.height,h=a.width,c=this.options,d=c.offsetX,y=c.offsetY,_=c.position,k=o+h/2+d,F=n>0?-1:1,Y;if(_==="top"){var G=n>0?s:l;Y=G+e*F+y}else if(_==="bottom"){var G=n>0?l:s;Y=G+e*F+y}else Y=s+u/2+y;return{x:k,y:Y}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="top"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=za(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=Ol(l,s);return u}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="top"&&o&&e!=="black"?null:void 0},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,f.each)(n.get("origin").points,function(y){a.push(e.coord.convertPoint(y))});var o=a.map(function(y){return y.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),u=a.map(function(y){return y.y}),h=Math.min.apply(Math,u),c=Math.max.apply(Math,u),d=new Br(s,h,l-s,c-h);return d},r.prototype.getTextAlign=function(){return"center"},r.prototype.getTextBaseLine=function(){return"middle"},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(Tf),rh=dg;Ri("column",dg);var pg=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,u=a.width,h=this.options,c=h.offsetX,d=h.offsetY,y=o+u/2+c,_=n>0?-1:1,k=n>0?s:l,F=k+e*_+d;return{x:y,y:F}},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,f.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.width>=a.width})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,u=s.lightStyle,h=(0,f.groupBy)(e,function(c){return c.get(Ki)[tn.FIELD_ORIGIN][o]});(0,f.each)(e,function(c){var d=h[c.get(Ki)[tn.FIELD_ORIGIN][o]]||[],y=c.get("element"),_=y.shape,k=$f(_.attr("fill")),F=n.getElementShapeBBox(y),Y=Br.fromBBoxObject(c.getBBox());if(Gf(a,F)<=0&&c.set("visible",!1),Y.height>F.height){var G=(0,f.findIndex)(d,function(ft){return ft===c});G!==0&&c.set("visible",!1)}else{c.attr({y:F.y+F.height/2,textBaseline:"middle"});var ut=Y.width>F.width||Y.height>F.height;ut?c.attr({stroke:u==null?void 0:u.stroke}):c.attr({fill:k?u==null?void 0:u.fill:l==null?void 0:l.fill,fillOpacity:k?u==null?void 0:u.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],u=(0,f.groupBy)(a,function(y){return y.get(Ki)[tn.FIELD_ORIGIN][o]}),h=(0,f.uniq)((0,f.map)(a,function(y){return y.get(Ki)[tn.FIELD_ORIGIN][o]})),c;for((0,f.size)(h)>0&&(c=h.shift(),(0,f.each)(u[c],function(y){return l.push(y)})),(0,f.size)(h)>0&&(c=h.pop(),(0,f.each)(u[c],function(y){return l.push(y)})),(0,f.each)(h.reverse(),function(y){(0,f.each)(u[y],function(_){return l.push(_)})});l.length>0;){var d=l.shift();d.get("visible")&&(Al(d,n),_l(d,s)?d.set("visible",!1):s.push(d))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,f.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(rh),ML=pg;Ri("column-auto",pg);var EL={column:"interval"},AL=ri(EL);(0,f.assign)(jr,AL);var _L=function(i){var r=i.opacity||1;return{opacity:r*.5}},TL=function(i){var r=i.opacity||1;return{opacity:r*.5,fillOpacity:r*.5}},nh={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:_L,disable:TL,selected:{lineWidth:1,stroke:"black"}}};Ni("column",nh);var PL={column:"interval"},LL={interval:"column"},gg=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="column",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new Rp((0,J.__assign)({view:this.view,field:t.yField,transpose:!0,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?PL[e]:LL[e]},r.prototype.processData=function(t){var e=this.options.xField,n=[];return(0,f.each)(t,function(a){var o=(0,f.clone)(a);o[e]=o[e].toString(),n.push(o)}),n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&Zn(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Zn(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.adjustColumn=function(t){},r.prototype.addGeometry=function(){var t=this.options,e=Dn("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,f.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},r.prototype.animation=function(){i.prototype.animation.call(this),this.options.animation===!1&&(this.column.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,b)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n==null?void 0:n.visible){var s=no(this.view,"interval");this.doRenderLabel(s,(0,J.__assign)({type:"column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.applyResponsive=function(t){var e=this,n=SL[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r}(In),Ho=gg;zr("column",gg);var OL=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="column",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ho.getDefaultOptions,r}(Ir),yg=OL;Ni("groupedColumn",nh);var mg=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.baseType="column",t.type="groupedColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.addGeometry=function(){i.prototype.addGeometry.call(this)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(Ho),ih=mg;zr("groupedColumn",mg);var IL=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ih.getDefaultOptions,r}(Ir),xg=IL;function bg(i,r){var t=[],e=i.get("origin").points;return(0,f.each)(e,function(n){t.push(r.convertPoint(n))}),t}function kL(){return{areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}}var BL=function(){function i(r){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},(0,f.assign)(this,r),this._init()}return i.prototype.draw=function(){var r=this,t=this._getGroupedShapes();(0,f.each)(t,function(e,n){e.length>0&&r._drawConnection(e,n)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},i.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.setState=function(r,t){r==="active"&&this._onActive(t),r==="disabled"&&this._onDisabled(t),r==="selected"&&this._onSelected(t)},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype._getGroupedShapes=function(){var r=this,t=this.view.getScaleByField(this.field).values,e=this.view.geometries[0],n=e.getShapes(),a={};return(0,f.each)(t,function(o){a[o]=[]}),(0,f.each)(n,function(o){var s=o.get("origin").data,l=s[r.field];a[l].push(o)}),a},i.prototype._drawConnection=function(r,t){var e=r[0].attr("fill");this._areaStyle[t]=this._getShapeStyle(e,"area"),this._lineStyle[t]=this._getShapeStyle(e,"line");for(var n=this.view.geometries[0].coordinate,a=0;a<r.length-1;a++){var o=bg(r[a],n),s=bg(r[a+1],n),l=(0,f.mix)({},this._areaStyle[t]),u=(0,f.mix)({},this._lineStyle[t]);this.triggerOn&&(l.opacity=0,u.opacity=0);var h=this.container.addShape("path",{attrs:(0,f.mix)({},l,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y],["L",s[0].x,s[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),c=this.container.addShape("path",{attrs:(0,f.mix)({},u,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y]]}),name:"connectedArea"}),d=r[a].get("origin").data;h.set("data",d),c.set("data",d),this.areas.push(h),this.lines.push(c)}},i.prototype._getShapeStyle=function(r,t){var e=t+"Style";if(this[e])return this[e];var n=kL()[e],a={fill:r};return t==="line"&&(a={stroke:r}),(0,f.mix)(n,a)},i.prototype._addInteraction=function(){var r=this,t=this.triggerOn;this.view.on("interval:"+t,function(e){var n=e.target.get("origin").data[r.field];r.setState("active",{name:r.field,exp:n}),r.setState("disabled",{name:r.field,exp:function(a){return a!==n}}),r.view.canvas.draw()}),this.view.on("mousemove",function(e){e.gEvent.target.get("name")!=="interval"&&r.setState("disabled",{name:r.field,exp:function(){return!0}})})},i.prototype._initialAnimation=function(){var r=this.view.coordinateBBox,t=r.x,e=r.y,n=r.width,a=r.height;this.container.setClip({type:"rect",attrs:{x:t,y:e,width:0,height:a}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},i.prototype._onActive=function(r){var t=this;(0,f.each)(this.areas,function(e){var n=e.get("data"),a=n[t.field];if(Ya(n,r)){var o=t._areaStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}}),(0,f.each)(this.lines,function(e){var n=e.get("data"),a=n[t.field];if(Ya(n,r)){var o=t._lineStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}})},i.prototype._onDisabled=function(r){(0,f.each)(this.areas,function(t){var e=t.get("data");Ya(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),(0,f.each)(this.lines,function(t){var e=t.get("data");Ya(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},i.prototype._onSelected=function(r){this._onActive(r)},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),DL=BL;Ni("stackedColumn",nh);var FL=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=t.getBBox(),o=this.getElementShapeBBox(e);(o.height<a.height||o.width<a.width)&&t.hide()}},r}(rh),ZG=null;Ri("stacked-column",FL);var RL=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(ML),KG=null;Ri("stacked-column-auto",RL);var wg=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedColumn",t.baseType="column",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},r.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),i.prototype.init.call(this)},r.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new DL((0,J.__assign)({view:this.view,field:t.stackField,animation:t.animation!==!1},t.connectedArea))),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n&&n.visible){var s=no(this.view,"interval");this.doRenderLabel(s,(0,J.__assign)({type:"stacked-column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(Ho),kl=wg;zr("stackedColumn",wg);var NL=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=kl.getDefaultOptions,r}(Ir),Sg=NL,ah=8;function GL(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var YL=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.coordinate,n=t.elements;this.coord=e,(0,f.each)(n,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),u=r.getTextBaseline(),h=[];(0,f.each)(s,function(c,d){var y=d===1?r.options.topStyle:r.options.bottomStyle,_=r.getTextColor(o,d);r.options.position==="inner"&&r.options.adjustColor&&_!=="black"&&(y.stroke=null);var k=r.options.formatter,F=k?k(l[d]):l[d],Y=r.container.addShape("text",{attrs:(0,f.deepMix)({},y,{x:c.x,y:c.y,text:F,fill:_,textAlign:"center",textBaseline:u[d]}),name:"label"});h.push(Y),r.doAnimation(Y)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,f.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new Br(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:0,offsetY:ah,style:(0,f.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.minY,a=t.maxY,o=t.width,s=this.options.offsetY,l=e+o/2,u,h;return this.options.position==="outer"?(u=n-s,h=a+s):(u=n+s,h=a-s),[{x:l,y:h},{x:l,y:u}]},i.prototype.getValue=function(r){var t=this.plot.options.yField;return r.get("origin").data[t]},i.prototype.getTextBaseline=function(){return this.options.position==="outer"?["top","bottom"]:["bottom","top"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=za(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=GL(s,o);return l}var u=t===1?this.options.topStyle.fill:this.options.bottomStyle.fill;return u},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.y[1],o=n.y[0],s=e.getBBox(),l=s.height,u=l,h=this.view.coordinateBBox,c=[r.getBBox(),t.getBBox()],d=r.attr("y"),y=t.attr("y");if(this.options.adjustPosition&&this.options.position==="inner"){var _=c[0].height+c[1].height,k=c[1].maxY-c[0].minY>2,F=_>u;(k||F)&&(y=a-this.options.offsetY,t.attr("fill",this.options.topStyle.fill),t.attr("textBaseline","bottom"),d=o+this.options.offsetY,r.attr("fill",this.options.bottomStyle.fill),r.attr("textBaseline","top"),c[0]=r.getBBox(),c[1]=t.getBBox())}c[0].maxY>h.maxY-ah&&(d=h.maxY-ah/2,r.attr("textBaseline","bottom")),r.attr("y",d),t.attr("y",y),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),zL=YL,Cg;function Mg(i,r){var t=i.getBBox(),e=t.minY+t.height/2;i.setClip({type:"rect",attrs:{x:t.minX,y:e,width:t.width,height:0}});var n=i.get("clipShape");n.animate({height:t.height,y:t.minY},r.duration,r.easing,function(){i.setClip(null)},r.delay)}Mg.animationName="clipInFromCenterVertical";function XL(i){Cg=i}function Eg(i,r){var t=VL(i).attr("path"),e=(0,f.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function VL(i){var r=i.id,t;return(0,f.each)(Cg,function(e){e.id===r&&(t=e)}),t}Eg.animationName="updateFromCenterVertical",Yn("clipInFromCenterVertical",Mg),Yn("updateFromCenterVertical",Eg);var Ag=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,f.each)(e,function(n){var a=n.elements;(0,f.each)(a,function(o){t.push(o.shape)})}),XL(t),i.prototype.afterRender.call(this)},r.prototype.animation=function(){i.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new zL((0,J.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r}(Ho),HL=Ag;zr("rangeColumn",Ag);var WL=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rangeColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=HL.getDefaultOptions,r}(Ir),_g=WL,Tg=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return Jf(t||[],n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(kl),Pg=Tg;zr("percentStackedColumn",Tg);var jL=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Pg.getDefaultOptions,r}(Ir),Lg=jL,UL={pie:"interval"},ZL=ri(UL);(0,f.assign)(jr,ZL);function Bl(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}function $G(i){return{x:i.x+i.width/2,y:i.y+i.height/2}}function KL(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function $L(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e&&i.x<r.x&&(e=-e),n&&i.y<r.y&&(n=-n),i.x===r.x&&i.width===r.width&&(e=r.width),i.y===r.y&&i.height===r.height&&(n=r.height),{xOverlap:e,yOverlap:n}}function QG(i,r){return i.x<r.x&&i.x+i.width>r.x+r.width&&i.y<r.y&&i.y+i.height>r.y+r.height}var QL=function(i,r,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[i,r].includes(Infinity)?Math.abs(i)===Math.abs(r):Math.abs(i-r)<t};function JL(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function qL(i){var r=Math.PI/2,t=i;return(t>r||t<-r)&&(t=t+Math.PI),t}var JG=4;function tO(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}function eO(i,r){var t=i.getBBox();r.y<=t.y&&r.y+r.height>=t.y+t.height||i.get("parent").set("visible",!1)}var rO=function(){function i(r,t){this.destroyed=!1,this.plot=r,this.coordinateBBox=this.plot.view.coordinateBBox;var e=(0,f.deepMix)(this.getDefaultOptions(),t,{});this.adjustOption(e),this.options=e,this.init()}return i.prototype.adjustOverlap=function(r,t){for(var e=1;e<r.length;e++)for(var n=r[e],a=0,o=e-1;o>=0;o--){var s=r[o],l=s.getBBox(),u=n.getBBox();if(s.get("parent").get("visible")&&(a=KL(l,u),!QL(a,0))){n.get("parent").set("visible",!1);break}}r.forEach(function(h){return eO(h,t)})},i.prototype.adjustItem=function(r){},i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getFilteredSum=function(){var r=this.plot.options.angleField,t=this.plot.view.filteredData||[];return t.reduce(function(e,n){return e+n[r]},0)},i.prototype.drawTexts=function(){var r=this,t=this.options,e=t.style,n=t.formatter,a=t.autoRotate,o=t.offsetX,s=t.offsetY,l=t.adjustPosition,u=t.allowOverlap,h=this.getItems(),c=[];h.map(function(d,y){var _=(0,f.deepMix)({},d,e),k=r.getFilteredSum(),F=r.plot.options.angleField,Y=d.origin[F]/k,G=n?n(d.name,{_origin:d.origin,percent:Y},y):d.name,ut=r.container.addGroup({name:"itemGroup",index:y,capture:!1}),ft=ut.addShape("text",{attrs:(0,f.deepMix)({},_,{x:d.x+o,y:d.y+s,text:G})});ft.set("id","text-"+d.name+"-"+y),c.push(ft)}),c.forEach(function(d){var y=r.coordinateBBox;r.adjustText(d,y)}),l&&this.layout(c,h,this.coordinateBBox),u||this.adjustOverlap(c,this.coordinateBBox),c.forEach(function(d,y){a&&r.rotateLabel(d,qL(h[y].angle))})},i.prototype.adjustText=function(r,t){var e=r.getBBox(),n=e.width,a=0;if(e.maxX>t.maxX?n=t.maxX-e.minX:e.minX<t.minX&&(n=e.maxX-t.minX),r.attr("textAlign")==="left"?r.attr("x",Math.max(e.x-a,0)):r.attr("textAlign")==="right"&&r.attr("x",Math.max(e.maxX-a,0)),n!==e.width){var o={};["fontSize","fontFamily","fontWeight"].forEach(function(l){o[l]=r.attr(l)});var s=r.attr("text").split(`
`).map(function(l){return Ld(l,n,o)});r.attr("text",s.join(`
`))}},i.prototype.drawLines=function(){var r=this;if(this.options.line.visible){var t=this.container.get("children"),e=this.getCoordinate().center;t.forEach(function(n,a){var o=n.get("children")[0],s=r.arcPoints[a],l=s.x<e.x,u=r.options.offset>4?4:0,h=r.getLinePath(o,s,u),c=r.options.line;n.addShape("path",{attrs:(0,J.__assign)({path:h,stroke:s.color},c)}),o.attr("x",o.attr("x")+(l?-u:u))})}},i.prototype.getLinePath=function(r,t,e){var n=this.options.line?this.options.line.smooth:!1,a=t.angle,o=this.getCoordinate(),s=o.center,l=o.radius,u=Bl(s,a,l+e);e<4&&(u=t);var h=t.x<s.x,c=r.getBBox(),d={x:h?c.maxX:c.minX,y:c.y+c.height/2},y=["C",d.x+(h?1:-1)*(e<4?e/2:4),d.y,2*u.x-t.x,2*u.y-t.y,u.x,u.y],_=["L",u.x,u.y],k=n?y:_,F=["M",d.x,d.y].concat(k).concat("L",t.x,t.y);return F.join(",")},i.prototype.getGeometry=function(){return this.plot.view.geometries[0]},i.prototype.getCoordinate=function(){var r=this.getGeometry().coordinate,t=r.getCenter(),e=r.getRadius(),n=r.startAngle;return{center:t,radius:e,startAngle:n}},i.prototype.adjustOption=function(r){var t=r.offset,e=this.getCoordinate().radius;(0,f.isString)(t)&&(t=e*tO(t)),r.offset=t},i.prototype.rotateLabel=function(r,t){var e=r.attr("x"),n=r.attr("y"),a=vn.transform(r.getMatrix(),[["t",-e,-n],["r",t],["t",e,n]]);r.setMatrix(a)},i.prototype.getItems=function(){var r=this,t=this.options.offset,e=this.getCoordinate(),n=e.center,a=e.radius,o=this.arcPoints.map(function(s){var l=Bl(n,s.angle,a+t),u=(0,J.__assign)((0,J.__assign)({},s),l);return r.adjustItem(u),u});return o},i.prototype.initArcPoints=function(){var r=this,t=this.plot.options.angleField,e=this.getGeometry().elements,n=this.getCoordinate(),a=n.center,o=n.radius,s=this.getCoordinate().startAngle,l=this.getGeometry().attributes.position.scales,u=l[1],h=u.field,c=e.map(function(d){var y=d.shape.get("origin"),_=y.color,k=y.data[0]||y.data,F=s+Math.PI*2*u.scale(k[h]),Y=(s+F)/2,G=Bl(a,Y,o);s=F;var ut=u.getText(k[t]),ft=G.x>a.x?"left":"right";return{x:G.x,y:G.y,color:_,name:ut,origin:k,angle:JL(r.getGeometry().coordinate,G),textAlign:ft}});this.arcPoints=c},i}(),oh=rO;function qG(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}var nO=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset>0&&(t.offset=0)},r.prototype.adjustItem=function(t){t.textAlign="middle"},r.prototype.drawLines=function(){},r.prototype.layout=function(t,e){var n=this;t.forEach(function(a,o){o>0&&(0,f.each)(t.slice(0,o),function(s){n.resolveCollision(a,s,e[o])})})},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:(0,J.__assign)((0,J.__assign)({},e),{textAlign:"center",textBaseline:"middle"})}},r.prototype.resolveCollision=function(t,e,n){var a=this.getCoordinate().center,o=n.angle,s=t.getBBox(),l=e.getBBox(),u={x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},h=(0,f.clone)(u),c=(0,f.clone)(u);if(e.get("id")!==t.get("id")){var d=$L(s,l),y=d.xOverlap,_=d.yOverlap;if(y&&(h.x=u.x+y,h.y=u.y+Math.tan(o)*y),_){var k=_;u.y<a.y?k=k<0?k:l.minY-s.maxY:k=k>0?k:l.maxY-s.minY,c.y=u.y+k,c.x=u.x+k/Math.tan(o)}var F=ld(u,h),Y=ld(u,c),G=F<Y?h:c;t.attr("x",G.x),t.attr("y",G.y)}},r}(oh),iO=nO,tY=16,aO=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,J.__assign)((0,J.__assign)({},e),{textBaseline:"middle"})}},r.prototype.layout=function(t,e,n){var a=this,o=this.getCoordinate().center,s=(0,f.filter)(t,function(u){return u.attr("x")<=o.x}),l=(0,f.filter)(t,function(u){return u.attr("x")>o.x});[l,s].forEach(function(u,h){a._antiCollision(u,!h,n)})},r.prototype._antiCollision=function(t,e,n){var a=this,o=this.getLabelHeight(t),s=this.getCoordinate(),l=s.center,u=s.radius,h=this.options.offset,c=u+h,d=Math.min(n.height,Math.max(c*2+o*2,t.length*o)),y=Math.floor(d/o);this.options.allowOverlap||t.slice(y).forEach(function(Wt){Wt.get("parent").set("visible",!1)}),t.splice(y,t.length-y),t.sort(function(Wt,ee){return Wt.getBBox().y-ee.getBBox().y});for(var _=!0,k,F=l.y+d/2,Y=l.y-d/2,G=t.map(function(Wt){var ee=Wt.getBBox();return ee.maxY>F&&(F=Math.min(n.maxY,ee.maxY)),ee.minY<Y&&(Y=Math.max(n.minY,ee.minY)),{text:Wt.attr("text"),size:o,pos:ee.y,targets:[]}}),ut=0;ut<G.length;)ut===G.length-1?G[ut].targets[0]=F:G[ut].targets[0]=G[ut+1].pos-G[ut+1].size/2,ut++;for(;_;)for(G.forEach(function(Wt){var ee=(0,f.last)(Wt.targets);Wt.pos=Math.max(Y,Math.min(Wt.pos,ee-Wt.size))}),_=!1,k=G.length;k--;)if(k>0){var ft=G[k-1],Tt=G[k];if(ft.pos+ft.size>Tt.pos){ft.size+=Tt.size,ft.targets=ft.targets.concat(Tt.targets);var Yt=(0,f.last)(ft.targets);ft.pos+ft.size>Yt&&(ft.pos=Yt-ft.size),G.splice(k,1),_=!0}else ft.targets.splice(-1,1,Tt.pos)}k=0,G.forEach(function(Wt){var ee=o/2;Wt.targets.forEach(function(){t[k].attr("y",Wt.pos+ee),ee+=o,k++})});var Ut=[],Jt=[];t.forEach(function(Wt,ee){var ue=a.arcPoints[ee];ue.angle>=0&&ue.angle<=Math.PI?Jt.push(Wt):Ut.push(Wt)}),[Ut,Jt].forEach(function(Wt,ee){if(!!Wt.length){var ue=ee?(0,f.last)(Wt).getBBox().maxY-l.y:l.y-(0,f.head)(Wt).getBBox().minY;ue=Math.max(c,ue);var oe=h>4?4:0,we=Math.max.apply(0,(0,f.map)(t,function(Ye){return Ye.getBBox().width}))+h+oe,_e=Math.max(c,Math.min((ue+c)/2,l.x-(n.minX+we))),Ee=_e*_e,Re=ue*ue;Wt.forEach(function(Ye,Xe){var De=a.arcPoints[Xe],Fe=Ye.getBBox(),er={x:Fe.minX+Fe.width/2,y:Fe.minY+Fe.height/2},tr=Math.pow(er.y-l.y,2),or=Bl(l,De.angle,u),Ve=(e?1:-1)*oe*2;if(tr>Re)console.warn("\u5F02\u5E38(\u4E00\u822C\u4E0D\u4F1A\u51FA\u73B0)",Ye.attr("text")),Ye.attr("x",or.x+Ve);else{var nr=l.x+(e?1:-1)*Math.sqrt((1-tr/Re)*Ee);(l.x===or.x&&er.y===or.y||l.y===or.y&&nr===or.x)&&(nr=or.x),Ye.attr("x",nr+Ve)}})}})},r.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:(0,f.head)(t)?(0,f.head)(t).getBBox().height:14},r}(oh),oO=aO,eY=16,sO=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,J.__assign)((0,J.__assign)({},e),{textBaseline:"middle"})}},r.prototype.adjustItem=function(t){var e=this.options.offset;t.textAlign==="left"?t.x+=e>4?4:e/2:t.textAlign==="right"&&(t.x-=e>4?4:e/2)},r.prototype.layout=function(t,e,n){},r}(oh),lO=sO,Og={inner:iO,outer:oO,"outer-center":lO};function uO(i){if(!Og[i]){console.warn("this label "+i+" is not registered");return}return Og[i]}var fO=0,sh=15,hO="#CCC",cO=2,vO=-2,Ig=15;function kg(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}var dO=function(){function i(r){this.destroyed=!1,this.view=r.view,this.options=(0,f.deepMix)({},this.getDefaultOptions(),r),this._adjustOptions(this.options),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear()})},i.prototype.render=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,f.clone)(this.view.getData());this.halves=[[],[]];var e=[],n=this.view.geometries[0].elements;(0,f.each)(n,function(Tt){e.push(Tt.shape)}),this.coord=this.view.geometries[0].coordinate;var a=this.options,o=a.allZero,s=a.angleField,l=this.options.fields[0],u=this.view.getScalesByDim("y")[l],h=this.coord.getCenter(),c=this.coord.startAngle,d=this.coord.polarRadius,y=this.view.coordinateBBox,_=y.width,k=y.height;this.width=_,this.height=k;for(var F=c,Y=function(Tt){var Yt=t[Tt],Ut=u.scale(Yt[l]),Jt=F+Math.PI*2*Ut,Wt=F+(Jt-F)/2;F=Jt;var ee=kg(h,Wt,d+fO),ue=kg(h,Wt,d+sh),oe=hO;if(G.options.fields.length===2){var we=G.options.fields[1],_e=G.view.geometries[0].scales[we],Ee=_e.scale(Yt[we]);if(Ee){var Re=Math.floor(Ee*(e.length-1));oe=e[Re].attr("fill")}}var Ye={_anchor:ee,_inflection:ue,_data:Yt,x:ue.x,y:ue.y,r:d+sh,fill:oe,textGroup:null,_side:null},Xe=[];if((0,f.each)(G.options.fields,function(yr){o&&yr===Dl?Xe.push(Yt[s]):Xe.push(Yt[yr])}),G.options.formatter){var De=G.options.formatter(Yt[s],{_origin:Yt,color:oe},Tt);(0,f.isString)(De)&&(De=[De]),Xe=De}var Fe=G.container.addGroup({capture:!1,visible:!1}),er={x:0,y:0,fontSize:G.options.text.fontSize,lineHeight:G.options.text.fontSize,fontWeight:G.options.text.fontWeight,fill:G.options.text.fill},tr=Yt[s];G.options.formatter&&(tr=Xe[0]);var or=(0,f.clone)(er);Xe.length===2&&(or.fontWeight=700);var Ve=Fe.addShape("text",{attrs:(0,f.mix)({textBaseline:Xe.length===2?"top":"middle",text:tr},or),data:Yt,offsetY:Xe.length===2?cO:0,name:"label"});if(Ve.name="label",Xe.length===2){var nr=Fe.addShape("text",{attrs:(0,f.mix)({textBaseline:"bottom",text:Xe[1]},er),data:Yt,offsetY:vO,name:"label"});nr.name="label"}Ye.textGroup=Fe,ee.x<h.x?(Ye._side="left",G.halves[0].push(Ye)):(Ye._side="right",G.halves[1].push(Ye))},G=this,ut=0;ut<t.length;ut++)Y(ut);var ft=Math.floor(k/this.options.lineHeight);(0,f.each)(this.halves,function(Tt){Tt.length>ft&&Tt.splice(ft,Tt.length-ft),Tt.sort(function(Yt,Ut){return Yt.y-Ut.y}),r._antiCollision(Tt)}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},i.prototype._antiCollision=function(r){var t=this,e=this.coord,n=e.getHeight(),a=e.center,o=e.getRadius(),s=a.y-o-sh-this.options.lineHeight,l=!0,u=n,h,c=0,d=Number.MIN_VALUE,y=0,_=r.map(function(ut){var ft=ut.y;ft>c&&(c=ft),ft<d&&(d=ft);var Tt=ut.textGroup,Yt=Tt.getBBox().width;return Yt>=y&&(y=Yt),{size:t.options.lineHeight,targets:[ft-s]}});c-s>u&&(u=c-s);for(var k=function(ut){ut.forEach(function(ft){var Tt=(Math.min.apply(d,ft.targets)+Math.max.apply(d,ft.targets))/2;ft.pos=Math.min(Math.max(d,Tt-ft.size/2),u-ft.size)})};l;)for(k(_),l=!1,h=_.length;h--;)if(h>0){var F=_[h-1],Y=_[h];F.pos+F.size>Y.pos&&(F.size+=Y.size,F.targets=F.targets.concat(Y.targets),F.pos+F.size>u&&(F.pos=u-F.size),_.splice(h,1),l=!0)}h=0,_.forEach(function(ut){var ft=s;ut.targets.forEach(function(){r[h].y=ut.pos+ft+t.options.lineHeight/2,ft+=t.options.lineHeight,h++})});var G=[];r.forEach(function(ut){var ft=t._drawLabel(ut);t._drawLabelLine(ut,y,ft),G.push(ft)})},i.prototype._drawLabel=function(r){var t=this.coord,e=t.getCenter(),n=t.getRadius(),a=r.y,o=r.textGroup,s=o.get("children"),l=r._side==="left"?1:-1,u=(0,J.__assign)({textAlign:r._side==="left"?"right":"left",x:r._side==="left"?e.x-n-this.options.sidePadding:e.x+n+this.options.sidePadding},this.options.style);return this.options.offsetX&&(u.x+=this.options.offsetX*l),s.forEach(function(h){var c=h.get("offsetY"),d=a+c;h.attr(u),h.attr("y",d)}),o.show(),o},i.prototype._drawLabelLine=function(r,t,e){var n=[r._anchor.x,r._anchor.y],a=[r._inflection.x,r._inflection.y],o=r.y,s=r.textGroup;if(!!s){var l=[r._side==="left"?s.getBBox().maxX+4:s.getBBox().minX-4,o],u=[n,a,l];if(a[1]!==o)if(a[1]<this.height/2&&a[1]<o||a[1]>=this.height/2&&a[1]>o){var h=a,c=l[0]+Ig,d=l[0]-Ig,y=[r._side==="left"?c:d,a[1]];u=[n,h,y,l],(r._side==="right"&&y[0]<h[0]||r._side==="left"&&y[0]>h[0])&&(u=[n,h,l])}else u=[n,[a[0],o],l];for(var _=[],k=0;k<u.length;k++){var F=u[k],Y="L";k===0&&(Y="M"),_.push([Y,F[0],F[1]])}e.addShape("path",{attrs:{path:_,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},i.prototype._adjustOptions=function(r){r.text.fontSize&&(r.lineHeight=r.text.fontSize*3)},i}(),pO=dO,gO=function(i){var r=i.opacity||1;return{fillOpacity:r*.8}},yO=function(i){var r=i.opacity||1;return{fillOpacity:r*.5}};Ni("pie",{columnStyle:{normal:{},active:gO,disable:yO,selected:{lineWidth:1,stroke:"black"}}});var Dl="$$percentage$$",mO={pie:"interval"},xO={pie:"column"},Bg=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="pie",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.angleField,n=t.colorField,a=t.data,o=(0,f.every)(a,function(l){return l[e]===0});if(o){var s=this.view.geometries[0];s.tooltip(n+"*"+e)}},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;if(t.label&&t.label.visible){this.labelComponent&&this.labelComponent.clear();var e=t.label;if(e.type==="spider"){var n=t.data,a=t.colorField,o=t.angleField,s=(0,f.every)(n,function(h){return h[o]===0}),l=s?Dl:o;this.labelComponent=new pO((0,J.__assign)({view:this.view,fields:a?[l,a]:[l],angleField:o,allZero:s},this.options.label)),this.labelComponent.render()}else{var u=uO(e.type);this.labelComponent=new u(this,t.label),this.labelComponent.render()}}},r.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?mO[e]:xO[e]},r.prototype.scale=function(){var t=this.options;i.prototype.scale.call(this);var e={};e[t.angleField]={},e[t.colorField]={type:"cat"},e=(0,f.deepMix)({},this.config.scales,e),this.setConfig("scales",e)},r.prototype.processData=function(t){var e=this.options.angleField,n=(0,f.every)(t,function(a){return a[e]===0});return n?t.map(function(a){var o;return(0,J.__assign)((0,J.__assign)({},a),(o={},o[e]=typeof a[e]=="string"?Number.parseFloat(a[e]):a[e],o[Dl]=1/t.length,o))}):t.map(function(a){var o,s=a[e];return(0,J.__assign)((0,J.__assign)({},a),(o={},o[e]=s&&!isNaN(s)?+s:s,o))})},r.prototype.axis=function(){},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=t.data,n=t.angleField,a,o=(0,f.every)(e,function(s){return s[n]===0});o?a=Dn("interval","main",{plot:this,positionFields:[1,Dl]}):a=Dn("interval","main",{plot:this,positionFields:[1,t.angleField]}),a.adjust=[{type:"stack"}],this.pie=a,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",a)},r.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields?this.pie.tooltip.fields=t.fields:this.pie.tooltip.fields=[this.options.angleField,this.options.colorField],t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.pie.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,x)},r.prototype.label=function(){this.pie.label=!1},r}(In),Dg=Bg;zr("pie",Bg);var bO=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="pie",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Dg.getDefaultOptions,r}(Ir),Fg=bO,wO=.3989422804014327,SO=1/255/16,Ms="_origin",CO=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="heatmap",e.paletteCache={},e.intensity=t.intensity,e.radius=t.radius,e}return r.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},r.prototype.clear=function(){this.clearShadowCanvasCtx(),i.prototype.clear.call(this)},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[Ms][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),(0,f.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},r.prototype.prepareBlur=function(){var t=(0,f.get)(this.styleOption,["style","shadowBlur"]);(0,f.isNumber)(t)||(t=this.radius/2),this.blur=t},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate,n=Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4));return n},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if(s){var l=void 0;a[s]?l=a[s]:(l=za(e.gradient(s/256)),a[s]=l),n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var n=this.intensity?this.intensity:2,a=Math.sqrt(-2*Math.log(SO/t/n/wO))/3*t,o=a-t,s=a+o,l=e.getContext("2d");e.width=e.height=s*2,l.clearRect(0,0,e.width,e.height),l.shadowOffsetX=l.shadowOffsetY=s*2,l.shadowBlur=o,l.shadowColor="black",l.beginPath(),l.arc(-s,-s,t,0,Math.PI*2,!0),l.closePath(),l.fill()},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.grayScaleCanvas;o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;t=e.addShape({type:"image",attrs:{}}),this.imageShape=t},r.prototype.drawWithRange=function(t,e){var n=this.coordinate,a=n.start,o=n.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),u=this.getAttribute("color"),h=u.getFields()[0];this.clearShadowCanvasCtx();var c=this.getShadowCanvasCtx();e&&(t=t.filter(function(ut){return ut[Ms][h]<=e[1]&&ut[Ms][h]>=e[0]}));for(var d=this.scales[h],y=0;y<t.length;y++){var _=t[y],k=this.getDrawCfg(_),F=d.scale(_[Ms][h]);this.drawGrayScaleBlurredCircle(k.x-a.x,k.y-o.y,this.radius+this.blur,F,c)}var Y=c.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(Y),c.putImageData(Y,0,0);var G=new Image;G.src=c.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",a.x),this.imageShape.attr("y",o.y),this.imageShape.attr("width",s),this.imageShape.attr("height",l),this.imageShape.attr("img",c.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,J.__assign)((0,J.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[Ms]})},r}(Fa);fa("linearHeatmap",CO);var MO=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}return r.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},r.prototype.render=function(){if(this.options.type==="color")this.renderColorBackground();else if(this.options.type==="image")this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},r.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},r.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},r.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},r.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},r.prototype.getCoordinate=function(){var t;return(0,f.each)(this.view.geometries,function(e){e.type==="heatmap"&&(t=e.coordinate)}),t},r}(Xt.default),EO=MO,Fl=4,Rg=1,AO=.1,_O=function(){function i(r){this.destroyed=!1,this.dataSlides={};var t=this.getDefaultOptions();r.plot.options.theme&&r.plot.options.theme==="dark"&&(t=this.getDarkOptions()),this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var r=this.options.plot.container;this.container=r.addGroup()},i.prototype.render=function(){var r=this.getScales(),t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new Br(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=this.width,o=this.height/e.length,s=this.container.addGroup(),l=(0,f.clone)(e).reverse(),u=(t-r)/e.length;(0,f.each)(l,function(h,c){var d=o*c,y={to:t-u*c,from:t-u*(c+1)},_=n.container.addShape("rect",{attrs:{x:0,y:d,width:a,height:o,fill:h,opacity:Rg,cursor:"pointer"},name:"legend"});_.set("info",y);var k=n.getDataSlide(y);n.dataSlides[y.from+"-"+y.to]={mode:"active",data:k},s.addShape("path",{attrs:(0,J.__assign)({path:[["M",0,d+o],["L",a,d+o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,J.__assign)({text:t,x:a/2,y:-Fl,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:(0,J.__assign)((0,J.__assign)({text:r,x:a/2,y:this.height+Fl,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),s.addShape("path",{attrs:(0,J.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=this.width/e.length,o=this.height,s=this.container.addGroup(),l=(t-r)/e.length;(0,f.each)(e,function(u,h){var c=a*h,d={from:l*h,to:l*(h+1)},y=n.container.addShape("rect",{attrs:{x:c,y:0,width:a,height:o,fill:u,opacity:.8,cursor:"pointer"},name:"legend"});y.set("info",d),s.addShape("path",{attrs:(0,J.__assign)({path:[["M",c+a,0],["L",c+a,o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,J.__assign)((0,J.__assign)({text:r,x:-Fl,y:o/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:(0,J.__assign)({text:t,x:this.width+Fl,y:o/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:(0,J.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.options.plot.options.width;return r*.5}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.options.plot.options.height;return r*.5}return 10},i.prototype.legendLayout=function(){var r=this,t=this.options.plot.getPlotTheme().bleeding;(0,f.isArray)(t)&&(0,f.each)(t,function(u,h){typeof t[h]=="function"&&(t[h]=t[h](r.options.plot.options))});var e=this.container.getBBox(),n=0,a=0,o=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;o[0]==="left"?n=t[3]:o[0]==="right"?n=s-t[1]-e.width:o[1]==="center"?n=(s-e.width)/2:o[1]==="left"?n=t[3]:o[1]==="right"&&(n=this.options.plot.width-t[1]-e.width),o[0]==="bottom"?a=l-t[2]-e.height:o[0]==="top"?a=this.getTopPosition(t):o[1]==="center"?a=(l-e.height)/2:o[1]==="top"?a=t[0]:o[1]==="bottom"&&(a=l-t[2]-e.height),this.x=n,this.y=a,this.container.translate(n,a)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},i.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},i.prototype.addInteraction=function(){var r=this,t=this.options.plot.options.colorField;this.container.on("click",function(e){var n=e.target;if(n.get("name")==="legend"){var a=n.get("info"),o=a.from+"-"+a.to,s=r.dataSlides[o];s.mode==="active"?(s.mode="deactive",n.stopAnimate(),n.animate({opacity:AO},200)):(s.mode="active",n.stopAnimate(),n.animate({opacity:Rg},200));var l=r.getFilteredData();l.length>0&&(r.view.changeData(l),r.view.scale(t,{min:r.colorScale.min,max:r.colorScale.max,nice:r.colorScale.nice}),r.view.render())}})},i.prototype.getFilteredData=function(){var r=[];return(0,f.each)(this.dataSlides,function(t){t.mode=="active"&&r.push.apply(r,t.data)}),r},i.prototype.getDataSlide=function(r){var t=[],e=this.options.plot.options,n=e.colorField,a=e.data;return(0,f.each)(a,function(o){var s=o[n];s>=r.from&&s<r.to&&t.push(o)}),t},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.getScales=function(){var r;return(0,f.each)(this.view.geometries,function(t){t.type==="heatmap"&&(r=t.scales)}),r},i}(),TO=_O,PO={background:{Ctr:EO},legend:{Ctr:TO,padding:"outer"}};function LO(i,r,t){if(i.options[r]&&i.options[r].visible){var e=PO[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var OO={heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"},IO=ri(OO);(0,f.assign)(jr,IO);var Ng=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.destroy=function(){(0,f.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&Zn(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Zn(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.geometryParser=function(){return"heatmap"},r.prototype.addGeometry=function(){if(this.options.data.length>1){var t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint()}},r.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=(0,f.deepMix)(e,t.point):t.point=e;var n=Dn("point","guide",{plot:this});n.active=!1,this.setConfig("geometry",n)},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=ci("label",(0,J.__assign)({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e));return n},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,w)},r.prototype.renderPlotComponents=function(){var t=this;(0,f.each)(this.plotComponents,function(n){n.destroy()});var e=["legend","background"];(0,f.each)(e,function(n){var a=(0,J.__assign)({view:t.view,plot:t},t.options[n]),o=LO(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(In),kO=Ng;zr("densityHeatmap",Ng);var BO=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="densityHeatmap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=kO.getDefaultOptions,r}(Ir),Gg=BO;function Rl(i,r,t,e,n){var a=t*n,o=e*n,s=[["M",i-a/2,r+o/2],["Q",i-a/2,r,i-a/2,r-o/2],["Q",i,r-o/2,i+a/2,r-o/2],["Q",i+a/2,r,i+a/2,r+o/2],["Q",i,r+o/2,i-a/2,r+o/2],["Z"]];return s}function Nl(i,r,t){var e=[["M",i,r],["l",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-(t*2),0],["Z"]];return e}function Yg(i,r,t){var e=[["M",i-t,r],["Q",i-t,r-t,i,r-t],["Q",i+t,r-t,i+t,r],["Q",i+t,r+t,i,r+t],["Q",i-t,r+t,i-t,r],["Z"]];return e}Jr("polygon","rect",{draw:function(i,r){var t=this.parsePoints(i.points),e=t[2].x-t[0].x,n=t[0].y-t[1].y,a=t[0].x+e/2,o=t[1].y+n/2,s=Rl(a,o,e,n,i.size);return r.addShape("path",{attrs:(0,f.deepMix)({},{path:s,fill:i.color,opacity:1},i.style)})}}),Jr("point","curvePoint",{draw:function(i,r){var t=Nl(i.x,i.y,i.size);return r.addShape("path",{attrs:(0,f.deepMix)({},{path:t,fill:i.color,opacity:1},i.style)})}});var DO=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.view.geometries[0].elements;(0,f.each)(t,function(e){var n=e.shape,a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,u=r.options.formatter,h=u?u(r.getContent(n)):r.getContent(n),c=r.getPosition(n),d=r.getTextColor(n),y=r.container.addShape("text",{attrs:(0,f.deepMix)({},o,{x:c.x+s,y:c.y+l,text:h,fill:d,textAlign:"center",textBaseline:"middle"}),name:"label"});r.options.adjustPosition&&r.adjustLabel(y,n)})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,f.clone)(t)}},i.prototype.getContent=function(r){var t=r.get("origin").data,e=this.plot.options.colorField;return t[e]},i.prototype.getPosition=function(r){var t=r.getBBox();return{x:t.minX+t.width/2,y:t.minY+t.height/2}},i.prototype.getTextColor=function(r){if(this.options.adjustColor){var t=r.attr("fill"),e=r.attr("opacity")?r.attr("opacity"):1,n=za(t),a=Math.round(n[0]*.299+n[1]*.587+n[2]*.114)/e,o=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=Ol(o,a);return s}var l=this.options.style.fill;return l},i.prototype.adjustLabel=function(r,t){var e=r.getBBox(),n=t.getBBox();(e.width>n.width||e.height>n.height)&&r.attr("text","")},i}(),FO=DO,zg=4,RO=function(){function i(r){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var t=this.getDefaultOptions();this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){var r=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container&&this.container.remove(),this.container=t.addGroup(),this.view.on("beforerender",function(){r.clear(),r.options.plot.canvas.draw()})},i.prototype.render=function(){var r=this.view.geometries[0].scales,t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new Br(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.height/(e.length-1),l="l(90)";(0,f.each)(e,function(d,y){var _=o*y;l+=_+":"+d+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,f.each)(e,function(d,y){var _=s*y;n.container.addShape("path",{attrs:(0,J.__assign)({path:[["M",0,_],["L",n.width,_]]},n.options.ticklineStyle)});var k=Math.round(a*y);n.container.addShape("text",{attrs:(0,J.__assign)({text:k,textAlign:"left",textBaseline:"middle",x:n.width+zg,y:_},n.options.text.style),name:"legend-label"})});var u=10,h=14,c=[["M",-u,-h/2],["L",0,0],["L",-u,h/2],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,J.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.width/(e.length-1),l="l(0)";(0,f.each)(e,function(d,y){var _=o*y;l+=_+":"+d+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,f.each)(e,function(d,y){var _=s*y;n.container.addShape("path",{attrs:(0,J.__assign)({path:[["M",_,0],["L",_,n.height]]},n.options.ticklineStyle),name:"legend-label"});var k=Math.round(a*y);n.container.addShape("text",{attrs:(0,J.__assign)({text:k,textAlign:"center",textBaseline:"top",x:_,y:n.height+zg},n.options.text.style)})});var u=14,h=10,c=[["M",0,0],["L",-u/2,-h],["L",u/2,-h],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,J.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.view.coordinateBBox.width;return r}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.view.coordinateBBox.height;return r}return 10},i.prototype.legendLayout=function(){var r=this,t=this.view.coordinateBBox,e=this.options.plot.getPlotTheme().bleeding;(0,f.isArray)(e)&&(0,f.each)(e,function(h,c){typeof e[c]=="function"&&(e[c]=e[c](r.options.plot.options))});var n=this.container.getBBox(),a=0,o=0,s=this.options.position.split("-"),l=this.options.plot.width,u=this.options.plot.height;s[0]==="left"?a=e[3]:s[0]==="right"?a=l-e[1]-n.width:s[1]==="center"?this.width===t.width?a=t.x:a=(l-n.width)/2:s[1]==="left"?a=e[3]:s[1]==="right"&&(a=this.options.plot.width-e[1]-n.width),s[0]==="bottom"?o=u-e[2]-n.height:s[0]==="top"?o=this.getTopPosition(e):s[1]==="center"?this.height===t.height?o=t.y:o=(u-n.height)/2:s[1]==="top"?o=e[0]:s[1]==="bottom"&&(o=u-e[2]-n.height),this.x=a,this.y=o,this.container.translate(a,o)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},i.prototype.addInteraction=function(){var r=this,t;this.options.plot.options.shapeType==="rect"?t="polygon":t="point";var e=t+":"+this.options.triggerOn,n=this.options.plot.options.colorField,a=this.colorScale,o=a.min,s=a.max,l=function(h){var c=h.data.data[n],d=(c-o)/(s-o);r.moveAnchor(d)};this.view.on(e,l),this.interactiveEvents[e]={target:this.view,handler:l};var u=function(){r.anchor.set("visible",!1)};this.options.plot.canvas.on("mouseleave",u),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:u}},i.prototype.moveAnchor=function(r){if(this.anchor.set("visible",!0),this.layout==="vertical"){var t=this.height*r,e=[1,0,0,0,1,0,0,0,1];e[7]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}else{var t=this.width*r,e=[1,0,0,0,1,0,0,0,1];e[6]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.offEvent=function(){(0,f.each)(this.interactiveEvents,function(r,t){var e=r.target,n=r.handler;e.off(t,n)})},i}(),NO=RO,GO={label:{Ctr:FO},legend:{Ctr:NO,padding:"outer"}};function YO(i,r,t){if(i.options[r]&&i.options[r].visible){var e=GO[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var Xg=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.changeShape=function(t){if(this.options.shapeType!==t){if(this.options.shapeType=t,t==="rect"){var e=this.getShape();this.circleToRect(e)}else if(t==="circle"){var e=this.getShape();this.rectToCircle(e)}}},r.prototype.mappingSize=function(t){if(!(this.options.sizeField&&this.options.sizeField===t)){this.options.sizeField=t;var e=(0,f.valuesOfKey)(this.options.data,t),n=Math.min.apply(Math,e),a=Math.max.apply(Math,e),o=(0,zt.getScale)("linear"),s=new o({min:n,max:a}),l=this.getShape();this.options.shapeType==="rect"?this.rectSizeMapping(l,s,t):this.options.shapeType==="circle"&&this.circleSizeMapping(l,s,t)}},r.prototype.disableMappingSize=function(){var t=this.getShape();this.options.shapeType==="rect"?this.rectDisableSizeMapping(t):this.options.shapeType==="circle"&&this.circleDisableSizeMapping(t)},r.prototype.destroy=function(){(0,f.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(){return""},r.prototype.coord=function(){},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.addGeometry=function(){this.gridSize=this.getGridSize();var t;if(this.options.shapeType==="rect")t=this.addRect();else{var e=this.addCircle();t=e}if(this.options.shapeStyle){var n={};(0,f.isFunction)(this.options.shapeStyle)?(n.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],n.callback=this.options.shapeStyle):(0,f.isObject)(this.options.shapeStyle)&&(n.cfg=this.options.shapeStyle),t.style=n}this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},r.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},r.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[Math.min(this.gridSize[0],this.gridSize[1])*.5*.9]},e},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.getGridSize=function(){if(this.options.padding==="auto")return[0,0];var t=this.getViewRange(),e=this.options,n=e.padding,a=e.xField,o=e.yField,s=e.data,l=t.width-n[1]-n[3],u=t.height-n[0]-n[2],h=(0,f.valuesOfKey)(s,a).length,c=(0,f.valuesOfKey)(s,o).length;return[l/h,u/c]},r.prototype.circleToRect=function(t){var e=this,n=this.gridSize;(0,f.each)(t,function(a){var o=a.get("origin"),s=o.x,l=o.y,u=o.size,h=u*2/Math.min(n[0],n[1]);e.options.sizeField||(h=1);var c=Yg(s,l,u),d=Rl(s,l,n[0],n[1],h);a.stopAnimate(),a.attr("path",c),a.animate({path:d},500,"easeLinear")})},r.prototype.rectToCircle=function(t){var e=this;(0,f.each)(t,function(n){var a=n.get("coord"),o=n.get("origin").points,s=[];(0,f.each)(o,function(F){s.push(a.convertPoint(F))});var l=n.getBBox(),u=l.width,h=l.height,c=l.minX+u/2,d=l.minY+h/2,y=e.options.sizeField?1:.9,_=Yg(c,d,Math.min(u,h)/2*y),k=Nl(c,d,Math.min(u,h)/2*y);n.stopAnimate(),n.animate({path:_},500,"easeLinear",function(){n.attr("path",k)})})},r.prototype.rectSizeMapping=function(t,e,n){(0,f.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6;a.get("origin").size=s;var l=a.getBBox(),u=l.width,h=l.height,c=l.minX+u/2,d=l.minY+h/2,y=Rl(c,d,u,h,s);a.stopAnimate(),a.animate({path:y},500,"easeLinear")})},r.prototype.circleSizeMapping=function(t,e,n){(0,f.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6,l=a.get("origin"),u=l.x,h=l.y,c=l.size,d=Nl(u,h,c*s);a.get("origin").size=c*s,a.stopAnimate(),a.animate({path:d},500,"easeLinear")})},r.prototype.circleDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,f.each)(t,function(n){var a=n.get("origin"),o=a.x,s=a.y,l=Math.min(e.gridSize[0],e.gridSize[1])*.9;n.get("origin").size=l/2;var u=Nl(o,s,l/2);n.stopAnimate(),n.animate({path:u},500,"easeLinear")})},r.prototype.rectDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,f.each)(t,function(n){var a=n.getBBox(),o=a.width,s=a.height,l=a.minX+o/2,u=a.minY+s/2,h=Rl(l,u,e.gridSize[0],e.gridSize[1],1);n.get("origin").size=1,n.stopAnimate(),n.animate({path:h},500,"easeLinear")})},r.prototype.getShape=function(){var t=this.view.geometries[0].elements,e=[];return(0,f.each)(t,function(n){e.push(n.shape)}),e},r.prototype.renderPlotComponents=function(){var t=this;(0,f.each)(this.plotComponents,function(n){n.destroy()}),this.plotComponents=[];var e=["label","legend"];(0,f.each)(e,function(n){var a=(0,J.__assign)({view:t.view,plot:t},t.options[n]),o=YO(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(In),zO=Xg;zr("heatmap",Xg);var XO=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="heatmap",i.prototype.createLayers.call(this,e)},r.prototype.changeShape=function(t){var e=this.layers[0];e.changeShape(t)},r.prototype.mappingSize=function(t){var e=this.layers[0];e.mappingSize(t)},r.prototype.disableMappingSize=function(){var t=this.layers[0];t.disableMappingSize()},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=zO.getDefaultOptions,r}(Ir),Vg=XO,VO=function(i){(0,J.__extends)(r,i);function r(t){var e=this,n=(0,f.deepMix)({},t,{itemTpl:`<div data-index={index}>
        <span style="background-color:{color};" class="g2-tooltip-marker"></span>
        {name}<span class="g2-tooltip-value">{value}</span></div>`},t);return e=i.call(this,n)||this,e}return r}(XM.Z),HO=VO;/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",n=function(o){var s=t.length;return t.push(o),window.postMessage(e+s.toString(36),"*"),s};return window.addEventListener("message",function(o){if(!(typeof o.data!="string"||o.data.substr(0,e.length)!==e)){o.stopImmediatePropagation();var s=parseInt(o.data.substr(e.length),36);!t[s]||(t[s](),t[s]=void 0)}},!0),window.clearImmediate=function(o){!t[o]||(t[o]=void 0)},n}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}());var lh=function(){var r=document.createElement("canvas");if(!r||!r.getContext)return!1;var t=r.getContext("2d");return!(!t.getImageData||!t.fillText||!Array.prototype.some||!Array.prototype.push)}(),Wo=function(){if(!!lh){for(var r=document.createElement("canvas").getContext("2d"),t=20,e,n;t;){if(r.font=t.toString(10)+"px sans-serif",r.measureText("\uFF37").width===e&&r.measureText("m").width===n)return t+1;e=r.measureText("\uFF37").width,n=r.measureText("m").width,t--}return 0}}(),WO=function(r){for(var t,e,n=r.length;n;t=Math.floor(Math.random()*n),e=r[--n],r[n]=r[t],r[t]=e);return r},uh=function(r,t){if(!lh)return;Array.isArray(r)||(r=[r]),r.forEach(function(hr,Pe){if(typeof hr=="string"){if(r[Pe]=document.getElementById(hr),!r[Pe])throw"The element id specified is not found."}else if(!hr.tagName&&!hr.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var e={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:Wo,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},n=[];if(t)for(var a in t)if(a==="wordStyle")for(var o in t[a])o in e&&(e[o]=t[a][o]);else a in e&&(e[a]=t[a]);if(e.minFontSize<Wo&&(e.minFontSize=Wo),e.minFontSize>e.maxFontSize){console.error("minSize cant bigger than maxSize");return}for(var s=0,l=0;l<e.data.length;l++)s<e.data[l].weight&&(s=e.data[l].weight);var u=function(Pe){var He=Math.min(Math.max(e.minFontSize,e.maxFontSize*Pe/s),e.maxFontSize);return Sr?He*e.fontScale:He},h=!1;if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(Pe){return 1-Math.sin(Pe)},h=!0;break;case"diamond":e.shape=function(Pe){var He=Pe%(2*Math.PI/4);return 1/(Math.cos(He)+Math.sin(He))};break;case"square":e.shape=function(Pe){var He=(Pe+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(He)+Math.sin(He))};break;case"triangle-forward":e.shape=function(Pe){var He=Pe%(2*Math.PI/3);return 1/(Math.cos(He)+Math.sqrt(3)*Math.sin(He))};break;case"triangle-backward":e.shape=function(Pe){var He=(Pe+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(He)+Math.sqrt(3)*Math.sin(He))};break;case"triangle":case"triangle-up":e.shape=function(Pe){var He=(Pe+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(He)+Math.sqrt(3)*Math.sin(He))};break;case"triangle-down":e.shape=function(Pe){var He=(Pe+Math.PI*5/2)%(2*Math.PI/3);return 1/(Math.cos(He)+Math.sqrt(3)*Math.sin(He))};break;case"pentagon":e.shape=function(Pe){var He=(Pe+.955)%(2*Math.PI/5);return 1/(Math.cos(He)+.726543*Math.sin(He))};break;case"star":e.shape=function(Pe){var He=(Pe+.955)%(2*Math.PI/10);return(Pe+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-He)+3.07768*Math.sin(2*Math.PI/10-He)):1/(Math.cos(He)+3.07768*Math.sin(He))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var c=e.gridSize,d=c-e.maskGapWidth,y=Math.abs(e.maxRotation-e.minRotation),_=Math.min(e.maxRotation,e.minRotation),k=e.rotationSteps,F,Y,G,ut,ft,Tt,Yt;function Ut(hr,Pe){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(Pe-hr)+hr).toFixed()+"%)"}switch(e.color){case"random-dark":Yt=function(){return Ut(10,50)};break;case"random-light":Yt=function(){return Ut(50,90)};break;default:typeof e.color=="function"&&(Yt=e.color);break}var Jt=null;typeof e.classes=="function"&&(Jt=e.classes);var Wt=!1,ee=[],ue,oe=function(Pe){var He=Pe.currentTarget,Cr=He.getBoundingClientRect(),Pr,pr;Pe.touches?(Pr=Pe.touches[0].clientX,pr=Pe.touches[0].clientY):(Pr=Pe.clientX,pr=Pe.clientY);var Rr=Pr-Cr.left,kr=pr-Cr.top,Er=Math.floor(Rr*(He.width/Cr.width||1)/c),Nr=Math.floor(kr*(He.height/Cr.height||1)/c);return ee&&ee[Er]&&ee[Er][Nr]},we=function(Pe,He,Cr,Pr){Pr(Pe?Pe.id:-1)},_e=function(Pe){var He=oe(Pe);if(ue!==He&&!(Sr&&He&&He.item&&!(0,f.get)(He,["item","twiceRender"]))){if(!He){e.onWordCloudHover(void 0,void 0,Pe,Dr),e.active&&we(void 0,void 0,Pe,Dr);return}e.onWordCloudHover(He.item,He.dimension,Pe,Dr),e.active&&we(He.item,He.dimension,Pe,Dr),ue=He}},Ee=function(Pe){var He=oe(Pe);!He||(e.onWordCloudClick(He.item,He.dimension,Pe),Pe.preventDefault())},Re=[],Ye=function(Pe){if(Re[Pe])return Re[Pe];var He=Pe*8,Cr=He,Pr=[];for(Pe===0&&Pr.push([ut[0],ut[1],0]);Cr--;){var pr=1;e.shape!=="circle"&&(pr=e.shape(Cr/He*2*Math.PI)),Pr.push([ut[0]+Pe*pr*Math.cos(-Cr/He*2*Math.PI),ut[1]+Pe*pr*Math.sin(-Cr/He*2*Math.PI)*e.ellipticity,Cr/He*2*Math.PI])}return Re[Pe]=Pr,Pr},Xe=function(){return e.abortThreshold>0&&new Date().getTime()-Tt>e.abortThreshold},De=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:y===0?_:k>0?_+Math.floor(Math.random()*k)*y/k:_+Math.random()*y},Fe=function(Pe,He,Cr){var Pr=!1,pr=u(He);if(pr<=0)return!1;var Rr=1;pr<Wo&&(Rr=function(){for(var _o=2;_o*pr<Wo;)_o+=2;return _o}());var kr=document.createElement("canvas"),Er=kr.getContext("2d",{willReadFrequently:!0});Er.font=e.fontWeight+" "+(pr*Rr).toString(10)+"px "+e.fontFamily;var Nr=Er.measureText(Pe).width/Rr,Ur=Math.max(pr*Rr,Er.measureText("m").width,Er.measureText("\uFF37").width)/Rr,wn=Nr+Ur*2,an=Ur*3,Pn=Math.ceil(wn/c),Bn=Math.ceil(an/c);wn=Pn*c,an=Bn*c;var pi=-Nr/2,Si=-Ur*.4,jn=Math.ceil((wn*Math.abs(Math.sin(Cr))+an*Math.abs(Math.cos(Cr)))/c),mr=Math.ceil((wn*Math.abs(Math.cos(Cr))+an*Math.abs(Math.sin(Cr)))/c),Ln=mr*c,ii=jn*c;kr.setAttribute("width",Ln),kr.setAttribute("height",ii),Pr&&(document.body.appendChild(kr),Er.save()),Er.scale(1/Rr,1/Rr),Er.translate(Ln*Rr/2,ii*Rr/2),Er.rotate(-Cr),Er.font=e.fontWeight+" "+(pr*Rr).toString(10)+"px "+e.fontFamily,Er.fillStyle="#000",Er.textBaseline="middle",Er.fillText(Pe,pi*Rr,(Si+pr*.5)*Rr);var Kn;try{Kn=Er.getImageData(0,0,Ln,ii).data}catch(Ci){return!1}if(Xe())return!1;Pr&&(Er.strokeRect(pi*Rr,Si,Nr*Rr,Ur*Rr),Er.restore());for(var Ia=[],ai=mr,sn,en,Sn,An=[jn/2,mr/2,jn/2,mr/2];ai--;)for(sn=jn;sn--;){Sn=c;t:{for(;Sn--;)for(en=c;en--;)if(Kn[((sn*c+Sn)*Ln+(ai*c+en))*4+3]){Ia.push([ai,sn]),ai<An[3]&&(An[3]=ai),ai>An[1]&&(An[1]=ai),sn<An[0]&&(An[0]=sn),sn>An[2]&&(An[2]=sn),Pr&&(Er.fillStyle="rgba(255, 0, 0, 0.5)",Er.fillRect(ai*c,sn*c,c-.5,c-.5));break t}Pr&&(Er.fillStyle="rgba(0, 0, 255, 0.5)",Er.fillRect(ai*c,sn*c,c-.5,c-.5))}}return Pr&&(Er.fillStyle="rgba(0, 255, 0, 0.5)",Er.fillRect(An[3]*c,An[0]*c,(An[1]-An[3]+1)*c,(An[2]-An[0]+1)*c)),{mu:Rr,occupied:Ia,bounds:An,gw:mr,gh:jn,fillTextOffsetX:pi,fillTextOffsetY:Si,fillTextWidth:Nr,fillTextHeight:Ur,fontSize:pr}},er=function(Pe,He,Cr,Pr,pr){for(var Rr=pr.length;Rr--;){var kr=Pe+pr[Rr][0],Er=He+pr[Rr][1];if(kr>=Y||Er>=G||kr<0||Er<0){if(!e.drawOutOfBound)return!1;continue}if(!F[kr][Er])return!1}return!0},tr=function(Pe,He,Cr,Pr,pr,Rr,kr,Er,Nr,Ur,wn){var an=Cr.fontSize,Pn=e.color,Bn=e.classes;if(!wn)Yt?Pn=Yt(Pr,pr,an,Rr,kr):Pn=e.color,Jt?Bn=Jt(Pr,pr,an,Rr,kr):Bn=e.classes;else{var pi=ir(Ur);Pn=pi?pi.color:e.color}var Si,jn=Cr.bounds;Si={x:(Pe+jn[3])*c,y:(He+jn[0])*c,w:(jn[1]-jn[3]+1)*c,h:(jn[2]-jn[0]+1)*c},r.forEach(function(mr){if(mr.getContext){var Ln=mr.getContext("2d"),ii=Cr.mu;Ln.save();var Kn=e.fontWeight+" "+(an*ii).toString(10)+"px "+e.fontFamily;Ln.scale(1/ii,1/ii),Ln.font=Kn,Ln.fillStyle=Pn;var Ia=(Pe+Cr.gw/2)*c*ii,ai=(He+Cr.gh/2)*c*ii;Ln.translate(Ia,ai),Er!==0&&Ln.rotate(-Er),Ln.textBaseline="middle",e.selected===Ur&&(Ln.shadowColor=e.shadowColor,Ln.shadowBlur=e.shadowBlur),Ln.fillText(Pr,Cr.fillTextOffsetX*ii,(Cr.fillTextOffsetY+an*.5)*ii),wn||n.push({gx:Pe,gy:He,info:Cr,word:Pr,weight:pr,distance:Rr,theta:kr,rotateDeg:Er,attributes:Nr,id:Ur,color:Pn}),Ln.restore()}else{var sn=document.createElement("span"),en="";en="rotate("+-Er/Math.PI*180+"deg) ",Cr.mu!==1&&(en+="translateX(-"+Cr.fillTextWidth/4+"px) scale("+1/Cr.mu+")");var Sn={position:"absolute",display:"block",font:e.fontWeight+" "+an*Cr.mu+"px "+e.fontFamily,left:(Pe+Cr.gw/2)*c+Cr.fillTextOffsetX+"px",top:(He+Cr.gh/2)*c+Cr.fillTextOffsetY+"px",width:Cr.fillTextWidth+"px",height:Cr.fillTextHeight+"px",lineHeight:an+"px",whiteSpace:"nowrap",transform:en,webkitTransform:en,msTransform:en,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};Pn&&(Sn.color=Pn),sn.textContent=Pr;for(var An in Sn)sn.style[An]=Sn[An];if(Nr)for(var Ci in Nr)sn.setAttribute(Ci,Nr[Ci]);Bn&&(sn.className+=Bn),mr.appendChild(sn)}})},or=function(Pe,He,Cr,Pr,pr){if(!(Pe>=Y||He>=G||Pe<0||He<0)){if(F[Pe][He]=!1,Cr){var Rr=r[0].getContext("2d");Rr.fillRect(Pe*c,He*c,d,d)}Wt&&(ee[Pe][He]={item:pr,dimension:Pr})}},Ve=function(Pe,He,Cr,Pr,pr){var Rr=pr.occupied,kr=e.drawMask,Er;kr&&(Er=r[0].getContext("2d"),Er.save(),Er.fillStyle=e.maskColor);var Nr;if(Wt){var Ur=pr.bounds;Nr={x:(Pe+Ur[3])*c,y:(He+Ur[0])*c,w:(Ur[1]-Ur[3]+1)*c,h:(Ur[2]-Ur[0]+1)*c}}for(var wn=Rr.length;wn--;){var an=Pe+Rr[wn][0],Pn=He+Rr[wn][1];if(!(an>=Y||Pn>=G||an<0||Pn<0)){var Bn=ir(pr.item.id);Bn&&(pr.item.color=Bn.color),or(an,Pn,kr,Nr,pr.item)}}kr&&Er.restore()},nr=function(Pe,He,Cr,Pr,pr,Rr,kr,Er){var Nr=Math.floor(Pe[0]-He.gw/2),Ur=Math.floor(Pe[1]-He.gh/2),wn=He.gw,an=He.gh;return er(Nr,Ur,wn,an,He.occupied)?(tr(Nr,Ur,He,Cr,Pr,pr,Pe[2],Rr,kr,Er,!1),Ve(Nr,Ur,wn,an,He),{gx:Nr,gy:Ur,rot:Rr,info:He}):!1},yr=function(Pe){var He,Cr,Pr,pr;Array.isArray(Pe)?(He=Pe[0],Cr=Pe[1]):(He=Pe.word,Cr=Pe.weight,Pr=Pe.attributes,pr=Pe.id);var Rr=(0,f.isNil)(Pe.rotateDeg)?De():Pe.rotateDeg,kr=Fe(He,Cr,Rr);if(kr&&(kr.item=Pe),!kr||Xe())return!1;if(!e.drawOutOfBound){var Er=kr.bounds;if(Er[1]-Er[3]+1>Y||Er[2]-Er[0]+1>G)return!1}for(var Nr=ft+1;Nr--;){var Ur=Ye(ft-Nr);e.shuffle&&(Ur=[].concat(Ur),WO(Ur));for(var wn=0;wn<Ur.length;wn++){var an=nr(Ur[wn],kr,He,Cr,ft-Nr,Rr,Pr,pr);if(an)return an}}return null},ar=function(Pe,He,Cr){if(He)return!r.some(function(Pr){var pr=document.createEvent("CustomEvent");return pr.initCustomEvent(Pe,!0,He,Cr||{}),!Pr.dispatchEvent(pr)},this);r.forEach(function(Pr){var pr=document.createEvent("CustomEvent");pr.initCustomEvent(Pe,!0,He,Cr||{}),Pr.dispatchEvent(pr)},this)},ir=function(Pe){for(var He=0;He<n.length;He++){var Cr=n[He];if(n[He].id===Pe)return Cr}},Sr,Dr=function(Pe){if(Pe!==void 0){if(e.selected!==Pe&&r[0].getContext){e.selected=Pe;var He=r[0].getContext("2d");He.fillStyle=e.backgroundColor,He.clearRect(0,0,r[0].width,r[0].height),He.fillRect(0,0,r[0].width,r[0].height);for(var Cr=0;Cr<n.length;Cr++){var Pr=n[Cr];(!Sr||Sr&&(0,f.get)(Pr,["info","item","twiceRender"]))&&tr(Pr.gx,Pr.gy,Pr.info,Pr.word,Pr.weight,Pr.distance,Pr.theta,Pr.rotateDeg,Pr.attributes,Pr.id,!0)}}return}var pr=r[0];if(pr.getContext)Y=Math.ceil(pr.width/c),G=Math.ceil(pr.height/c);else{var Rr=pr.getBoundingClientRect();Y=Math.ceil(Rr.width/c),G=Math.ceil(Rr.height/c)}if(!!ar("wordcloudstart",!0)){ut=e.origin?[e.origin[0]/c,e.origin[1]/c]:[Y/2,G/(h?4:2)],ft=Math.floor(Math.sqrt(Y*Y+G*G)),F=[];var kr,Er,Nr;if(!pr.getContext||e.clearCanvas)for(r.forEach(function(en){if(en.getContext){var Sn=en.getContext("2d");Sn.fillStyle=e.backgroundColor,Sn.clearRect(0,0,Y*(c+1),G*(c+1)),Sn.fillRect(0,0,Y*(c+1),G*(c+1))}else en.textContent="",en.style.backgroundColor=e.backgroundColor,en.style.position="relative"}),kr=Y;kr--;)for(F[kr]=[],Er=G;Er--;)F[kr][Er]=!0;else{var Ur=document.createElement("canvas").getContext("2d");Ur.fillStyle=e.backgroundColor,Ur.fillRect(0,0,1,1);var wn=Ur.getImageData(0,0,1,1).data,an=pr.getContext("2d").getImageData(0,0,Y*c,G*c).data;kr=Y;for(var Pn,Bn;kr--;)for(F[kr]=[],Er=G;Er--;){Bn=c;t:for(;Bn--;)for(Pn=c;Pn--;)for(Nr=4;Nr--;)if(an[((Er*c+Bn)*Y*c+(kr*c+Pn))*4+Nr]!==wn[Nr]){F[kr][Er]=!1;break t}F[kr][Er]!==!1&&(F[kr][Er]=!0)}an=Ur=wn=void 0}if(e.onWordCloudHover||e.onWordCloudClick){for(Wt=!0,kr=Y+1;kr--;)ee[kr]=[];e.onWordCloudHover&&pr.addEventListener("mousemove",_e),e.onWordCloudClick&&(pr.addEventListener("click",Ee),pr.addEventListener("touchstart",Ee),pr.addEventListener("touchend",function(en){en.preventDefault()}),pr.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),pr.addEventListener("wordcloudstart",function en(){pr.removeEventListener("wordcloudstart",en),pr.removeEventListener("mousemove",_e),pr.removeEventListener("click",Ee),ue=void 0})}if(e.animatable){Nr=0;var Ln,ii;e.wait!==0?(Ln=window.setTimeout,ii=window.clearTimeout):(Ln=window.setImmediate,ii=window.clearImmediate);var Kn=function(Sn,An){r.forEach(function(Ci){Ci.addEventListener(Sn,An)},this)},Ia=function(Sn,An){r.forEach(function(Ci){Ci.removeEventListener(Sn,An)},this)},ai=function en(){Ia("wordcloudstart",en),ii(sn)};Kn("wordcloudstart",ai);var sn=Ln(function en(){if(Nr>=e.data.length){ii(sn),ar("wordcloudstop",!1),Ia("wordcloudstart",ai);return}Tt=new Date().getTime();var Sn=yr(e.data[Nr]),An=!ar("wordclouddrawn",!0,{item:e.data[Nr],drawn:Sn});if(Xe()||An){ii(sn),e.abort(),ar("wordcloudabort",!1),ar("wordcloudstop",!1),Ia("wordcloudstart",ai);return}Nr++,sn=Ln(en,e.wait)},e.wait)}else{t.maskImage&&r.forEach(function(en){if(en.getContext){var Sn=en.getContext("2d");Sn.fillStyle=e.backgroundColor,Sn.clearRect(0,0,Y*(c+1),G*(c+1)),Sn.fillRect(0,0,Y*(c+1),G*(c+1))}});for(var pi=[],Si=0;Si<e.data.length;Si++){var jn=yr(e.data[Si]);jn&&pi.push(jn)}if(pi.length===e.data.length&&!Sr){for(r.forEach(function(en){if(en.getContext){var Sn=en.getContext("2d");Sn.fillStyle=e.backgroundColor,Sn.clearRect(0,0,Y*(c+1),G*(c+1)),Sn.fillRect(0,0,Y*(c+1),G*(c+1))}}),kr=Y;kr--;)for(F[kr]=[],Er=G;Er--;)F[kr][Er]=!0;Sr=!0;for(var mr=0;mr<e.data.length;mr++)yr((0,J.__assign)((0,J.__assign)({},e.data[mr]),{twiceRender:Sr}))}}}};Dr()};uh.isSupported=lh,uh.minFontSize=Wo;var jO=uh,UO=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e._toolTipsAction=function(n,a,o,s){a?(e._toolTips.update({items:[{color:n.color||"red",name:n.word,value:n.weight}],x:o.offsetX,y:o.offsetY}),e._toolTips.show()):e._toolTips.hide(),e._toolTips.render(),e._configHoverAction&&e._configHoverAction(n,a,o,s)},e._configHoverAction=t.onWordCloudHover,e._enableToolTips=(0,f.get)(t,"tooltip.visible",!0),e.options=(0,f.deepMix)({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:e._enableToolTips?e._toolTipsAction:e._configHoverAction}),e}return r.prototype.init=function(){i.prototype.init.call(this),this._initToolTips()},r.prototype.render=function(){i.prototype.render.call(this),this._render()},r.prototype._initToolTips=function(){this._toolTips=new HO({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},r.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},r.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+new Date().getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},r.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),jO(this._targetCanvas,this.options)},r.prototype._handleG2PlotConfig=function(){var t=this.options.wordStyle.fontSize||[10,60],e=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2],n,a,o;this.options.wordStyle.active?(n=!0,a=this.options.wordStyle.active.shadowColor||"#333",o=this.options.wordStyle.active.shadowBlur||10):n=!1,this.options=(0,f.deepMix)({},this.options,{minFontSize:t[0],maxFontSize:t[1],minRotation:e[0],maxRotation:e[1],active:n,shadowColor:a,shadowBlur:o})},r.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),n=e.maskImageCanvas,a=e.maskImageContext,o=document.createElement("canvas").getContext("2d");o.fillStyle=this.options.backgroundColor||"#fff",o.fillRect(0,0,1,1);for(var s=o.getImageData(0,0,1,1).data,l=a.getImageData(0,0,n.width,n.height),u=a.createImageData(l),h=0;h<l.data.length;h+=4)l.data[h+3]>128?(u.data[h]=s[0],u.data[h+1]=s[1],u.data[h+2]=s[2],u.data[h+3]=s[3]):(u.data[h]=s[0],u.data[h+1]=s[1],u.data[h+2]=s[2],u.data[h+3]=254);a.putImageData(u,0,0);var c=this._targetCanvas.getContext("2d");c.drawImage(n,0,0),this.options=(0,f.deepMix)({},this.options,{clearCanvas:!1}),this._start()},r.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var n=e.getContext("2d");return n.imageSmoothingEnabled=!0,n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:n}},r.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var a=n.getImageData(0,0,e.width,e.height),o=4,s=0,l=255,u=0;u<a.data.length;u+=o){var h=a.data[u]+a.data[u+1]+a.data[u+2],c=a.data[u+3];c<128||h>250*3?(a.data[u]=l,a.data[u+1]=l,a.data[u+2]=l,a.data[u+3]=s):(a.data[u]=s,a.data[u+1]=s,a.data[u+2]=s,a.data[u+3]=l)}return n.putImageData(a,0,0),e},r}(dl),ZO=UO,KO=function(i){(0,J.__extends)(r,i);function r(t,e){var n=this;return e.renderer="canvas",n=i.call(this,t,e)||this,n}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="wordCloud",e.container=this.containerDOM,i.prototype.createLayers.call(this,e)},r}(Ir),$O=KO;zr("wordCloud",ZO);var QO={rose:"interval"},JO=ri(QO);(0,f.assign)(jr,JO);var qO={rose:"interval"},tI={rose:"column"},Hg=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t),n=t.sectorStyle,a=t.categoryField,o=t.radiusField;return(0,f.deepMix)({},e,{columnStyle:n,xField:a,yField:o})},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},r.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?qO[e]:tI[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=Dn("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.adjustRoseAdjust=function(){},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.rose.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,m)},r.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=(0,f.deepMix)({},t.label);this.adjustLabelOptions(e);var n=[t.categoryField,t.radiusField],a=ci("label",(0,J.__assign)({plot:this,labelType:"polar",fields:n},e));return a},r.prototype.adjustLabelOptions=function(t){var e=this.options.radiusField;if(t){var n=t.offset,a=t.type,o=t.content;a==="inner"?t.offset=n<0?n:-10:a==="outer"&&(t.offset=n>=0?n:10),o||(t.content=function(s,l){return""+l._origin[e]})}},r}(In),fh=Hg;zr("rose",Hg);var eI=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=fh.getDefaultOptions,r}(Ir),Wg=eI,rI=function(i){var r=i.opacity||1;return{opacity:r*.5}},nI=function(i){var r=i.opacity||1;return{opacity:r*.5}};Ni("funnel",{columnStyle:{normal:{},active:rI,disable:nI,selected:{lineWidth:1,stroke:"black"}}});var jg=v(26485);function iI(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,f.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,u;(0,f.isArray)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:u,y:(s+o)/2}):h.push({x:u,y:s},{x:u,y:o}),h}function aI(i,r){var t=[],e=i.points,n=i.nextPoints;if(r){var a=r.yValues,o=r.yValuesMax,s=r.yValuesNext,l=(e[0].y+e[1].y)/2,u=a[0]+a[1],h=a.map(function(k){return k/u/.5}),c=(o[0]/(o[0]+o[1])-.5)*.9,d=.001;if((0,f.isNil)(n))t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l],["L",e[1].x,c+l],["L",e[2].x,c+l],["L",e[3].x,c+(e[3].y-l)*h[0]+l],["Z"]),t.push(["M",e[0].x,c+.002+l],["L",e[1].x,c+.002+(e[1].y-l)*h[1]+l],["L",e[2].x,c+.002+(e[2].y-l)*h[1]+l],["L",e[3].x,c+.002+l],["Z"]);else{var y=s[0]+s[1],_=s.map(function(k){return k/y/.5});t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l-d],["L",e[1].x,c+l-d],["L",n[1].x,c+l-d],["L",n[0].x,c+(n[3].y-l)*_[0]+l-d],["Z"]),t.push(["M",e[0].x,c+l+d],["L",e[1].x,c+(e[1].y-l)*h[1]+l+d],["L",n[1].x,c+(n[2].y-l)*_[1]+l+d],["L",n[0].x,c+l+d],["Z"])}}else(0,f.isNil)(n)?t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",n[1].x,n[1].y],["L",n[0].x,n[0].y],["Z"]);return t}Jr("interval","funnel-basic-rect",{getPoints:function(i){return i.size=i.size*1.8,iI(i)},draw:function(i,r){var t,e=(0,jg.getStyle)(i,!1,!0),n=(0,f.get)(i,"data.__compare__"),a=this.parsePath(aI(i,n));return r.addShape("path",(t={name:"interval",attrs:(0,J.__assign)((0,J.__assign)({},e),{path:a})},t.__compare__=n,t))},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function hh(i,r,t){return(1-t)*i+t*r}function oI(i,r){var t=r.reverse,e=r.ratioUpper,n=r.ratioLower,a=[],o=i[0],s=(i[1].x+i[2].x)/2,l=1.2,u=.6;if(t){var h=n;n=e,e=h}var c=(o.x-s)*hh(u,l,n)+s;a.push(["M",c,o.y]);for(var d=1,y=i.length;d<y;d++){var _=i[d].x;switch(d){case 1:case 2:_=(_-s)*hh(u,l,e)+s;break;case 3:_=(_-s)*hh(u,l,n)+s;break}a.push(["L",_,i[d].y])}return a.push(["L",c,o.y]),a.push(["z"]),a}Jr("interval","funnel-dynamic-rect",{draw:function(i,r){var t=(0,jg.getStyle)(i,!1,!0),e=(0,f.get)(i,"data.__custom__"),n=this.parsePath(oI(i.points,e));return r.addShape("path",{attrs:(0,J.__assign)((0,J.__assign)({},t),{path:n})})},getMarker:function(i){var r=i.color,t=i.isInPolar;return{symbol:t?"circle":"square",style:{r:t?4.5:4,fill:r}}}});function Ug(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,u=i.getBBox(),h=l?u.maxX:u.minX,c=(u.minY+u.maxY)/2,d=i.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}}),y={matrix:[1,0,0,0,1,0,0,0,1]};d.setMatrix(vn.transform(d.getMatrix(),[["t",-h,-c],["s",0,1],["t",h,c]]));var _={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),d.animate(y,{duration:200,easing:o,callback:function(){i.setClip(null),d.remove()},delay:a}),i.animate(_,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}Ug.animationName="funnelScaleInX",Yn("funnelScaleInX",Ug);function Zg(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,u=i.getBBox(),h=(u.minX+u.maxX)/2,c=l?u.maxY:u.minY,d=i.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}}),y={matrix:[1,0,0,0,1,0,0,0,1]};d.setMatrix(vn.transform(d.getMatrix(),[["t",-h,-c],["s",1,0],["t",h,c]]));var _={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),d.animate(y,{duration:200,easing:o,callback:function(){i.setClip(null),d.remove()},delay:a}),i.animate(_,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}Zg.animationName="funnelScaleInY",Yn("funnelScaleInY",Zg);function Gl(i,r,t){return(1-t)*i+t*r}var sI={column:"interval"},lI={interval:"funnel"},Kg=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="funnel",e._shouldResetPercentages=!0,e._shouldResetLabels=!0,e._shouldResetCompareTexts=!0,e._legendsListenerAttached=!1,e._onLegendContainerMouseDown=function(n){var a=e.options,o=n.target.get("name");if(o.startsWith("legend-item")){var s=n.target.get("parent");if(s.set("unchecked",!s.get("unchecked")),e.refreshPercentages(),e.refreshLabels(),a.dynamicHeight){var l=e._findCheckedDataByMouseDownLegendItem(s);e._genCustomFieldForDynamicHeight(l)}if(a.compareField){var l=e._findCheckedDataByMouseDownLegendItem(s);e._updateDataForCompare(l),e.refreshCompareTexts()}}},e.adjustProps(e.options),t.dynamicHeight&&e._genCustomFieldForDynamicHeight(e.getData()),t.compareField&&(e.options.data=e._reduceDataForCompare(e.getData())),e}return r.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"\u8F6C\u5316\u7387",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(n,a){return(100*a/n).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:(0,f.deepMix)({},eo.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return(0,f.deepMix)({},i.getDefaultOptions.call(this),e)},r.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.coord=function(){var t=this.options,e={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},(0,f.isFunction)(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},r.prototype.tooltip=function(){var t=this.options;t.compareField&&(0,f.deepMix)(t.tooltip,{htmlContent:function(e,n){var a,o,s,l;a=ui.CONTAINER_CLASS,o=(0,pt.Z)('<div class="'+a+'"></div>'),(0,It.Z)(o,bo.default[a]);var u=o;if(e){a=ui.TITLE_CLASS,o=(0,pt.Z)('<div class="'+a+'"></div>'),(0,It.Z)(o,bo.default[a]),u.appendChild(o);var h=o;a=ui.MARKER_CLASS,o=(0,pt.Z)('<span class="'+a+'"></span>'),(0,It.Z)(o,bo.default[a]),(0,It.Z)(o,{width:"10px",height:"10px"}),h.appendChild(o),l=o,o=(0,pt.Z)("<span>"+e+"</span>"),h.appendChild(o)}if(n){a=ui.LIST_CLASS,o=(0,pt.Z)('<ul class="'+a+'"></ul>'),(0,It.Z)(o,bo.default[a]),u.appendChild(o);var c=o;n.reduce(function(d,y){s||(s=y.color);var _=(0,f.get)(y,"point._origin.__compare__.compareValues"),k=(0,f.get)(y,"point._origin.__compare__.yValues");return k.forEach(function(F,Y){return d.push([_[Y],F])}),d},[]).forEach(function(d,y){var _=d[0],k=d[1];a=ui.LIST_ITEM_CLASS,o=(0,pt.Z)('<li class="'+a+'" data-index='+y+"></li>"),(0,It.Z)(o,bo.default[a]),c.appendChild(o);var F=o;a=ui.NAME_CLASS,o=(0,pt.Z)('<span class="'+a+'">'+_+"</span>"),(0,It.Z)(o,bo.default[a]),F.appendChild(o),a=ui.VALUE_CLASS,o=(0,pt.Z)('<span class="'+a+'">'+k+"</span>"),(0,It.Z)(o,bo.default[a]),F.appendChild(o)})}return s&&l&&(0,It.Z)(l,{backgroundColor:s}),u}}),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){var t=this.options,e=Dn("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e),t.compareField||this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.options.tooltip;t.fields&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.fields=t.fields),t.formatter&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.callback=t.formatter,t.fields||(this.funnel.tooltip.fields=[this.options.xField,this.options.yField]))},r.prototype.animation=function(){var t=this;i.prototype.animation.call(this);var e=this.options;if(e.animation===!1)this.funnel.animate=!1;else{var n=this.getData(),a=(0,f.get)(e,"animation.appear.duration"),o=a/(n.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){t.fadeInPercentages(o),e.compareField&&t.fadeInCompareTexts(o),delete t._animationAppearTimeoutHandler},a),this.funnel.animate=(0,f.deepMix)({},e.animation,{appear:{animation:e.transpose?"funnelScaleInX":"funnelScaleInY",duration:o,delay:function(s){return(0,f.findIndex)(n,function(l){return(0,f.isEqual)(l,s)})*o},callback:function(s){t.fadeInLabels(s,.5*o)}},enter:{animation:"fade-in"}})}},r.prototype.afterRender=function(){var t=this.options;if(this.resetLabels(),this.resetPercentages(),t.compareField&&this.resetCompareTexts(),t.padding=="auto"){var e=this._findPercentageContainer();e&&this.paddingController.registerPadding(e,"inner",!0);var n=this._findCompareTextContainer();n&&this.paddingController.registerPadding(n,"inner",!0)}if(i.prototype.afterRender.call(this),t.animation===!1&&(this.fadeInLabels(),this.fadeInPercentages(),t.compareField&&this.fadeInCompareTexts()),!this._legendsListenerAttached){this._legendsListenerAttached=!0;var a=this.view.getController("legend").container;a.on("mousedown",this._onLegendContainerMouseDown)}},r.prototype.updateConfig=function(t){t=this.adjustProps(t),i.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},r.prototype.changeData=function(t){var e=this.options;if(e.animation!==!1&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),e.dynamicHeight){var n=this._findCheckedDataInNewData(t);this._genCustomFieldForDynamicHeight(n)}if(e.compareField){t=this._reduceDataForCompare(t);var n=this._findCheckedDataInNewData(t);this._updateDataForCompare(n)}i.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),e.compareField&&this.fadeInCompareTexts()},r.prototype.geometryParser=function(t,e){return t==="g2"?sI[e]:lI[e]},r.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&((0,f.set)(t,"meta."+t.yField+".nice",!1),(0,f.set)(t,"tooltip.shared",!1)),t},r.prototype.resetPercentages=function(){var t=this;if(!!this._shouldResetPercentages){var e=this.options,n=e.percentage||{},a=n.offsetX,o=n.offsetY,s=n.spacing,l=n.line,u=l===void 0?{}:l,h=n.text,c=h===void 0?{}:h,d=n.value,y=d===void 0?{}:d,_=Date.now(),k=this._findPercentageContainer(!0);this._eachShape(function(F,Y,G,ut){if(Y>0){var ft=F.getBBox(),Tt=ft.minX,Yt=ft.maxX,Ut=ft.maxY,Jt=ft.minY,Wt=e.transpose?Tt:Yt,ee=e.transpose&&e.compareField?Ut:Jt,ue=t._findPercentageMembersInContainerByIndex(k,Y,!0),oe=ue.line,we=ue.text,_e=ue.value,Ee=[function(De,Fe,er,tr,or){er&&(er.attr((0,f.deepMix)({},u.style,{x1:De,y1:Fe,x2:e.transpose?De+a:De-a,y2:e.transpose?Fe-o:Fe+o,opacity:0})),er.set("adjustTimestamp",_));var Ve=0,nr=0,yr=function(){tr&&(tr.attr((0,f.deepMix)({},c.style,{x:e.transpose?De+a:De-a-s-nr-s,y:e.transpose?Fe-o-s:Fe+o,opacity:0,text:c.content,textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),tr.set("adjustTimestamp",_),Ve=tr.getBBox().width)},ar=function(){or&&(or.attr((0,f.deepMix)({},y.style,{x:e.transpose?De+a+Ve+s:De-a-s,y:e.transpose?Fe-o-s:Fe+o,opacity:0,text:(0,f.isFunction)(y.formatter)?e.compareField?y.formatter((0,f.get)(ut,"__compare__.yValues.0"),(0,f.get)(G,"__compare__.yValues.0")):y.formatter(ut[e.yField],G[e.yField]):"",textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),or.set("adjustTimestamp",_),nr=or.getBBox().width)};e.transpose?(yr(),ar()):(ar(),yr())},function(De,Fe,er,tr,or){er&&(er.attr((0,f.deepMix)({},u.style,{x1:De,y1:Fe,x2:De+a,y2:e.transpose?e.compareField?Fe+o:Fe-o:Fe+o,opacity:0})),er.set("adjustTimestamp",_));var Ve=0;tr&&(tr.attr((0,f.deepMix)({},c.style,{x:e.transpose?De+a:De+a+s,y:e.transpose?e.compareField?Fe+o+s:Fe-o-s:Fe+o,opacity:0,text:c.content,textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),tr.set("adjustTimestamp",_),Ve=tr.getBBox().width),or&&(or.attr((0,f.deepMix)({},y.style,{x:e.transpose?De+a+Ve+s:De+a+s+Ve+s,y:e.transpose?e.compareField?Fe+o+s:Fe-o-s:Fe+o,opacity:0,text:(0,f.isFunction)(y.formatter)?e.compareField?y.formatter((0,f.get)(ut,"__compare__.yValues.1"),(0,f.get)(G,"__compare__.yValues.1")):y.formatter(ut[e.yField],G[e.yField]):"",textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),or.set("adjustTimestamp",_))}];if(e.compareField){var Re=[Tt,Jt],Ye=Re[0],Xe=Re[1];[[Ye,Xe],[Wt,ee]].forEach(function(De,Fe){var er=De[0],tr=De[1];return Ee[Fe](er,tr,oe&&oe[Fe],we&&we[Fe],_e&&_e[Fe])})}else Ee[1](Wt,ee,oe,we,_e)}ut=G,Y++}),k.get("children").forEach(function(F){F.get("adjustTimestamp")!=_&&(F.attr({opacity:0}),k.set(F.get("id"),null),setTimeout(function(){return F.remove()},0))})}},r.prototype.fadeInPercentages=function(t,e){var n=this,a=this.options,o=this._findPercentageContainer(),s=function(l){var u={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity};n._eachShape(function(h,c){var d=n._findPercentageMembersInContainerByIndex(o,c),y={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity},_=function(F){if(F&&F.get("type")=="text"){var Y=F.getBBox(),G=Y.minX,ut=Y.maxX,ft=Y.minY,Tt=Y.maxY;G<y.minX&&(y.minX=G),ut>y.maxX&&(y.maxX=ut),ft<y.minY&&(y.minY=ft),Tt>y.maxY&&(y.maxY=Tt)}};if((0,f.each)(d,function(F){return(0,f.isArray)(F)?_(F[l]):_(F)}),y.minX>u.maxX||y.maxX<u.minX||y.minY>u.maxY||y.maxY<u.minY){var k=function(F){if(F){var Y={opacity:1};t?F.animate(Y,t):F.attr(Y)}};(0,f.each)(d,function(F){return(0,f.isArray)(F)?k(F[l]):k(F)}),(0,f.assign)(u,y)}})};a.compareField?[0,1].forEach(s):s(),t&&e&&setTimeout(e,t)},r.prototype.fadeOutPercentages=function(t,e){var n=this,a=this._findPercentageContainer();this._eachShape(function(o,s){var l=n._findPercentageMembersInContainerByIndex(a,s),u=function(h){if(h){var c={opacity:0};t?h.animate(c,t):h.attr(c)}};(0,f.each)(l,function(h){return(0,f.isArray)(h)?h.forEach(u):u(h)})}),t&&e&&setTimeout(e,t)},r.prototype.refreshPercentages=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(o,function(){e._shouldResetPercentages=!0,e.resetPercentages(),e.fadeInPercentages(s,t)})}},r.prototype._findPercentageContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("percentageContainer");return!n&&t&&(n=e.addGroup(),e.set("percentageContainer",n)),n},r.prototype._findPercentageMembersInContainerByIndex=function(t,e,n){n===void 0&&(n=!1);var a=this.options,o=a.percentage||{},s=o.visible,l=o.line,u=l===void 0?{}:l,h=o.text,c=h===void 0?{}:h,d=o.value,y=d===void 0?{}:d,_={line:void 0,text:void 0,value:void 0};if(s===!1||!t)return _;if(u.visible!==!1){var k=function(ut){var ft="_percentage-line-"+e+"-"+ut,Tt=t.get(ft);return!Tt&&n&&(Tt=t.addShape({id:ft,type:"line",attrs:{}}),t.set(ft,Tt)),Tt},F=a.compareField?[0,1].map(k):k(0);_.line=F}if(c.visible!==!1){var k=function(ft){var Tt="_percentage-text-"+e+"-"+ft,Yt=t.get(Tt);return!Yt&&n&&(Yt=t.addShape({id:Tt,type:"text",attrs:{}}),t.set(Tt,Yt)),Yt},Y=a.compareField?[0,1].map(k):k(0);_.text=Y}if(y.visible!==!1){var k=function(ft){var Tt="_percentage-value-"+e+"-"+ft,Yt=t.get(Tt);return!Yt&&n&&(Yt=t.addShape({id:Tt,type:"text",attrs:{}}),t.set(Tt,Yt)),Yt},G=a.compareField?[0,1].map(k):k(0);_.value=G}return _},r.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=(0,f.get)(t,"animation.update.duration"),n=(0,f.get)(t,"animation.enter.duration"),a=Math.min(n,e)*.6,o=Math.max(n,e)*1.2;return{fadeInDuration:a,fadeOutDuration:o}},r.prototype.resetLabels=function(){var t=this;if(!!this._shouldResetLabels){var e=this.options,n=e.xField,a=e.yField,o=Date.now(),s=this._getGeometry().labelsContainer,l=e.label||{},u=(0,f.deepMix)((0,J.__assign)({},this.theme.label),e.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),h;this._eachShape(function(c,d,y,_){var k,F=c.get("element");d==0&&(h=y);var Y=c.getBBox(),G=Y.minX,ut=Y.maxX,ft=Y.minY,Tt=Y.maxY,Yt=y[n],Ut=y[a];l.adjustColor&&(u.fill=t._getAdjustedTextFillByShape(c));var Jt=y.__compare__,Wt,ee=(k={},k[xs]=y,k.element=F,k.elementIndex=_,k.mappingDatum=[].concat(F.getModel().mappingData)[0],k.mappingDatumIndex=0,k);l.formatter?Wt=l.formatter(Yt,ee,d,Ut,h[a]):Jt?Wt=[0,1].map(function(){return""+Ut}).join(e.transpose?`

`:"    "):Wt=Yt+" "+Ut;var ue=t._findLabelInContainerByIndex(s,d,!0),oe=Jt?Jt.yValues[0]/(Jt.yValues[0]+Jt.yValues[1]):.5;ue&&(ue.attr((0,J.__assign)((0,J.__assign)({},u),{x:Gl(G,ut,e.transpose?.5:oe),y:Gl(ft,Tt,e.transpose?oe:.5),text:Wt})),ue.set("adjustTimestamp",o))}),s.get("children").forEach(function(c){c.get("adjustTimestamp")!=o&&(c.attr({opacity:0}),s.set(c.get("id"),null),setTimeout(function(){return c.remove()}))})}},r.prototype.fadeInLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var u=a._findLabelInContainerByIndex(o,l);if(u){var h=s.getBBox(),c=u.getBBox();if(c.minX>=h.minX&&c.maxX<=h.maxX&&c.minY>=h.minY&&c.maxY<=h.maxY){var d={opacity:1};e?u.animate(d,e):u.attr(d)}}}}),e&&n&&setTimeout(n,e)},r.prototype.fadeOutLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var u=a._findLabelInContainerByIndex(o,l);if(u){var h={opacity:0};e?u.animate(h,e):u.attr(h)}}}),e&&n&&setTimeout(n,e)},r.prototype.refreshLabels=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,o,function(){e._shouldResetLabels=!0,e.resetLabels(),e.fadeInLabels(null,s,t)})}},r.prototype._findLabelInContainerByIndex=function(t,e,n){var a;n===void 0&&(n=!1);var o=this.options,s;if(((a=o.label)===null||a===void 0?void 0:a.visible)===!1)return s;var l="_label-"+e;return s=t.get(l),!s&&n&&(s=t.addShape({id:l,type:"text",attrs:{}}),t.set(l,s)),s},r.prototype.resetCompareTexts=function(){if(!!this._shouldResetCompareTexts){var t=this.options,e,n;if(this._eachShape(function(y,_,k){_==0&&(e=y.get("parent").getBBox(),n=(0,f.get)(k,"__compare__"))}),e&&n&&(0,f.get)(t,"compareText.visible")!==!1){var a=this._findCompareTextContainer(!0),o=n.yValuesMax,s=n.compareValues,l=e.minX,u=e.maxX,h=e.minY,c=e.maxY,d=a.get("children");[0,1].forEach(function(y){var _=d[y];_||(_=a.addShape({type:"text"})),_.attr((0,f.deepMix)({},(0,f.get)(t,"compareText.style"),{text:t.transpose?s[y]:y?"  "+s[y]:s[y]+"  ",x:t.transpose?l+(0,f.get)(t,"compareText.offsetX"):Gl(l,u,o[0]/(o[0]+o[1])),y:t.transpose?Gl(h,c,o[0]/(o[0]+o[1]))+(y?8:-8):h+(0,f.get)(t,"compareText.offsetY"),opacity:0,textAlign:t.transpose?"right":y?"left":"right",textBaseline:t.transpose&&y?"top":"bottom"}))})}}},r.prototype.fadeInCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:1};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.fadeOutCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:0};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.refreshCompareTexts=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeInDuration,s=a.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(s,function(){e._shouldResetCompareTexts=!0,e.resetCompareTexts(),e.fadeInCompareTexts(o,t)})}},r.prototype._findCompareTextContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("compareTextContainer");return!n&&t&&(n=e.addGroup(),e.set("compareTextContainer",n)),n},r.prototype._eachShape=function(t){var e,n=this._findCheckedData(this.getData()),a=n.length,o=0,s;(e=this._getGeometry())===null||e===void 0||e.elements.forEach(function(l,u){var h=l.shape,c=n[o];o<a&&t(h,o,c,s,u),s=c,o++})},r.prototype._getGeometry=function(){return this.view.geometries[0]},r.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,a=za(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=Ol(s,o);return l},r.prototype._genCustomFieldForDynamicHeight=function(t){var e=this.options,n=t.reduce(function(o,s){return o+s[e.yField]},0),a=1;t.forEach(function(o,s){var l=o[e.yField],u=l/n,h=a-u;o.__custom__={datumIndex:s,dataLength:t.length,ratioUpper:a,ratioLower:h,reverse:e.transpose},a=h})},r.prototype._findCheckedDataByMouseDownLegendItem=function(t){var e=t.get("parent").get("children").map(function(a){return!a.get("unchecked")}),n=this.getData().filter(function(a,o){return e[o]});return n},r.prototype._findCheckedDataInNewData=function(t){var e=this.options,n=this.view.getController("legend").container,a=n.findAll(function(s){return s.get("name")=="legend-item"}).filter(function(s){return s.get("unchecked")}).map(function(s){return s.get("id").replace("-legend-item-","")}),o=t.filter(function(s){return!(0,f.contains)(a,s[e.xField])});return o},r.prototype._findCheckedData=function(t){var e,n=this.options;if((e=n.legend)===null||e===void 0?void 0:e.visible){var a=this.view.getController("legend").container,o=a.findAll(function(l){return l.get("name")=="legend-item"}).filter(function(l){return!l.get("unchecked")}).map(function(l){return l.get("id").replace("-legend-item-","")}),s=t.filter(function(l){return(0,f.contains)(o,l[n.xField])});return s}else return this.processData(n.data)},r.prototype._reduceDataForCompare=function(t){var e=this.options,n,a=[-Infinity,-Infinity];return t=t.reduce(function(o,s){var l,u=s[e.xField],h=s[e.yField],c=s[e.compareField];n||(n=c);var d=o.find(function(_){return _[e.xField]==u});d||(d=(l={},l[e.xField]=u,l[e.yField]=0,l.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:e.transpose},l),o.push(d));var y=c==n?0:1;return d.__compare__.yValues[y]=h,a[y]<h&&(a[y]=h),d.__compare__.compareValues[y]=c,o},[]),t.forEach(function(o,s){o[e.yField]=(0,f.get)(o,"__compare__.yValues",[]).reduce(function(l,u){return l+=u},0),(0,f.set)(o,"__compare__.yValuesMax",a),(0,f.set)(o,"__compare__.yValuesNext",(0,f.get)(t,s+1+".__compare__.yValues"))}),t},r.prototype._updateDataForCompare=function(t){var e=[-Infinity,-Infinity];t.forEach(function(n){var a=(0,f.get)(n,"__compare__.yValues");[0,1].forEach(function(o){a[o]>e[o]&&(e[o]=a[o])})}),t.forEach(function(n,a){(0,f.set)(n,"__compare__.yValuesMax",e),(0,f.set)(n,"__compare__.yValuesNext",(0,f.get)(t,a+1+".__compare__.yValues"))})},r}(In),uI=Kg;zr("funnel",Kg);var fI=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="funnel",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=uI.getDefaultOptions,r}(Ir),hI=fI,$g=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},r}(fh),cI=$g;zr("stackedRose",$g);var vI=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedRose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=cI.getDefaultOptions,r}(Ir),Qg=vI,Jg=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},r}(fh),dI=Jg;zr("groupedRose",Jg);var pI=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedRose",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=dI.getDefaultOptions,r}(Ir),qg=pI,gI={area:"area",line:"line",point:"point"},yI=ri(gI);(0,f.assign)(jr,yI);var mI=function(i){var r=i.opacity||1;return{opacity:r}},xI=function(i){var r=i.opacity||1;return{opacity:r*.5}},bI=function(i){var r=i.opacity||1;return{opacity:r}},wI=function(i){var r=i.opacity||1;return{opacity:r*.5}},SI=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},CI=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},MI=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},EI=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}};Ni("radar",{areaStyle:{normal:{},active:mI,disable:xI,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:bI,disable:wI,selected:SI},pointStyle:{normal:{},active:CI,disable:EI,selected:MI}});var AI={area:"area",line:"line",point:"point"},ty=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="radar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},r.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,i.prototype.init.call(this)},r.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return AI[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},(0,f.has)(t,"angleAxis")&&Zn(e[t.angleField],t.angleAxis),e[t.radiusField]={},(0,f.has)(t,"radiusAxis")&&Zn(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius}};this.setConfig("coordinate",e)},r.prototype.axis=function(){var t=this.options,e=ci("axis",{plot:this,dim:"angle"}),n=ci("axis",{plot:this,dim:"radius"}),a={};a[t.angleField]=e,a[t.radiusField]=n,this.setConfig("axes",a)},r.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=Dn("area","main",{plot:this});this.setConfig("geometry",e),this.area=e}if(t.line&&t.line.visible){var n=Dn("line","main",{plot:this});this.setConfig("geometry",n),this.line=n}if(t.point&&t.point.visible){var a=Dn("point","guide",{plot:this});this.setConfig("geometry",a),this.point=a}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),this.area&&(this.area.label=!1);return}var e=ci("label",(0,J.__assign)({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},r.prototype.annotation=function(){},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,M)},r}(In),_I=ty;zr("radar",ty);var TI=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="radar",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getColorScale=function(){var t=this.layers[0];return t.getColorScale()},r.getDefaultOptions=_I.getDefaultOptions,r}(Ir),ey=TI,PI=v(89810),LI=v(79189),OI=function(){function i(r){var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}return i.prototype.render=function(){if((0,f.isElement)(this.container)){this.wrapperNode=(0,pt.Z)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),(0,It.Z)(this.wrapperNode,{position:"absolute",pointerEvents:"none"});var r=this.html;this.wrapperNode.appendChild(r),this.setDomPosition(this.x,this.y)}},i.prototype.updateHtml=function(r){(0,f.isType)(r,"HTMLDivElement")?(this.wrapperNode.innerHTML="",this.wrapperNode.appendChild(r)):this.wrapperNode.innerHTML=r,this.setDomPosition(this.x,this.y)},i.prototype.updatePosition=function(r,t){this.x=r,this.y=t,this.setDomPosition(r,t)},i.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},i.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},i.prototype.setDomPosition=function(r,t){var e=r,n=t,a=(0,PI.Z)(this.wrapperNode),o=(0,LI.Z)(this.wrapperNode);this.options.alignX==="middle"&&(e=r-a/2),this.options.alignY==="middle"&&(n=t-o/2),(0,It.Z)(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(e)+"px",transform:a>0?"none":"translate(-50%, -50%)"})},i}(),ry=OI,II="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",kI="font-size:32px;font-weight:bold;color:#4D4D4D";function BI(i,r){var t='<span class="liquid-guide-value" style='+kI+">"+i+"</span>";return'<div class="liquid-guide-html '+r+'" style='+II+">"+t+"</div>"}var DI=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.getTotalHtmlString=function(){var t=document.createElement("div"),e=this.plot.options,n=e.value,a=n===void 0?0:n,o=e.statistic;if(o&&!o.visible)return t;var s=this.options.htmlContent(a);return(0,f.isType)(s,"HTMLDivElement")?t.appendChild(s):t.innerHTML=BI(s,this.statisticClass),t},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r}(ry),FI=DI,RI={liquid:"intervl",statistic:"annotation-text"},NI=ri(RI);(0,f.assign)(jr,NI);var ny=xi(),iy={splitPoints:function(i){var r=[],t=i.x,e=i.y;return e=(0,f.isArray)(e)?e:[e],(0,f.each)(e,function(n,a){var o={x:(0,f.isArray)(t)?t[a]:t,y:n};r.push(o)}),r},addFillAttrs:function(i,r){r.color&&!i.fill&&(i.fill=r.color),(0,f.isNumber)(r.opacity)&&(i.opacity=i.fillOpacity=r.opacity)},addStrokeAttrs:function(i,r){r.color&&!i.stroke&&(i.stroke=r.color),(0,f.isNumber)(r.opacity)&&(i.opacity=i.strokeOpacity=r.opacity)}},ch={lerp:function(i,r,t){return(1-t)*i+t*r}},GI=function(i){var r={lineWidth:0,fill:ny.color,fillOpacity:.85},t=(0,f.mix)({},r,i.style);return iy.addFillAttrs(t,i),i.color&&!t.stroke&&(t.stroke=t.stroke||i.color),t},YI=function(i){var r={fill:"#fff",stroke:ny.color,fillOpacity:0,lineWidth:2},t=(0,f.mix)({},r,i.style);return iy.addStrokeAttrs(t,i),t};function zI(i,r,t,e){return r===0?[[i+1/2*t/Math.PI/2,e/2],[i+1/2*t/Math.PI,e],[i+t/4,e]]:r===1?[[i+1/2*t/Math.PI/2*(Math.PI-2),e],[i+1/2*t/Math.PI/2*(Math.PI-1),e/2],[i+t/4,0]]:r===2?[[i+1/2*t/Math.PI/2,-e/2],[i+1/2*t/Math.PI,-e],[i+t/4,-e]]:[[i+1/2*t/Math.PI/2*(Math.PI-2),-e],[i+1/2*t/Math.PI/2*(Math.PI-1),-e/2],[i+t/4,0]]}function XI(i,r,t,e,n,a,o){for(var s=Math.ceil(2*i/t*4)*2,l=[],u=e;u<-Math.PI*2;)u+=Math.PI*2;for(;u>0;)u-=Math.PI*2;u=u/Math.PI/2*t;var h=a-i+u-i*2;l.push(["M",h,r]);for(var c=0,d=0;d<s;++d){var y=d%4,_=zI(d*t/4,y,t,n);l.push(["C",_[0][0]+h,-_[0][1]+r,_[1][0]+h,-_[1][1]+r,_[2][0]+h,-_[2][1]+r]),d===s-1&&(c=_[2][0])}return l.push(["L",c+h,o+i]),l.push(["L",h,o+i]),l.push(["L",h,r]),l}function VI(i,r,t,e,n,a,o,s){for(var l=o.getBBox(),u=l.maxX-l.minX,h=l.maxY-l.minY,c=5e3,d=0;d<e;d++){var y=e<=1?0:d/(e-1),_=a.addShape("path",{attrs:{path:XI(s,l.minY+h*t,u/4,0,u/ch.lerp(56,64,y),i,r),fill:n,opacity:ch.lerp(.6,.3,y)}}),k=Yo([["t",u/2,0]]);_.animate({matrix:k},{duration:ch.lerp(c,.7*c,y),repeat:!0})}}Jr("interval","liquid-fill-gauge",{draw:function(i,r){var t=.5,e=Infinity;(0,f.each)(i.points,function(d){d.x<e&&(e=d.x)});var n=.5,a=this.parsePoint({x:n,y:t}),o=this.parsePoint({x:e,y:.5}),s=a.x-o.x,l=Math.min(s,o.y),u=GI(i).fill,h=r.addGroup({name:"waves",attrs:{x:a.x,y:a.y}});h.setClip({type:"circle",attrs:{x:a.x,y:a.y,r:l}});var c=h.get("clipShape");return VI(a.x,a.y,1-i.points[1].y,3,u,h,c,l*4),r.addShape("circle",{name:"wrap",attrs:(0,f.mix)(YI(i),{x:a.x,y:a.y,r:l,fill:"transparent"})}),h[0]}});function ay(i,r){var t=i.get("parent"),e=t.getBBox(),n=Math.min(Math.max(0,(0,f.get)(r,"factor",.5)),1),a=(0,f.get)(r,"delay",0),o=(0,f.get)(r,"duration",800),s=r.callback,l=(e.minX+e.maxX)/2,u=e.maxY,h=t.find(function(k){return k.get("name")=="wrap"}),c=h.attr("opacity");h.attr("opacity",0),h.animate({opacity:c},o*n,"easeLinear",null,a);var d=t.find(function(k){return k.get("name")=="waves"}),y=(0,f.clone)(d.attr("matrix"))||[1,0,0,0,1,0,0,0,1],_=Yo(y,[["t",-l,-u],["s",1,0],["t",l,u]]);d.setMatrix(_),d.animate({matrix:y},o,r.easing,function(){return s&&s(t,h,d)},a)}ay.animationName="liquidMoveIn",Yn("liquidMoveIn",ay);var HI={column:"interval"},WI={interval:"liquid"},oy=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}return r.getDefaultOptions=function(){var t={padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}};return(0,f.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){var t=this.options,e=t.min,n=t.max,a=t.value;if(!(0,f.isNumber)(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!(0,f.isNumber)(n))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!(0,f.isNumber)(a))throw new Error("The value of Liquid is required, and the type of value must be Number.")},r.prototype.init=function(){this.options.data=[{}],i.prototype.init.call(this)},r.prototype.coord=function(){},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a={value:{}};Zn(a.value,{min:Math.min(e,n),max:Math.max(e,n)}),this.setConfig("scales",a),i.prototype.scale.call(this)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var n=e.liquidStyle;(0,f.isFunction)(n)&&(n=n()),n&&(t.style=n)},r.prototype.addGeometry=function(){var t=Dn("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var e=this.getViewRange(),n=Math.min(e.width,e.height)*.8,a=this.options.liquidSize?this.options.liquidSize:n;t.size={values:[a]},this.liquid=t,this.setConfig("geometry",t)},r.prototype.animation=function(){var t=this.options;if(t.animation===!1)this.liquid.animate=!1;else{var e=(0,f.get)(t,"animation.factor"),n=(0,f.get)(t,"animation.easing"),a=(0,f.get)(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:e,easing:n,duration:a}}}},r.prototype.geometryParser=function(t,e){return t==="g2"?HI[e]:WI[e]},r.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},r.prototype.useHtmlContent=function(){var t=this.options,e=t.statistic||{};return(0,f.isFunction)(e.htmlContent)},r.prototype.extractStatistic=function(){if(!this.useHtmlContent()){var t=this.options,e=t.statistic||{},n;(0,f.isFunction)(e.formatter)?n=e.formatter(t.value):n=""+t.value;var a,o;if(n){var s=Math.min(this.width,this.height);a=s/n.length*.5,o=Math.max(1,Math.ceil(.025*a))}var l;if(e.visible!==!1){var u=(0,f.deepMix)({style:{fontSize:a,shadowBlur:o}},{top:!0,content:n,type:"text",position:["50%","50%"],style:{opacity:l,fill:"transparent",shadowColor:"transparent",textAlign:"center"}},e);return delete u.visible,delete u.formatter,delete u.adjustColor,u}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,L)},r.prototype.afterRender=function(){var t;((t=this.options.statistic)===null||t===void 0?void 0:t.visible)&&!this.useHtmlContent()&&this.fadeInAnnotation();var e=this.options,n=e.padding?e.padding:this.config.theme.padding;if(e.defaultState&&n!=="auto"&&this.stateController.defaultStates(e.defaultState),n==="auto"&&this.paddingController.processAutoPadding(),this.useHtmlContent()){var a=this.canvas.get("container");if(this.statistic&&a.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var o=this.canvas.get("container");(0,It.Z)(o,{position:"relative"}),this.statistic=new FI((0,J.__assign)({container:o,view:this.view,plot:this},this.options.statistic)),this.statistic.render()}i.prototype.afterRender.call(this)}},r.prototype.processData=function(){var t=this.options;return[{_:"_",value:t.value}]},r.prototype.changeValue=function(t){var e=this.options;e.value=t,this.changeData([])},r.prototype.fadeInAnnotation=function(){var t=this,e=this.options,n=this.view.foregroundGroup.findAll(function(s){return s.get("name")==="annotation-text"})[0],a=e.animation||{},o=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?n.animate(o,a.duration*Math.min(1,1.5*a.factor),null,function(){t.shouldFadeInAnnotation=!1}):(0,f.forIn)(o,function(s,l){return n.attr(l,s)})},r.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#f6f6f6",shadowColor:"black"},n={fill:"#303030",shadowColor:"white"};if((0,f.get)(t,"statistic.adjustColor")===!1)return{fill:(0,f.get)(t,"statistic.style.fill",n.fill),shadowColor:(0,f.get)(t,"statistic.style.shadowColor",n.shadowColor)};var a=t.min,o=t.max,s=t.value;a=Math.min(a,o),o=Math.max(a,o);var l;if(a==o?l=1:l=(s-a)/(o-a),l>.55){var u=this.options.color,h=.8,c=za(u),d=Math.round(c[0]*.299+c[1]*.587+c[2]*.114)/h;return d<156?e:n}return n},r.prototype.updateConfig=function(t){i.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},r.prototype.getViewRange=function(){var t=i.prototype.getViewRange.call(this),e=this.options.liquidStyle,n=e.lineWidth?e.lineWidth:2,a=t.minX,o=t.minY,s=t.width,l=t.height,u=Math.min(s,l)-n*2,h=a+s/2,c=o+l/2,d=h-u/2,y=c-u/2;return new Br(d,y,u,u)},r}(In),vh=oy;zr("liquid",oy);var jI=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="liquid",i.prototype.createLayers.call(this,e)},r.prototype.changeValue=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof vh&&a.changeValue(t)});else{var n=this.layers[0];n instanceof vh&&n.changeValue(t)}},r.getDefaultOptions=vh.getDefaultOptions,r}(Ir),sy=jI,ly=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="histogram",t}return r.prototype.init=function(){this.options.xField="range",this.options.yField="count",i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=(0,f.clone)(t);(0,f.sortBy)(l,a);var u=(0,f.valuesOfKey)(l,a),h=(0,f.getRange)(u),c=h.max-h.min,d=o;if(!o&&s&&(d=c/s),!o&&!s){var y=vd(u);d=c/y}var _={};(0,f.each)(l,function(F){var Y=F[a],G=e.getBin(Y,d),ut=G[0]+"-"+G[1];(0,f.hasKey)(_,ut)||(_[ut]={name:ut,range:G,count:0,data:[]}),_[ut].data.push(F),_[ut].count+=1});var k=[];return(0,f.each)(_,function(F){k.push(F)}),k},r.prototype.scale=function(){i.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},r.prototype.getBin=function(t,e){var n=Math.floor(t/e);return[e*n,e*(n+1)]},r}(Ho),UI=ly;zr("histogram",ly);var ZI=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="histogram",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=UI.getDefaultOptions,r}(Ir),uy=ZI,KI={epanechnikov:function(i){return Math.abs(i)<=1?.75*(1-i*i):0},gaussian:function(i){return 1/Math.sqrt(Math.PI*2)*Math.exp(-.5*Math.pow(i,2))},uniform:function(i){return Math.abs(i)<=1?.5:0},triangle:function(i){return Math.abs(i)<=1?1-Math.abs(i):0},quartic:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*r*r:0},triweight:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*Math.pow(r,3):0},cosinus:function(i){var r=Math.PI/4*Math.cos(.5*Math.PI*i);return Math.abs(i)<=1?r:0}},fy=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="density",t}return r.prototype.init=function(){var t=this.options.xAxis?(0,f.clone)(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=(0,f.deepMix)({},t,{type:"linear"}),this.options.smooth=!0,i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=n.kernel,u=l||"epanechnikov",h=KI[u],c=(0,f.clone)(t);(0,f.sortBy)(c,a);var d=(0,f.valuesOfKey)(c,a),y=(0,f.getRange)(d),_=y.max-y.min,k=s,F=o;!s&&o&&(k=Math.floor(_/o)),!o&&s&&(F=_/s),!s&&!o&&(k=vd(d),F=_/s);var Y=(0,zt.getScale)("linear"),G=new Y({min:y.min,max:y.max,tickCount:k,nice:!1}),ut=G.getTicks(),ft=[];return(0,f.each)(ut,function(Tt){var Yt=e.kernelDensityEstimator(F,h,Tt,d);ft.push({value:Tt.text,density:Yt})}),ft},r.prototype.kernelDensityEstimator=function(t,e,n,a){var o=0;return(0,f.each)(a,function(s){var l=(n.tickValue-s)/t;o+=e(l)}),a.length===0?0:o/a.length},r}(qf),$I=fy;zr("density",fy);var rY=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="density",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=$I.getDefaultOptions,r}(Ir),nY=null,QI={ring:"interval"},JI=ri(QI);(0,f.assign)(jr,JI);var qI="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",tk="font-weight:300;white-space: nowrap;text-overflow: ellipsis;",ek="font-size:32px;font-weight:bold;color:#4D4D4D";function rk(i,r,t,e){var n=qI+"width:"+e+"px;",a=i?'<span class="ring-guide-name" style='+tk+">"+i+"</span><br/>":"",o='<span class="ring-guide-value" style='+ek+">"+r+"</span>";return'<div class="ring-guide-html '+t+'" style='+n+">"+a+o+"</div>"}var nk=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.triggerOn=function(){var t=this,e=this.options.triggerOn;this.view.on("interval:"+e,(0,f.debounce)(function(a){var o=t.parseStatisticData("item",a.data.data,a.data.color),s=t.getStatisticHtmlString(o);t.updateHtml(s)},150));var n=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+n,(0,f.debounce)(function(){var a=t.getTotalHtmlString();t.updateHtml(a)},150))},r.prototype.getTotalHtmlString=function(){var t;if(this.options.content)t=this.options.content;else{var e=this.getTotalValue();t=this.parseStatisticData("total",e)}var n;this.options.htmlContent?n=this.options.htmlContent(t,this.getStatisticSize()):n=this.getStatisticTemplate(t);var a=document.createElement("div");return(0,f.isType)(n,"HTMLDivElement")?a.appendChild(n):a.innerHTML=n,a},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r.prototype.getTotalValue=function(){var t,e=0,n=this.plot.options,a=n.angleField,o=n.colorField,s=this.options.totalLabel;(0,f.each)(this.plot.options.data,function(u){typeof u[a]=="number"&&(e+=u[a])});var l=(t={},t[a]=e,t[o]=s,t);return l},r.prototype.parseStatisticData=function(t,e,n){var a=this.plot,o=a.options,s=o.angleField,l=o.colorField,u=a.getScaleByField(s),h=a.getScaleByField(l),c={name:h?h.getText(e[l]):null,value:u.getText(e[s])};return t==="item"&&(c.itemData=e,c.color=n),c},r.prototype.getStatisticTemplate=function(t){var e=this.getStatisticSize(),n=rk(t.name,t.value,this.statisticClass,e);return n},r.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,n=e.radius,a=e.innerRadius,o=Math.min(t.width,t.height),s=o*n*a;return s},r.prototype.getStatisticHtmlString=function(t){var e=this.options.htmlContent,n;return e?n=e(t,this.getStatisticSize()):n=this.getStatisticTemplate(t),n},r}(ry),ik=nk,ak={ring:"interval"},ok={interval:"ring"},hy=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="donut",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,tooltip:{visible:!1},statistic:{visible:!0,totalLabel:"\u603B\u8BA1",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),r.centralId++,this.statisticClass="statisticClassId"+r.centralId,this.adjustLabelDefaultOptions()},r.prototype.afterRender=function(){var t=this.canvas.get("container");if(this.statistic&&(t.removeChild(this.statistic.wrapperNode),this.statistic=null),this.options.statistic&&this.options.statistic.visible){var e=this.canvas.get("container");(0,It.Z)(e,{position:"relative"}),this.statistic=new ik((0,J.__assign)({container:e,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}i.prototype.afterRender.call(this)},r.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),i.prototype.destroy.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?ak[e]:ok[e]},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,B)},r.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&t.type==="inner"){var e=t.style||{};e.textAlign||(e.textAlign="center"),t.style=e,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+"%")}},r.centralId=0,r}(Dg),cy=hy;zr("donut",hy);var sk=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=cy.getDefaultOptions,r}(Ir),vy=sk;function lk(i,r,t){var e=i.style,n=i.defaultStyle,a=i.color,o=(0,J.__assign)((0,J.__assign)({},n),e);return a&&(r&&(o.stroke=a),t&&(o.fill=a)),o}function uk(i){var r=[],t=i[0];r.push(["M",t.x,t.y]);for(var e=1,n=i.length;e<n;e++)r.push(["L",i[e].x,i[e].y]);return r.push(["L",t.x,t.y]),r.push(["z"]),r}Jr("interval","waterfall",{draw:function(i,r){var t=lk(i,!1,!0),e=this.parsePath(uk(i.points)),n=r.addShape("path",{attrs:(0,J.__assign)((0,J.__assign)({},t),{path:e}),name:"interval"}),a=(0,f.get)(i.style,"leaderLine");if(a&&a.visible){var o=a.style||{};if(i.nextPoints){var s=[["M",i.points[2].x,i.points[2].y],["L",i.nextPoints[0].x,i.nextPoints[0].y]];s=this.parsePath(s),r.addShape("path",{attrs:(0,J.__assign)({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},o),name:"leader-line"})}}return n}});var dy=2,fk=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n,a,o=e.shape,s=o.getBBox(),l=e.getData(),u=l[$i],h=l[this.layer.options.yField],c=(0,f.isArray)(u)?u[1]:u,d=this.options.formatter,y=[].concat(e.getModel().mappingData),_=d?y[0]&&y[0]._origin[Yl]:0,k=d?d(c,(n={},n[xs]=(a=y[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=y[0],n.mappingDatumIndex=0,n.element=e,n.elementIndex=_,n),_):c,F=(s.minY+s.maxY)/2,Y="bottom";h<0?(F=s.maxY+dy,Y="top"):F=s.minY-dy,t.attr("y",F),t.attr("text",k),t.attr("textBaseline",Y)},r}(rh),iY=null;Ri("waterfall",fk);function hk(){return{fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"}}var ck=function(){function i(r){this.textAttrs={},this.view=r.view,this.fields=r.fields,this.formatter=r.formatter,this.textAttrs=(0,f.mix)(hk(),r.style),this._init()}return i.prototype.draw=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,f.clone)(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var e=this.view.geometries[0].elements.map(function(n){return n.shape});(0,f.each)(e,function(n,a){if(!!n.cfg.origin){var o=n.cfg.origin.data,s=n.getBBox(),l=o[$i],u=l;(0,f.isArray)(l)&&(u=l[1]-l[0]),u=u>0?"+"+u:u,o[dh]&&(u=l[0]-l[1]);var h=u;if(r.formatter){var c=e[a].attr("fill");h=r.formatter(""+u,{_origin:t[a],color:c},a)}var d=r.container.addShape("text",{attrs:(0,J.__assign)({text:h,textBaseline:"middle",textAlign:"center",x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},r.textAttrs),name:"dill-label"});d.getBBox().height>s.height&&d.set("visible",!1)}}),this.view.getCanvas().draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype._init=function(){var r=this;this.view.on(tn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){r.clear()}),this.view.on(tn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){r.draw()})},i}(),vk=ck,dk={waterfall:"interval"},pk={interval:"waterfall"},$i="$$value$$",dh="$$total$$",Yl="$$index$$",py=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="watarfall",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"\u603B\u8BA1\u503C"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new vk({view:this.view,fields:[t.xField,t.yField,$i],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;this.view.on("tooltip:change",function(e){for(var n=e.items,a=0;a<n.length;a++){var o=n[a],s=(0,f.get)(o,"data",{});if(o.name=s[t.xField],o.value=s[t.yField],!o.value&&s[dh]){var l=s[$i];o.value=l[0]-l[1]}e.items[a]=o}}),this.renderLabel()},r.prototype.renderLabel=function(){var t=no(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,(0,J.__assign)({type:"waterfall"},this.options.label))},r.prototype.geometryParser=function(t,e){return t==="g2"?dk[e]:pk[e]},r.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},r.prototype.addGeometry=function(){var t=this.options,e={type:"interval",position:{fields:[t.xField,$i]},shape:{values:["waterfall"]}};e.style=this._parseStyle(),e.color=this._parseColor(),this.waterfall=e,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.processData=function(t){var e,n=[],a=this.options.xField,o=this.options.yField;if((0,f.map)(t,function(u,h){var c,d=u[o];if(h>0){var y=n[h-1][$i];(0,f.isArray)(y)?d=[y[1],u[o]+y[1]]:d=[y,u[o]+y]}n.push((0,J.__assign)((0,J.__assign)({},u),(c={},c[$i]=d,c[Yl]=h,c)))}),this.options.showTotal&&this.options.showTotal.visible){var s=(0,f.map)(t,function(u){return u[o]}),l=(0,f.reduce)(s,function(u,h){return u+h},0);n.push((e={},e[a]=this.options.showTotal.label,e[o]=null,e[$i]=[l,0],e[Yl]=n.length,e[dh]=!0,e))}return n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&Zn(e[t.xField],t.xAxis),e[$i]={},(0,f.has)(t,"yAxis")&&Zn(e[$i],t.yAxis),this.setConfig("scales",e)},r.prototype.axis=function(){var t=ci("axis",{plot:this,dim:"x"}),e=ci("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[$i]=e,this.setConfig("axes",n)},r.prototype.coord=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,D)},r.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,$i]))},r.prototype._parseStyle=function(){var t=this.options.waterfallStyle,e=this.options.leaderLine,n={};return(0,f.isFunction)(t)?n.callback=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return Object.assign({},t.apply(void 0,a),{leaderLine:e})}:n.cfg=(0,J.__assign)((0,J.__assign)({},t),{leaderLine:e}),n},r.prototype._parseColor=function(){var t=this,e=this.options,n=this.options,a=n.xField,o=n.yField,s={fields:[a,o,$i,Yl]};if((0,f.isFunction)(e.color))s.callback=e.color;else{var l="#f4664a",u="#30bf78",h="rgba(0, 0, 0, 0.25)";if((0,f.isString)(e.color))l=u=h=e.color;else if((0,f.isObject)(e.color)){var c=e.color,d=c.rising,y=c.falling,_=c.total;l=d,u=y,h=_}s.callback=function(k,F,Y,G){return G===t.options.data.length?h||(Y[0]>=0?l:u):((0,f.isArray)(Y)?Y[1]-Y[0]:Y)>=0?l:u}}return s},r.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},r.prototype.adjustMeta=function(t){var e=t.meta;if(e){var n=e?e[t.yField]:{};n.alias=n.alias||t.yField,t.meta[$i]=n}},r}(In),gk=py;zr("waterfall",py);var yk=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="waterfall",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=gk.getDefaultOptions,r}(Ir),gy=yk,mk=function(){function i(r){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=r,this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options,t=r.xBaseline,e=r.yBaseline,n=this.view.getCoordinate(),a=this.view.getScaleByField(this.options.plotOptions.xField),o=this.view.getScaleByField(this.options.plotOptions.yField),s;if(t>a.min&&t<a.max){var l=(t-a.min)/(a.max-a.min);s=[new Br(n.start.x,n.end.y,n.getWidth()*l,n.getHeight()),new Br(n.start.x+n.getWidth()*l,n.end.y,n.getWidth()*(1-l),n.getHeight())];var u={start:{x:n.start.x+n.getWidth()*l,y:n.end.y},end:{x:n.start.x+n.getWidth()*l,y:n.start.y}};this.lineData.push(u)}else s=[new Br(n.start.x,n.end.y,n.getWidth(),n.getHeight())];if(e>o.min&&e<o.max){var l=(e-o.min)/(o.max-o.min),h={start:{x:n.start.x,y:n.start.y-n.getHeight()*l},end:{x:n.end.x,y:n.start.y-n.getHeight()*l}};this.lineData.push(h);var c={name:t<=a.min?"top-right":"top-left",bbox:new Br(s[0].minX,s[0].minY,s[0].width,s[0].height*(1-l)),index:t<=a.min?2:0};this.regionData.push(c);var d={name:t<=a.min?"bottom-right":"bottom-left",bbox:new Br(s[0].minX,s[0].minY+s[0].height*(1-l),s[0].width,s[0].height*l),index:t<=a.min?3:1};if(this.regionData.push(d),s.length>1){var y={name:"top-right",bbox:new Br(s[1].minX,s[1].minY,s[1].width,s[1].height*(1-l)),index:2};this.regionData.push(y);var _={name:"bottom-right",bbox:new Br(s[1].minX,s[1].minY+s[1].height*(1-l),s[1].width,s[1].height*l),index:3};this.regionData.push(_)}}else if(s.length===2)if(e<=o.min){var k={name:"top-left",bbox:s[0],index:0};this.regionData.push(k);var y={name:"top-right",bbox:s[1],index:2};this.regionData.push(y)}else{var F={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(F);var _={name:"bottom-right",bbox:s[1],index:3};this.regionData.push(_)}else if(t<=a.min)if(e<=o.min){var y={name:"top-right",bbox:s[0],index:2};this.regionData.push(y)}else{var _={name:"bottom-right",bbox:s[0],index:3};this.regionData.push(_)}else if(e<=o.min){var k={name:"top-left",bbox:s[0],index:0};this.regionData.push(k)}else{var F={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(F)}this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this;if(this.regionData.length>0){var t=this.getDefaultStyle(),e=this.getRegionStyle(this.regionData);(0,f.each)(this.regionData,function(a){var o=a.index,s=r.container.addGroup(),l=s.addShape("rect",{attrs:(0,J.__assign)({x:a.bbox.minX,y:a.bbox.minY,width:a.bbox.width,height:a.bbox.height},e[o]),name:"quadrant"});if(r.options.label&&r.options.label.text){var u=(0,f.deepMix)({},t.label,r.options.label),h=r.getLabelConfig(a,u);s.addShape("text",{attrs:(0,J.__assign)({},h),name:"quadrant-label"})}l.set("data",a),r.quadrantGroups.push(s)});var n=(0,f.deepMix)({},t.line,this.options.lineStyle);(0,f.each)(this.lineData,function(a){r.container.addShape("path",{attrs:(0,J.__assign)({path:[["M",a.start.x,a.start.y],["L",a.end.x,a.end.y]]},n),name:"quadrant-line"})}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},i.prototype.getRegionStyle=function(r){var t=this.getDefaultStyle(),e=t.regionStyle;if(this.options.regionStyle){var n=this.options.regionStyle;(0,f.isArray)(n)?e=e.map(function(a,o){return n.length>o&&n[o]?n[o]:a}):(0,f.isFunction)(n)&&(0,f.each)(r,function(a,o){e[o]=n(a)})}return e},i.prototype.getLabelConfig=function(r,t){var e=r.index,n=0,a=0,o={},s=t.text;(0,f.isFunction)(s)?s=s(r):(0,f.isArray)(s)&&(s=s[e]);var l=t.position,u=l.split("-"),h=r.name.split("-");return h[1]==="left"?(u[0]==="inner"&&(n=r.bbox.maxX-t.offset,o.textAlign="right"),u[0]==="outter"&&(n=r.bbox.minX+t.offset,o.textAlign="left")):h[1]==="right"&&(u[0]==="inner"&&(n=r.bbox.minX+t.offset,o.textAlign="left"),u[0]==="outter"&&(n=r.bbox.maxX-t.offset,o.textAlign="right")),h[0]==="top"?(u[1]==="inner"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom"),u[1]==="outter"&&(a=r.bbox.minY+t.offset,o.textBaseline="top")):h[0]==="bottom"&&(u[1]==="inner"&&(a=r.bbox.minY+t.offset,o.textBaseline="top"),u[1]==="outter"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom")),o=(0,f.deepMix)({},t.style,o),o.lineHeight=o.fontSize,(0,J.__assign)({x:n,y:a,text:s},o)},i}(),xk=mk,Co=v(56645),bk={exp:Co.regressionExp,linear:Co.regressionLinear,loess:Co.regressionLoess,log:Co.regressionLog,poly:Co.regressionPoly,pow:Co.regressionPow,quad:Co.regressionQuad};function wk(i,r){return Math.sqrt(i*(1-i)/r)*1.96}var Sk=function(){function i(r){var t={type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}};this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options.plotOptions,t=r.xField,e=r.yField,n=r.data,a=bk[this.options.type]().x(function(o){return o[t]}).y(function(o){return o[e]});this.data=this.processData(a(n)),this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this.view.getScaleByField(this.options.plotOptions.xField),t=this.view.getScaleByField(this.options.plotOptions.yField),e=this.view.getCoordinate(),n=this.data.trendlineData,a=(0,zt.getScale)("linear"),o=this.adjustScale(r,n,"x"),s=new a({min:o.min,max:o.max}),l=this.adjustScale(t,n,"y"),u=new a({min:l.min,max:l.max});if(this.options.showConfidence){var h=this.getConfidencePath(s,u,e);this.container.addShape("path",{attrs:(0,J.__assign)({path:h},this.options.confidenceStyle),name:"confidence"})}var c=this.getTrendlinePoints(s,u,e),d=[[0,0],[1,1]],y=Vf(c,!1,d);this.shape=this.container.addShape("path",{attrs:(0,J.__assign)({path:y},this.options.style),name:"trendline"})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.destroy()},i.prototype.processData=function(r){var t=[],e=[];return(0,f.each)(r,function(n){t.push({x:n[0],y:n[1]});var a=wk(r.rSquared,n[1]);e.push({x:n[0],y0:n[1]-a,y1:n[1]+a})}),{trendlineData:t,confidenceData:e}},i.prototype.getTrendlinePoints=function(r,t,e){var n=[];return(0,f.each)(this.data.trendlineData,function(a){var o=r.scale(a.x),s=t.scale(a.y),l=e.start.x+e.width*o,u=e.start.y-e.height*s;n.push({x:l,y:u})}),n},i.prototype.getConfidencePath=function(r,t,e){var n=[],a=[],o=[];(0,f.each)(this.data.confidenceData,function(c){var d=r.scale(c.x),y=t.scale(c.y0),_=t.scale(c.y1),k=e.start.x+e.width*d,F=e.start.y-e.height*y,Y=e.start.y-e.height*_;n.push({x:k,y:F}),a.push({x:k,y:Y})});for(var s=0;s<n.length;s++){var l=s===0?"M":"L",u=n[s];!isNaN(u.x)&&!isNaN(u.y)&&o.push([l,u.x,u.y])}for(var h=a.length-1;h>0;h--){var u=a[h];!isNaN(u.x)&&!isNaN(u.y)&&o.push(["L",u.x,u.y])}return o},i.prototype.adjustScale=function(r,t,e){var n=r.min,a=r.max,o=this.options.plotOptions,s=o.data,l=o.xField,u=o.yField,h=e==="x"?l:u,c=(0,f.minBy)(s,h)[h],d=(0,f.maxBy)(s,h)[h],y=(n-c)/(d-c),_=(a-d)/(d-c),k=(0,f.minBy)(t,e)[e],F=(0,f.maxBy)(t,e)[e];return{min:k+y*(F-k),max:F+_*(F-k)}},i}(),Ck=Sk,Mk={point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"},Ek=ri(Mk);(0,f.assign)(jr,Ek);var Ak=function(i){var r=i.stroke||"#000";return{stroke:r}},_k=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},Tk=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};Ni("scatter",{pointStyle:{normal:{},active:Ak,selected:_k,inactive:Tk}});var Pk={scatter:"point"},Lk={point:"point"},yy=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="scatter",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new xk((0,J.__assign)({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new Ck((0,J.__assign)({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},r.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),i.prototype.destroy.call(this)},r.prototype.isValidLinearValue=function(t){return(0,f.isNil)(t)?!1:!Number.isNaN(Number(t))},r.prototype.processData=function(t){var e=this,n=this.options,a=n.xField,o=n.yField,s=(0,f.get)(this.options,["xAxis","type"],"linear"),l=(0,f.get)(this.options,["yAxis","type"],"linear");if(s&&l){var u=t.filter(function(h){return!(s==="linear"&&!e.isValidLinearValue(h[a])||l==="linear"&&!e.isValidLinearValue(h[o]))}).map(function(h){var c;return(0,J.__assign)((0,J.__assign)({},h),(c={},c[a]=s==="linear"?Number(h[a]):String(h[a]),c[o]=l==="linear"?Number(h[o]):String(h[o]),c))});return u}return t},r.prototype.geometryParser=function(t,e){return t==="g2"?Pk[e]:Lk[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&Zn(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Zn(e[t.yField],t.yAxis);var n=(0,f.find)(t.interactions,function(o){return o.type==="timeline"});if(n&&(0,f.get)(n,"cfg.key")){var a=n.cfg.key;e[a]?e[a].key=!0:e[a]={key:!0}}this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=Dn("point","circle",{plot:this});if(this.points=t,this.options.tooltip&&this.options.tooltip.visible){var e=this.options.tooltip,n=e.showTitle,a=e.titleField;this.extractTooltip(),this.setConfig("tooltip",(0,J.__assign)({showTitle:n,title:n?a:void 0},this.options.tooltip))}this.options.label&&this.label(),this.setConfig("geometry",t)},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.points&&(this.points.label=!1);return}var e=ci("label",(0,J.__assign)((0,J.__assign)({fields:t.label.field?[t.label.field]:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.points.animate=!1)},r.prototype.parseEvents=function(t){i.prototype.parseEvents.call(this,t||z)},r.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},r}(In),my=yy;zr("scatter",yy);var Ok=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="scatter",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=my.getDefaultOptions,r}(Ir),xy=Ok,Ik=v(75564);Jr("point","bubble-point",{draw:function(i,r){var t=(0,Ik.iV)(this,i,r,"circle",!1);if(!i.style.stroke){var e=t.attr("fill");t.attr("stroke",e)}return t},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}});var kk=function(i){var r=i.stroke||"#000",t=i.fillOpacity||i.opacity||.95;return{stroke:r,fillOpacity:t}},Bk=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},Dk=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};Ni("bubble",{pointStyle:{normal:{},active:kk,selected:Bk,inactive:Dk}});var by=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bubble",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.legend=function(){var t;i.prototype.legend.call(this),!(this.options.legend&&this.options.legend.visible===!1)&&this.setConfig("legends",(t={},t[this.options.sizeField]=!1,t))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,z)},r}(my),Fk=by;zr("bubble",by);var Rk=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bubble",i.prototype.createLayers.call(this,e)},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=Fk.getDefaultOptions,r}(Ir),wy=Rk,Nk={bullet:"interval",bulletTarget:"bullet-target"},Gk=ri(Nk);(0,f.assign)(jr,Gk);var Yk=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var r=this.getGeometry(),t=(0,f.map)(r==null?void 0:r.elements,function(o){return o.shape}),e=0;e<this.cfg.ranges.length;e+=1){var n=t[e].getBBox(),a=n.width/t[e].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[e]||[0,1],a)}this.view.canvas.draw()}},i.prototype.drawRect=function(r,t,e){for(var n=this.cfg,a=n.rangeColors,o=r.minX,s=r.minY-r.height*(n.rangeSize-1)/2,l=1;l<t.length;l+=1){var u=(t[l]-t[l-1])*n.rangeMax*e;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:u,height:r.height*n.rangeSize,x:o,y:s,fill:a[(l-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),o+=u}if(n.axis&&n.axis.visible){var h=n.rangeMax/(n.axis.tickCount-1),c=new Br(r.x,s,o,r.height*n.rangeSize);this.drawBulletTicks(c,h,e)}},i.prototype.drawBulletTicks=function(r,t,e){for(var n=this.cfg,a=n.axis.style,o=n.axis.tickCount,s=n.axis.position,l=(0,f.get)(a,"lineHeight",0)-a.fontSize/2,u=0;u<o;u+=1){var h=r.minX+t*u*e,c=""+t*u;if(n.axis.formatter&&(c=n.axis.formatter(c,u)),this.container.addShape("text",{name:"tick",attrs:(0,J.__assign)({x:h,y:s==="before"?r.minY-l:r.maxY+l,text:""+c},a)}),n.axis.tickLine&&n.axis.tickLine.visible){var d=n.axis.tickLine;u>0&&u!==o-1&&this.container.addShape("path",{attrs:(0,J.__assign)({path:[["M",h,r.minY],["L",h,r.maxY]]},d)}).set("zIndex",-1)}}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),zk=Yk,Xk=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var r=(0,f.map)(this.getGeometry().elements,function(a){return a.shape}),t=0;t<this.cfg.targets.length;t+=1){var e=r[t].getBBox(),n=e.width/r[t].get("origin").data[this.cfg.yField];this.drawTarget(e,this.cfg.targets[t],n)}this.view.canvas.draw()}},i.prototype.drawTarget=function(r,t,e){var n=this,a=this.cfg,o=a.markerColors;t.forEach(function(s,l){var u=a.markerStyle;n.container.addShape("rect",{name:"bullet-target",attrs:(0,J.__assign)((0,J.__assign)({width:u.width,height:r.height*a.markerSize-u.width/2,x:r.minX+s*e,y:r.minY-r.height*(a.markerSize-1)/2},u),{fill:o[l%o.length]||u.fill})})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),Vk=Xk,Hk=function(i){var r=i.opacity||1;return{opacity:r*.5,lineWidth:0}},Wk=function(i){var r=i.opacity||1;return{opacity:r*.5}};Ni("bullet",{columnStyle:{normal:{},active:Hk,disable:Wk,selected:{}}});var jk={bullet:"interval"},Uk={interval:"bullet"},Zk="$$stackField$$",Kk="$$xField$$",$k="$$yField$$",Sy=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bullet",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{data:[],stackField:Zk,xField:Kk,yField:$k,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},(0,f.has)(t,"yAxis")&&Zn(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&Zn(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(a){return a.ranges}),n=t.data.map(function(a){return a.targets});this.bulletRect=new zk(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new Vk(this.view,{targets:n,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},r.prototype.geometryParser=function(t,e){return t==="g2"?jk[e]:Uk[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,n=t.measureColors||this.theme.colors,a=[{name:"\u5B9E\u9645\u8FDB\u5EA6",value:"\u5B9E\u9645\u8FDB\u5EA6",marker:{symbol:"square",style:{fill:n[0]}}},{name:"\u76EE\u6807\u503C",value:"\u76EE\u6807\u503C",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],o=(0,J.__assign)({custom:!0,position:"bottom",items:a},t.legend);this.setConfig("legends",o)},r.prototype.addGeometry=function(){var t=this.options,e=Dn("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,q)},r.prototype.extractLabel=function(){var t=this.options,e=(0,f.deepMix)({},t.label);if(e.visible===!1)return!1;var n=ci("label",(0,J.__assign)({plot:this,labelType:"barLabel",fields:[t.yField]},e));return n},r.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},r.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(n){return e.push(n.measures.reduce(function(a,o){return a+o},0))}),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},r.prototype.processData=function(t){var e=this.options,n=[];return t.forEach(function(a,o){for(var s,l=0;l<a.measures.length;l+=1){var u=a.measures[l],h=a.title||""+o;n.push((s={},s[e.xField]=h,s[e.yField]=u,s[e.stackField]=""+l,s))}}),n},r}(In),Qk=Sy;zr("bullet",Sy);var Jk=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bullet",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Qk.getDefaultOptions,r}(Ir),Cy=Jk,jo="$$day$$",Uo="$$week$$",My="$$date$$",aY="$$is_month_center$$",Zo="YYYY-MM-DD",qk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tB=["S","M","T","W","T","F","S"],Es=864e5;function eB(i){var r=(0,J.__spreadArrays)(i).sort(function(t,e){return t.getTime()-e.getTime()});return[io.default.format((0,f.head)(r),Zo),io.default.format((0,f.last)(r),Zo)]}function oY(i){var r=i||new Date;return[fecha.format(new Date(r.getFullYear(),0,1),FORMATTER),fecha.format(new Date(r.getFullYear(),11,30),FORMATTER)]}function rB(i){return i.getMonth()!==zl(new Date(i),7*Es).getMonth()}function nB(i){return i.getMonth()!==zl(new Date(i),Es).getMonth()}function Ey(i){var r=new Date(i.getFullYear(),0,1);return Math.ceil(((i.getTime()-r.getTime())/Es+r.getDay()+1)/7)}function iB(i){return i.getDay()}function zl(i,r){return i.setMilliseconds(i.getMilliseconds()+r),i}function Ay(i){var r,t=i[0],e=i[1],n=io.default.parse(t,Zo),a=io.default.parse(e,Zo);return n>a&&(r=[n,a],a=r[0],n=r[1]),[n,a]}function aB(i,r,t){for(var e=[],n=Ay(r),a=n[0],o=n[1],s=new Date(a),l=function(){var u,h=io.default.format(s,Zo),c=(0,f.find)(i,function(d){return d[t]===h});e.push((0,J.__assign)((u={},u[jo]=iB(s),u[Uo]=""+Ey(s),u[t]=h,u[My]=new Date(s),u),c)),zl(s,Es)};s<=o;)l();return e}function oB(i){var r=Ay(i),t=r[0],e=r[1],n=new Map;function a(l){var u=l.getMonth(),h=Ey(l);n.has(u)||n.set(u,[]),n.get(u).push(h)}for(var o=new Date(t);o<=e;)a(o),zl(o,Es*7);e<o&&a(e);var s={};return n.forEach(function(l,u){var h=Math.ceil(((0,f.head)(l)+(0,f.last)(l))/2);s[h]=u}),s}var sB={rect:"polygon"},lB=ri(sB);(0,f.assign)(jr,lB);var _y=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="calendar",t}return r.getDefaultOptions=function(){var t;return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:(t={},t[jo]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[Uo]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},r.prototype.processData=function(t){var e=this.options.dateField,n=this.options.dateRange;if((0,f.isNil)(n)){var a=(0,f.map)(t,function(o){return io.default.parse(""+o[e],Zo)});n=eB(a)}return aB(t,n,e)},r.prototype.addGeometry=function(){var t=this.options,e=t.valueField,n=t.colors,a=t.tooltip,o={type:"polygon",position:{fields:[Uo,jo]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:n},label:this.extractLabel()};a&&(a.fields||a.formatter)&&this.geometryTooltip(o),this.setConfig("geometry",o)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[Uo,jo]))},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=this.options.valueField;return ci("label",(0,J.__assign)({plot:this,fields:[n],position:"top",offset:0},e))},r.prototype.coord=function(){var t={type:"rect",cfg:{},actions:[["reflect","y"]]};this.setConfig("coordinate",t)},r.prototype.geometryParser=function(){return""},r.prototype.axis=function(){var t=ci("axis",{plot:this,dim:"x"}),e=ci("axis",{plot:this,dim:"y"}),n={};n[Uo]=t,n[jo]=e,this.setConfig("axes",n)},r.prototype.scale=function(){i.prototype.scale.call(this);var t=oB(this.options.dateRange),e=this.config.scales,n=this.options,a=n.weeks,o=a===void 0?tB:a,s=n.months,l=s===void 0?qk:s,u=e[Uo],h=e[jo];u.formatter=function(_){var k=t[_];return k!==void 0?l[k]:""},h.formatter=function(_){return o[_]||""};var c=this.options,d=c.xAxis,y=c.yAxis;u.alias=(0,f.get)(d,["title","text"],u.alias),h.alias=(0,f.get)(y,["title","text"],h.alias),this.setConfig("scales",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,K)},r}(In),uB=_y;zr("calendar",_y),Jr("polygon","calendar-polygon",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=i.points,e=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]];e=this.parsePath(e);var n=(0,J.__assign)((0,J.__assign)({stroke:"#fff",lineWidth:1,fill:i.color},i.style),{path:e}),a=r.addShape("path",{attrs:n}),o=i.data[My];if(rB(o)){var s=[["M",t[2].x,t[2].y],["L",t[3].x,t[3].y]];r.addShape("path",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:"#404040"}}),nB(o)&&r.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",t[1].x,t[1].y],["L",t[2].x,t[2].y]]),lineWidth:1,stroke:"#404040"}})}return r.sort(),a}}});var fB=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="calendar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=uB.getDefaultOptions,r}(Ir),hB=fB,Ty=function(){function i(r){this.uid=r}return i.prototype.setOption=function(r,t){this.type=r,this.options=t,this.axis=t.axis,this.pivot=t.pivot},i.prototype.render=function(){var r=this;Jr("point","gauge",{draw:function(t,e){var n,a,o;this.gauge={},this.gauge.options=r.options,this.gauge.axis=r.axis,this.gauge.pivot=r.pivot,this.gauge.type=r.type;var s=this.gauge,l=this.gauge.type,u=t.points[0],h=this.parsePoint({x:0,y:0}),c=this.parsePoint({x:u.x||0,y:1});s.center=h,s.group=e;var d={x:h.x-c.x,y:h.y-c.y};this.gauge.ringRadius=Math.sqrt(d.x*d.x+d.y*d.y);var y=this.getAngleRange(),_=y.starAngle,k=y.endAngle,F=u.x*(k-_)+_;switch(l){case"meterGauge":this.drawBarGauge(F),this.gauge.axis.visible&&((n=this.gauge.axis.tickLine)===null||n===void 0?void 0:n.visible)&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(F),this.gauge.axis.visible&&((a=this.gauge.axis.tickLine)===null||a===void 0?void 0:a.visible)&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(F),this.gauge.axis.visible&&((o=this.gauge.axis.tickLine)===null||o===void 0?void 0:o.visible)&&this.drawAxis();break}this.gauge.pivot.visible&&this.drawPivot(t,e)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.range,o=t.color,s=t.rangeStyle,l=o||xi().colors,u=this.getAngleRange(),h=u.starAngle,c=u.endAngle,d={min:e,max:n,starAngle:h,endAngle:c},y=0;y<a.length;y++){var _=this.valueToAngle(a[y],d),k=this.valueToAngle(a[y+1],d);if(k>=_){var F=this.getPath(_,k),Y=(0,f.deepMix)({fill:l[y]},s);this.drawRing(F,Y)}}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,n=t.endAngle,a=this.gauge.options.rangeBackgroundStyle,o=this.getPath(e,n);this.drawRing(o,a)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,n=this.gauge.rangeStyle,a=this.getPath(e,t);this.drawRing(a,n)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.axis,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:e,max:n,starAngle:s,endAngle:l},h=(n-e)/a.tickCount,c=0;c<a.tickCount;c++){var d=e+c*h,y=this.valueToAngle(d+h/2,u);this.drawRect(y,{length:a.tickLine.length,style:a.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var d=n+c*h,y=this.valueToAngle(d,u),_=(0,f.clone)(t.tickLine.style);c%5!=0&&(_.lineWidth=_.lineWidth/2),this.drawRect(y,{length:c%5==0?t.tickLine.length:t.tickLine.length/2,style:_})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var d=n+c*h,y=this.valueToAngle(d,u);this.drawRect(y,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,n=this.gauge.options,a=n.min,o=n.max,s=n.range,l=n.color,u=n.rangeStyle,h=n.rangeBackgroundStyle,c=l||xi().colors,d=this.getAngleRange(),y=d.starAngle,_=d.endAngle,k={min:a,max:o,starAngle:y,endAngle:_},F=(_-y)/(50-1),Y=F/3,G=0;G<50;G++){var ut=y+G*F,ft=this.getPath(ut-Y/2,ut+Y-Y/2),Tt=h;if(s&&s.length){var Yt=s.map(function(Wt){return e.valueToAngle(Wt,k)}),Ut=rE(Yt,ut),Jt=Math.min(Ut,s.length-1);Tt=(0,f.deepMix)({},{fill:c[Jt-1]},u)||h}else Tt=t>=ut?(0,f.deepMix)({},{fill:l},u):h;this.drawRing(ft,Tt)}},getAngleRange:function(){var t=this.gauge.options.angle,e=90-(360-t)*.5,n=(270-90-e)*Math.PI/180,a=(270+90+e)*Math.PI/180;return{starAngle:n,endAngle:a}},valueToAngle:function(t,e){var n=e.min,a=e.max,o=e.starAngle,s=e.endAngle;if(t===a)return s;if(t===n)return o;var l=(t-n)/(a-n);a===n&&(l=1);var u=l*(s-o)+o;return u=Math.max(u,o),u=Math.min(u,s),u},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:(0,f.deepMix)({},{path:t},e)})},drawRect:function(t,e){var n=this.gauge.axis,a=(0,J.__assign)((0,J.__assign)({},n),e),o=a.offset,s=a.length,l=this.gauge.center,u;o<0?u=this.gauge.ringRadius-this.gauge.options.rangeSize+o:u=this.gauge.ringRadius+o;var h=u*Math.cos(t)+l.x,c=u*Math.sin(t)+l.y,d=(u+s)*Math.cos(t)+l.x,y=(u+s)*Math.sin(t)+l.y,_=this.gauge.group.addShape("line",{attrs:(0,f.deepMix)({},{x1:h,y1:c,x2:d,y2:y},e.style)});_.set("name","axis-tickLine")},getPath:function(t,e){var n=this.gauge.center,a=this.gauge.ringRadius,o=this.gauge.options.rangeSize,s=a*Math.cos(t)+n.x,l=a*Math.sin(t)+n.y,u=(a-o)*Math.cos(t)+n.x,h=(a-o)*Math.sin(t)+n.y,c=a*Math.cos(e)+n.x,d=a*Math.sin(e)+n.y,y=(a-o)*Math.cos(e)+n.x,_=(a-o)*Math.sin(e)+n.y,k=Math.abs(t-e)>Math.PI?1:0;return[["M",s,l],["A",a,a,0,k,1,c,d],["L",y,_],["A",a-o,a-o,0,k,0,u,h],["Z"]]},drawPivot:function(t){var e=this.getAngleRange(),n=e.starAngle,a=e.endAngle,o=this.gauge.options,s=o.radius,l=o.rangeSize,u=this.gauge.pivot,h=u.thickness,c=u.thickness/2.5,d=this.gauge.group,y=t.points[0],_=this.parsePoint({x:0,y:0}),k=y.x*(a-n)+n,F=(this.gauge.ringRadius-l)*s*Math.cos(k)+this.gauge.center.x,Y=(this.gauge.ringRadius-l)*s*Math.sin(k)+this.gauge.center.y,G={x:F,y:Y};if(u.base.visible&&d.addShape("circle",{attrs:(0,f.deepMix)({},{x:_.x,y:_.y,r:u.base.size?u.base.size/2:h*2.2},u.base.style)}),u.pointer.visible){var ut={x:_.x-G.x,y:_.y-G.y},ft=Math.sqrt(ut.x*ut.x+ut.y*ut.y);ut.x*=1/ft,ut.y*=1/ft;var Tt=-Math.PI/2,Yt=Math.cos(Tt)*ut.x-Math.sin(Tt)*ut.y,Ut=Math.sin(Tt)*ut.x+Math.cos(Tt)*ut.y,Jt=Math.PI/2,Wt=Math.cos(Jt)*ut.x-Math.sin(Jt)*ut.y,ee=Math.sin(Jt)*ut.x+Math.cos(Jt)*ut.y,ue=[["M",G.x+Yt*c,G.y+Ut*c],["L",_.x+Yt*h,_.y+Ut*h],["L",_.x+Wt*h,_.y+ee*h],["L",G.x+Wt*c,G.y+ee*c],["Z"]];d.addShape("path",{attrs:(0,f.deepMix)({},{path:ue},u.pointer.style)}),d.addShape("circle",{attrs:{x:G.x,y:G.y,r:c,fill:u.pointer.style.fill}}),d.addShape("circle",{attrs:{x:_.x,y:_.y,r:h,fill:u.pointer.style.fill}})}u.pin.visible&&d.addShape("circle",{attrs:(0,f.deepMix)({},{x:_.x,y:_.y,r:c/1.2},u.pin.style)})}})},i}(),cB={range:"point",statistic:"annotation-text"},vB=ri(cB);(0,f.assign)(jr,vB);var Py=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="gauge",e}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,offset:8,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},r.prototype.init=function(){var t=this.options,e=t.value,n=t.range,a=(n||[]).map(function(_){return+_}).sort(function(_,k){return _-k}),o=this.options,s=o.min,l=s===void 0?a[0]:s,u=o.max,h=u===void 0?a[a.length-1]:u,c=o.format,d=c===void 0?function(_){return""+_}:c,y=d(e);this.options.data=[{value:e||0}],this.options.valueText=y,this.options.min=l,this.options.max=h,this.options.format=d,this.initG2Shape(),i.prototype.init.call(this)},r.prototype.initG2Shape=function(){this.gaugeShape=new Ty((0,f.uniqueId)()),this.gaugeShape.setOption(this.type,(0,f.deepMix)({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},r.prototype.geometryParser=function(){return"gauge"},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a=t.format,o={value:{}};Zn(o.value,{min:e,max:n,minLimit:e,maxLimit:n,nice:!0,formatter:a,tickInterval:20}),this.setConfig("scales",o),i.prototype.scale.call(this)},r.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},r.prototype.axis=function(){var t=this.options.axis,e={value:{line:null,grid:null,tickLine:null}},n;t.offset<0?n=t.offset-this.options.rangeSize-t.tickLine.length-t.label.offset:n=t.offset+t.tickLine.length+t.label.offset,t.label.visible?e.value.label={offset:n,textStyle:t.label.style,autoRotate:!0}:e.value.label={style:{opacity:0}},e["1"]=!1,e.value=t.visible?e.value:!1,this.setConfig("axes",e)},r.prototype.addGeometry=function(){var t=this.options.pivot.pointer.style.fill||this.theme.defaultColor,e={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[t]}};this.setConfig("geometry",e)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}this.setConfig("annotations",e)},r.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic,n={type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:t*1.2,textAlign:"center",textBaseline:"middle"}};return n},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,it)},r}(In),ph=Py;zr("gauge",Py);var dB=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="gauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ph.getDefaultOptions,r}(Ir),Ly=dB,Oy=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="fanGauge",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},r.prototype.initG2Shape=function(){this.gaugeShape=new Ty((0,f.uniqueId)()),this.gaugeShape.setOption(this.type,(0,f.deepMix)({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},r.prototype.axis=function(){var t={value:!1,1:!1};this.setConfig("axes",t)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}var a=this.renderSideText(),o=e.concat(a);this.setConfig("annotations",o)},r.prototype.renderSideText=function(){var t=this.options,e=t.max,n=t.min,a=t.format,o=t.rangeSize,s=t.axis,l=12;return[n,e].map(function(u,h){return{type:"text",top:!0,position:["50%","50%"],content:a(u),style:(0,f.deepMix)({},s.label.style,{textAlign:"center"}),offsetX:h?o:-o,offsetY:l}})},r}(ph),pB=Oy;zr("fanGauge",Oy);var gB=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="fanGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=pB.getDefaultOptions,r}(Ir),Iy=gB,ky=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="meterGauge",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},r}(ph),yB=ky;zr("meterGauge",ky);var mB=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="meterGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=yB.getDefaultOptions,r}(Ir),By=mB,xB=v(42473),Xa=v.n(xB),sY=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e),Xa()(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},r.getDefaultOptions=cy.getDefaultOptions,r}(Ir),lY=null,uY=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e),Xa()(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},r.getDefaultOptions=ih.getDefaultOptions,r}(Ir),fY=null,hY=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e),Xa()(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},r.getDefaultOptions=jp.getDefaultOptions,r}(Ir),cY=null,vY=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e),Xa()(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},r.getDefaultOptions=cg.getDefaultOptions,r}(Ir),dY=null,pY=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e),Xa()(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},r.getDefaultOptions=Kp.getDefaultOptions,r}(Ir),gY=null,yY=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e),Xa()(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},r.getDefaultOptions=Pg.getDefaultOptions,r}(Ir),mY=null,xY=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e),Xa()(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},r.getDefaultOptions=eh.getDefaultOptions,r}(Ir),bY=null,wY=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e),Xa()(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},r.getDefaultOptions=Qf.getDefaultOptions,r}(Ir),SY=null,CY=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e),Xa()(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},r.getDefaultOptions=kl.getDefaultOptions,r}(Ir),MY=null,bB=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},r.prototype.coord=function(){},r.prototype.addGeometry=function(){},r.prototype.annotation=function(){var t=this,e=this.options,n=[],a={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};(0,f.each)(e.guideLine,function(o){var s=ci("guideLine",{plot:t,cfg:(0,f.deepMix)({},a,o)});n.push(s)}),this.setConfig("annotations",n)},r}(In),Xl=bB,wB=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.destroy=function(){this.shape&&this.shape.destroy()},i.prototype.update=function(r,t,e){var n={};if((0,f.assign)(this,r),this.coord=this.view.geometries[0].coordinate,r.value){var a=this.coord.convert({x:0,y:this.value}).x,o=[1,0,0,0,1,0,a,0,1];n.matrix=o}if(r.style){var s=this.shape,l=s.attrs,u=(0,f.deepMix)({},l,r.style);n=(0,f.deepMix)({},u,n)}this.shape.stopAnimate(),this.shape.animate(n,t,e)},i.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var r=this.coord.convert({x:0,y:this.value}).x,t=this.coord.center.y-this.progressSize/2-2,e=this.coord.center.y+this.progressSize/2+2,n=(0,f.deepMix)({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:(0,J.__assign)({path:[["M",0,t],["L",0,e]]},n),name:"progress-marker"}),this.shape.move(r,0),this.canvas.draw()},i}(),Dy=wB,SB={progress:"interval"},CB=ri(SB);(0,f.assign)(jr,CB);var MB={progress:"interval"},EB={interval:"progress"},Fy=["#55A6F3","#E8EDF3"],Ry=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||Fy};t=(0,f.mix)(t,e)},r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.beforeInit=function(){var t=this.options.percent;if(!(0,f.isNumber)(t))throw new Error("Percent value is required, and the type of percent must be Number.")},r.prototype.update=function(t){var e=this.options;if((0,f.hasKey)(t,"percent")&&(e.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var n=void 0;(0,f.isArray)(t.color)?(this.options.color=t.color,n=[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,n={fill:t.color}),this.styleUpdateAnimation(n)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},r.prototype.destroy=function(){this.markers&&this.markers.length>0&&((0,f.each)(this.markers,function(t){t.destroy()}),this.markers=[]),i.prototype.destroy.call(this)},r.prototype.afterRender=function(){var t=this;this.options.marker&&!this.markers&&(this.markers=[],(0,f.each)(this.options.marker,function(s){var l=(0,f.mix)({canvas:t.canvas,view:t.view,progressSize:t.options.barSize},s),u=new Dy(l);t.markers.push(u)}));var e=this.view.geometries[0].container,n=e.getBBox(),a=e.addShape("rect",{attrs:{width:n.width,height:n.height,x:n.minX,y:n.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),a.on("mouseenter",function(s){t.isEntered=!0,t.view.emit("progress:mouseenter",s)}),a.on("mouseleave",function(s){t.isEntered=!1,t.view.emit("progress:mouseleave",s)});var o=this.canvas.get("container");o.addEventListener("mouseleave",function(s){t.isEntered&&(t.view.emit("progress:mouseleave",s),t.isEntered=!1)})},r.prototype.geometryParser=function(t,e){return t==="g2"?MB[e]:EB[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.addGeometry=function(){var t=this.options,e=Dn("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],(0,f.has)(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,ct)},r.prototype.parseColorProps=function(t){var e;if(t.color)if((0,f.isFunction)(t.color)?e=t.color(t.percent):e=t.color,(0,f.isString)(e)){var n=(0,f.clone)(Fy);return n[0]=e,n}else return e;return t.color},r.prototype.processData=function(){var t=this.options,e=[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}];return e},r.prototype.updateMarkers=function(t){var e=t.length,n=this.getUpdateAnimationOptions();if((0,f.each)(this.markers,function(u,h){h>e-1?u.destroy():u.update(t[h],n.duration,n.easing)}),this.markers.length<e)for(var a=this.markers.length,o=a;o<e;o++){var s=(0,f.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},t[o]),l=new Dy(s);this.markers.push(l)}},r.prototype.getSize=function(){var t=this.height;return t>=50?10:4},r.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),n=e.duration,a=e.easing,o=[],s=this.view,l=s.geometries;(0,f.each)(l,function(u){if(u.type==="interval"){var h=u.elements;(0,f.each)(h,function(c){o.push.apply(o,c.shape)})}}),(0,f.isArray)(t)?(0,f.each)(t,function(u,h){o[h].animate(u,n,a)}):o[0].animate(t,n,a)},r.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",n=this.options.animation;return n&&n.update&&(n.update.duration&&(t=n.update.duration),n.update.easing&&(e=n.update.easing)),{duration:t,easing:e}},r.prototype.updateColorConfigByStyle=function(t){var e=this;(0,f.isArray)(t)?(0,f.each)(t,function(n,a){n.fill&&(e.options.color[a]=n.fill)}):t.fill&&(this.options.color[0]=t.fill)},r}(Xl),Ny=Ry;zr("progress",Ry);var AB=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="progress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t,e){var n=this.layers[0];n.update(t,e)},r.getDefaultOptions=Ny.getDefaultOptions,r}(Ir),Gy=AB,_B={ringProgress:"interval"},TB=ri(_B);(0,f.assign)(jr,TB);var PB=["#55A6F3","#E8EDF3"],Yy=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ringProgrsss",t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||PB};t=(0,f.mix)(t,e)},r.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=this.options;this.ring=Dn("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},r.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,st)},r.prototype.getThickness=function(t){var e=this.width,n=this.height,a=Math.min(e,n);return t?1-t/a:a>=60?1-20/a:1-10/a},r}(Ny),LB=Yy;zr("ringProgress",Yy);var OB=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="ringProgress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t){var e=this.layers[0];e.update(t)},r.getDefaultOptions=LB.getDefaultOptions,r}(Ir),zy=OB,IB={onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"};(0,f.assign)(jr,IB);var kB=.6,BB={column:"interval"},DB={interval:"column"},Xy=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyColumn",t}return r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?BB[e]:DB[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},this.setConfig("scales",e)},r.prototype.addGeometry=function(){var t=this.options,e=Dn("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Ot)},r.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=(0,f.mix)(this.options,t)},r.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField),n=this.width;return n/e*kB},r.prototype.getColumnNum=function(t,e){var n=[];return(0,f.each)(t,function(a){var o=a[e];n.indexOf(o)<0&&n.push(o)}),n.length},r}(Xl),FB=Xy;zr("tinyColumn",Xy);var RB=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=FB.getDefaultOptions,r}(Ir),Vy=RB,NB={onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,f.assign)(jr,NB);var GB={area:"area",line:"line"},Hy=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyArea",t}return r.prototype.geometryParser=function(t,e){return GB[e]},r.prototype.addGeometry=function(){this.area=Dn("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=Dn("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Dt)},r}(Xl),YB=Hy;zr("tinyArea",Hy);var zB=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=YB.getDefaultOptions,r}(Ir),Wy=zB,XB={onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,f.assign)(jr,XB);var VB={line:"line"},jy=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyLine",t}return r.prototype.geometryParser=function(t,e){return VB[e]},r.prototype.addGeometry=function(){this.line=Dn("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Ht)},r}(Xl),HB=jy;zr("tinyLine",jy);var WB=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=HB.getDefaultOptions,r}(Ir),Uy=WB,gh=5,jB=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.geomLayers=[],e.legends=[],e.requiredField=["xField","yField"],e.options=e.getOptions(t),e.initialOptions=(0,f.deepMix)({},t),e.themeController=new zf,e}return r.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t);return(0,f.deepMix)({},n,a,e,t)},r.prototype.checkData=function(){for(var t=this,e,n,a=this.options,o=a.data,s=a.xField,l=a.yField,u=0;u<this.requiredField.length;u++){var h=this.requiredField[u];if(!(0,f.hasKey)(this.options,h))return!1}return!(!(0,f.isArray)(l)||l.length<2||!(0,f.isArray)(o)||o.length===0||((e=o[0])===null||e===void 0?void 0:e.length)===0&&((n=o[1])===null||n===void 0?void 0:n.length)===0||((0,f.each)(o,function(c,d){if(!(0,f.isArray)(c)||c.length===0){var y=t.getMockData(d);o[d]=y}}),!o[0][0][s]||!o[1][0][s]))},r.prototype.init=function(){i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},r.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){t&&t.length<2||!(0,f.isArray)(t[0])||(0,f.each)(this.geomLayers,function(e,n){e.changeData(t[n])})},r.prototype.changeDataByIndex=function(t,e){if(!(0,f.isArray)(t[0])){var n=this.geomLayers[e];n.changeData(t)}},r.prototype.doDestroy=function(){(0,f.each)(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],(0,f.each)(this.legends,function(t){t.destroy()}),this.legends=[]},r.prototype.createLayer=function(t,e,n){var a=this.getViewRange(),o=new t((0,J.__assign)({canvas:this.canvas,container:this.container,x:a.minX,y:a.minY,width:a.width,height:a.height,data:e},n));return this.geomLayers.push(o),o},r.prototype.getLeftYAxisMax=function(){var t=this.getScaleData(0),e=this.getScaleData(1);return t.min==0&&t.max===0?Math.max(e.max,0):t.max},r.prototype.yAxis=function(t){var e=this.getScaleData(0),n=this.options.yAxis,a=t===0?n.leftConfig:n.rightConfig,o=this.colors[t],s=(0,f.clone)(a),l={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};a.visible&&a.colorMapping&&(0,f.each)(s,function(h,c){if(!(0,f.isString)(h)&&(0,f.hasKey)(l,c)){var d=l[c];h.style||(h.style={}),h.style[d]=o}}),a.visible||(s.title.visible=!1,s.tickLine.visible=!1,s.label.visible=!1,s.line.visible=!1,s.visible=!0);var u=this.getYAxisGlobalConfig();return t===0&&e.max===0&&e.min===0&&(s.max=this.getLeftYAxisMax()),(0,f.deepMix)({},u,s)},r.prototype.getTicks=function(){for(var t=this.options.yAxis,e=this.getScaleData(0),n=(0,zt.getScale)("linear"),a=new n((0,f.deepMix)({},{min:0,max:this.getLeftYAxisMax(),nice:!0,values:e.values},{tickCount:t.tickCount})),o=a.ticks.length,s=t.max?a.max:this.getScaleData(1).max,l=s/(o-1),u=[],h=0;h<o;h++){var c=h*l;Number.isInteger(c)||(c=parseFloat(c.toFixed(1))),u.push(c)}return u},r.prototype.getScaleData=function(t){var e=this.options,n=e.data,a=e.yField,o=e.yAxis,s=[];(0,f.each)(n[t],function(h){s.push(h[a[t]])}),s.sort(function(h,c){return h-c});var l=s[0],u=o.max?o.max:s[s.length-1];return{min:l,max:u,values:s}},r.prototype.getDataByXField=function(t,e){var n=this.options,a=n.data,o=n.xField,s=a[e];return s.filter(function(l){return l[o]===t})},r.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis,e=t.min,n=t.max,a=t.tickCount;return{min:e,max:n,tickCount:a}},r.prototype.adjustLayout=function(){var t=this,e,n,a=xi().bleeding;(0,f.isArray)(a)&&(0,f.each)(a,function(y,_){typeof a[_]=="function"&&(a[_]=a[_](t.options))});var o=this.getViewRange(),s=this.transfromPadding(this.geomLayers[0].options.padding),l=this.transfromPadding(this.geomLayers[1].options.padding),u=0,h,c;((e=this.options.legend)===null||e===void 0?void 0:e.visible)&&(h=this.legends[0].getLayoutBBox(),c=this.legends[1].getLayoutBBox(),u=h.height+gh*2);var d=s.map(function(y,_){return _===0?Math.max.apply(null,[y+u,l[_]]):Math.max.apply(null,[y,l[_]])});this.geomLayers[0].updateConfig({padding:d}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:d}),this.geomLayers[1].render(),((n=this.options.legend)===null||n===void 0?void 0:n.visible)&&(this.legends[0].setLocation({x:a[3],y:o.minY+gh}),this.legends[1].setLocation({x:o.maxX-a[1]-c.width,y:o.minY+gh}))},r.prototype.transfromPadding=function(t){return typeof t=="string"||typeof t=="number"?[Number(t)]:t},r.prototype.legendFilter=function(t){var e=this,n=this.legends[t],a=n.get("group");a.on("click",function(){var o=n.get("items")[0];o.unchecked?(n.setItemState(o,"unchecked",!1),e.showLayer(t)):(n.setItemState(o,"unchecked",!0),e.hideLayer(t))})},r.prototype.hideLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!1),this.setGeometryVisibility(a,!1),this.canvas.draw()},r.prototype.showLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!0),this.setGeometryVisibility(a,!0),this.canvas.draw()},r.prototype.setGeometryVisibility=function(t,e){(0,f.each)(t.geometries,function(n){var a=n.container,o=n.labelsContainer;a&&a.set("visible",e),o&&o.set("visible",e)})},r.prototype.getYAxisContainer=function(t,e){var n,a=t.controllers.filter(function(l){return(0,f.hasKey)(l,"axisContainer")})[0];if(a){var o=a,s=o.axisContainer.get("children");(0,f.each)(s,function(l){var u=l.get("component").get("field");u===e&&(n=l)})}return n},r.prototype.getUnCheckedValue=function(){var t=[];return(0,f.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,f.each)(n,function(a){t.push(a.name)})}),t},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),No(t.title)){var n=this.width,a=this.theme,o=new pl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,f.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:No(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),No(t.description)){var n=this.width,a=this.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new pl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,f.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l}},r.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new Br(this.x,this.y,this.width,this.height));var t=this.layerBBox.minX,e=this.layerBBox.maxX,n=this.layerBBox.minY,a=this.layerBBox.maxY,o=[this.title,this.description];return(0,f.each)(o,function(s){if(s){var l=s.position,u=s.getBBox(),h=u.minX,c=u.maxX,d=u.minY,y=u.maxY;y>=n&&y<=a&&l==="top"&&(n=y),d>=n&&d<=a&&l==="bottom"&&(a=d),c>t&&c<=e&&l==="left"&&(t=c),h>=t&&c<=e&&l==="right"&&(e=h)}}),new Br(t,n,e-t,a-n)},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o={};return o[n]="null",o[a[t]]=0,[o]},r}(dl),Zy=jB,Ky={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},$y={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},Qy=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dualLine",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:$y,rightConfig:$y},lineConfigs:[(0,f.deepMix)({},Ky,{color:"#5B8FF9"}),(0,f.deepMix)({},Ky,{color:"#e76c5e"})]})},r.prototype.init=function(){var t=this;if(i.prototype.init.call(this),!!this.checkData()){var e=this.options,n=e.data,a=e.meta,o=e.xField,s=e.yField,l=e.xAxis,u=e.tooltip,h=e.lineConfigs,c=e.legend,d=e.events,y=e.customMeta;this.colors=[h[0].color,h[1].color];var _=this.getYAxisGlobalConfig(),k=this.createLayer(Ss,n[0],(0,J.__assign)({meta:a,xField:o,yField:s[0],xAxis:{visible:!1},yAxis:(0,f.deepMix)({},_,{grid:{visible:!1},nice:!0},this.yAxis(0)),tooltip:{visible:!1},events:d},h[0]));k.render();var F={};F[s[1]]={ticks:this.getTicks()};var Y=this.createLayer(Ss,n[1],(0,J.__assign)({xField:o,yField:s[1],meta:y?a:(0,f.deepMix)({},a,F),serieField:s[1],xAxis:l,yAxis:(0,f.deepMix)({},_,{position:"right",nice:!1},this.yAxis(1)),tooltip:(0,f.deepMix)({},{showMarkers:!1,custom:{onChange:function(G,ut){t.tooltip(G,ut)}}},u),events:d},h[1]));Y.render(),c.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.tooltip=function(t,e){var n=this.getUnCheckedValue();if(n.length===this.colors.length){t.style.display="none";return}else t.style.display="block";var a=this.options,o=a.yField,s=a.legend,l=(0,f.clone)(e.items[0]),u=this.getDataByXField(e.title,0)[0];u&&(0,f.findIndex)(e.items,function(h){return h.name===o[0]})<0&&e.items.push((0,J.__assign)((0,J.__assign)({},l),{mappingData:(0,f.deepMix)({},l.mappingData,{_origin:u}),data:u,name:o[0],value:u[o[0]],color:this.colors[0]})),s.visible&&(0,f.each)(this.legends,function(h,c){var d=h.get("items")[0];if(d.unchecked){var y=c===0?1:0;e.items.splice(y,1)}})},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a;(0,f.each)(this.geomLayers,function(u,h){var c=(0,f.deepMix)({},{symbol:"circle",style:{r:4,fill:o[h]}},l.marker),d=[{name:n[h],unchecked:!1,marker:c}],y=new qt.Legend.Category({id:t.type,container:s,x:0,y:0,items:d,updateAutoRender:!0,itemBackground:null,itemName:l.text});y.init(),y.render(),t.legends.push(y)}),(0,f.each)(this.geomLayers,function(u,h){t.legendFilter(h)})},r}(Zy),UB=Qy;zr("dualLine",Qy);var ZB=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="dualLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=UB.getDefaultOptions,r}(Ir),Jy=ZB,KB={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},$B={color:"#5B8FF9"},qy={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},t0=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:qy,rightConfig:qy},lineConfig:KB,columnConfig:$B,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions;if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var s=xi(),l=s.colors,u=s.colors_20,h=this.getValueBySeriesField(),c=h.length>l.length?u:l,d=[];(0,f.each)(h,function(y,_){d.push(c[_+1])}),a.lineConfig.color=d}},r.prototype.init=function(){if(i.prototype.init.call(this),!!this.checkData()){var t=this.options,e=t.data,n=t.meta,a=t.xField,o=t.yField,s=t.lineSeriesField,l=t.legend,u=t.lineConfig,h=t.columnConfig,c=t.events,d=t.customMeta;this.colors=[h.color,u.color],this.drawColumn();var y={};y[o[1]]={ticks:this.getTicks()};var _=this.createLayer(Ss,e[1],(0,J.__assign)({xField:a,yField:o[1],seriesField:s,meta:d?n:(0,f.deepMix)({},n,y),xAxis:{visible:!1},yAxis:(0,f.deepMix)({},{position:"right",grid:{visible:!1},nice:!0},this.yAxis(1)),tooltip:{visible:!1},legend:{visible:!1},events:c},u));_.render(),l.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.xAxis,l=e.tooltip,u=e.columnConfig,h=e.meta,c=e.events,d=this.createLayer(Ho,n[0],(0,J.__assign)({xField:a,yField:o[0],meta:h,xAxis:s,yAxis:(0,f.deepMix)({},{grid:{visible:!0},nice:!0},this.yAxis(0)),tooltip:(0,f.deepMix)({},{showMarkers:!1,custom:{onChange:function(y,_){t.tooltip(y,_)}}},l),events:c},u));d.render()},r.prototype.tooltip=function(t,e){var n=this,a=this.options,o=a.xField,s=a.yField,l=a.tooltip,u=(0,f.clone)(e.items[0]),h=this.getDataByXField(e.title,1),c=(0,f.get)(l,"formatter");if(h&&(0,f.each)(h,function(F,Y){var G=n.geomLayers[1].options.seriesField,ut=G?F[G]:s[1],ft=c?c(F[o],F[s[1]],F[G]):{name:ut,value:F[s[1]]};e.items.push((0,J.__assign)((0,J.__assign)((0,J.__assign)((0,J.__assign)({},u),{mappingData:(0,f.deepMix)({},u.mappingData,{_origin:h}),data:F}),ft),{color:(0,f.isArray)(n.colors[1])?n.colors[1][Y]:n.colors[1]}))}),this.options.legend.visible){var d=this.getUnCheckedValue(),y=this.legends[0].get("items").length+this.legends[1].get("items").length;if(d.length===y){t.style.display="none";return}else t.style.display="block";var _=[],k=[];(0,f.each)(e.items,function(F){var Y=F.name;!(0,f.contains)(_,Y)&&!(0,f.contains)(d,Y)&&(_.push(Y),k.push(F))}),(0,f.each)(e.items,function(F,Y){Y<k.length?e.items[Y]=k[Y]:e.items.pop()})}},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var d;if(h.options.seriesField){var y=t.getValueBySeriesField();d=t.createNormalLegend(y,u[c],o[c],l,s)}else d=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(d)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):t.legendFilter(c)})},r.prototype.createSingleLegend=function(t,e,n,a,o){var s=(0,f.deepMix)({},{symbol:e,style:{r:4,fill:n}},a.marker),l=[{name:t,unchecked:!1,marker:s}],u=new qt.Legend.Category({id:this.type,container:o,x:0,y:0,items:l,updateAutoRender:!0,itemBackground:null,itemName:a.text});return u.init(),u.render(),u},r.prototype.createNormalLegend=function(t,e,n,a,o){var s=[];(0,f.each)(t,function(u,h){s.push({name:u,unchecked:!1,marker:{symbol:e,style:{r:4,fill:n[h]}}})});var l=new qt.Legend.Category({id:this.type,container:o,x:0,y:0,items:s,updateAutoRender:!0,itemBackground:null,itemName:a.text,offsetX:0});return l.init(),l.render(),l},r.prototype.multipleLegendFilter=function(t,e){var n=this,a=this.legends[t],o=[],s=a.get("group"),l=!1;s.on("click",function(u){var h=n.geomLayers[t].view,c=u.target.get("delegateObject").item;c.unchecked?(l===!0&&(n.showLayer(t),l=!1),(0,f.pull)(o,c.name),h.filter(c.value,function(d){return!(0,f.contains)(o,d)}),h.render(),a.setItemState(c,"unchecked",!1)):(a.setItemState(c,"unchecked",!0),o.push(c.name),o.length===n.legends[t].get("items").length?(n.hideLayer(t),l=!0):(h.filter(e,function(d){return!(0,f.contains)(o,d)}),h.render())),n.canvas.draw()})},r.prototype.getValueBySeriesField=function(){var t=this.options,e=t.lineSeriesField,n=t.data,a=n[1],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r}(Zy),yh=t0;zr("columnLine",t0);var QB=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="columnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=yh.getDefaultOptions,r}(Ir),e0=QB,JB={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},qB={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},r0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},n0=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnGroupField"],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,f.deepMix)({},r0,{colorMapping:!1}),rightConfig:r0},lineConfig:JB,columnConfig:qB,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions,s=this.getValueByGroupField();if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var l=xi(),u=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),d=c.length>u.length?h:u,y=[],_=s.length;(0,f.each)(c,function(F,Y){y.push(d[Y+_])}),a.lineConfig.color=y}var k=this.options.columnConfig.color;this.options.columnConfig.color=k.slice(0,s.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnGroupField,l=e.xAxis,u=e.tooltip,h=e.columnConfig,c=e.events,d=this.createLayer(ih,n[0],(0,J.__assign)({xField:a,yField:o[0],groupField:s,xAxis:l,yAxis:(0,f.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,f.deepMix)({},u,{showMarkers:!1,custom:{onChange:function(y,_){t.tooltip(y,_)}}}),events:c},h));d.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var d;if(h.options.seriesField){var y=t.getValueBySeriesField();d=t.createNormalLegend(y,u[c],o[c],l,s)}else if(h.options.groupField){var y=t.getValueByGroupField();d=t.createNormalLegend(y,u[c],o[c],l,s)}else d=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(d)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.groupField?t.multipleLegendFilter(c,h.options.groupField):t.legendFilter(c)})},r.prototype.getValueByGroupField=function(){var t=this.options,e=t.columnGroupField,n=t.data,a=n[0],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnGroupField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(yh),tD=n0;zr("groupedColumnLine",n0);var eD=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=tD.getDefaultOptions,r}(Ir),i0=eD,rD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},nD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},a0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},o0=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnStackField"],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,f.deepMix)({},a0,{colorMapping:!1}),rightConfig:a0},lineConfig:rD,columnConfig:nD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this.getValueByStackField(),a=this,o=a.options,s=a.initialOptions;if(o.lineSeriesField&&(o.yAxis.rightConfig.colorMapping=!1,((t=s.lineConfig)===null||t===void 0?void 0:t.lineSize)||(o.lineConfig.lineSize=3),!((e=s.lineConfig)===null||e===void 0?void 0:e.color))){var l=xi(),u=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),d=c.length>u.length?h:u,y=[],_=n.length;(0,f.each)(c,function(F,Y){y.push(d[Y+_])}),o.lineConfig.color=y}var k=this.options.columnConfig.color;this.options.columnConfig.color=k.slice(0,n.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnStackField,l=e.xAxis,u=e.tooltip,h=e.columnConfig,c=e.events,d=this.createLayer(kl,n[0],(0,J.__assign)({xField:a,yField:o[0],stackField:s,xAxis:l,yAxis:(0,f.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,f.deepMix)({},u,{showMarkers:!1,custom:{onChange:function(y,_){t.tooltip(y,_)}}}),events:c},h));d.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var d;if(h.options.seriesField){var y=t.getValueBySeriesField();d=t.createNormalLegend(y,u[c],o[c],l,s)}else if(h.options.stackField){var y=t.getValueByStackField();d=t.createNormalLegend(y,u[c],o[c],l,s)}else d=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(d)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.stackField?t.multipleLegendFilter(c,h.options.stackField):t.legendFilter(c)})},r.prototype.getValueByStackField=function(){var t=this.options,e=t.columnStackField,n=t.data,a=n[0],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r.prototype.getUnCheckedValue=function(){var t=[];return(0,f.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,f.each)(n,function(a){t.push(a.name)})}),t},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnStackField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(yh),iD=o0;zr("stackedColumnLine",o0);var aD=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=iD.getDefaultOptions,r}(Ir),s0=aD,oD=function(r){return r.charAt(0).toUpperCase()+r.slice(1).replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},EY=function(r,t){return JSON.stringify(r)===JSON.stringify(t)},sD=function(r,t){return new Set(r.concat(t)).size===r.length},lD=function(r,t){var e={}.toString;return e.call(r)==="[object "+t+"]"},uD=function(r){if(!r)return r;var t={};for(var e in r)t[e]=r[e];return t},As={sameArray:sD,camelCase:oD,isType:lD,clone:uD},fD=v(73935),hD=function(r){var t=document.createElement("div");return t.className="g2-tooltip eva-charts-tootip",fD.render(r,t),t},mh=hD;function l0(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function cD(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?l0(Object(t),!0).forEach(function(e){vD(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):l0(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function vD(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}function Xr(i,r){var t=(0,U.useRef)(),e=(0,U.useRef)(null),n=function(){var l,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",h=arguments.length>1?arguments[1]:void 0;return(l=t.current)===null||l===void 0?void 0:l.canvas.cfg.el.toDataURL(u,h)},a=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/png",h=arguments.length>2?arguments[2]:void 0;try{var c;l&&l.indexOf(".")===-1&&(l="".concat(l,".png"));var d=l;if(!d){var y,_=r;d="".concat((_==null||(y=_.title)===null||y===void 0?void 0:y.text)||(i==null?void 0:i.name),".png")}var k=(c=t.current)===null||c===void 0?void 0:c.canvas.cfg.el.toDataURL(u,h),F=document.createElement("a");F.href=k,F.download=d,document.body.appendChild(F),F.click(),document.body.removeChild(F),F=null}catch(Y){console.log(Y)}},o=function(){var l,u,h,c,d;if((l=r.statistic)===null||l===void 0?void 0:l.htmlContent){var y=r.statistic.htmlContent;r.statistic.htmlContent=function(){var k=y.apply(void 0,arguments);return As.isType(k,"String")||As.isType(k,"Number")||As.isType(k,"HTMLDivElement")?k:mh(k)}}if(((u=r.tooltip)===null||u===void 0||(h=u.custom)===null||h===void 0?void 0:h.container)&&(r.tooltip.custom.container=mh(r.tooltip.custom.container)),(c=r.tooltip)===null||c===void 0||(d=c.custom)===null||d===void 0?void 0:d.customContent){var _=r.tooltip.custom.customContent;r.tooltip.custom.customContent=function(k,F){var Y=_(k,F)||"";return As.isType(Y,"HTMLDivElement")?Y:mh(Y)}}};return(0,U.useEffect)(function(){t.current&&(r.onlyChangeData?t.current.changeData((r==null?void 0:r.data)||[]):(o(),t.current.updateConfig(r),t.current.render()))},[(r==null?void 0:r.memoData)?r.memoData:JSON.stringify(r)]),(0,U.useEffect)(function(){if(!e.current)return function(){return null};o();var s=new i(e.current,cD({},r));return s.__proto__.toDataURL=function(l,u){return n(l,u)},s.__proto__.downloadImage=function(l,u,h){return a(l,u,h)},s.render(),t.current=As.clone(s),function(){return s.destroy()}},[]),{chart:t,container:e,toDataURL:n,downloadImage:a}}var dD=U.createContext({});function Vl(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vl=function(t){return typeof t}:Vl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(i)}function pD(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function u0(i,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function gD(i,r,t){return r&&u0(i.prototype,r),t&&u0(i,t),i}function yD(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),r&&xh(i,r)}function xh(i,r){return xh=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},xh(i,r)}function mD(i){var r=wD();return function(){var e=Hl(i),n;if(r){var a=Hl(this).constructor;n=Reflect.construct(e,arguments,a)}else n=e.apply(this,arguments);return xD(this,n)}}function xD(i,r){return r&&(Vl(r)==="object"||typeof r=="function")?r:bD(i)}function bD(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function wD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}function Hl(i){return Hl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hl(i)}var SD=function(i){yD(t,i);var r=mD(t);function t(){var e;return pD(this,t),e=r.apply(this,arguments),e.state={hasError:!1},e.renderError=function(n){switch(n){default:return U.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},e}return gD(t,[{key:"render",value:function(){return this.state.hasError?this.renderError(this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,error:n}}},{key:"getDerivedStateFromProps",value:function(n,a){return a.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null}}]),t}(U.Component),Gr=SD,AY=dD.Provider;function CD(i,r){if(i==null)return{};var t=MD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function MD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var f0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=CD(i,["chartRef","style","className"]),s=Xr(sg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});f0.defaultProps=sg.getDefaultOptions();var h0=f0;function ED(i,r){if(i==null)return{};var t=AD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function AD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var c0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=ED(i,["chartRef","style","className"]),s=Xr(Xp,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});c0.defaultProps=Xp.getDefaultOptions();var _D=c0;function TD(i,r){if(i==null)return{};var t=PD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function PD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var v0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=TD(i,["chartRef","style","className"]),s=Xr(wy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});v0.defaultProps=wy.getDefaultOptions();var LD=v0;function OD(i,r){if(i==null)return{};var t=ID(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function ID(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var d0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=OD(i,["chartRef","style","className"]),s=Xr(Cy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});d0.defaultProps=Cy.getDefaultOptions();var kD=d0;function BD(i,r){if(i==null)return{};var t=DD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function DD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var FD=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=BD(i,["chartRef","style","className"]),s=Xr(hB,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))}),RD=FD;function ND(i,r){if(i==null)return{};var t=GD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function GD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var p0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=ND(i,["chartRef","style","className"]),s=Xr(yg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});p0.defaultProps=yg.getDefaultOptions();var YD=p0;function zD(i,r){if(i==null)return{};var t=XD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function XD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var g0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=zD(i,["chartRef","style","className"]),s=Xr(e0,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});g0.defaultProps=e0.getDefaultOptions();var VD=g0;function HD(i,r){if(i==null)return{};var t=WD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function WD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var y0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=HD(i,["chartRef","style","className"]),s=Xr(Gg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});y0.defaultProps=Gg.getDefaultOptions();var jD=y0;function UD(i,r){if(i==null)return{};var t=ZD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function ZD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var m0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=UD(i,["chartRef","style","className"]),s=Xr(vy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});m0.defaultProps=vy.getDefaultOptions();var x0=m0;function KD(i,r){if(i==null)return{};var t=$D(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function $D(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var b0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=KD(i,["chartRef","style","className"]),s=Xr(Jy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});b0.defaultProps=Jy.getDefaultOptions();var QD=b0;function JD(i,r){if(i==null)return{};var t=qD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function qD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var w0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=JD(i,["chartRef","style","className"]),s=Xr(Iy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});w0.defaultProps=Iy.getDefaultOptions();var t5=w0;function e5(i,r){if(i==null)return{};var t=r5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function r5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var n5=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=e5(i,["chartRef","style","className"]),s=Xr(hI,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))}),i5=n5;function a5(i,r){if(i==null)return{};var t=o5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function o5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var S0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=a5(i,["chartRef","style","className"]),s=Xr(Ly,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});S0.defaultProps=Ly.getDefaultOptions();var s5=S0;function l5(i,r){if(i==null)return{};var t=u5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function u5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var C0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=l5(i,["chartRef","style","className"]),s=Xr(Up,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});C0.defaultProps=Up.getDefaultOptions();var f5=C0;function h5(i,r){if(i==null)return{};var t=c5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function c5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var M0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=h5(i,["chartRef","style","className"]),s=Xr(xg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});M0.defaultProps=xg.getDefaultOptions();var v5=M0;function d5(i,r){if(i==null)return{};var t=p5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function p5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var E0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=d5(i,["chartRef","style","className"]),s=Xr(i0,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});E0.defaultProps=i0.getDefaultOptions();var g5=E0;function y5(i,r){if(i==null)return{};var t=m5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function m5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var A0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=y5(i,["chartRef","style","className"]),s=Xr(qg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});A0.defaultProps=qg.getDefaultOptions();var x5=A0;function b5(i,r){if(i==null)return{};var t=w5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function w5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var _0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=b5(i,["chartRef","style","className"]),s=Xr(Vg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});_0.defaultProps=Vg.getDefaultOptions();var S5=_0;function C5(i,r){if(i==null)return{};var t=M5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function M5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var T0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=C5(i,["chartRef","style","className"]),s=Xr(uy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});T0.defaultProps=uy.getDefaultOptions();var E5=T0;function A5(i,r){if(i==null)return{};var t=_5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function _5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var P0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=A5(i,["chartRef","style","className"]),s=Xr(Sp,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});P0.defaultProps=Sp.getDefaultOptions();var T5=P0;function P5(i,r){if(i==null)return{};var t=L5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function L5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var L0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=P5(i,["chartRef","style","className"]),s=Xr(sy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});L0.defaultProps=sy.getDefaultOptions();var O5=L0;function I5(i,r){if(i==null)return{};var t=k5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function k5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var O0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=I5(i,["chartRef","style","className"]),s=Xr(By,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});O0.defaultProps=By.getDefaultOptions();var B5=O0;function D5(i,r){if(i==null)return{};var t=F5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function F5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var I0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=D5(i,["chartRef","style","className"]),s=Xr(vg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});I0.defaultProps=vg.getDefaultOptions();var R5=I0;function N5(i,r){if(i==null)return{};var t=G5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function G5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var k0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=N5(i,["chartRef","style","className"]),s=Xr($p,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});k0.defaultProps=$p.getDefaultOptions();var Y5=k0;function z5(i,r){if(i==null)return{};var t=X5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function X5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var B0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=z5(i,["chartRef","style","className"]),s=Xr(Lg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});B0.defaultProps=Lg.getDefaultOptions();var V5=B0;function H5(i,r){if(i==null)return{};var t=W5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function W5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var D0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=H5(i,["chartRef","style","className"]),s=Xr(Fg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});D0.defaultProps=Fg.getDefaultOptions();var j5=D0;function U5(i,r){if(i==null)return{};var t=Z5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function Z5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var F0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=U5(i,["chartRef","style","className"]),s=Xr(Gy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});F0.defaultProps=Gy.getDefaultOptions();var K5=F0;function $5(i,r){if(i==null)return{};var t=Q5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function Q5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var R0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=$5(i,["chartRef","style","className"]),s=Xr(ey,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});R0.defaultProps=ey.getDefaultOptions();var J5=R0;function q5(i,r){if(i==null)return{};var t=tF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function tF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var N0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=q5(i,["chartRef","style","className"]),s=Xr(rg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});N0.defaultProps=rg.getDefaultOptions();var eF=N0;function rF(i,r){if(i==null)return{};var t=nF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function nF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var G0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=rF(i,["chartRef","style","className"]),s=Xr(_g,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});G0.defaultProps=_g.getDefaultOptions();var iF=G0;function aF(i,r){if(i==null)return{};var t=oF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function oF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Y0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=aF(i,["chartRef","style","className"]),s=Xr(zy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});Y0.defaultProps=zy.getDefaultOptions();var sF=Y0;function lF(i,r){if(i==null)return{};var t=uF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function uF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var z0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=lF(i,["chartRef","style","className"]),s=Xr(Wg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});z0.defaultProps=Wg.getDefaultOptions();var fF=z0;function hF(i,r){if(i==null)return{};var t=cF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function cF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var X0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=hF(i,["chartRef","style","className"]),s=Xr(xy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});X0.defaultProps=xy.getDefaultOptions();var vF=X0;function dF(i,r){if(i==null)return{};var t=pF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function pF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var V0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=dF(i,["chartRef","style","className"]),s=Xr(fg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});V0.defaultProps=fg.getDefaultOptions();var gF=V0;function yF(i,r){if(i==null)return{};var t=mF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function mF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var H0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=yF(i,["chartRef","style","className"]),s=Xr(Hp,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});H0.defaultProps=Hp.getDefaultOptions();var xF=H0;function bF(i,r){if(i==null)return{};var t=wF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function wF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var W0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=bF(i,["chartRef","style","className"]),s=Xr(Sg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});W0.defaultProps=Sg.getDefaultOptions();var SF=W0;function CF(i,r){if(i==null)return{};var t=MF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function MF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var j0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=CF(i,["chartRef","style","className"]),s=Xr(s0,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});j0.defaultProps=s0.getDefaultOptions();var EF=j0;function AF(i,r){if(i==null)return{};var t=_F(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function _F(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var U0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=AF(i,["chartRef","style","className"]),s=Xr(Qg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});U0.defaultProps=Qg.getDefaultOptions();var TF=U0;function PF(i,r){if(i==null)return{};var t=LF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function LF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Z0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=PF(i,["chartRef","style","className"]),s=Xr(Dp,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});Z0.defaultProps=Dp.getDefaultOptions();var OF=Z0;function IF(i,r){if(i==null)return{};var t=kF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function kF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var K0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=IF(i,["chartRef","style","className"]),s=Xr(Wy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});K0.defaultProps=Wy.getDefaultOptions();var BF=K0;function DF(i,r){if(i==null)return{};var t=FF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function FF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var $0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=DF(i,["chartRef","style","className"]),s=Xr(Vy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});$0.defaultProps=Vy.getDefaultOptions();var RF=$0;function NF(i,r){if(i==null)return{};var t=GF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function GF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Q0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=NF(i,["chartRef","style","className"]),s=Xr(Uy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});Q0.defaultProps=Uy.getDefaultOptions();var YF=Q0;function zF(i,r){if(i==null)return{};var t=XF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function XF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var J0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=zF(i,["chartRef","style","className"]),s=Xr(kp,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});J0.defaultProps=kp.getDefaultOptions();var VF=J0;function HF(i,r){if(i==null)return{};var t=WF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function WF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var q0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=HF(i,["chartRef","style","className"]),s=Xr(gy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))});q0.defaultProps=gy.getDefaultOptions();var jF=q0;function UF(i,r){if(i==null)return{};var t=ZF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function ZF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var KF=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=UF(i,["chartRef","style","className"]),s=Xr($O,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(Gr,null,U.createElement("div",{className:a,style:n,ref:u}))}),$F=KF,QF={i8:"3.8.5"},kn=v(50229),JF={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(r){var t=this,e=this.events;this.graph=r,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!0),(0,un.default)(e,function(n,a){r.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(r){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!1),(0,un.default)(t,function(e,n){r.off(n,e)})},get:function(r){return this[r]},set:function(r,t){return this[r]=t,this}},qF=function(){function i(){}return i.registerBehavior=function(r,t){if(!t)throw new Error("please specify handler for this behavior: "+r);var e=(0,kn.d9)(JF);Object.assign(e,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var u={};l&&((0,kn.S6)(l,function(h,c){u[c]=(0,kn.Ko)(s,h)}),this.events=u)};n.prototype=e,i.types[r]=n},i.hasBehavior=function(r){return!!i.types[r]},i.getBehavior=function(r){return i.types[r]},i.types={},i}(),bh=qF,wh;(function(i){i.CLICK="click",i.DBLCLICK="dblclick",i.MOUSEDOWN="mousedown",i.MOUDEUP="mouseup",i.CONTEXTMENU="contextmenu",i.MOUSEENTER="mouseenter",i.MOUSEOUT="mouseout",i.MOUSEOVER="mouseover",i.MOUSEMOVE="mousemove",i.MOUSELEAVE="mouseleave",i.DRAGSTART="dragstart",i.DRAGEND="dragend",i.DRAG="drag",i.DRAGENTER="dragenter",i.DRAGLEAVE="dragleave",i.DRAGOVER="dragover",i.DRAGOUT="dragout",i.DDROP="drop",i.KEYUP="keyup",i.KEYDOWN="keydown",i.WHEEL="wheel",i.FOCUS="focus",i.BLUR="blur",i.TOUCHSTART="touchstart",i.TOUCHMOVE="touchmove",i.TOUCHEND="touchend",i.NODE_CONTEXTMENU="node:contextmenu",i.NODE_CLICK="node:click",i.NODE_DBLCLICK="node:dblclick",i.NODE_MOUSEDOWN="node:mousedown",i.NODE_MOUSEUP="node:mouseup",i.NODE_MOUSEENTER="node:mouseenter",i.NODE_MOUSELEAVE="node:mouseleave",i.NODE_MOUSEMOVE="node:mousemove",i.NODE_MOUSEOUT="node:mouseout",i.NODE_MOUSEOVER="node:mouseover",i.NODE_DROP="node:drop",i.NODE_DRAGOVER="node:dragover",i.NODE_DRAGENTER="node:dragenter",i.NODE_DRAGLEAVE="node:dragleave",i.NODE_DRAGSTART="node:dragstart",i.NODE_DRAG="node:drag",i.NODE_DRAGEND="node:dragend",i.COMBO_CONTEXTMENU="combo:contextmenu",i.COMBO_CLICK="combo:click",i.COMBO_DBLCLICK="combo:dblclick",i.COMBO_MOUSEDOWN="combo:mousedown",i.COMBO_MOUSEUP="combo:mouseup",i.COMBO_MOUSEENTER="combo:mouseenter",i.COMBO_MOUSELEAVE="combo:mouseleave",i.COMBO_MOUSEMOVE="combo:mousemove",i.COMBO_MOUSEOUT="combo:mouseout",i.COMBO_MOUSEOVER="combo:mouseover",i.COMBO_DROP="combo:drop",i.COMBO_DRAGOVER="combo:dragover",i.COMBO_DRAGENTER="combo:dragenter",i.COMBO_DRAGLEAVE="combo:dragleave",i.COMBO_DRAGSTART="combo:dragstart",i.COMBO_DRAG="combo:drag",i.COMBO_DRAGEND="combo:dragend",i.EDGE_CONTEXTMENU="edge:contextmenu",i.EDGE_CLICK="edge:click",i.EDGE_DBLCLICK="edge:dblclick",i.EDGE_MOUSEDOWN="edge:mousedown",i.EDGE_MOUSEUP="edge:mouseup",i.EDGE_MOUSEENTER="edge:mouseenter",i.EDGE_MOUSELEAVE="edge:mouseleave",i.EDGE_MOUSEMOVE="edge:mousemove",i.EDGE_MOUSEOUT="edge:mouseout",i.EDGE_MOUSEOVER="edge:mouseover",i.EDGE_DROP="edge:drop",i.EDGE_DRAGOVER="edge:dragover",i.EDGE_DRAGENTER="edge:dragenter",i.EDGE_DRAGLEAVE="edge:dragleave",i.CANVAS_CONTEXTMENU="canvas:contextmenu",i.CANVAS_CLICK="canvas:click",i.CANVAS_DBLCLICK="canvas:dblclick",i.CANVAS_MOUSEDOWN="canvas:mousedown",i.CANVAS_MOUSEUP="canvas:mouseup",i.CANVAS_MOUSEENTER="canvas:mouseenter",i.CANVAS_MOUSELEAVE="canvas:mouseleave",i.CANVAS_MOUSEMOVE="canvas:mousemove",i.CANVAS_MOUSEOUT="canvas:mouseout",i.CANVAS_MOUSEOVER="canvas:mouseover",i.CANVAS_DROP="canvas:drop",i.CANVAS_DRAGENTER="canvas:dragenter",i.CANVAS_DRAGLEAVE="canvas:dragleave",i.CANVAS_DRAGSTART="canvas:dragstart",i.CANVAS_DRAG="canvas:drag",i.CANVAS_DRAGEND="canvas:dragend",i.BEFORERENDER="beforerender",i.AFTERRENDER="afterrender",i.BEFOREADDITEM="beforeadditem",i.AFTERADDITEM="afteradditem",i.BEFOREREMOVEITEM="beforeremoveitem",i.AFTERREMOVEITEM="afterremoveitem",i.BEFOREUPDATEITEM="beforeupdateitem",i.AFTERUPDATEITEM="afterupdateitem",i.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",i.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",i.BEFOREITEMSTATECHANGE="beforeitemstatechange",i.AFTERITEMSTATECHANGE="afteritemstatechange",i.BEFOREITEMREFRESH="beforeitemrefresh",i.AFTERITEMREFRESH="afteritemrefresh",i.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",i.AFTERITEMSTATESCLEAR="afteritemstatesclear",i.BEFOREMODECHANGE="beforemodechange",i.AFTERMODECHANGE="aftermodechange",i.BEFORELAYOUT="beforelayout",i.AFTERLAYOUT="afterlayout",i.BEFORECREATEEDGE="beforecreateedge",i.AFTERCREATEEDGE="aftercreateedge",i.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",i.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",i.BEFOREGRAPHREFRESH="beforegraphrefresh",i.AFTERGRAPHREFRESH="aftergraphrefresh",i.BEFOREANIMATE="beforeanimate",i.AFTERANIMATE="afteranimate",i.BEFOREPAINT="beforepaint",i.AFTERPAINT="afterpaint",i.GRAPHSTATECHANGE="graphstatechange",i.AFTERACTIVATERELATIONS="afteractivaterelations",i.NODESELECTCHANGE="nodeselectchange",i.TOOLTIPCHANGE="tooltipchange",i.WHEELZOOM="wheelzoom",i.VIEWPORTCHANGE="viewportchange",i.DRAGNODEEND="dragnodeend",i.STACKCHANGE="stackchange"})(wh||(wh={}));var va=v(16185),tR=v(21885),eR=function(i){(0,J.__extends)(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.item=e.item,n.canvasX=e.canvasX,n.canvasY=e.canvasY,n.wheelDelta=e.wheelDelta,n.detail=e.detail,n}return r}(tR.Z),Sh=function(r){var t=0,e=0,n=0,a=0;if((0,va.default)(r))t=e=n=a=r;else if((0,rn.default)(r)){var o=parseInt(r,10);t=e=n=a=o}else(0,hi.default)(r)&&(t=r[0],n=(0,fi.default)(r[1])?r[0]:r[1],a=(0,fi.default)(r[2])?r[0]:r[2],e=(0,fi.default)(r[3])?n:r[3]);return[t,n,a,e]},Wl=function(r){var t=new eR(r.type,r);return t.clientX=r.clientX,t.clientY=r.clientY,t.x=r.x,t.y=r.y,t.target=r.target,t.currentTarget=r.currentTarget,t.bubbles=!0,t.item=r.item,t},tm=function(r){if(!r)return!1;for(var t=9,e=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(r[n]!==e[n])return!0;return!1},Va=function(r){return Number.isNaN(Number(r))},em=function(r){for(var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity,o=0;o<r.length;o++){var s=r[o],l=s.getBBox(),u=l.minX,h=l.minY,c=l.maxX,d=l.maxY;u<t&&(t=u),h<n&&(n=h),c>e&&(e=c),d>a&&(a=d)}var y=Math.floor(t),_=Math.floor(n),k=Math.ceil(e)-Math.floor(t),F=Math.ceil(a)-Math.floor(n);return{x:y,y:_,width:k,height:F,minX:t,minY:n,maxX:e,maxY:a}},rR=function(r,t){t===void 0&&(t=15);for(var e=r.length,n=t*2,a=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],o={},s=[],l={},u=0;u<e;u++){var h=r[u],c=h.source,d=h.target,y=c+"-"+d;if(!s[u]){o[y]||(o[y]=[]),s[u]=!0,o[y].push(h);for(var _=0;_<e;_++)if(u!==_){var k=r[_],F=k.source,Y=k.target;s[_]||(c===Y&&d===F?(o[y].push(k),s[_]=!0,l[F+"|"+Y+"|"+(o[y].length-1)]=!0):c===F&&d===Y&&(o[y].push(k),s[_]=!0))}}}for(var G in o)for(var ut=o[G],ft=ut.length,Tt=0;Tt<ft;Tt++){var Yt=ut[Tt];if(Yt.source===Yt.target){Yt.type="loop",Yt.loopCfg={position:a[Tt%8],dist:Math.floor(Tt/8)*20+50};continue}Yt.type="quadratic";var Ut=(Tt%2==0?1:-1)*(l[Yt.source+"|"+Yt.target+"|"+Tt]?-1:1);ft%2==1?Yt.curveOffset=Ut*Math.ceil(Tt/2)*n:Yt.curveOffset=Ut*(Math.floor(Tt/2)*n+t)}return r},rm=Math.abs,nR=10,iR=["shift","ctrl","alt","control"],aR={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",mousedown:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp",mouseup:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(r){var t=this.origin,e=+r.clientX,n=+r.clientY;if(!(Va(e)||Va(n))){var a=e-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:e,y:n};var s=this.graph.get("width"),l=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox();(u.minX<=s+this.scalableRange&&u.minX+a>s+this.scalableRange||u.maxX+this.scalableRange>=0&&u.maxX+this.scalableRange+a<0)&&(a=0),(u.minY<=l+this.scalableRange&&u.minY+o>l+this.scalableRange||u.maxY+this.scalableRange>=0&&u.maxY+this.scalableRange+o<0)&&(o=0),this.graph.translate(a,o)}},onMouseDown:function(r){var t=this,e=r.originalEvent;if(!(e&&e.button!==0)&&!(r.name!==wh.TOUCHSTART&&window&&window.event&&typeof window!="undefined"&&!window.event.buttons&&!window.event.button)&&!(t.keydown||r.shape)&&(t.origin={x:r.clientX,y:r.clientY},t.dragging=!1,this.enableOptimize)){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var l=a[o].get("group").get("children");!l||l.forEach(function(G){G.hide()})}for(var u=n.getNodes(),h=0,c=u.length;h<c;h++)for(var d=u[h].getContainer(),y=d.get("children"),_=0,k=y;_<k.length;_++){var F=k[_],Y=F.get("isKeyShape");Y||F.hide()}}},onMouseMove:function(r){var t=this.graph;if(!(this.keydown||r.shape)&&(r=Wl(r),!!this.origin)){if(this.dragging)r.type="drag",t.emit("canvas:drag",r);else{if(rm(this.origin.x-r.clientX)+rm(this.origin.y-r.clientY)<nR)return;this.shouldBegin.call(this,r)&&(r.type="dragstart",t.emit("canvas:dragstart",r),this.dragging=!0)}this.shouldUpdate.call(this,r)&&this.updateViewport(r)}},onMouseUp:function(r){var t=this.graph;if(!(this.keydown||r.shape)){if(this.enableOptimize){for(var e=t.getEdges(),n=0,a=e.length;n<a;n++){var o=e[n].get("group").get("children");!o||o.forEach(function(F){F.show()})}for(var s=t.getNodes(),l=0,u=s.length;l<u;l++)for(var h=s[l].getContainer(),c=h.get("children"),d=0,y=c;d<y.length;d++){var _=y[d],k=_.get("isKeyShape");k||_.show()}}if(!this.dragging){this.origin=null;return}r=Wl(r),this.shouldEnd.call(this,r)&&this.updateViewport(r),r.type="dragend",t.emit("canvas:dragend",r),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(r){var t=this,e=r.key;!e||(iR.indexOf(e.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},oR=v(6767),jl=v.n(oR),sR=v(17621),Ul=v.n(sR),Zl=2,nm=.16,lR=.05,uR=.05,fR=.15,im=5,am=4,hR=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function om(i,r,t){var e;return Math.round(i.h)>=60&&Math.round(i.h)<=240?e=t?Math.round(i.h)-Zl*r:Math.round(i.h)+Zl*r:e=t?Math.round(i.h)+Zl*r:Math.round(i.h)-Zl*r,e<0?e+=360:e>=360&&(e-=360),e}function sm(i,r,t){if(i.h===0&&i.s===0)return i.s;var e;return t?e=i.s-nm*r:r===am?e=i.s+nm:e=i.s+lR*r,e>1&&(e=1),t&&r===im&&e>.1&&(e=.1),e<.06&&(e=.06),Number(e.toFixed(2))}function lm(i,r,t){var e;return t?e=i.v+uR*r:e=i.v-fR*r,e>1&&(e=1),Number(e.toFixed(2))}function Ch(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],e=Ul()(i),n=im;n>0;n-=1){var a=e.toHsv(),o=Ul()({h:om(a,n,!0),s:sm(a,n,!0),v:lm(a,n,!0)}).toHexString();t.push(o)}t.push(e.toHexString());for(var s=1;s<=am;s+=1){var l=e.toHsv(),u=Ul()({h:om(l,s),s:sm(l,s),v:lm(l,s)}).toHexString();t.push(u)}return r.theme==="dark"?hR.map(function(h){var c=h.index,d=h.opacity,y=Ul().mix(r.backgroundColor||"#141414",t[c],d*100).toHexString();return y}):t}var Mh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ti={},Eh={};Object.keys(Mh).forEach(function(i){Ti[i]=Ch(Mh[i]),Ti[i].primary=Ti[i][5],Eh[i]=Ch(Mh[i],{theme:"dark",backgroundColor:"#141414"}),Eh[i].primary=Eh[i][5]});var _Y=Ti.red,TY=Ti.volcano,PY=Ti.gold,LY=Ti.orange,OY=Ti.yellow,IY=Ti.lime,kY=Ti.green,BY=Ti.cyan,DY=Ti.blue,FY=Ti.geekblue,RY=Ti.purple,NY=Ti.magenta,GY=Ti.grey,Ca=function(r,t,e){var n=jl()(r),a=jl()(t);return jl()([(1-e)*n.color[0]+e*a.color[0],(1-e)*n.color[1]+e*a.color[1],(1-e)*n.color[2]+e*a.color[2]]).rgb()},um=function(r,t,e,n){t===void 0&&(t="#fff"),e===void 0&&(e="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=Ca(t,r,.05).rgb().toString(),o=Ca(t,n,.02).rgb().toString(),s=Ca(t,n,.05).rgb().toString(),l=Ca(t,n,.1).rgb().toString(),u=Ca(t,n,.2).rgb().toString(),h=Ca(t,n,.3).rgb().toString(),c=Ch(r,{theme:e,backgroundColor:t}),d=jl()(r).hex().toLowerCase(),y=c.indexOf(d),_=r;return y!==-1&&(_=c[y+1]),{mainStroke:r,mainFill:Ca(t,r,.1).rgb().toString(),activeStroke:r,activeFill:a,inactiveStroke:Ca(t,r,.4).rgb().toString(),inactiveFill:a,selectedStroke:r,selectedFill:t,highlightStroke:_,highlightFill:Ca(t,r,.2).rgb().toString(),disableStroke:h,disableFill:s,edgeMainStroke:h,edgeActiveStroke:r,edgeInactiveStroke:u,edgeSelectedStroke:r,edgeHighlightStroke:r,edgeDisableStroke:l,comboMainStroke:h,comboMainFill:o,comboActiveStroke:r,comboActiveFill:a,comboInactiveStroke:h,comboInactiveFill:o,comboSelectedStroke:r,comboSelectedFill:o,comboHighlightStroke:_,comboHighlightFill:o,comboDisableStroke:u,comboDisableFill:s}},cR="rgb(95, 149, 255)",vR="rgb(255, 255, 255)",fm="rgb(0, 0, 0)",$r=um(cR,vR),Be={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:$r.mainStroke,fill:$r.mainFill},size:20,color:$r.mainStroke,linkPoints:{size:8,lineWidth:1,fill:$r.activeFill,stroke:$r.activeStroke}},nodeStateStyles:{active:{fill:$r.activeFill,stroke:$r.activeStroke,lineWidth:2,shadowColor:$r.mainStroke,shadowBlur:10},selected:{fill:$r.selectedFill,stroke:$r.selectedStroke,lineWidth:4,shadowColor:$r.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:$r.highlightFill,stroke:$r.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:$r.inactiveFill,stroke:$r.inactiveStroke,lineWidth:1},disable:{fill:$r.disableFill,stroke:$r.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:fm,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:$r.edgeMainStroke,lineAppendWidth:2},color:$r.edgeMainStroke},edgeStateStyles:{active:{stroke:$r.edgeActiveStroke,lineWidth:1},selected:{stroke:$r.edgeSelectedStroke,lineWidth:2,shadowColor:$r.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:$r.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:$r.edgeInactiveStroke,lineWidth:1},disable:{stroke:$r.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:fm,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:$r.comboMainFill,lineWidth:1,stroke:$r.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:$r.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:$r.comboActiveStroke,lineWidth:1,fill:$r.comboActiveFill},selected:{stroke:$r.comboSelectedStroke,lineWidth:2,fill:$r.comboSelectedFill,shadowColor:$r.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:$r.comboHighlightStroke,lineWidth:2,fill:$r.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:$r.comboInactiveStroke,fill:$r.comboInactiveFill,lineWidth:1},disable:{stroke:$r.comboDisableStroke,fill:$r.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},dR={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(r){if(!this.origin||!r||r.destroyed)return!1;var t=r.getType();return t==="combo"},onDragStart:function(r){var t=this;if(!!this.shouldBegin.call(this,r)){var e=r.item;if(!(!e||e.destroyed||e.hasLocked())){var n=e.getContainer();n.set("capture",!1);var a=r.target;if(a){var o=a.get("isAnchorPoint");if(o)return}var s=this.graph;this.targets=[],this.targetCombo=null;var l=s.findAllByState("node",this.selectedState),u=e.get("id"),h=l.filter(function(d){var y=d.get("id");return u===y});h.length===0?this.targets.push(e):l.length>1?l.forEach(function(d){var y=d.hasLocked();y||t.targets.push(d)}):this.targets.push(e);var c=[];this.targets.forEach(function(d){c.push((0,kn.d9)(d.getModel()))}),this.set("beforeDragNodes",c),this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}}},onDrag:function(r){var t=this;!this.origin||!this.shouldUpdate(this,r)||(this.get("enableDelegate")?this.updateDelegate(r):this.targets.map(function(e){t.update(e,r)}))},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){var t=r.item;if(t){var e=t.getContainer();e.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(r);var n=this.graph;if(n.get("enabledStack")){var a={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(o){a.after.nodes.push(o.getModel())}),n.pushStack("update",(0,kn.d9)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(r){var t=r.item;if(!!this.validationCombo(t)){this.updatePositions(r);var e=this.graph;if(this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)e.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&e.updateComboTree(a,n.id)}),e.updateCombo(t)}e.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(r){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(r),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(e){var n=e.getModel();n.comboId&&t.updateComboTree(e)}))},onDropNode:function(r){if(!(!this.targets||this.targets.length===0)){var t=this,e=r.item;this.updatePositions(r);var n=t.graph,a=e.getModel().comboId;if(a){var o=n.findById(a);t.comboActiveState&&n.setItemState(o,t.comboActiveState,!1),this.targets.map(function(s){var l=s.getModel();a!==l.comboId&&n.updateComboTree(s,a)}),n.updateCombo(o)}else this.targets.map(function(s){var l=s.getModel();l.comboId&&n.updateComboTree(s)});n.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(r){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&this.targets.map(function(e){return t.update(e,r)})},update:function(r,t){var e=this.origin,n=r.get("model"),a=r.get("id");this.point[a]||(this.point[a]={x:n.x||0,y:n.y||0});var o=t.x-e.x+this.point[a].x,s=t.y-e.y+this.point[a].y,l={x:o,y:s};this.get("updateEdge")?this.graph.updateItem(r,l,!1):r.updatePosition(l)},updateDelegate:function(r){var t=this.graph;if(this.delegateRect){var d=r.x-this.origin.x+this.originPoint.minX,y=r.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:d,y})}else{var e=this.graph.get("group"),n=(0,kn.b$)({},Be.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(r),o=a.x,s=a.y,l=a.width,u=a.height,h=a.minX,c=a.minY;this.originPoint={x:o,y:s,width:l,height:u,minX:h,minY:c},this.delegateRect=e.addShape("rect",{attrs:(0,J.__assign)({width:l,height:u,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(r){var t=this.graph,e=t.findAllByState("node",this.selectedState);e.length===0&&e.push(r.item);for(var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity,l=0;l<e.length;l++){var u=e[l],h=u.getBBox(),c=h.minX,d=h.minY,y=h.maxX,_=h.maxY;c<n&&(n=c),d<o&&(o=d),y>a&&(a=y),_>s&&(s=_)}var k=Math.floor(n),F=Math.floor(o),Y=Math.ceil(a)-Math.floor(n),G=Math.ceil(s)-Math.floor(o);return{x:k,y:F,width:Y,height:G,minX:n,minY:o}}},pR={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(r){var t=r.item,e=this.graph;if(this.item=t,!!this.shouldUpdate(r.item,{event:r,action:"activate"})){for(var n=this,a=this.activeState,o=this.inactiveState,s=e.getNodes(),l=e.getEdges(),u=s.length,h=l.length,c=0;c<u;c++){var d=s[c],y=d.hasState("selected");n.resetSelected&&y&&e.setItemState(d,"selected",!1),e.setItemState(d,a,!1),o&&e.setItemState(d,o,!0)}for(var c=0;c<h;c++){var _=l[c];e.setItemState(_,a,!1),o&&e.setItemState(_,o,!0)}o&&e.setItemState(t,o,!1),e.setItemState(t,a,!0);for(var k=t.getEdges(),F=k.length,c=0;c<F;c++){var _=k[c],Y=void 0;_.getSource()===t?Y=_.getTarget():Y=_.getSource(),o&&e.setItemState(Y,o,!1),e.setItemState(Y,a,!0),e.setItemState(_,o,!1),e.setItemState(_,a,!0),_.toFront()}e.emit("afteractivaterelations",{item:r.item,action:"activate"})}},clearActiveState:function(r){var t=this,e=t.get("graph");if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){var n=this.activeState,a=this.inactiveState,o=e.get("autoPaint");e.setAutoPaint(!1);for(var s=e.getNodes(),l=e.getEdges(),u=s.length,h=l.length,c=0;c<u;c++){var d=s[c];e.clearItemStates(d,[n,a])}for(var c=0;c<h;c++){var y=l[c];e.clearItemStates(y,[n,a,"deactivate"])}e.paint(),e.setAutoPaint(o),e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}},clearAllItemStates:function(r){var t=this,e=t.graph;if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){for(var n=this.activeState,a=this.inactiveState,o=e.getNodes(),s=e.getEdges(),l=o.length,u=s.length,h=0;h<l;h++){var c=o[h];e.clearItemStates(c,[n,a])}for(var h=0;h<u;h++){var d=s[h];e.clearItemStates(d,[n,a,"deactivate"])}e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}}},Kl=Math.min,hm=Math.max,cm=Math.abs,vm="shift",gR=["drag","shift","ctrl","alt","control"],yR={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:vm,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return gR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=vm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(r){var t=r.item,e=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),e||(e=this.createBrush()),this.originPoint={x:r.canvasX,y:r.canvasY},e.attr({width:0,height:0}),e.show(),this.dragging=!0)},onMouseMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(r)},onMouseUp:function(r){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(r),this.dragging=!1)},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(r){var t=this,e=this,n=e.graph,a=e.originPoint,o=e.shouldUpdate,s=this.selectedState,l={x:r.x,y:r.y},u=n.getPointByCanvas(a.x,a.y),h=Kl(l.x,u.x),c=hm(l.x,u.x),d=Kl(l.y,u.y),y=hm(l.y,u.y),_=[],k=[];n.getNodes().forEach(function(Y){var G=Y.getBBox();if(G.centerX>=h&&G.centerX<=c&&G.centerY>=d&&G.centerY<=y&&o(Y,"select")){_.push(Y);var ut=Y.getModel();k.push(ut.id),n.setItemState(Y,s,!0)}});var F=[];this.includeEdges&&_.forEach(function(Y){var G=Y.getOutEdges();G.forEach(function(ut){var ft=ut.getModel(),Tt=ft.source,Yt=ft.target;k.includes(Tt)&&k.includes(Yt)&&o(ut,"select")&&(F.push(ut),n.setItemState(ut,t.selectedState,!0))})}),this.selectedEdges=F,this.selectedNodes=_,this.onSelect&&this.onSelect(_,F),n.emit("nodeselectchange",{selectedItems:{nodes:_,edges:F},select:!0})},createBrush:function(){var r=this,t=r.graph.get("canvas").addShape("rect",{attrs:r.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,t},updateBrush:function(r){var t=this.originPoint;this.brush.attr({width:cm(r.canvasX-t.x),height:cm(r.canvasY-t.y),x:Kl(r.canvasX,t.x),y:Kl(r.canvasY,t.y)})},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},dm="shift",mR=["shift","ctrl","alt","control"],xR={getDefaultCfg:function(){return{multiple:!0,trigger:dm,selectedState:"selected"}},getEvents:function(){var r=this;return mR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=dm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),r.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(r){var t=this,e=r.item;if(!(!e||e.destroyed)){var n=e.getType(),a=this,o=a.graph,s=a.keydown,l=a.multiple,u=a.shouldUpdate,h=a.shouldBegin;if(!!h.call(this,r)){if(!s||!l){var c=o.findAllByState(n,this.selectedState);(0,un.default)(c,function(_){_!==e&&o.setItemState(_,t.selectedState,!1)})}if(e.hasState(this.selectedState)){u.call(this,r)&&o.setItemState(e,this.selectedState,!1);var d=o.findAllByState("node",this.selectedState),y=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:d,combos:y},select:!1})}else{u.call(this,r)&&o.setItemState(e,this.selectedState,!0);var d=o.findAllByState("node",this.selectedState),y=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:d,combos:y},select:!0})}}}},onCanvasClick:function(){var r=this,t=this.graph,e=t.findAllByState("node",this.selectedState);(0,un.default)(e,function(a){t.setItemState(a,r.selectedState,!1)});var n=t.findAllByState("combo",this.selectedState);(0,un.default)(n,function(a){t.setItemState(a,r.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()||t.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},Qi=v(31502);Qi.translate=function(i,r,t){var e=new Array(9);return Qi.fromTranslation(e,t),Qi.multiply(i,e,r)},Qi.rotate=function(i,r,t){var e=new Array(9);return Qi.fromRotation(e,t),Qi.multiply(i,e,r)},Qi.scale=function(i,r,t){var e=new Array(9);return Qi.fromScaling(e,t),Qi.multiply(i,e,r)},Qi.transform=function(i,r){for(var t=[].concat(i),e=0,n=r.length;e<n;e++){var a=r[e];switch(a[0]){case"t":Qi.translate(t,t,[a[1],a[2]]);break;case"s":Qi.scale(t,t,[a[1],a[2]]);break;case"r":Qi.rotate(t,t,a[1]);break;default:break}}return t};var Ha=Qi,Ma=v(76172);Ma.angle=function(i,r){var t=Ma.dot(i,r)/(Ma.length(i)*Ma.length(r));return Math.acos((0,f.clamp)(t,-1,1))},Ma.direction=function(i,r){return i[0]*r[1]-r[0]*i[1]},Ma.angleTo=function(i,r,t){var e=Ma.angle(i,r),n=Ma.direction(i,r)>=0;return t?n?Math.PI*2-e:e:n?e:Math.PI*2-e},Ma.vertical=function(i,r,t){return t?(i[0]=r[1],i[1]=-1*r[0]):(i[0]=-1*r[1],i[1]=r[0]),i};var Mn=Ma,bR=v(88395),pm=bR,Ea=function(i,r){var t=i?(0,f.clone)(i):[1,0,0,0,1,0,0,0,1];return(0,f.each)(r,function(e){switch(e[0]){case"t":Ha.translate(t,t,[e[1],e[2]]);break;case"s":Ha.scale(t,t,[e[1],e[2]]);break;case"r":Ha.rotate(t,t,e[1]);break;case"m":Ha.multiply(t,t,e[1]);break;default:return!1}}),t},gm=.05,wR={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var r=this.fixSelectedItems;return r.fixState||(r.fixState="selected"),r.fixAll&&(r.fixLineWidth=!0,r.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(r){var t=r.originalEvent.touches,e=t[0],n=t[1];r.preventDefault(),!!n&&(this.startPoint={pageX:e.pageX,pageY:e.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(r){if(!!this.moveable){r.preventDefault();var t=r.originalEvent.touches,e=t[0],n=t[1];if(!!n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(y,_){return Math.hypot(_.x-y.x,_.y-y.y)},o=a({x:e.pageX,y:e.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom"),u=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>u||s<l)){var h=this.graph.get("canvas"),c=h.getPointByClient(r.clientX,r.clientY);this.graph.zoomTo(s,{x:c.x,y:c.y}),this.graph.emit("wheelzoom",r)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(r){var t=this,e=this,n=e.graph,a=e.fixSelectedItems;if(!!this.shouldUpdate.call(this,r)){r.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(r.clientX,r.clientY),l=this.get("sensitivity"),u=n.getZoom(),h=u,c=u;r.wheelDelta<0?h=1-gm*l:h=1/(1-gm*l),c=u*h;var d=this.get("minZoom")||n.get("minZoom"),y=this.get("maxZoom")||n.get("maxZoom");if(!(c>y||c<d)){var _=this.get("enableOptimize");if(_){var k=this.get("optimizeZoom"),F=this.get("optimized"),Y=n.getNodes(),G=n.getEdges(),ut=Y.length,ft=G.length;if(!F){for(var Tt=0;Tt<ut;Tt++){var Yt=Y[Tt];if(!Yt.destroyed)for(var Ut=Yt.get("group").get("children"),Jt=Ut.length,Wt=0;Wt<Jt;Wt++){var ee=Ut[Wt];!ee.destoryed&&!ee.get("isKeyShape")&&ee.hide()}}for(var ue=0;ue<ft;ue++)for(var oe=G[ue],Ut=oe.get("group").get("children"),Jt=Ut.length,Wt=0;Wt<Jt;Wt++){var ee=Ut[Wt];ee.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var we=setTimeout(function(){var Er=n.getZoom(),Nr=t.get("optimized");if(Nr){t.set("optimized",!1);for(var Ur=0;Ur<ut;Ur++){var wn=Y[Ur],an=wn.get("group").get("children"),Pn=an.length;if(Er<k)wn.getKeyShape().show();else for(var Bn=0;Bn<Pn;Bn++){var pi=an[Bn];pi.get("visible")||pi.show()}}for(var Si=0;Si<ft;Si++){var jn=G[Si],an=jn.get("group").get("children"),Pn=an.length;if(Er<k)jn.getKeyShape().show();else for(var Bn=0;Bn<Pn;Bn++){var pi=an[Bn];pi.get("visible")||pi.show()}}}},500);this.set("timeout",we)}if(u<=1){var _e=void 0,Ee=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){_e=n.findAllByState("node",a.fixState),Ee=n.findAllByState("edge",a.fixState);for(var Re=u/c,Ye=_e.length,Xe=0;Xe<Ye;Xe++){var Yt=_e[Xe],De=Yt.getContainer(),Fe=Yt.getModel(),er=Yt.getOriginStyle(),tr=Yt.getStateStyle(a.fixState),or=Yt.get("shapeFactory").getShape(Fe.shape||Fe.type).getStateStyle(a.fixState,Yt)[a.fixState];if(a.fixAll){if(c<=1){var Ve=(0,f.clone)(De.getMatrix());Ve||(Ve=[1,0,0,0,1,0,0,0,1]);var nr=Yt.getModel(),yr=nr.x,ar=nr.y;Ha.translate(Ve,Ve,[-yr,-ar]),Ha.scale(Ve,Ve,[Re,Re]),Ha.translate(Ve,Ve,[yr,ar]),De.setMatrix(Ve)}}else for(var Ut=De.get("children"),Jt=Ut.length,Wt=0;Wt<Jt;Wt++){var ee=Ut[Wt],ir=void 0,Sr=void 0;if(a.fixLabel){var Dr=ee.get("type");if(Dr==="text"){ir=ee.attr("fontSize")||12;var hr=tr[ee.get("name")],Pe=or[ee.get("name")],He=hr?hr.fontSize:12,Cr=Pe?Pe.fontSize:12,Pr=He||Cr||12;if(c<=1&&ee.attr("fontSize",Pr/c),Sr)break}}if(a.fixLineWidth&&ee.get("isKeyShape")){Sr=ee.attr("lineWidth")||0;var pr=tr.lineWidth||or.lineWidth||er.lineWidth||0;if(c<=1&&ee.attr("lineWidth",pr/c),ir)break}}}for(var Rr=Ee.length,kr=0;kr<Rr;kr++)for(var oe=Ee[kr],De=oe.getContainer(),Ut=De.get("children"),Fe=oe.getModel(),tr=oe.getStateStyle(a.fixState),or=oe.get("shapeFactory").getShape(Fe.shape||Fe.type).getStateStyle(a.fixState,oe)[a.fixState],Jt=Ut.length,Wt=0;Wt<Jt;Wt++){var ee=Ut[Wt],ir=void 0,Sr=void 0;if(a.fixLabel||a.fixAll){var Dr=ee.get("type");if(Dr==="text"){ir=ee.attr("fontSize")||12;var hr=tr[ee.get("name")],Pe=or[ee.get("name")],He=hr?hr.fontSize:12,Cr=Pe?Pe.fontSize:12,Pr=He||Cr||12;if(c<=1&&ee.attr("fontSize",Pr/c),Sr)break}}if((a.fixLineWidth||a.fixAll)&&ee.get("isKeyShape")){Sr=ee.attr("lineWidth")||0;var pr=tr.lineWidth||or.lineWidth||1;if(c<=1&&ee.attr("lineWidth",pr/c),ir)break}}}}n.zoomTo(c,{x:s.x,y:s.y}),n.emit("wheelzoom",r)}}}},mn=v(1513),Wn=v(57821),ym={onMouseEnter:function(r){var t=r.item;this.currentTarget=t,this.showTooltip(r),this.graph.emit("tooltipchange",{item:r.item,action:"show"})},onMouseMove:function(r){if(!this.shouldUpdate(r)){this.hideTooltip();return}!this.currentTarget||r.item!==this.currentTarget||this.updatePosition(r)},onMouseLeave:function(r){!this.shouldEnd(r)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(r){var t=this.container;if(!(!r.item||r.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var e=this.formatText(r.item.get("model"),r);t.innerHTML=e,(0,mn.Z)(this.container,{visibility:"visible"}),this.updatePosition(r)}},hideTooltip:function(){(0,mn.Z)(this.container,{visibility:"hidden"})},updatePosition:function(r){var t=this.get("shouldBegin"),e=this,n=e.width,a=e.height,o=e.container,s=e.graph;if(!t(r)){(0,mn.Z)(o,{visibility:"hidden"});return}var l=s.getPointByClient(r.clientX,r.clientY),u=s.getCanvasByPoint(l.x,l.y),h=u.x,c=u.y,d=o.getBoundingClientRect();h>n/2?h-=d.width:h+=this.offset,c>a/2?c-=d.height:c+=this.offset;var y=h+"px",_=c+"px";(0,mn.Z)(this.container,{left:y,top:_,visibility:"visible"})},createTooltip:function(r){var t=r.get("el");t.style.position="relative";var e=(0,Wn.Z)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(e),(0,mn.Z)(e,{position:"absolute",visibility:"visible"}),this.width=r.get("width"),this.height=r.get("height"),this.container=e,this.graph.get("tooltips").push(e),e}},SR=(0,J.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},ym),CR=(0,J.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},ym),bi=v(90497),MR={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(!!n){var a=t.get("customGroupControll"),o=a.customGroup,s=o[n].nodeGroup;this.targetGroup=s,this.mouseOrigin={x:r.x,y:r.y};for(var l=t.save().groups,u=null,h=0;h<l.length;h++){var c=l[h];if(n===c.id){u=c.parentId;break}}if(u){var d=o[u].nodeGroup;a.setGroupStyle(d.get("keyShape"),"hover")}}},onDrag:function(r){!this.mouseOrigin||this.updateDelegate(r)},onDragEnd:function(r){var t=this.graph,e=r.target.get("groupId");if(this.delegateShapes[e]&&(this.delegateShapeBBox=this.delegateShapes[e].getBBox(),this.delegateShapes[e].remove(),delete this.delegateShapes[e]),!!this.delegateShapeBBox){var n=t.get("customGroupControll"),a=this.delegateShapeBBoxs[e];n.updateGroup(e,a,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,n.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegate:function(r){var t=this.graph,e=r.target.get("groupId"),n=this.targetGroup.get("keyShape"),a=this.delegateShapes[e],o=n.getBBox(),s=n.get("type");if(a){var Y=this,G=Y.mouseOrigin,ut=Y.shapeOrigin,ft=r.x-G.x,Tt=r.y-G.y,Yt=ft+ut.x,Ut=Tt+ut.y;a.attr({x:Yt,y:Ut}),this.delegateShapeBBoxs[e]=a.getBBox()}else{var l=t.get("delegateGroup"),u=o.x,h=o.y,c=o.width,d=o.height,y=(0,J.__assign)({width:c,height:d},(0,bi.default)({},Be.delegateStyle,this.delegateStyle));if(s==="circle"){var _=c>d?c/2:d/2,k=u+_,F=h+_;a=l.addShape("circle",{attrs:(0,J.__assign)({x:k,y:F,r:_},y),name:"circle-delegate-shape"}),this.shapeOrigin={x:k,y:F}}else a=l.addShape("rect",{attrs:(0,J.__assign)({x:u,y:h},y),name:"rect-delegate-shape"}),this.shapeOrigin={x:u,y:h};this.delegateShapes[e]=a,this.delegateShapeBBoxs[e]=a.getBBox()}},onOutOfRange:function(r){var t=this,e=this.graph.get("canvas").get("el"),n=function a(o){o.target!==e&&(t.onDragEnd(r),document.body.removeEventListener("mouseup",a,!0))};this.mouseOrigin&&document.body.addEventListener("mouseup",n,!0)}},ER=document.body,AR={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",dragover:"onDragOver",dragleave:"onDragLeave"}},onDragOver:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");this.inGroupId=n,a.setGroupStyle(l,"hover")}}},onDragLeave:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");a.setGroupStyle(l,"default")}}n||(this.inGroupId=null)},onDragStart:function(r){var t=this.graph;if(!!this.shouldBegin.call(this,r)){var e=r.item;this.target=e;var n=e.getModel(),a=n.groupId;if(a){var o=t.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,u=l.get("keyShape");o.setGroupStyle(u,"hover"),this.inGroupId=a}}this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}},onDrag:function(r){if(!!this.origin&&!!this.get("shouldUpdate").call(this,r)){this.update(this.target,r,!0);var t=r.item,e=this.graph,n=t.getModel(),a=n.groupId;if(a){var o=e.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,u=l.get("keyShape");this.inGroupId!==a?o.setGroupStyle(u,"default"):o.setGroupStyle(u,"hover")}}}},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var t=this.target.get("delegateShape");t&&(t.remove(),this.target.set("delegateShape",null))}this.target&&this.update(this.target,r),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(r)}},setCurrentGroupStyle:function(r){var t=this.graph,e=r.item,n=e.getModel(),a=n.groupId,o=n.id,s=t.get("customGroupControll"),l=s.customGroup,u=t.get("groupNodes");if(this.inGroupId&&a){var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape"),d=e.getBBox(),y=c.getBBox(),_=d.centerX,k=d.centerY,F=y.minX,Y=y.minY,G=y.maxX,ut=y.maxY;if(!(_<G*this.maxMultiple&&_>F*this.minMultiple&&k<ut*this.maxMultiple&&k>Y*this.minMultiple)||this.inGroupId!==a){var ft=u[a];u[a]=ft.filter(function(Ut){return Ut!==o}),s.dynamicChangeGroupSize(r,h,c),delete n.groupId}if(this.inGroupId!==a){var Tt=l[this.inGroupId].nodeGroup;if(!Tt)return;var Yt=Tt.get("keyShape");u[this.inGroupId].indexOf(o)===-1&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,Tt,Yt)}s.setGroupStyle(c,"default")}else if(this.inGroupId&&!a){var Tt=l[this.inGroupId].nodeGroup;if(!Tt)return;var c=Tt.get("keyShape");u[this.inGroupId].indexOf(o)===-1&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,Tt,c)}else if(!this.inGroupId&&a){Object.keys(u).forEach(function(Wt){var ee=u[Wt];u[Wt]=ee.filter(function(ue){return ue!==o})});var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape");s.dynamicChangeGroupSize(r,h,c),delete n.groupId}this.inGroupId=null},onOutOfRange:function(r){var t=this,e=t.graph.get("canvas").get("el");function n(a){a.target!==e&&(r.item=t.target,t.onDragEnd(r),document.body.removeEventListener("mouseup",n,!0))}t.origin&&ER.addEventListener("mouseup",n,!0)},update:function(r,t,e){var n=this.origin,a=r.get("model"),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-n.x+this.point[o].x,l=t.y-n.y+this.point[o].y;if(e){this.updateDelegate(t,s,l);return}var u={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(r,u):(r.updatePosition(u),this.graph.paint())},updateDelegate:function(r,t,e){var n=this.graph,a=r.item,o=n.get("groupType"),s=a.get("keyShape").getBBox();if(!this.shape){var l=n.get("delegateGroup"),u=(0,bi.default)({},Be.delegateStyle,this.delegateStyle);this.target&&(this.shape=l.addShape("rect",{attrs:(0,J.__assign)({width:s.width,height:s.height,x:t-s.width/2,y:e-s.height/2},u),name:"delegate-shape"}),this.target.set("delegateShape",this.shape)),this.shape.set("capture",!1)}this.target&&(o==="circle"?this.shape.attr({x:t-s.width/2,y:e-s.height/2}):o==="rect"&&this.shape.attr({x:t,y:e}))}},mm="dblclick",_R=["click","dblclick"],TR={getDefaultCfg:function(){return{trigger:mm}},getEvents:function(){var r,t;return _R.includes(this.trigger)?t=this.trigger:(t=mm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r[""+t]="onGroupClick",r},onGroupClick:function(r){var t=r.target,e=this.graph,n=t.get("groupId");if(!!n){var a=e.get("customGroupControll");a.collapseExpandGroup(n)}}},xm="click",PR=["click","dblclick"],LR={getDefaultCfg:function(){return{trigger:xm,onChange:function(){}}},getEvents:function(){var r,t;return PR.includes(this.trigger)?t=this.trigger:(t=xm,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["node:"+t]="onNodeClick",r.touchstart="onNodeClick",r},onNodeClick:function(r){var t=r.item,e=this.graph.findDataById(t.get("id"));if(!!e){var n=e.children;if(!(!n||n.length===0)){var a=!e.collapsed;if(!!this.shouldBegin(r,a)&&(e.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:r.item,collapsed:a}),!!this.shouldUpdate(r,a))){try{this.onChange(t,a)}catch(o){console.warn("G6 \u81EA 3.0.4 \u7248\u672C\u652F\u6301\u76F4\u63A5\u4ECE item.getModel() \u83B7\u53D6\u6E90\u6570\u636E(\u4E34\u65F6\u901A\u77E5\uFF0C\u5C06\u57283.2.0\u7248\u672C\u4E2D\u6E05\u9664)",o)}this.graph.layout()}}}}},OR=function i(r,t){if(t(r)!==!1&&r){var e=r.get("combos");if(e.length===0)return!1;(0,kn.S6)(e,function(n){i(n,t)})}},IR={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(r){var t=r.item;if(!t||t.destroyed||!this.shouldUpdate(this,r))return!1;var e=t.getType();return e==="combo"},onDragStart:function(r){var t=this,e=this.graph,n=r.item;if(!!this.validationCombo(r)){this.targets=[];var a=e.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(l){var u=l.get("id");return o===u});s.length===0?this.targets.push(n):this.targets=a,this.activeState&&this.targets.map(function(l){var u=l.getModel();if(u.parentId){var h=e.findById(u.parentId);h&&e.setItemState(h,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:r.x,y:r.y},this.currentItemChildCombos=[],OR(n,function(l){if(l.destroyed)return!1;var u=l.getModel();return t.currentItemChildCombos.push(u.id),!0})}},onDrag:function(r){var t=this;if(!!this.origin&&!!this.validationCombo(r))if(this.enableDelegate)this.updateDelegate(r);else{if(this.activeState){var e=this.graph,n=r.item,a=n.getModel(),o=e.getCombos(),s=n.getBBox(),l=s.centerX,u=s.centerY,h=s.width,c=o.filter(function(d){var y=d.getModel();return a.parentId,y.id!==a.id&&!t.currentItemChildCombos.includes(y.id)});c.map(function(d){var y=d.getBBox(),_=y.centerX,k=y.centerY,F=y.width,Y=l-_,G=u-k,ut=2*Math.sqrt(Y*Y+G*G);h+F-ut>.8*h?e.setItemState(d,t.activeState,!0):e.setItemState(d,t.activeState,!1)})}(0,kn.S6)(this.targets,function(d){t.updateCombo(d,r)})}},updatePositions:function(r){var t=this;this.enableDelegate&&(0,kn.S6)(this.targets,function(e){t.updateCombo(e,r)})},onDrop:function(r){var t=this,e=r.item;if(!(!e||!this.targets||e.destroyed)){this.updatePositions(r);var n=this.graph,a=e.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(e,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id)):n.updateCombo(e)}),this.end(e,r),this.endComparison=!0}},onNodeDrop:function(r){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(r);var e=this.graph,n=r.item,a=n.getModel().comboId,o;if(a){if(this.activeState){var s=e.findById(a);e.setItemState(s,this.activeState,!1)}this.targets.map(function(l){t.onlyChangeComboSize?e.updateCombo(l):a!==l.getID()&&(o=e.findById(a),a!==l.getModel().parentId&&e.updateComboTree(l,a))})}else this.targets.map(function(l){if(t.onlyChangeComboSize)e.updateCombo(l);else{var u=l.getModel();u.comboId&&e.updateComboTree(l)}});this.endComparison=!0,this.end(o,r)}},onDragEnter:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!0)}},onDragLeave:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!1)}},onDragEnd:function(r){if(!(!this.targets||this.targets.length===0)){var t=r.item;this.updatePositions(r);var e=this.getParentCombo(t.getModel().parentId),n=this.graph;e&&this.activeState&&n.setItemState(e,this.activeState,!1),this.end(void 0,r)}},end:function(r,t){var e=this;if(!!this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}r&&this.activeState&&n.setItemState(r,this.activeState,!1),r||this.targets.map(function(o){e.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(r,t){var e=this;if(t(r)!==!1&&r){var n=r.get("combos");(0,kn.S6)(n,function(o){e.traverse(o,t)});var a=r.get("nodes");(0,kn.S6)(a,function(o){e.traverse(o,t)})}},updateCombo:function(r,t){var e=this;this.traverse(r,function(n){return n.destroyed?!1:(e.updateSignleItem(n,t),!0)})},updateSignleItem:function(r,t){var e=this.origin,n=this.graph,a=r.getModel(),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-e.x+this.point[o].x,l=t.y-e.y+this.point[o].y;n.updateItem(r,{x:s,y:l})},getParentCombo:function(r){var t=this.graph;if(!!r){var e=t.findById(r);if(!!e)return e}},updateDelegate:function(r){var t=this.graph;if(this.delegateShape){var d=r.x-this.origin.x+this.originPoint.minX,y=r.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:d,y})}else{var e=t.get("delegateGroup"),n=null;this.targets.length>1?n=em(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,l=n.height,u=n.minX,h=n.minY;this.originPoint={x:a,y:o,width:s,height:l,minX:u,minY:h};var c=(0,J.__assign)((0,J.__assign)({},Be.delegateStyle),this.delegateStyle);this.delegateShape=e.addShape("rect",{attrs:(0,J.__assign)({width:n.width,height:n.height,x:n.x,y:n.y},c),name:"combo-delegate-shape"})}}},bm="dblclick",kR=["click","dblclick"],BR={getDefaultCfg:function(){return{trigger:bm,relayout:!0}},getEvents:function(){var r,t;return kR.includes(this.trigger)?t=this.trigger:(t=bm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["combo:"+t]="onComboClick",r},onComboClick:function(r){var t=r.item,e=this,n=e.graph,a=e.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;!s||(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}},wm=function(r,t,e){return r>=t&&r<=e},_s=function(r,t,e,n){var a=.001,o={x:e.x-r.x,y:e.y-r.y},s={x:t.x-r.x,y:t.y-r.y},l={x:n.x-e.x,y:n.y-e.y},u=s.x*l.y-s.y*l.x,h=u*u,c=s.x*s.x+s.y*s.y,d=l.x*l.x+l.y*l.y,y=null;if(h>a*c*d){var _=(o.x*l.y-o.y*l.x)/u,k=(o.x*s.y-o.y*s.x)/u;wm(_,0,1)&&wm(k,0,1)&&(y={x:r.x+_*s.x,y:r.y+_*s.y})}return y},Sm=function(r,t){var e=r.x,n=r.y,a=r.width,o=r.height,s=e+a/2,l=n+o/2,u=[],h={x:s,y:l};u.push({x:e,y:n}),u.push({x:e+a,y:n}),u.push({x:e+a,y:n+o}),u.push({x:e,y:n+o}),u.push({x:e,y:n});for(var c=null,d=1;d<u.length&&(c=_s(u[d-1],u[d],h,t),!c);d++);return c},Cm=function(r,t){var e=r.x,n=r.y,a=r.r,o=t.x,s=t.y,l=o-e,u=s-n,h=Math.sqrt(l*l+u*u);if(h<a)return null;var c=Math.sign(l),d=Math.sign(u),y=Math.atan(u/l);return{x:e+Math.abs(a*Math.cos(y))*c,y:n+Math.abs(a*Math.sin(y))*d}},Mm=function(r,t){var e=r.rx,n=r.ry,a=r.x,o=r.y,s=t.x-a,l=t.y-o,u=Math.atan2(l/n,s/e);return u<0&&(u+=2*Math.PI),{x:a+e*Math.cos(u),y:o+n*Math.sin(u)}},Ts=function(r,t,e){e===void 0&&(e=1);var n=[r.x,r.y,e];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),pm.transformMat3(n,n,t),{x:n[0],y:n[1]}},Em=function(r,t,e){e===void 0&&(e=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=Ha.invert([],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[r.x,r.y,e];return pm.transformMat3(a,a,n),{x:a[0],y:a[1]}},Ah=function(r,t,e){var n=r.x-t.x,a=r.y-t.y,o=r.x-e.x,s=r.y-e.y,l=(r.x*r.x-t.x*t.x-t.y*t.y+r.y*r.y)/2,u=(r.x*r.x-e.x*e.x-e.y*e.y+r.y*r.y)/2,h=a*o-n*s;return{x:-(s*l-a*u)/h,y:-(n*u-o*l)/h}},Ps=function(r,t){var e=r.x-t.x,n=r.y-t.y;return Math.sqrt(e*e+n*n)},Am=function(r,t){var e=[];return r.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),e.push(a)}),e},_h=function(r){for(var t=[],e=r.length,n=0;n<e;n+=1){t[n]=[];for(var a=0;a<e;a+=1)n===a?t[n][a]=0:r[n][a]===0||!r[n][a]?t[n][a]=Infinity:t[n][a]=r[n][a]}for(var o=0;o<e;o+=1)for(var n=0;n<e;n+=1)for(var a=0;a<e;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},Th=function(r,t){var e=r.nodes,n=r.edges,a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.id]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.source,u=s.target,h=o[l],c=o[u];a[h][c]=1,t||(a[c][h]=1)}),a},_m=function(r,t){r.translate(t.x,t.y)},Tm=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=r.getCanvasBBox(),a=t.x-n.minX,o=t.y-n.minY,s=Ea(e,[["t",a,o]]);r.setMatrix(s)},DR=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=t;(0,hi.default)(t)||(n=[t,t]),(0,hi.default)(t)&&t.length===1&&(n=[t[0],t[0]]),e=Ea(e,[["s",n[0],n[1]]]),r.setMatrix(e)},FR=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]),e=Ea(e,[["r",t]]),r.setMatrix(e)},$l=function(r,t,e){for(var n=[],a=0;a<r;a++)n[a]=0;return e.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function RR(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}var Ls=function(r,t,e){var n=!1,a=r.length,o=1e-6;function s(c){return Math.abs(c)<o?0:c<0?-1:1}if(a<=2)return!1;for(var l=0;l<a;l++){var u=r[l],h=r[(l+1)%a];if(RR(u,h,[t,e]))return!0;s(u[1]-e)>0!=s(h[1]-e)>0&&s(t-(e-u[1])*(u[0]-h[0])/(u[1]-h[1])-u[0])<0&&(n=!n)}return n},Pm=function(r,t){return!(t.minX>r.maxX||t.maxX<r.minX||t.minY>r.maxY||t.maxY<r.minY)},NR=function(r,t){var e=!1;return(0,f.each)(r,function(n){if(_s(n.from,n.to,t.from,t.to))return e=!0,!1}),e},Ph=function(r,t){var e=function(d){var y=d.map(function(k){return k[0]}),_=d.map(function(k){return k[1]});return{minX:Math.min.apply(null,y),maxX:Math.max.apply(null,y),minY:Math.min.apply(null,_),maxY:Math.max.apply(null,_)}},n=function(d){for(var y=[],_=d.length,k=0;k<_-1;k++){var F=d[k],Y=d[k+1];y.push({from:{x:F[0],y:F[1]},to:{x:Y[0],y:Y[1]}})}if(y.length>1){var G=d[0],ut=d[_-1];y.push({from:{x:ut[0],y:ut[1]},to:{x:G[0],y:G[1]}})}return y};if(r.length<2||t.length<2)return!1;var a=e(r),o=e(t);if(!Pm(a,o))return!1;var s=!1;if((0,f.each)(t,function(c){if(Ls(r,c[0],c[1]))return s=!0,!1}),s||((0,f.each)(r,function(c){if(Ls(t,c[0],c[1]))return s=!0,!1}),s))return!0;var l=n(r),u=n(t),h=!1;return(0,f.each)(u,function(c){if(NR(l,c))return h=!0,!1}),h},Mo=function(){function i(r,t,e,n){this.x1=r,this.y1=t,this.x2=e,this.y2=n}return i.prototype.getBBox=function(){var r=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),e=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:r,y:t,minX:r,minY:t,maxX:e,maxY:n,width:e-r,height:n-t};return a},i}(),Lh=function(r,t){var e={top:[r.minX,r.minY,r.maxX,r.minY],left:[r.minX,r.minY,r.minX,r.maxY],bottom:[r.minX,r.maxY,r.maxX,r.maxY],right:[r.maxX,r.minY,r.maxX,r.maxY]};return e[t]},GR=function(r,t){var e=(t.x2-t.x1)*(r.y1-t.y1)-(t.y2-t.y1)*(r.x1-t.x1),n=(r.x2-r.x1)*(r.y1-t.y1)-(r.y2-r.y1)*(r.x1-t.x1),a=(t.y2-t.y1)*(r.x2-r.x1)-(t.x2-t.x1)*(r.y2-r.y1);if(a){var o=e/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},Lm=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=0,o=[],s=0;s<4;s++){var l=Lh(n,e[s]),u=l[0],h=l[1],c=l[2],d=l[3];o[s]=_s({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:u,y:h},{x:c,y:d}),o[s]&&(a+=1)}return[o,a]},Oh=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=Lh(n,e[s]),u=l[0],h=l[1],c=l[2],d=l[3],y=GR(t,new Mo(u,h,c,d));y=Math.abs(y-.5),y>=0&&y<=1&&(o+=1,a=y<a?y:a)}return o===0?-1:a},Om=function(r){var t=0,e=0;if(r.length>0){for(var n=0,a=r;n<a.length;n++){var o=a[n];t+=o.x,e+=o.y}t/=r.length,e/=r.length}return{x:t,y:e}},Ql=function(r,t){return Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)},Im=function(r,t){var e=t.x1,n=t.y1,a=t.x2-e,o=t.y2-n,s=r.x-e,l=r.y-n,u=s*a+l*o,h;u<=0?h=0:(s=a-s,l=o-l,u=s*a+l*o,u<=0?h=0:h=u*u/(a*a+o*o));var c=s*s+l*l-h;return c<0&&(c=0),c},Ih=function(r,t,e){return e===void 0&&(e=.001),Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)<Math.pow(e,2)},km=function(r,t){var e=r.x<t.x,n=r.x>t.x+t.width,a=r.y>t.y+t.height,o=r.y<t.y,s=e||n||a||o;if(!s)return 0;if(a&&!e&&!n)return Math.pow(t.y+t.height-r.y,2);if(o&&!e&&!n)return Math.pow(r.y-t.y,2);if(e&&!a&&!o)return Math.pow(t.x-r.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-r.x,2);var l=Math.min(Math.abs(t.x-r.x),Math.abs(t.x+t.width-r.x)),u=Math.min(Math.abs(t.y-r.y),Math.abs(t.y+t.height-r.y));return l*l+u*u},YR=function(r,t){return!r||!t?r:r.replace(/\\?\{([^{}]+)\}/g,function(e,n){if(e.charAt(0)==="\\")return e.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},Bm=function(r){var t=[];if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);for(var e=0,n=r;e<n.length;e++){var a=n[e],o=a.x,s=a.y;t.push(o),t.push(s)}var l=(0,js.catmullRom2Bezier)(t);return l.unshift(["M",r[0].x,r[0].y]),l},Jl=function(r,t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var a={x:(1-e)*r.x+e*t.x,y:(1-e)*r.y+e*t.y},o=[];Mn.normalize(o,[t.x-r.x,t.y-r.y]),o.length===0&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},Dm=function(r,t){var e=r.length;if(!e)return"";for(var n="",a="",o=0;o<e;o++){var s=r[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=YR(a,s)}return t&&(n+="Z"),n},ql=function(r){var t=[];return r.forEach(function(e){var n=e[0];if(n!=="A")for(var a=1;a<e.length;a=a+2)t.push([e[a],e[a+1]]);else{var o=e.length;t.push([e[o-2],e[o-1]])}}),t},kh=function(r){if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);var t=r[0],e=r[1],n=r[r.length-1],a=r[r.length-2];r.unshift(n),r.unshift(a),r.push(t),r.push(e);for(var o=[],s=1;s<r.length-2;s+=1){var l=r[s-1].x,u=r[s-1].y,h=r[s].x,c=r[s].y,d=r[s+1].x,y=r[s+1].y,_=s!==r.length-2?r[s+2].x:d,k=s!==r.length-2?r[s+2].y:y,F=h+(d-l)/6,Y=c+(y-u)/6,G=d-(_-h)/6,ut=y-(k-c)/6;o.push(["C",F,Y,G,ut,d,y])}return o.unshift(["M",n.x,n.y]),o},Fm=function(r,t){return Mn.scale([],Mn.normalize([],r),t)},Rm=function(r,t){var e=[r[1]-t[1],t[0]-r[0]],n=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[e[0]/n,e[1]/n]},Nm=function(r,t){return[t[0]-r[0],t[1]-r[1]]};function Gm(i,r){var t=function(c){var d=[c[0][0],c[0][1]-r],y=[c[0][0],c[0][1]+r];return"M "+d+" A "+r+","+r+",0,0,0,"+y+" A "+r+","+r+",0,0,0,"+d},e=function(c){var d=Mn.scale([],Rm(c[0],c[1]),r),y=Mn.scale([],d,-1),_=Mn.add([],c[0],d),k=Mn.add([],c[1],d),F=Mn.add([],c[1],y),Y=Mn.add([],c[0],y);return"M "+_+" L "+k+" A "+[r,r,"0,0,0",F].join(",")+" L "+Y+" A "+[r,r,"0,0,0",_].join(",")};if(!i||i.length<1)return"";if(i.length===1)return t(i);if(i.length===2)return e(i);for(var n=new Array(i.length),a=0;a<n.length;++a){var o=a===0?i[i.length-1]:i[a-1],s=i[a],l=Mn.scale([],Rm(o,s),r);n[a]=[Mn.add([],o,l),Mn.add([],s,l)]}var u="A "+[r,r,"0,0,0,"].join(",");return n=n.map(function(h,c){var d="";return c===0&&(d="M "+n[n.length-1][1]+" "),d+=u+h[0]+" L "+h[1],d}),n.join(" ")}function Ym(i,r){var t=i.length,e=function(h){var c=[h[0][0],h[0][1]-r],d=[h[0][0],h[0][1]+r];return"M "+c+" A "+[r,r,"0,0,0",d].join(",")+" A "+[r,r,"0,0,0",c].join(",")},n=function(h){var c=Nm(h[0],h[1]),d=Fm(c,r),y=Mn.add([],h[0],Mn.scale([],d,-1)),_=Mn.add([],h[1],d),k=1.2*r,F=Fm(Mn.normalize([],c),k),Y=Mn.scale([],F,-1),G=Mn.add([],y,Y),ut=Mn.add([],_,Y),ft=Mn.add([],y,F);return"M "+y+" C "+[G,ut,_].join(",")+" S "+[ft,y].join(",")+" Z"};if(!i||t<1)return"";if(t===1)return e(i);if(t===2)return n(i);for(var a=i.map(function(u,h){var c=i[(h+1)%t];return{p:u,v:Mn.normalize([],Nm(u,c))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,l=Mn.normalize([],Mn.add([],a[s].v,Mn.scale([],a[o].v,-1)));a[o].p=Mn.add([],a[o].p,Mn.scale([],l,r))}return a.map(function(u){var h=u.p;return{x:h[0],y:h[1]}})}var zm="shift",zR=["drag","shift","ctrl","alt","control"],XR=function(r,t){var e,n=r.getKeyShape();if(r.get("type")==="path")e=ql(n.attr("path"));else{var a=n.getCanvasBBox();e=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return Ph(t,e)},VR={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:zm,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return zR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=zm,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(r){var t=this.lasso,e=r.item;e||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:r.x,y:r.y},this.points.push(this.originPoint),t.show())},onDragMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:r.x,y:r.y}),this.updateLasso(r))},onDragEnd:function(r){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var r=this.points,t=[];return r.length&&(r.forEach(function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t.push(["L",r[0].x,r[0].y])),t},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var r=this,t=this,e=t.graph,n=t.shouldUpdate,a=this.points.map(function(h){return[e.getCanvasByPoint(h.x,h.y).x,e.getCanvasByPoint(h.x,h.y).y]}),o=this.selectedState,s=[],l=[];e.getNodes().forEach(function(h){if(XR(h,a)&&n(h,"select")){s.push(h);var c=h.getModel();l.push(c.id),e.setItemState(h,o,!0)}});var u=[];this.includeEdges&&s.forEach(function(h){var c=h.getOutEdges();c.forEach(function(d){var y=d.getModel(),_=y.source,k=y.target;l.includes(_)&&l.includes(k)&&n(d,"select")&&(u.push(d),e.setItemState(d,r.selectedState,!0))})}),this.selectedEdges=u,this.selectedNodes=s,this.onSelect&&this.onSelect(s,u),e.emit("nodeselectchange",{selectedItems:{nodes:s,edges:u},select:!0})},createLasso:function(){var r=this,t=r.graph.get("delegateGroup").addShape("path",{attrs:(0,J.__assign)({path:[]},r.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.points=[],t},updateLasso:function(r){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},Xm="click",HR=["click","drag"],Vm=void 0,WR=["shift","ctrl","control","alt","meta",void 0],jR={getDefaultCfg:function(){return{trigger:Xm,key:Vm,edgeConfig:{}}},getEvents:function(){var r=this;HR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=Xm,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),r.key&&WR.indexOf(r.key.toLowerCase())===-1&&(r.trigger=Vm,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return r.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:r.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),r.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item;(!e||e.getID()===t.source||e.getType()!=="node")&&t.cancelCreating({item:t.edge,x:r.x,y:r.y})}},onClick:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item,n=t.graph,a=e.getModel();if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,r))return;var o={target:a.id};t.source===a.id&&(o.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,o),n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,r))return;t.edge=n.addItem("edge",(0,J.__assign)({source:a.id,target:a.id},t.edgeConfig),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(r){var t=this;if(!(t.key&&!t.keydown)){var e={x:r.x,y:r.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:e},!1)}},cancelCreating:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=t.graph,n=r.item;if(t.addingEdge&&r.target&&r.target.isCanvas&&r.target.isCanvas()){e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}if(t.addingEdge&&t.edge===n){var a=!0;if(!e.get("groupByTypes"))for(var o=r.x,s=r.y,l=e.getNodes(),u=l.length,h=0;h<u;h++){var c=l[h],d=c.getModel(),y=c.getBBox();if(o<=y.maxX&&o>=y.minX&&s<=y.maxY&&s>=y.minY){if(!t.shouldEnd.call(t,{x:r.x,y:r.y,canvasX:r.canvasX,canvasY:r.canvasY,clientX:r.clientX,clientY:r.clientY,item:c}))return;e.emit("beforecreateedge",{}),e.updateItem(t.edge,{target:d.id}),e.emit("aftercreateedge",{edge:t.edge}),a=!1;break}}a&&e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1}}},onKeyDown:function(r){var t=this,e=r.key;!e||(e.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var r=this;r.addingEdge&&r.edge&&(r.graph.removeItem(r.edge,!1),r.addingEdge=!1,r.edge=null),this.keydown=!1}},Hm="ctrl",UR=["shift","ctrl","alt","control"],ZR="1",KR={getDefaultCfg:function(){return{trigger:Hm,combinedKey:ZR,functionName:"fitView",functionParams:[]}},getEvents:function(){return UR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Hm,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},$R={"drag-canvas":aR,"zoom-canvas":wR,"drag-node":dR,"activate-relations":pR,"brush-select":yR,"click-select":xR,"lasso-select":VR,tooltip:SR,"edge-tooltip":CR,"drag-group":MR,"drag-node-with-group":AR,"collapse-expand-group":TR,"collapse-expand":LR,"drag-combo":IR,"collapse-expand-combo":BR,"create-edge":jR,"shortcuts-call":KR};(0,un.default)($R,function(i,r){bh.registerBehavior(r,i)});var Wm=bh,Eo=v(19083),Os=v(19270),da=v(27549),jm=v(54544),QR=function(r){var t=(0,jm.default)(r.groups,"id"),e=(0,jm.default)(r.groups,"parentId"),n={};for(var a in e)if(!!a){var o=e[a],s=t[a];if(s&&o){var l=(0,J.__spreadArrays)(o,s);n[a]=l}else o&&(n[a]=o)}var u=(0,J.__assign)((0,J.__assign)({},t),n),h={};for(var c in u)if(!(!c||c==="undefined")){var o=u[c].map(function(k){return k.id});h[c]=o}var d={},y=function(k){if(!k||k==="undefined")return"continue";for(var F=h[k],Y=[],G=0,ut=F;G<ut.length;G++){var ft=ut[G],Tt=u[ft].map(function(Ut){return Ut.id});Y.push.apply(Y,Tt)}var Yt=r.nodes?r.nodes.filter(function(Ut){return Y.indexOf(Ut.groupId)>-1||Y.indexOf(Ut.parentId)>-1}).map(function(Ut){return Ut.id}):[];d[k]=Yt};for(var c in h)y(c);return d},JR=function(){function i(r){this.graph=r,this.destroyed=!1,this.modes=r.get("modes")||{default:[]},this.formatModes(),this.mode=r.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return i.prototype.formatModes=function(){var r=this.modes;(0,un.default)(r,function(t){(0,un.default)(t,function(e,n){(0,rn.default)(e)&&(t[n]={type:e})})})},i.prototype.setBehaviors=function(r){var t=this.graph,e=this.modes[r],n=[],a;(0,un.default)(e||[],function(o){var s=bh.getBehavior(o.type);!s||(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},i.mergeBehaviors=function(r,t){return(0,un.default)(t,function(e){r.indexOf(e)<0&&((0,rn.default)(e)&&(e={type:e}),r.push(e))}),r},i.filterBehaviors=function(r,t){var e=[];return r.forEach(function(n){var a="";(0,rn.default)(n)?a=n:a=n.type,t.indexOf(a)<0&&e.push(n)}),e},i.prototype.setMode=function(r){var t=this,e=t.modes,n=t.graph,a=r,o=e[a];!o||(n.emit("beforemodechange",{mode:r}),(0,un.default)(this.currentBehaves,function(s){s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:r}),this.mode=r)},i.prototype.getMode=function(){return this.mode},i.prototype.manipulateBehaviors=function(r,t,e){var n=this,a;if((0,hi.default)(r)?a=r:a=[r],(0,hi.default)(t))return(0,un.default)(t,function(s){n.modes[s]?e?n.modes[s]=i.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=i.filterBehaviors(n.modes[s]||[],a):e&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||e&&(this.modes[o]=a),e?this.modes[o]=i.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=i.filterBehaviors(this.modes[o]||[],a),this.setMode(this.mode),this},i.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},i}(),qR=JR,t3=function(){function i(r){this.destroyed=!1,this.graph=r,this.destroyed=!1}return i.prototype.getViewCenter=function(){var r=this.getFormatPadding(),t=this.graph,e=this.graph.get("width"),n=t.get("height");return{x:(e-r[1]-r[3])/2+r[3],y:(n-r[0]-r[2])/2+r[0]}},i.prototype.fitCenter=function(){var r=this.graph,t=r.get("group");t.resetMatrix();var e=t.getCanvasBBox();if(!(e.width===0||e.height===0)){var n=this.getViewCenter(),a={x:e.x+e.width/2,y:e.y+e.height/2};r.translate(n.x-a.x,n.y-a.y)}},i.prototype.fitView=function(){var r=this.graph,t=this.getFormatPadding(),e=r.get("width"),n=r.get("height"),a=r.get("group");a.resetMatrix();var o=a.getCanvasBBox();if(!(o.width===0||o.height===0)){var s=this.getViewCenter(),l={x:o.x+o.width/2,y:o.y+o.height/2};r.translate(s.x-l.x,s.y-l.y);var u=(e-t[1]-t[3])/o.width,h=(n-t[0]-t[2])/o.height,c=u;u>h&&(c=h),r.zoom(c,s)}},i.prototype.getFormatPadding=function(){var r=this.graph.get("fitViewPadding");return Sh(r)},i.prototype.focusPoint=function(r,t,e){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var l=(o.x-r.x)*s[0],u=(o.y-r.y)*s[4],h=0,c=0,d=0,y=0;this.graph.get("canvas").animate(function(_){d=l*_,y=u*_,n.graph.translate(d-h,y-c),h=d,c=y},(0,J.__assign)({},e))}else this.graph.translate((o.x-r.x)*s[0],(o.y-r.y)*s[4])},i.prototype.getPointByCanvas=function(r,t){var e=this.graph.get("group").getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=Em({x:r,y:t},e);return n},i.prototype.getPointByClient=function(r,t){var e=this.graph.get("canvas"),n=e.getPointByClient(r,t);return this.getPointByCanvas(n.x,n.y)},i.prototype.getClientByPoint=function(r,t){var e=this.graph.get("canvas"),n=this.getCanvasByPoint(r,t),a=e.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},i.prototype.getCanvasByPoint=function(r,t){var e=this.graph.get("group").getMatrix();return e||(e=[1,0,0,0,1,0,0,0,1]),Ts({x:r,y:t},e)},i.prototype.focus=function(r,t,e){(0,rn.default)(r)&&(r=this.graph.findById(r));var n=r.get("group"),a=n.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r&&this.focusPoint({x:a[6],y:a[7]},t,e)},i.prototype.changeSize=function(r,t){var e=this.graph;if(!(0,va.default)(r)||!(0,va.default)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");e.set({width:r,height:t});var n=e.get("canvas");n.changeSize(r,t);var a=e.get("plugins");a.forEach(function(o){if(o.get("gridContainer")){var s=e.get("minZoom");(0,mn.Z)(o.get("container"),{width:r+"px",height:t+"px"}),(0,mn.Z)(o.get("gridContainer"),{width:r/s+"px",height:t/s+"px",left:0,top:0})}})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!1},i}(),e3=t3,Is=v(73136),tu=v(61262),r3=function(){function i(r){this.preItem=null,this.graph=r,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return i.prototype.initEvents=function(){var r=this,t=r.graph,e=r.extendEvents,n=t.get("canvas"),a=n.get("el"),o=(0,tu.default)(this,"onCanvasEvents"),s=(0,tu.default)(this,"onExtendEvents"),l=(0,tu.default)(this,"onWheelEvent");n.on("*",o),this.canvasHandler=o,e.push((0,Is.Z)(a,"DOMMouseScroll",l)),e.push((0,Is.Z)(a,"mousewheel",l)),typeof window!="undefined"&&(e.push((0,Is.Z)(window,"keydown",s)),e.push((0,Is.Z)(window,"keyup",s)),e.push((0,Is.Z)(window,"focus",s)))},i.getItemRoot=function(r){for(;r&&!r.get("item");)r=r.get("parent");return r},i.prototype.onCanvasEvents=function(r){var t=this.graph,e=t.get("canvas"),n=r.target,a=r.type;r.canvasX=r.x,r.canvasY=r.y;var o={x:r.canvasX,y:r.canvasY},s=t.get("group"),l=s.getMatrix();if(l||(l=[1,0,0,0,1,0,0,0,1]),tm(l)&&(o=t.getPointByClient(r.clientX,r.clientY)),r.x=o.x,r.y=o.y,r.currentTarget=t,n===e){a==="mousemove"&&this.handleMouseMove(r,"canvas"),r.target=e,r.item=null,t.emit(a,r),t.emit("canvas:"+a,r);return}var u=i.getItemRoot(n);if(!u){t.emit(a,r);return}var h=u.get("item");if(!h.destroyed){var c=h.getType();if(r.target=n,r.item=h,r.canvasX===r.x&&r.canvasY===r.y){var d=t.getCanvasByPoint(r.x,r.y);r.canvasX=d.x,r.canvasY=d.y}t.emit(a,r),r.name&&!r.name.includes(":")?t.emit(c+":"+a,r):t.emit(r.name,r),a==="dragstart"&&(this.dragging=!0),a==="dragend"&&(this.dragging=!1),a==="mousemove"&&this.handleMouseMove(r,c)}},i.prototype.onExtendEvents=function(r){this.graph.emit(r.type,r)},i.prototype.onWheelEvent=function(r){(0,fi.default)(r.wheelDelta)&&(r.wheelDelta=-r.detail),this.graph.emit("wheel",r)},i.prototype.handleMouseMove=function(r,t){var e=this,n=e.graph,a=e.preItem,o=n.get("canvas"),s=r.target===o?null:r.item;r=Wl(r),a&&a!==s&&!a.destroyed&&(r.item=a,this.emitCustomEvent(a.getType(),"mouseleave",r),this.dragging&&this.emitCustomEvent(a.getType(),"dragleave",r)),s&&a!==s&&(r.item=s,this.emitCustomEvent(t,"mouseenter",r),this.dragging&&this.emitCustomEvent(t,"dragenter",r)),this.preItem=s},i.prototype.emitCustomEvent=function(r,t,e){e.type=t,this.graph.emit(r+":"+t,e)},i.prototype.destroy=function(){var r=this,t=r.graph,e=r.canvasHandler,n=r.extendEvents,a=t.get("canvas");a.off("*",e),(0,un.default)(n,function(o){o.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},i}(),n3=r3,Um=v(8289),Zm=v(33643),Km=v(85260),i3=v(58070),a3={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},aa=Math.PI,Bh=Math.sin,Dh=Math.cos,vi=Bh(aa/8),di=Dh(aa/8),eu=function(r,t){var e=r.getBBox(),n={x:e.minX,y:e.minY},a={x:e.maxX,y:e.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=Ts(n,o),a=Ts(a,o)}var s=n.x,l=n.y,u=a.x,h=a.y;return{x:s,y:l,minX:s,minY:l,maxX:u,maxY:h,width:u-s,height:h-l}},$m=function(r){var t=r.sourceNode||r.targetNode,e=t.get("group"),n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=r.loopCfg||{},l=s.dist||Math.max(o.width,o.height)*2,u=s.position||Be.defaultLoopPosition,h=[n[6],n[7]],c=[r.startPoint.x,r.startPoint.y],d=[r.endPoint.x,r.endPoint.y],y=o.height/2,_=o.height/2,k=y*vi,F=y*di,Y=_*vi,G=_*di;if(c[0]===d[0]&&c[1]===d[1]){switch(u){case"top":c=[h[0]-k,h[1]-F],d=[h[0]+Y,h[1]-G];break;case"top-right":y=o.height/2,_=o.width/2,k=y*vi,F=y*di,Y=_*vi,G=_*di,c=[h[0]+k,h[1]-F],d=[h[0]+G,h[1]-Y];break;case"right":y=o.width/2,_=o.width/2,k=y*vi,F=y*di,Y=_*vi,G=_*di,c=[h[0]+F,h[1]-k],d=[h[0]+G,h[1]+Y];break;case"bottom-right":y=o.width/2,_=o.height/2,k=y*vi,F=y*di,Y=_*vi,G=_*di,c=[h[0]+F,h[1]+k],d=[h[0]+Y,h[1]+G];break;case"bottom":y=o.height/2,_=o.height/2,k=y*vi,F=y*di,Y=_*vi,G=_*di,c=[h[0]+k,h[1]+F],d=[h[0]-Y,h[1]+G];break;case"bottom-left":y=o.height/2,_=o.width/2,k=y*vi,F=y*di,Y=_*vi,G=_*di,c=[h[0]-k,h[1]+F],d=[h[0]-G,h[1]+Y];break;case"left":y=o.width/2,_=o.width/2,k=y*vi,F=y*di,Y=_*vi,G=_*di,c=[h[0]-F,h[1]+k],d=[h[0]-G,h[1]-Y];break;case"top-left":y=o.width/2,_=o.height/2,k=y*vi,F=y*di,Y=_*vi,G=_*di,c=[h[0]-F,h[1]-k],d=[h[0]-Y,h[1]-G];break;default:y=o.width/2,_=o.width/2,k=y*vi,F=y*di,Y=_*vi,G=_*di,c=[h[0]-k,h[1]-F],d=[h[0]+Y,h[1]-G]}if(s.clockwise===!1){var ut=[c[0],c[1]];c=[d[0],d[1]],d=[ut[0],ut[1]]}}var ft=[c[0]-h[0],c[1]-h[1]],Tt=(y+l)/y,Yt=(_+l)/_;s.clockwise===!1&&(Tt=(_+l)/_,Yt=(y+l)/y);var Ut=Mn.scale([],ft,Tt),Jt=[h[0]+Ut[0],h[1]+Ut[1]],Wt=[d[0]-h[0],d[1]-h[1]],ee=Mn.scale([],Wt,Yt),ue=[h[0]+ee[0],h[1]+ee[1]];return r.startPoint={x:c[0],y:c[1]},r.endPoint={x:d[0],y:d[1]},r.controlPoints=[{x:Jt[0],y:Jt[1]},{x:ue[0],y:ue[1]}],r},ru=function(r,t,e,n,a){var o=1e-4,s=[],l=r.getPoint(t);if(l===null)return{x:0,y:0,angle:0};if(t<o)s=r.getStartTangent().reverse();else if(t>1-o)s=r.getEndTangent();else{var u=r.getPoint(t+o);s.push([l.x,l.y]),s.push([u.x,u.y])}var h=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(h<0&&(h+=aa*2),e&&(l.x+=Dh(h)*e,l.y+=Bh(h)*e),n){var c=h-aa/2;h>1/2*aa&&h<3*1/2*aa&&(c-=aa),l.x+=Dh(c)*n,l.y+=Bh(c)*n}var d={x:l.x,y:l.y,angle:h};return a?(h>1/2*aa&&h<3*1/2*aa&&(h-=aa),(0,J.__assign)({rotate:h},d)):d},Qm=function i(r,t){if(t(r)===!1)return!1;if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return!1}return!0},o3=function i(r,t){if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return}return t(r)!==!1},Pi=function(r,t){typeof t=="function"&&Qm(r,t)},oa=function(r,t){typeof t=="function"&&o3(r,t)},Jm=function(r,t){var e=["V","TB","BT"],n={x:Infinity,y:Infinity},a={x:-Infinity,y:-Infinity},o="x",s="y";t&&e.indexOf(t)>=0&&(s="x",o="y");var l=0;Pi(r,function(c){return l++,c.x>a.x&&(a.x=c.x),c.x<n.x&&(n.x=c.x),c.y>a.y&&(a.y=c.y),c.y<n.y&&(n.y=c.y),!0});var u=aa*2/l,h=a[s]-n[s];return h===0||Pi(r,function(c){var d=(c[s]-n[s])/h*(aa*2-u)+u,y=Math.abs(o==="x"?c.x-r.x:c.y-r.y);return c.x=y*Math.cos(d),c.y=y*Math.sin(d),!0}),r},qm=function(r,t){return t*(a3[r]||1)},tx=function(r,t){var e=0,n=new RegExp("[\u4E00-\u9FA5]+");return r.split("").forEach(function(a){n.test(a)?e+=t:e+=qm(a,t)}),[e,t]},Fh=function(r,t){var e=[],n={},a={};r.forEach(function(s){a[s.id]=s}),r.forEach(function(s,l){var u=(0,f.clone)(s);u.itemType="combo",u.children=void 0,u.parentId===u.id?(console.warn("The parentId for combo "+u.id+" can not be the same as the combo's id"),delete u.parentId):u.parentId&&!a[u.parentId]&&(console.warn("The parent combo for combo "+u.id+" does not exist!"),delete u.parentId);var h=n[u.id];if(h){if(u.children=h.children,n[u.id]=u,h=u,!h.parentId){e.push(h);return}var c=n[h.parentId];if(c)c.children?c.children.push(u):c.children=[u];else{var d={id:h.parentId,children:[h]};n[h.parentId]=d,n[u.id]=u}return}if((0,f.isString)(s.parentId)){var y=n[s.parentId];if(y)y.children?y.children.push(u):y.children=[u],n[u.id]=u;else{var _={id:s.parentId,children:[u]};n[_.id]=_,n[u.id]=u}}else e.push(u),n[u.id]=u});var o={};return(t||[]).forEach(function(s){o[s.id]=s;var l=n[s.comboId];if(l){var u={id:s.id,comboId:s.comboId};l.children?l.children.push(u):l.children=[u],u.itemType="node",n[s.id]=u}}),e.forEach(function(s){s.depth=0,Qm(s,function(l){var u,h=n[l.id].itemType;h==="node"?u=n[l.comboId]:u=n[l.parentId],u?h==="node"?l.depth=u.depth+1:l.depth=u.depth+2:l.depth=0;var c=o[l.id];return c&&(c.depth=l.depth),!0})}),e},Rh=function(r,t,e){var n=r,a,o={root:{children:r}},s=!1,l="root";(r||[]).forEach(function(y){if(!s){if(y.id===t){a=y,y.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0;return}Pi(y,function(_){return o[_.id]={children:_.children},n=o[_.parentId||_.comboId||"root"].children,_&&(_.removed||t===_.id)&&n?(l=_.parentId||_.comboId||"root",a=_,_.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0,!1):!0})}}),n=o[l].children;var u=n?n.indexOf(a):-1;if(u>-1&&n.splice(u,1),s||(a={id:t,itemType:"node",comboId:e},o[t]={children:void 0}),t){var h=!1;if(e){var c=0;(r||[]).forEach(function(y){h||Pi(y,function(_){return e===_.id?(h=!0,_.children?_.children.push(a):_.children=[a],c=_.depth,a.itemType==="node"?a.depth=c+2:a.depth=c+1,!1):!0})})}else(!e||!h)&&a.itemType!=="node"&&r.push(a);var d=a.depth;Pi(a,function(y){return y.itemType==="node"?d+=2:d+=1,y.depth=d,!0})}return r},Nh=function(r,t){var e={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!r||r.length===0||(r.forEach(function(n){var a=t.findById(n.id);if(!(!a||!a.isVisible())){a.set("bboxCanvasCache",void 0);var o=a.getCanvasBBox();o.x&&e.minX>o.minX&&(e.minX=o.minX),o.y&&e.minY>o.minY&&(e.minY=o.minY),o.x&&e.maxX<o.maxX&&(e.maxX=o.maxX),o.y&&e.maxY<o.maxY&&(e.maxY=o.maxY)}}),e.x=(e.minX+e.maxX)/2,e.y=(e.minY+e.maxY)/2,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,Object.keys(e).forEach(function(n){(e[n]===Infinity||e[n]===-Infinity)&&(e[n]=void 0)})),e},s3=function(r){var t=r.group,e=r.height,n=r.width,a=r.x,o=r.y,s=t.get("canvas"),l=s.get("width"),u=s.get("height"),h={start:{x:0,y:0},end:{x:0,y:0}};return h.start.x=a/l,h.start.y=o/u,h.end.x=(a+n)/l,h.end.y=(o+e)/u,h};function nu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nu=function(t){return typeof t}:nu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(i)}function ex(i){if(typeof i!="string")return i;var r=function(Ut){if(typeof Ut!="string")return Ut;try{return JSON.parse(Ut.trim())}catch(Jt){return Ut.trim()}},t=r(i);if(typeof t!="string")return t;for(var e=function(Ut){return Ut[Ut.length-1]},n=i.trim(),a=[],o=[],s=function(){for(var Ut=[],Jt=0;Jt<arguments.length;Jt++)Ut[Jt]=arguments[Jt];return Ut.some(function(Wt){return e(o)===Wt})},l=function(){return e(a)},u=null,h=0,c="";h<n.length;){var d=n[h],y=s('"',"'");if(!y&&!d.trim()){h+=1;continue}var _=n[h-1]==="\\",k=s("}"),F=s("]"),Y=s(","),G=l();if(y)if(e(o)===d&&!_){o.pop();var ut=r(c);G.push(ut),u=ut,c=""}else c+=d;else if(F&&d===",")c&&(G.push(r(c)),c="");else if(k&&d===":")o.push(","),c&&(G.push(c),c="");else if(Y&&d===",")c&&(G.push(r(c)),c=""),o.pop();else if(d==="}"&&(k||Y)){c&&(G.push(r(c)),c=""),Y&&o.pop();for(var ft={},Tt=1;Tt<G.length;Tt+=2)ft[G[Tt-1]]=G[Tt];a.pop(),a.length&&e(a).push(ft),o.pop(),u=ft}else d==="]"&&F?(c&&(G.push(r(c)),c=""),a.pop(),a.length&&e(a).push(G),o.pop(),u=G):d==="{"?(a.push([]),o.push("}")):d==="["?(a.push([]),o.push("]")):d==='"'?o.push('"'):d==="'"?o.push("'"):c+=d;h+=1}return u||c}var l3=function(r){return r.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},u3=function(r){return function(t){for(var e=r.length,n=[],a=0,o="";a<e;)if(r[a]==="{"&&r[a+1]==="{")n.push(o),o="",a+=2;else if(r[a]==="}"&&r[a+1]==="}"){if(n.length){var s=n.pop();o=(0,i3.default)(t,o,s.endsWith("=")?'"{'+o+'}"':o),n.push(s+o)}a+=2,o=""}else o+=r[a],a+=1;return n.push(o),n.map(function(l,u){return n[u-1]&&n[u-1].endsWith("=")?'"{'+l+'}"':l}).join("")}};function rx(i,r){var t={},e=i.getAttributeNames&&i.getAttributeNames()||[],n=i.children&&Array.from(i.children).map(function(s){return rx(s,r)}),a={},o=i.tagName?i.tagName.toLowerCase():"group";return o==="text"&&(t.text=i.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(e).forEach(function(s){var l=l3(s),u=i.getAttribute(s);try{if(l==="style"||l==="attrs"){var h=ex(u);t=(0,J.__assign)((0,J.__assign)({},t),h)}else a[l]=ex(u)}catch(c){if(l==="style")throw c;a[l]=u}}),a.attrs=t,r&&r.style&&a.name&&nu(r.style[a.name])==="object"&&(a.attrs=(0,J.__assign)((0,J.__assign)({},a.attrs),r.style[a.name])),r&&r.style&&a.keyshape&&(a.attrs=(0,J.__assign)((0,J.__assign)({},a.attrs),r.style)),n.length&&(a.children=n),a}function f3(i,r,t){var e=i.attrs,n=e===void 0?{}:e,a={x:r.x||0,y:r.y||0,width:t.width||0,height:t.height||0},o,s;switch(i.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=tx(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,i.attrs=(0,J.__assign)({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function nx(i,r){var t;r===void 0&&(r={x:0,y:0});var e=(0,J.__assign)({x:0,y:0,width:0,height:0},r);if((t=i.children)===null||t===void 0?void 0:t.length){var n=i.attrs,a=n===void 0?{}:n,o=a.marginTop,s=(0,J.__assign)({},r);o&&(s.y+=o);for(var l=0;l<i.children.length;l++){i.children[l].attrs.key=(a.key||"root")+" -"+l+" ";var u=nx(i.children[l],s);if(u.bbox){var h=u.bbox;u.attrs.next==="inline"?s.x+=u.bbox.width:s.y+=u.bbox.height,h.width+h.x>e.width&&(e.width=h.width+h.x),h.height+h.y>e.height&&(e.height=h.height+h.y)}}}return i.bbox=f3(i,r,e),i.attrs=(0,J.__assign)((0,J.__assign)({},i.attrs),i.bbox),i}function ix(i,r){var t,e,n,a,o=(i||{}).type,s=((r==null?void 0:r.attrs)||{}).key;if(s&&i&&(i.attrs.key=s),!i&&r)return{action:"delete",val:r,type:o,key:s};if(i&&!r)return{action:"add",val:i,type:o};if(!i&&!r)return{action:"same",type:o};var l=[];if(((t=i.children)===null||t===void 0?void 0:t.length)>0||((e=r.children)===null||e===void 0?void 0:e.length)>0)for(var u=Math.max((n=i.children)===null||n===void 0?void 0:n.length,(a=r.children)===null||a===void 0?void 0:a.length),h=r.children||[],c=i.children||[],d=0;d<u;d+=1)l.push(ix(c[d],h[d]));var y=Object.keys(r.attrs),_=Object.keys(i.attrs);return r.type!==i.type?{action:"restructure",nowTarget:i,formerTarget:r,key:s,children:l}:y.filter(function(k){return k!=="children"}).some(function(k){return i.attrs[k]!==r.attrs[k]||!_.includes(k)})?{action:"change",val:i,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function ax(i){var r={},t=function(n){var a=typeof i=="function"?i(n):i,o=u3(a)(n),s=document.createElement("div");s.innerHTML=o;var l=s.children[0],u=nx(rx(l,n));return s.remove(),u};return{draw:function(n,a){var o=t(n),s=a,l=function u(h){var c=h.attrs,d=c===void 0?{}:c,y=h.bbox,_=h.type,k=h.children,F=(0,J.__rest)(h,["attrs","bbox","type","children"]);if(h.type!=="group"){var Y=a.addShape(h.type,(0,J.__assign)({attrs:d,origin:{bbox:y,type:_,children:k}},F));h.keyshape&&(s=Y)}h.children&&h.children.forEach(function(G){return u(G)})};return l(o),r[n.id]=[o],s},update:function(n,a){r[n.id]||(r[n.id]=[]);var o=a.getContainer(),s=o.get("children"),l=t(n),u=r[n.id].pop(),h=ix(l,u),c=function _(k){var F;k.type!=="group"&&o.addShape(k.type,{attrs:k.attrs}),((F=k.children)===null||F===void 0?void 0:F.length)&&k.children.map(function(Y){return _(Y)})},d=function _(k){var F,Y=s.find(function(G){return G.attrs.key===k.attrs.key});Y&&o.removeChild(Y),((F=k.children)===null||F===void 0?void 0:F.length)&&k.children.map(function(G){return _(G)})},y=function _(k){var F=k.key;if(k.type!=="group"){var Y=s.find(function(ut){return ut.attrs.key===F});switch(k.action){case"change":if(Y){var G=k.val.keyshape?a.getOriginStyle():{};Y.attr((0,J.__assign)((0,J.__assign)({},G),k.val.attrs))}break;case"add":c(k.val);break;case"delete":d(k.val);break;case"restructure":d(k.formerTarget),c(k.nowTarget);break;default:break}}k.children&&k.children.forEach(function(ut){return _(ut)})};y(h),r[n.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Gh={};function ox(i){return Gh[i]||(Gh[i]=(0,f.upperFirst)(i)),Gh[i]}var h3={defaultShapeType:"defaultType",className:null,getShape:function(r){var t=this,e=t[r]||t[t.defaultShapeType];return e},draw:function(r,t,e){var n=this.getShape(r),a=n.draw(t,e);return n.afterDraw&&n.afterDraw(t,e,a),a},baseUpdate:function(r,t,e){var n=this.getShape(r);n.update&&n.update(t,e),n.afterUpdate&&n.afterUpdate(t,e)},setState:function(r,t,e,n){var a=this.getShape(r);a.setState(t,e,n)},shouldUpdate:function(r){var t=this.getShape(r);return!!t.update},getControlPoints:function(r,t){var e=this.getShape(r);return e.getControlPoints(t)},getAnchorPoints:function(r,t){var e=this.getShape(r);return e.getAnchorPoints(t)}},Yh={options:{},draw:function(r,t){return this.drawShape(r,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.options.anchorPoints,e=r.anchorPoints||t;return e}},iu=function(){function i(){}return i.registerFactory=function(r,t){var e=ox(r),n=h3,a=(0,J.__assign)((0,J.__assign)({},n),t);return i[e]=a,a.className=e,a},i.getFactory=function(r){var t=ox(r);return i[t]},i.registerNode=function(r,t,e){var n=i.Node,a;if(typeof t=="string"||typeof t=="function"){var o=ax(t);a=(0,J.__assign)((0,J.__assign)({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=ax(s);a=(0,J.__assign)((0,J.__assign)((0,J.__assign)({},n.getShape("single-node")),o),t)}else{var l=e?n.getShape(e):Yh;a=(0,J.__assign)((0,J.__assign)({},l),t)}return a.type=r,a.itemType="node",n[r]=a,a},i.registerEdge=function(r,t,e){var n=i.Edge,a=e?n.getShape(e):Yh,o=(0,J.__assign)((0,J.__assign)({},a),t);return o.type=r,o.itemType="edge",n[r]=o,o},i.registerCombo=function(r,t,e){var n=i.Combo,a=e?n.getShape(e):Yh,o=(0,J.__assign)((0,J.__assign)({},a),t);return o.type=r,o.itemType="combo",n[r]=o,o},i}(),Fn=iu;iu.registerFactory("node",{defaultShapeType:"circle"}),iu.registerFactory("edge",{defaultShapeType:"line"}),iu.registerFactory("combo",{defaultShapeType:"circle"});var zh="bboxCache",Xh="bboxCanvasCache",c3=function(){function i(r){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),r);var e=this.get("model"),n=e.id,a=this.get("type");n||(n=(0,f.uniqueId)(a),this.get("model").id=n),this.set("id",n);var o=r.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=e.shape||e.type||(a==="edge"?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var u=l[s].options;if(u&&u.stateStyles){var h=this.get("styles")||e.stateStyles;h=(0,f.deepMix)({},u.stateStyles,h),this.set("styles",h)}}}return i.prototype.calculateBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=eu(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.calculateCanvasBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=eu(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.drawInner=function(){var r=this,t=r.get("shapeFactory"),e=r.get("group"),n=r.get("model");e.clear();var a=n.visible;if(a!==void 0&&!a&&r.changeVisibility(a),!!t){r.updatePosition(n);var o=r.getShapeCfg(n),s=o.shape||o.type,l=t.draw(s,o,e);l&&(r.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},i.prototype.setOriginStyle=function(r){var t={},e=this.get("group"),n=e.get("children"),a=this.getKeyShape(),o=this;(0,f.each)(n,function(u){var h=u.get("name");if(h)t[h]=o.getShapeStyleByName(h);else{var c=a.get("name"),d=o.getShapeStyleByName();c?t[c]=d:Object.assign(t,d)}});var s=this.getOriginStyle(),l={};r?l=(0,f.deepMix)({},s,t,r.style,{labelCfg:r.labelCfg}):l=(0,f.deepMix)({},s,t),o.set("originStyle",l)},i.prototype.restoreStates=function(r,t){var e=this,n=e.get("states");(0,f.each)(n,function(a){r.setState(t,a,!0,e)})},i.prototype.init=function(){var r=Fn.getFactory(this.get("type"));this.set("shapeFactory",r)},i.prototype.get=function(r){return this._cfg[r]},i.prototype.set=function(r,t){(0,f.isPlainObject)(r)?this._cfg=(0,J.__assign)((0,J.__assign)({},this._cfg),r):this._cfg[r]=t},i.prototype.getDefaultCfg=function(){return{}},i.prototype.clearCache=function(){this.set(zh,null),this.set(Xh,null)},i.prototype.beforeDraw=function(){},i.prototype.afterDraw=function(){},i.prototype.afterUpdate=function(){},i.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},i.prototype.getShapeStyleByName=function(r){var t=this.get("group"),e=this.getKeyShape();if(r&&(e=t.find(function(a){return a.get("name")===r})),e){var n={};return(0,f.each)(e.attr(),function(a,o){o!=="img"&&(n[o]=a)}),n}return{}},i.prototype.getShapeCfg=function(r){var t=this.get("styles");if(t){var e=r;return e.style=(0,J.__assign)((0,J.__assign)({},t),r.style),e}return r},i.prototype.getStateStyle=function(r){var t=this.get("styles"),e=t&&t[r];return e},i.prototype.getOriginStyle=function(){return this.get("originStyle")},i.prototype.getCurrentStatesStyle=function(){var r=this,t={};return(0,f.each)(r.getStates(),function(e){t=Object.assign(t,r.getStateStyle(e))}),t},i.prototype.setState=function(r,t){var e=this.get("states"),n=this.get("shapeFactory"),a=r,o=r;(0,f.isString)(t)&&(a=r+":"+t,o=r+":");var s=e;if((0,f.isBoolean)(t)){var l=e.indexOf(o);if(t){if(l>-1)return;e.push(a)}else l>-1&&e.splice(l,1)}else if((0,f.isString)(t)){var u=e.filter(function(d){return d.includes(o)});u.length>0&&this.clearStates(u),s=s.filter(function(d){return!d.includes(o)}),s.push(a),this.set("states",s)}if(n){var h=this.get("model"),c=h.shape||h.type;n.setState(c,r,t,this)}},i.prototype.clearStates=function(r){var t=this,e=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.shape||a.type;r||(r=e),(0,f.isString)(r)&&(r=[r]);var s=e.filter(function(l){return r.indexOf(l)===-1});t.set("states",s),r.forEach(function(l){n.setState(o,l,!1,t)})},i.prototype.getContainer=function(){return this.get("group")},i.prototype.getKeyShape=function(){return this.get("keyShape")},i.prototype.getModel=function(){return this.get("model")},i.prototype.getType=function(){return this.get("type")},i.prototype.getID=function(){return this.get("id")},i.prototype.isItem=function(){return!0},i.prototype.getStates=function(){return this.get("states")},i.prototype.hasState=function(r){var t=this.getStates();return t.indexOf(r)>=0},i.prototype.refresh=function(){var r=this.get("model");this.updatePosition(r),this.updateShape(),this.afterUpdate(),this.clearCache()},i.prototype.isOnlyMove=function(r){return!1},i.prototype.update=function(r){var t=this.get("model"),e=t.visible,n=r.visible;e!==n&&n!==void 0&&this.changeVisibility(n);var a={x:t.x,y:t.y};r.x=isNaN(r.x)?t.x:r.x,r.y=isNaN(r.y)?t.y:r.y;var o=this.get("styles");if(r.stateStyles){var s=r.stateStyles;(0,f.mix)(o,s),delete r.stateStyles}Object.assign(t,r);var l=this.isOnlyMove(r);l?this.updatePosition(r):((a.x!==r.x||a.y!==r.y)&&this.updatePosition(r),this.updateShape()),this.afterUpdate(),this.clearCache()},i.prototype.updateShape=function(){var r=this.get("shapeFactory"),t=this.get("model"),e=t.shape||t.type;if(r.shouldUpdate(e)&&e===this.get("currentShape")){var n=this.getShapeCfg(t);r.baseUpdate(e,n,this)}else this.draw();this.setOriginStyle(t),this.restoreStates(r,e)},i.prototype.updatePosition=function(r){var t=this.get("model"),e=(0,f.isNil)(r.x)?t.x:r.x,n=(0,f.isNil)(r.y)?t.y:r.y,a=this.get("group");(0,f.isNil)(e)||(0,f.isNil)(n)||(a.resetMatrix(),_m(a,{x:e,y:n}),t.x=e,t.y=n,this.clearCache())},i.prototype.getBBox=function(){var r=this.get(zh);return r||(r=this.calculateBBox(),this.set(zh,r)),r},i.prototype.getCanvasBBox=function(){var r=this.get(Xh);return r||(r=this.calculateCanvasBBox(),this.set(Xh,r)),r},i.prototype.toFront=function(){var r=this.get("group");r.toFront()},i.prototype.toBack=function(){var r=this.get("group");r.toBack()},i.prototype.show=function(){this.changeVisibility(!0)},i.prototype.hide=function(){this.changeVisibility(!1)},i.prototype.changeVisibility=function(r){var t=this.get("group");r?t.show():t.hide(),this.set("visible",r)},i.prototype.isVisible=function(){return this.get("visible")},i.prototype.enableCapture=function(r){var t=this.get("group");t&&t.set("capture",r)},i.prototype.destroy=function(){if(!this.destroyed){var r=this.get("animate"),t=this.get("group");r&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},i}(),sx=c3,au={source:"start",target:"end"},Aa="Node",Ko="Point",v3="Anchor",d3=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},r.prototype.setEnd=function(t,e){var n=au[t]+Ko,a=t+Aa,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,f.isPlainObject)(e)?(this.set(n,e),this.set(a,null)):(e.addEdge(this),this.set(a,e),this.set(n,null))},r.prototype.getLinkPoint=function(t,e,n){var a=au[t]+Ko,o=t+Aa,s=this.get(a);if(!s){var l=this.get(o),u=t+v3,h=this.getPrePoint(t,n),c=e[u];(0,f.isNil)(c)||(s=l.getLinkPointByAnchor(c)),s=s||l.getLinkPoint(h),(0,f.isNil)(s.index)||this.set(t+"AnchorIndex",s.index)}return s},r.prototype.getPrePoint=function(t,e){if(e&&e.length){var n=t==="source"?0:e.length-1;return e[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},r.prototype.getEndPoint=function(t){var e=t+Aa,n=au[t]+Ko,a=this.get(e);return a?a.get("model"):this.get(n)},r.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.shape||t.type;return a.getControlPoints(o,{startPoint:e,endPoint:n})},r.prototype.getEndCenter=function(t){var e=t+Aa,n=au[t]+Ko,a=this.get(e);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},r.prototype.init=function(){i.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},r.prototype.getShapeCfg=function(t){var e=this,n=e.get("linkCenter"),a=i.prototype.getShapeCfg.call(this,t);if(n)a.startPoint=e.getEndCenter("source"),a.endPoint=e.getEndCenter("target");else{var o=a.controlPoints||e.getControlPointsByCenter(a);a.startPoint=e.getLinkPoint("source",t,o),a.endPoint=e.getLinkPoint("target",t,o)}return a.sourceNode=e.get("sourceNode"),a.targetNode=e.get("targetNode"),a},r.prototype.getModel=function(){var t=this.get("model"),e=this.get("source"+Aa),n=this.get("target"+Aa);return e?delete t["source"+Aa]:t.source=this.get("start"+Ko),n?delete t["target"+Aa]:t.target=this.get("end"+Ko),!(0,f.isString)(t.source)&&!(0,f.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,f.isString)(t.target)&&!(0,f.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},r.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},r.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},r.prototype.getSource=function(){return this.get("source")},r.prototype.getTarget=function(){return this.get("target")},r.prototype.updatePosition=function(){},r.prototype.update=function(t){var e=this.get("model"),n=e.visible,a=t.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o=this.get("styles");if(t.stateStyles){var s=t.stateStyles;(0,f.mix)(o,s),delete t.stateStyles}Object.assign(e,t),this.updateShape(),this.afterUpdate(),this.clearCache()},r.prototype.destroy=function(){var t=this.get("source"+Aa),e=this.get("target"+Aa);t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),i.prototype.destroy.call(this)},r}(sx),p3=d3,ks=v(66974),Vh="anchorPointsCache",g3="bboxCache",y3=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getNearestPoint=function(t,e){for(var n=0,a=t[0],o=Ps(t[0],e),s=0;s<t.length;s++){var l=t[s],u=Ps(l,e);u<o&&(a=l,o=u,n=s)}return a.anchorIndex=n,a},r.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},r.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},r.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if(t==="target"){var a=function(u){return u.getSource()===e};return n.filter(a).map(function(l){return l.getTarget()})}if(t==="source"){var o=function(u){return u.getTarget()===e};return n.filter(o).map(function(l){return l.getSource()})}var s=function(u){return u.getSource()===e?u.getTarget():u.getSource()};return n.map(s)},r.prototype.getLinkPointByAnchor=function(t){var e=this.getAnchorPoints();return e[t]},r.prototype.getLinkPoint=function(t){var e=this.get("keyShape"),n=e.get("type"),a=this.get("type"),o,s,l=this.getBBox();a==="combo"?(o=(l.maxX+l.minX)/2,s=(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var u=this.getAnchorPoints(),h;switch(n){case"circle":h=Cm({x:o,y:s,r:l.width/2},t);break;case"ellipse":h=Mm({x:o,y:s,rx:l.width/2,ry:l.height/2},t);break;default:h=Sm(l,t)}var c=h;return u.length&&(c||(c=t),c=this.getNearestPoint(u,c)),c||(c={x:o,y:s}),c},r.prototype.getAnchorPoints=function(){var t=this.get(Vh);if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.shape||a.type,l=e.getAnchorPoints(s,o)||[];(0,un.default)(l,function(u,h){var c=(0,ks.default)({x:n.minX+u[0]*n.width,y:n.minY+u[1]*n.height},u[2],{index:h});t.push(c)}),this.set(Vh,t)}return t},r.prototype.addEdge=function(t){this.get("edges").push(t)},r.prototype.lock=function(){this.set("locked",!0)},r.prototype.unlock=function(){this.set("locked",!1)},r.prototype.hasLocked=function(){return this.get("locked")},r.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},r.prototype.clearCache=function(){this.set(g3,null),this.set(Vh,null)},r.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!(0,fi.default)(t.x),n=!(0,fi.default)(t.y),a=Object.keys(t);return a.length===1&&(e||n)||a.length===2&&e&&n},r}(sx),lx=y3,m3="bboxCache",ux="bboxCanvasCache",Hh="sizeCache",x3="anchorPointsCache",b3=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},r.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var a=t,o={r:Math.hypot(n.height,n.width)/2||Be.defaultCombo.size[0]/2,width:n.width||Be.defaultCombo.size[0],height:n.height||Be.defaultCombo.size[1]};a.style=(0,J.__assign)((0,J.__assign)((0,J.__assign)({},e),t.style),o);var s=t.padding||Be.defaultCombo.padding;return(0,va.default)(s)?(o.r+=s,o.width+=s*2,o.height+=s*2):(o.r+=s[0],o.width+=s[1]+s[3]||s[1]*2,o.height+=s[0]+s[2]||s[0]*2),this.set(Hh,o),a}return t},r.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=eu(t,e);n.x=n.minX,n.y=n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var a=this.get(Hh);if(a){var o=t.get("type");o==="circle"?(n.width=a.r*2,n.height=a.r*2):(n.width=a.width,n.height=a.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2}else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n},r.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},r.prototype.getNodes=function(){var t=this;return t.get("nodes")},r.prototype.getCombos=function(){var t=this;return t.get("combos")},r.prototype.addChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.addNode(t);break;case"combo":e.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.addCombo=function(t){var e=this;return e.get("combos").push(t),!0},r.prototype.addNode=function(t){var e=this;return e.get("nodes").push(t),!0},r.prototype.removeChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.removeNode(t);break;case"combo":e.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.removeCombo=function(t){if(!!t){var e=this.getCombos(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.removeNode=function(t){if(!!t){var e=this.getNodes(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.isOnlyMove=function(t){return!1},r.prototype.getBBox=function(){this.set(ux,null);var t=this.calculateCanvasBBox();return t},r.prototype.clearCache=function(){this.set(m3,null),this.set(ux,null),this.set(x3,null)},r.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set(Hh,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},r}(lx),w3=b3,ou="node",su="edge",fx="vedge",lu="combo",S3="default",hx="Mapper",Wa="stateStyles",C3=Object.hasOwnProperty,M3=function(){function i(r){this.graph=r,this.destroyed=!1}return i.prototype.addItem=function(r,t){var e=this,n=this.graph,a=r===fx?su:r,o=n.get(a+"Group")||n.get("group"),s=(0,Km.default)(a),l=null,u=n.get(a+(0,Km.default)(Wa))||{},h=n.get(S3+s);t[Wa]&&(u=t[Wa]);var c=n.get(a+hx);if(c){var d=c(t);d[Wa]&&(u=d[Wa],delete d[Wa]),t=(0,bi.default)({},h,t,d)}else h&&(0,un.default)(h,function(ut,ft){C3.call(t,ft)||((0,Zm.default)(ut)?t[ft]=(0,Um.default)(ut):t[ft]=h[ft])});if(t.shape&&!t.type&&console.warn("shape \u5B57\u6BB5\u5373\u5C06\u88AB\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 type \u4EE3\u66FF"),n.emit("beforeadditem",{type:r,model:t}),r===su||r===fx){var y=void 0,_=void 0;if(y=t.source,_=t.target,y&&(0,rn.default)(y)&&(y=n.findById(y)),_&&(0,rn.default)(_)&&(_=n.findById(_)),!y||!_){console.warn("The source or target node of edge "+t.id+" does not exist!");return}y.getType&&y.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(y)),_.getType&&_.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(_)),l=new p3({model:t,source:y,target:_,styles:u,linkCenter:n.get("linkCenter"),group:o.addGroup()})}else if(r===ou)l=new lx({model:t,styles:u,group:o.addGroup()});else if(r===lu){var k=t.children,F=Nh(k,n);t.x=F.x||t.x||Math.random()*100,t.y=F.y||t.y||Math.random()*100;var Y=o.addGroup();Y.setZIndex(t.depth),l=new w3({model:t,styles:u,bbox:F,group:Y});var G=l.getModel();(k||[]).forEach(function(ut){var ft=n.findById(ut.id);l.addChild(ft),ut.depth=G.depth+2}),t.collapsed&&setTimeout(function(){n.collapseCombo(l),e.updateCombo(l,[])},250)}if(l)return n.get(r+"s").push(l),n.get("itemMap")[l.get("id")]=l,n.emit("afteradditem",{item:l,model:t}),l},i.prototype.updateItem=function(r,t){var e=this.graph;if((0,rn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n="";r.getType&&(n=r.getType());var a=e.get(n+hx),o=r.getModel();if(a){var s=(0,bi.default)({},o,t),l=a(s),u=(0,bi.default)({},o,l,t);l[Wa]&&(r.set("styles",u[Wa]),delete u[Wa]),(0,un.default)(u,function(y,_){t[_]=y})}else(0,un.default)(t,function(y,_){o[_]&&(0,Zm.default)(y)&&!(0,hi.default)(y)&&(t[_]=(0,J.__assign)((0,J.__assign)({},o[_]),t[_]))});if(e.emit("beforeupdateitem",{item:r,cfg:t}),n===su){if(t.source){var h=t.source;(0,rn.default)(h)&&(h=e.findById(h)),r.setSource(h)}if(t.target){var c=t.target;(0,rn.default)(c)&&(c=e.findById(c)),r.setTarget(c)}}if(r.update(t),n===ou||n===lu){var d=r.getEdges();(0,un.default)(d,function(y){y.refresh()})}e.emit("afterupdateitem",{item:r,cfg:t})}},i.prototype.updateCombo=function(r,t){var e=this.graph;if((0,rn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=Nh(t,e);r.set("bbox",n),r.update({x:n.x,y:n.y});for(var a=r.getEdges()||[],o=a.length,s=0;s<o;s++){var l=a[s];l==null||l.refresh()}}},i.prototype.collapseCombo=function(r){var t=this.graph;(0,rn.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.hideItem(n)}),e.combos.forEach(function(n){t.hideItem(n)})},i.prototype.expandCombo=function(r){var t=this.graph;(0,rn.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.showItem(n)}),e.combos.forEach(function(n){n.getModel().collapsed?n.show():t.showItem(n)})},i.prototype.removeItem=function(r){var t=this,e=this.graph;if((0,rn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=(0,Um.default)(r.getModel());e.emit("beforeremoveitem",{item:n});var a="";r.getType&&(a=r.getType());var o=e.get(a+"s"),s=o.indexOf(r);if(s>-1&&o.splice(s,1),a===su){var l=e.get("v"+a+"s"),u=l.indexOf(r);u>-1&&l.splice(u,1)}var h=r.get("id"),c=e.get("itemMap");delete c[h];var d=e.get("comboTrees"),y=r.get("id");if(a===ou){var _=r.getModel().comboId;if(d){var k=d,F=!1;d.forEach(function(Yt){F||Pi(Yt,function(Ut){if(Ut.id===y&&k){var Jt=k.indexOf(Ut);return k.splice(Jt,1),F=!0,!1}return k=Ut.children,!0})})}for(var Y=r.getEdges(),G=Y.length-1;G>=0;G--)e.removeItem(Y[G],!1);_&&e.updateCombo(_)}else if(a===lu){var ut=r.getModel().parentId,ft,Tt=!1;(d||[]).forEach(function(Ut){Tt||Pi(Ut,function(Jt){return Jt.id===y?(ft=Jt,Tt=!0,!1):!0})}),ft.removed=!0,ft&&ft.children&&ft.children.forEach(function(Ut){t.removeItem(Ut.id)});for(var Y=r.getEdges(),G=Y.length;G>=0;G--)e.removeItem(Y[G],!1);ut&&e.updateCombo(ut)}r.destroy(),e.emit("afterremoveitem",{item:n})}},i.prototype.setItemState=function(r,t,e){var n=this.graph,a=t;(0,rn.default)(e)&&(a=t+":"+e),!(r.hasState(a)===e||(0,rn.default)(e)&&r.hasState(a))&&(n.emit("beforeitemstatechange",{item:r,state:a,enabled:e}),r.setState(t,e),n.autoPaint(),n.emit("afteritemstatechange",{item:r,state:a,enabled:e}))},i.prototype.priorityState=function(r,t){var e=this.graph,n=r;(0,rn.default)(r)&&(n=e.findById(r)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},i.prototype.clearItemStates=function(r,t){var e=this.graph;(0,rn.default)(r)&&(r=e.findById(r)),e.emit("beforeitemstatesclear",{item:r,states:t}),r.clearStates(t),e.emit("afteritemstatesclear",{item:r,states:t})},i.prototype.refreshItem=function(r){var t=this.graph;(0,rn.default)(r)&&(r=t.findById(r)),t.emit("beforeitemrefresh",{item:r}),r.refresh(),t.emit("afteritemrefresh",{item:r})},i.prototype.addCombos=function(r,t){var e=this,n=this.graph;(r||[]).forEach(function(o){oa(o,function(s){var l;return t.forEach(function(u){u.id===s.id&&(u.children=s.children,u.depth=s.depth,l=u)}),l&&e.addItem("combo",l),!0})});var a=n.get("comboGroup");a&&a.sort()},i.prototype.changeItemVisibility=function(r,t){var e=this,n=this.graph;if((0,rn.default)(r)&&(r=n.findById(r)),!r){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:r,visible:t}),r.changeVisibility(t),r.getType&&r.getType()===ou){var a=r.getEdges();(0,un.default)(a,function(h){t&&!(h.get("source").isVisible()&&h.get("target").isVisible())||e.changeItemVisibility(h,t)})}else if(r.getType&&r.getType()===lu){var o=n.get("comboTrees"),s=r.get("id"),l=[],u=!1;(o||[]).forEach(function(c){u||!c.children||c.children.length===0||Pi(c,function(d){return d.id===s?(l=d.children,u=!0,!1):!0})}),l.forEach(function(c){var d=n.findById(c.id);e.changeItemVisibility(d,t)});var a=r.getEdges();(0,un.default)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||e.changeItemVisibility(c,t)})}return n.emit("afteritemvisibilitychange",{item:r,visible:t}),r},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),E3=M3,sa=function(){function i(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return i.prototype.init=function(r){var t=this;t.nodes=r.nodes||[],t.edges=r.edges||[],t.combos=r.combos||[]},i.prototype.execute=function(){},i.prototype.layout=function(r){var t=this;t.init(r),t.execute()},i.prototype.getDefaultCfg=function(){return{}},i.prototype.updateCfg=function(r){var t=this;(0,ks.default)(t,r)},i.prototype.destroy=function(){var r=this;r.positions=null,r.nodes=null,r.edges=null,r.destroyed=!0},i}(),cx={registerLayout:function(r,t,e){if(e===void 0&&(e=sa),!t)throw new Error("please specify handler for this layout: "+r);var n=function(a){(0,J.__extends)(o,a);function o(s){var l=a.call(this)||this,u=l,h={},c=u.getDefaultCfg();return(0,ks.default)(h,c,t,s),(0,un.default)(h,function(d,y){u[y]=d}),l}return o}(e);cx[r]=n}},vx=cx;function A3(i,r,t,e){i.forEach(function(n,a){i[a].children=[],i[a].parent=[]}),e?r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].parent.push(i[a].id)}):r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].children.push(i[a].id)})}function _3(i,r,t){for(var e=t.length,n=0;n<e;n++)if(i.id===t[n].source&&r.id===t[n].target||r.id===t[n].source&&i.id===t[n].target)return!0;return!1}function T3(i,r){return i.degree<r.degree?-1:i.degree>r.degree?1:0}var P3=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.radius=null,t.startRadius=null,t.endRadius=null,t.startAngle=0,t.endAngle=2*Math.PI,t.clockwise=!0,t.divisions=1,t.ordering=null,t.angleRatio=1,t.nodes=[],t.edges=[],t.nodeMap={},t.degrees=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.radius,l=t.startRadius,u=t.endRadius,h=t.divisions,c=t.startAngle,d=t.endAngle,y=(d-c)/a,_={};e.forEach(function(Wt,ee){_[Wt.id]=ee}),t.nodeMap=_;var k=$l(e.length,_,n);t.degrees=k,!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),!s&&!l&&!u?s=t.height>t.width?t.width/2:t.height/2:!l&&u?l=u:l&&!u&&(u=l);var F=t.angleRatio,Y=y*F;t.astep=Y;var G=t.ordering,ut=[];G==="topology"?ut=t.topologyOrdering():G==="topology-directed"?ut=t.topologyOrdering(!0):G==="degree"?ut=t.degreeOrdering():ut=e;for(var ft=t.clockwise,Tt=Math.ceil(a/h),Yt=0;Yt<a;++Yt){var Ut=s;!Ut&&l!==null&&u!==null&&(Ut=l+Yt*(u-l)/(a-1)),Ut||(Ut=10+Yt*100/(a-1));var Jt=c+Yt%Tt*Y+2*Math.PI/h*Math.floor(Yt/Tt);ft||(Jt=d-Yt%Tt*Y-2*Math.PI/h*Math.floor(Yt/Tt)),ut[Yt].x=o[0]+Math.cos(Jt)*Ut,ut[Yt].y=o[1]+Math.sin(Jt)*Ut,ut[Yt].weight=k[Yt]}}},r.prototype.topologyOrdering=function(t){t===void 0&&(t=!1);var e=this,n=e.degrees,a=e.edges,o=e.nodes,s=(0,f.clone)(o),l=e.nodeMap,u=[s[0]],h=[o[0]],c=[],d=o.length;c[0]=!0,A3(s,a,l,t);var y=0;return s.forEach(function(_,k){if(k!==0)if((k===d-1||n[k]!==n[k+1]||_3(u[y],_,a))&&c[k]!==!0)u.push(_),h.push(o[l[_.id]]),c[k]=!0,y++;else{for(var F=u[y].children,Y=!1,G=0;G<F.length;G++){var ut=l[F[G]];if(n[ut]===n[k]&&c[ut]!==!0){u.push(s[ut]),h.push(o[l[s[ut].id]]),c[ut]=!0,Y=!0;break}}for(var ft=0;!Y&&(c[ft]||(u.push(s[ft]),h.push(o[l[s[ft].id]]),c[ft]=!0,Y=!0),ft++,ft!==d););}}),h},r.prototype.degreeOrdering=function(){var t=this,e=t.nodes,n=[],a=t.degrees;return e.forEach(function(o,s){o.degree=a[s],n.push(o)}),n.sort(T3),n},r}(sa),L3=P3,O3=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeSize=30,t.minNodeSpacing=10,t.preventOverlap=!1,t.equidistant=!1,t.startAngle=3/2*Math.PI,t.clockwise=!0,t.sortBy="degree",t.nodes=[],t.edges=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=[],l;(0,hi.default)(t.nodeSize)?l=Math.max(t.nodeSize[0],t.nodeSize[1]):l=t.nodeSize,e.forEach(function(Jt){s.push(Jt);var Wt=l;(0,hi.default)(Jt.size)?Wt=Math.max(Jt.size[0],Jt.size[1]):(0,f.isNumber)(Jt.size)&&(Wt=Jt.size),l=Math.max(l,Wt)}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.clockwise=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise;var u={},h={};if(s.forEach(function(Jt,Wt){u[Jt.id]=Jt,h[Jt.id]=Wt}),(t.sortBy==="degree"||!(0,rn.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",!(0,f.isNumber)(e[0].degree))){var c=$l(e.length,h,n);s.forEach(function(Jt,Wt){Jt.degree=c[Wt]})}s.sort(function(Jt,Wt){return Wt[t.sortBy]-Jt[t.sortBy]}),t.maxValueNode=s[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var d=[[]],y=d[0];s.forEach(function(Jt){if(y.length>0){var Wt=Math.abs(y[0][t.sortBy]-Jt[t.sortBy]);t.maxLevelDiff&&Wt>=t.maxLevelDiff&&(y=[],d.push(y))}y.push(Jt)});var _=l+t.minNodeSpacing;if(!t.preventOverlap){var k=d.length>0&&d[0].length>1,F=Math.min(t.width,t.height)/2-_,Y=F/(d.length+(k?1:0));_=Math.min(_,Y)}var G=0;if(d.forEach(function(Jt){var Wt=t.sweep;Wt===void 0&&(Wt=2*Math.PI-2*Math.PI/Jt.length);var ee=Jt.dTheta=Wt/Math.max(1,Jt.length-1);if(Jt.length>1&&t.preventOverlap){var ue=Math.cos(ee)-Math.cos(0),oe=Math.sin(ee)-Math.sin(0),we=Math.sqrt(_*_/(ue*ue+oe*oe));G=Math.max(we,G)}Jt.r=G,G+=_}),t.equidistant){for(var ut=0,ft=0,Tt=0;Tt<d.length;Tt++){var Yt=d[Tt],Ut=Yt.r-ft;ut=Math.max(ut,Ut)}ft=0,d.forEach(function(Jt,Wt){Wt===0&&(ft=Jt.r),Jt.r=ft,ft+=ut})}d.forEach(function(Jt){var Wt=Jt.dTheta,ee=Jt.r;Jt.forEach(function(ue,oe){var we=t.startAngle+(t.clockwise?1:-1)*Wt*oe;ue.x=o[0]+ee*Math.cos(we),ue.y=o[1]+ee*Math.sin(we)})})}},r}(sa),I3=O3,k3=v(70681),dx=v.n(k3),B3=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.rankdir="TB",t.nodesep=50,t.ranksep=50,t.controlPoints=!1,t.sortByCombo=!1,t}return r.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.nodeSize,a=t.rankdir;if(!!e){var o=t.edges||[],s=new(dx()).graphlib.Graph,l;n?(0,hi.default)(n)?l=function(){return n}:l=function(){return[n,n]}:l=function(y){return y.size?(0,hi.default)(y.size)?y.size:[y.size,y.size]:[40,40]};var u=uu(t.nodesepFunc,t.nodesep,50),h=uu(t.ranksepFunc,t.ranksep,50);(a==="LR"||a==="RL")&&(u=uu(t.ranksepFunc,t.ranksep,50),h=uu(t.nodesepFunc,t.nodesep,50)),s.setDefaultEdgeLabel(function(){return{}}),s.setGraph(t),e.forEach(function(d){var y=l(d),_=h(d),k=u(d),F=y[0]+2*k,Y=y[1]+2*_;s.setNode(d.id,{width:F,height:Y})}),o.forEach(function(d){s.setEdge(d.source,d.target,{weight:d.weight||1})}),dx().layout(s);var c;s.nodes().forEach(function(d){c=s.node(d);var y=e.findIndex(function(_){return _.id===d});e[y].x=c.x,e[y].y=c.y}),s.edges().forEach(function(d){c=s.edge(d);var y=o.findIndex(function(_){return _.source===d.v&&_.target===d.w});t.controlPoints&&o[y].type!=="loop"&&o[y].shape!=="loop"&&(o[y].controlPoints=c.points.slice(1,c.points.length-1))}),t.sortByCombo&&t.sortLevel("comboId")}},r.prototype.sortLevel=function(t){var e=this,n=e.nodes,a={};n.forEach(function(o){a[o.y]||(a[o.y]={y:o.y,nodes:[]}),a[o.y].nodes.push(o)}),Object.keys(a).forEach(function(o){var s=a[o].nodes,l=s.length,u={};if(s.forEach(function(k){var F=k.comboId;u[F]||(u[F]={x:0,y:0,count:0}),u[F].x+=k.x,u[F].y+=k.y,u[F].count++}),Object.keys(u).forEach(function(k){u[k].x/=u[k].count,u[k].y/=u[k].count}),l!==1){var h=s.sort(function(k,F){return k.x-F.x}),c=h[0].x,d=h[l-1].x,y=(d-c)/(l-1),_=s.sort(function(k,F){var Y=k[t]||"undefined",G=F[t]||"undefined";return Y<G?-1:Y>G?1:0});_.forEach(function(k,F){k.x=c+F*y})}})},r}(sa),D3=B3;function uu(i,r,t){var e;return i?e=i:(0,f.isNumber)(r)?e=function(){return r}:e=function(){return t},e}function F3(i){const r=+this._x.call(null,i),t=+this._y.call(null,i);return px(this.cover(r,t),r,t,i)}function px(i,r,t,e){if(isNaN(r)||isNaN(t))return i;var n,a=i._root,o={data:e},s=i._x0,l=i._y0,u=i._x1,h=i._y1,c,d,y,_,k,F,Y,G;if(!a)return i._root=o,i;for(;a.length;)if((k=r>=(c=(s+u)/2))?s=c:u=c,(F=t>=(d=(l+h)/2))?l=d:h=d,n=a,!(a=a[Y=F<<1|k]))return n[Y]=o,i;if(y=+i._x.call(null,a.data),_=+i._y.call(null,a.data),r===y&&t===_)return o.next=a,n?n[Y]=o:i._root=o,i;do n=n?n[Y]=new Array(4):i._root=new Array(4),(k=r>=(c=(s+u)/2))?s=c:u=c,(F=t>=(d=(l+h)/2))?l=d:h=d;while((Y=F<<1|k)==(G=(_>=d)<<1|y>=c));return n[G]=a,n[Y]=o,i}function R3(i){var r,t,e=i.length,n,a,o=new Array(e),s=new Array(e),l=Infinity,u=Infinity,h=-Infinity,c=-Infinity;for(t=0;t<e;++t)isNaN(n=+this._x.call(null,r=i[t]))||isNaN(a=+this._y.call(null,r))||(o[t]=n,s[t]=a,n<l&&(l=n),n>h&&(h=n),a<u&&(u=a),a>c&&(c=a));if(l>h||u>c)return this;for(this.cover(l,u).cover(h,c),t=0;t<e;++t)px(this,o[t],s[t],i[t]);return this}function N3(i,r){if(isNaN(i=+i)||isNaN(r=+r))return this;var t=this._x0,e=this._y0,n=this._x1,a=this._y1;if(isNaN(t))n=(t=Math.floor(i))+1,a=(e=Math.floor(r))+1;else{for(var o=n-t||1,s=this._root,l,u;t>i||i>=n||e>r||r>=a;)switch(u=(r<e)<<1|i<t,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:n=t+o,a=e+o;break;case 1:t=n-o,a=e+o;break;case 2:n=t+o,e=a-o;break;case 3:t=n-o,e=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=t,this._y0=e,this._x1=n,this._y1=a,this}function G3(){var i=[];return this.visit(function(r){if(!r.length)do i.push(r.data);while(r=r.next)}),i}function Y3(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Gi(i,r,t,e,n){this.node=i,this.x0=r,this.y0=t,this.x1=e,this.y1=n}function z3(i,r,t){var e,n=this._x0,a=this._y0,o,s,l,u,h=this._x1,c=this._y1,d=[],y=this._root,_,k;for(y&&d.push(new Gi(y,n,a,h,c)),t==null?t=Infinity:(n=i-t,a=r-t,h=i+t,c=r+t,t*=t);_=d.pop();)if(!(!(y=_.node)||(o=_.x0)>h||(s=_.y0)>c||(l=_.x1)<n||(u=_.y1)<a))if(y.length){var F=(o+l)/2,Y=(s+u)/2;d.push(new Gi(y[3],F,Y,l,u),new Gi(y[2],o,Y,F,u),new Gi(y[1],F,s,l,Y),new Gi(y[0],o,s,F,Y)),(k=(r>=Y)<<1|i>=F)&&(_=d[d.length-1],d[d.length-1]=d[d.length-1-k],d[d.length-1-k]=_)}else{var G=i-+this._x.call(null,y.data),ut=r-+this._y.call(null,y.data),ft=G*G+ut*ut;if(ft<t){var Tt=Math.sqrt(t=ft);n=i-Tt,a=r-Tt,h=i+Tt,c=r+Tt,e=y.data}}return e}function X3(i){if(isNaN(h=+this._x.call(null,i))||isNaN(c=+this._y.call(null,i)))return this;var r,t=this._root,e,n,a,o=this._x0,s=this._y0,l=this._x1,u=this._y1,h,c,d,y,_,k,F,Y;if(!t)return this;if(t.length)for(;;){if((_=h>=(d=(o+l)/2))?o=d:l=d,(k=c>=(y=(s+u)/2))?s=y:u=y,r=t,!(t=t[F=k<<1|_]))return this;if(!t.length)break;(r[F+1&3]||r[F+2&3]||r[F+3&3])&&(e=r,Y=F)}for(;t.data!==i;)if(n=t,!(t=t.next))return this;return(a=t.next)&&delete t.next,n?(a?n.next=a:delete n.next,this):r?(a?r[F]=a:delete r[F],(t=r[0]||r[1]||r[2]||r[3])&&t===(r[3]||r[2]||r[1]||r[0])&&!t.length&&(e?e[Y]=t:this._root=t),this):(this._root=a,this)}function V3(i){for(var r=0,t=i.length;r<t;++r)this.remove(i[r]);return this}function H3(){return this._root}function W3(){var i=0;return this.visit(function(r){if(!r.length)do++i;while(r=r.next)}),i}function j3(i){var r=[],t,e=this._root,n,a,o,s,l;for(e&&r.push(new Gi(e,this._x0,this._y0,this._x1,this._y1));t=r.pop();)if(!i(e=t.node,a=t.x0,o=t.y0,s=t.x1,l=t.y1)&&e.length){var u=(a+s)/2,h=(o+l)/2;(n=e[3])&&r.push(new Gi(n,u,h,s,l)),(n=e[2])&&r.push(new Gi(n,a,h,u,l)),(n=e[1])&&r.push(new Gi(n,u,o,s,h)),(n=e[0])&&r.push(new Gi(n,a,o,u,h))}return this}function U3(i){var r=[],t=[],e;for(this._root&&r.push(new Gi(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var n=e.node;if(n.length){var a,o=e.x0,s=e.y0,l=e.x1,u=e.y1,h=(o+l)/2,c=(s+u)/2;(a=n[0])&&r.push(new Gi(a,o,s,h,c)),(a=n[1])&&r.push(new Gi(a,h,s,l,c)),(a=n[2])&&r.push(new Gi(a,o,c,h,u)),(a=n[3])&&r.push(new Gi(a,h,c,l,u))}t.push(e)}for(;e=t.pop();)i(e.node,e.x0,e.y0,e.x1,e.y1);return this}function Z3(i){return i[0]}function K3(i){return arguments.length?(this._x=i,this):this._x}function $3(i){return i[1]}function Q3(i){return arguments.length?(this._y=i,this):this._y}function Wh(i,r,t){var e=new jh(r==null?Z3:r,t==null?$3:t,NaN,NaN,NaN,NaN);return i==null?e:e.addAll(i)}function jh(i,r,t,e,n,a){this._x=i,this._y=r,this._x0=t,this._y0=e,this._x1=n,this._y1=a,this._root=void 0}function gx(i){for(var r={data:i.data},t=r;i=i.next;)t=t.next={data:i.data};return r}var Yi=Wh.prototype=jh.prototype;Yi.copy=function(){var i=new jh(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,t,e;if(!r)return i;if(!r.length)return i._root=gx(r),i;for(t=[{source:r,target:i._root=new Array(4)}];r=t.pop();)for(var n=0;n<4;++n)(e=r.source[n])&&(e.length?t.push({source:e,target:r.target[n]=new Array(4)}):r.target[n]=gx(e));return i},Yi.add=F3,Yi.addAll=R3,Yi.cover=N3,Yi.data=G3,Yi.extent=Y3,Yi.find=z3,Yi.remove=X3,Yi.removeAll=V3,Yi.root=H3,Yi.size=W3,Yi.visit=j3,Yi.visitAfter=U3,Yi.x=K3,Yi.y=Q3;function zi(i){return function(){return i}}function oo(i){return(i()-.5)*1e-6}var J3={value:function(){}};function yx(){for(var i=0,r=arguments.length,t={},e;i<r;++i){if(!(e=arguments[i]+"")||e in t||/[\s.]/.test(e))throw new Error("illegal type: "+e);t[e]=[]}return new fu(t)}function fu(i){this._=i}function q3(i,r){return i.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}fu.prototype=yx.prototype={constructor:fu,on:function(r,t){var e=this._,n=q3(r+"",e),a,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((a=(r=n[o]).type)&&(a=tN(e[a],r.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(r=n[o]).type)e[a]=mx(e[a],r.name,t);else if(t==null)for(a in e)e[a]=mx(e[a],r.name,null);return this},copy:function(){var r={},t=this._;for(var e in t)r[e]=t[e].slice();return new fu(r)},call:function(r,t){if((a=arguments.length-2)>0)for(var e=new Array(a),n=0,a,o;n<a;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(o=this._[r],n=0,a=o.length;n<a;++n)o[n].value.apply(t,e)},apply:function(r,t,e){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],a=0,o=n.length;a<o;++a)n[a].value.apply(t,e)}};function tN(i,r){for(var t=0,e=i.length,n;t<e;++t)if((n=i[t]).name===r)return n.value}function mx(i,r,t){for(var e=0,n=i.length;e<n;++e)if(i[e].name===r){i[e]=J3,i=i.slice(0,e).concat(i.slice(e+1));break}return t!=null&&i.push({name:r,value:t}),i}var eN=yx,rN=v(35374),nN=1664525,iN=1013904223,xx=4294967296;function aN(){var i=1;return function(){return(i=(nN*i+iN)%xx)/xx}}function oN(i){return i.x}function sN(i){return i.y}var lN=10,uN=Math.PI*(3-Math.sqrt(5));function bx(i){var r,t=1,e=.001,n=1-Math.pow(e,1/300),a=0,o=.6,s=new Map,l=(0,rN.HT)(c),u=eN("tick","end"),h=aN();i==null&&(i=[]);function c(){d(),u.call("tick",r),t<e&&(l.stop(),u.call("end",r))}function d(k){var F,Y=i.length,G;k===void 0&&(k=1);for(var ut=0;ut<k;++ut)for(t+=(a-t)*n,s.forEach(function(ft){ft(t)}),F=0;F<Y;++F)G=i[F],G.fx==null?G.x+=G.vx*=o:(G.x=G.fx,G.vx=0),G.fy==null?G.y+=G.vy*=o:(G.y=G.fy,G.vy=0);return r}function y(){for(var k=0,F=i.length,Y;k<F;++k){if(Y=i[k],Y.index=k,Y.fx!=null&&(Y.x=Y.fx),Y.fy!=null&&(Y.y=Y.fy),isNaN(Y.x)||isNaN(Y.y)){var G=lN*Math.sqrt(.5+k),ut=k*uN;Y.x=G*Math.cos(ut),Y.y=G*Math.sin(ut)}(isNaN(Y.vx)||isNaN(Y.vy))&&(Y.vx=Y.vy=0)}}function _(k){return k.initialize&&k.initialize(i,h),k}return y(),r={tick:d,restart:function(){return l.restart(c),r},stop:function(){return l.stop(),r},nodes:function(F){return arguments.length?(i=F,y(),s.forEach(_),r):i},alpha:function(F){return arguments.length?(t=+F,r):t},alphaMin:function(F){return arguments.length?(e=+F,r):e},alphaDecay:function(F){return arguments.length?(n=+F,r):+n},alphaTarget:function(F){return arguments.length?(a=+F,r):a},velocityDecay:function(F){return arguments.length?(o=1-F,r):1-o},randomSource:function(F){return arguments.length?(h=F,s.forEach(_),r):h},force:function(F,Y){return arguments.length>1?(Y==null?s.delete(F):s.set(F,_(Y)),r):s.get(F)},find:function(F,Y,G){var ut=0,ft=i.length,Tt,Yt,Ut,Jt,Wt;for(G==null?G=Infinity:G*=G,ut=0;ut<ft;++ut)Jt=i[ut],Tt=F-Jt.x,Yt=Y-Jt.y,Ut=Tt*Tt+Yt*Yt,Ut<G&&(Wt=Jt,G=Ut);return Wt},on:function(F,Y){return arguments.length>1?(u.on(F,Y),r):u.on(F)}}}function wx(){var i,r,t,e,n=zi(-30),a,o=1,s=Infinity,l=.81;function u(y){var _,k=i.length,F=Wh(i,oN,sN).visitAfter(c);for(e=y,_=0;_<k;++_)r=i[_],F.visit(d)}function h(){if(!!i){var y,_=i.length,k;for(a=new Array(_),y=0;y<_;++y)k=i[y],a[k.index]=+n(k,y,i)}}function c(y){var _=0,k,F,Y=0,G,ut,ft;if(y.length){for(G=ut=ft=0;ft<4;++ft)(k=y[ft])&&(F=Math.abs(k.value))&&(_+=k.value,Y+=F,G+=F*k.x,ut+=F*k.y);y.x=G/Y,y.y=ut/Y}else{k=y,k.x=k.data.x,k.y=k.data.y;do _+=a[k.data.index];while(k=k.next)}y.value=_}function d(y,_,k,F){if(!y.value)return!0;var Y=y.x-r.x,G=y.y-r.y,ut=F-_,ft=Y*Y+G*G;if(ut*ut/l<ft)return ft<s&&(Y===0&&(Y=oo(t),ft+=Y*Y),G===0&&(G=oo(t),ft+=G*G),ft<o&&(ft=Math.sqrt(o*ft)),r.vx+=Y*y.value*e/ft,r.vy+=G*y.value*e/ft),!0;if(y.length||ft>=s)return;(y.data!==r||y.next)&&(Y===0&&(Y=oo(t),ft+=Y*Y),G===0&&(G=oo(t),ft+=G*G),ft<o&&(ft=Math.sqrt(o*ft)));do y.data!==r&&(ut=a[y.data.index]*e/ft,r.vx+=Y*ut,r.vy+=G*ut);while(y=y.next)}return u.initialize=function(y,_){i=y,t=_,h()},u.strength=function(y){return arguments.length?(n=typeof y=="function"?y:zi(+y),h(),u):n},u.distanceMin=function(y){return arguments.length?(o=y*y,u):Math.sqrt(o)},u.distanceMax=function(y){return arguments.length?(s=y*y,u):Math.sqrt(s)},u.theta=function(y){return arguments.length?(l=y*y,u):Math.sqrt(l)},u}function fN(i,r){var t,e=1;i==null&&(i=0),r==null&&(r=0);function n(){var a,o=t.length,s,l=0,u=0;for(a=0;a<o;++a)s=t[a],l+=s.x,u+=s.y;for(l=(l/o-i)*e,u=(u/o-r)*e,a=0;a<o;++a)s=t[a],s.x-=l,s.y-=u}return n.initialize=function(a){t=a},n.x=function(a){return arguments.length?(i=+a,n):i},n.y=function(a){return arguments.length?(r=+a,n):r},n.strength=function(a){return arguments.length?(e=+a,n):e},n}function hN(i){return i.index}function Sx(i,r){var t=i.get(r);if(!t)throw new Error("node not found: "+r);return t}function Cx(i){var r=hN,t=c,e,n=zi(30),a,o,s,l,u,h=1;i==null&&(i=[]);function c(F){return 1/Math.min(s[F.source.index],s[F.target.index])}function d(F){for(var Y=0,G=i.length;Y<h;++Y)for(var ut=0,ft,Tt,Yt,Ut,Jt,Wt,ee;ut<G;++ut)ft=i[ut],Tt=ft.source,Yt=ft.target,Ut=Yt.x+Yt.vx-Tt.x-Tt.vx||oo(u),Jt=Yt.y+Yt.vy-Tt.y-Tt.vy||oo(u),Wt=Math.sqrt(Ut*Ut+Jt*Jt),Wt=(Wt-a[ut])/Wt*F*e[ut],Ut*=Wt,Jt*=Wt,Yt.vx-=Ut*(ee=l[ut]),Yt.vy-=Jt*ee,Tt.vx+=Ut*(ee=1-ee),Tt.vy+=Jt*ee}function y(){if(!!o){var F,Y=o.length,G=i.length,ut=new Map(o.map(function(Tt,Yt){return[r(Tt,Yt,o),Tt]})),ft;for(F=0,s=new Array(Y);F<G;++F)ft=i[F],ft.index=F,typeof ft.source!="object"&&(ft.source=Sx(ut,ft.source)),typeof ft.target!="object"&&(ft.target=Sx(ut,ft.target)),s[ft.source.index]=(s[ft.source.index]||0)+1,s[ft.target.index]=(s[ft.target.index]||0)+1;for(F=0,l=new Array(G);F<G;++F)ft=i[F],l[F]=s[ft.source.index]/(s[ft.source.index]+s[ft.target.index]);e=new Array(G),_(),a=new Array(G),k()}}function _(){if(!!o)for(var F=0,Y=i.length;F<Y;++F)e[F]=+t(i[F],F,i)}function k(){if(!!o)for(var F=0,Y=i.length;F<Y;++F)a[F]=+n(i[F],F,i)}return d.initialize=function(F,Y){o=F,u=Y,y()},d.links=function(F){return arguments.length?(i=F,y(),d):i},d.id=function(F){return arguments.length?(r=F,d):r},d.iterations=function(F){return arguments.length?(h=+F,d):h},d.strength=function(F){return arguments.length?(t=typeof F=="function"?F:zi(+F),_(),d):t},d.distance=function(F){return arguments.length?(n=typeof F=="function"?F:zi(+F),k(),d):n},d}function cN(i){return i.x+i.vx}function vN(i){return i.y+i.vy}function Mx(i){var r,t,e,n=1,a=1;typeof i!="function"&&(i=zi(i==null?1:+i));function o(){for(var u,h=r.length,c,d,y,_,k,F,Y=0;Y<a;++Y)for(c=Wh(r,cN,vN).visitAfter(s),u=0;u<h;++u)d=r[u],k=t[d.index],F=k*k,y=d.x+d.vx,_=d.y+d.vy,c.visit(G);function G(ut,ft,Tt,Yt,Ut){var Jt=ut.data,Wt=ut.r,ee=k+Wt;if(Jt){if(Jt.index>d.index){var ue=y-Jt.x-Jt.vx,oe=_-Jt.y-Jt.vy,we=ue*ue+oe*oe;we<ee*ee&&(ue===0&&(ue=oo(e),we+=ue*ue),oe===0&&(oe=oo(e),we+=oe*oe),we=(ee-(we=Math.sqrt(we)))/we*n,d.vx+=(ue*=we)*(ee=(Wt*=Wt)/(F+Wt)),d.vy+=(oe*=we)*ee,Jt.vx-=ue*(ee=1-ee),Jt.vy-=oe*ee)}return}return ft>y+ee||Yt<y-ee||Tt>_+ee||Ut<_-ee}}function s(u){if(u.data)return u.r=t[u.data.index];for(var h=u.r=0;h<4;++h)u[h]&&u[h].r>u.r&&(u.r=u[h].r)}function l(){if(!!r){var u,h=r.length,c;for(t=new Array(h),u=0;u<h;++u)c=r[u],t[c.index]=+i(c,u,r)}}return o.initialize=function(u,h){r=u,e=h,l()},o.iterations=function(u){return arguments.length?(a=+u,o):a},o.strength=function(u){return arguments.length?(n=+u,o):n},o.radius=function(u){return arguments.length?(i=typeof u=="function"?u:zi(+u),l(),o):i},o}function dN(i){var r=zi(.1),t,e,n;typeof i!="function"&&(i=zi(i==null?0:+i));function a(s){for(var l=0,u=t.length,h;l<u;++l)h=t[l],h.vx+=(n[l]-h.x)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:zi(+s),o(),a):r},a.x=function(s){return arguments.length?(i=typeof s=="function"?s:zi(+s),o(),a):i},a}function pN(i){var r=zi(.1),t,e,n;typeof i!="function"&&(i=zi(i==null?0:+i));function a(s){for(var l=0,u=t.length,h;l<u;++l)h=t[l],h.vy+=(n[l]-h.y)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:zi(+s),o(),a):r},a.y=function(s){return arguments.length?(i=typeof s=="function"?s:zi(+s),o(),a):i},a}function gN(){function i(Ve){return function(){return Ve}}var r=function(nr){return nr.cluster},t=i(1),e=i(-1),n=i(100),a=i(.1),o=[0,0],s=[],l={},u=[],h=100,c=100,d={none:{x:0,y:0}},y=[],_,k="force",F=!0,Y=.1;function G(Ve){if(!F)return G;_.tick(),Jt();for(var nr=0,yr=s.length,ar=void 0,ir=Ve*Y;nr<yr;++nr)ar=s[nr],ar.vx+=(d[r(ar)].x-ar.x)*ir,ar.vy+=(d[r(ar)].y-ar.y)*ir}function ut(){!s||ft()}function ft(){if(!(!s||!s.length)){if(r(s[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var Ve=Tt();_=bx(Ve.nodes).force("x",dN(h).strength(.1)).force("y",pN(c).strength(.1)).force("collide",Mx(function(nr){return nr.r}).iterations(4)).force("charge",wx().strength(e)).force("links",Cx(Ve.nodes.length?Ve.links:[]).distance(n).strength(a)),y=_.nodes(),Jt()}}function Tt(){var Ve=[],nr=[],yr={},ar=[],ir={},Sr=[];return ir=Yt(s),Sr=Ut(u),ar=Object.keys(ir),ar.forEach(function(Dr,hr){var Pe=ir[Dr];Ve.push({id:Dr,size:Pe.count,r:Math.sqrt(Pe.sumforceNodeSize/Math.PI)}),yr[Dr]=hr}),Sr.forEach(function(Dr){var hr=yr[Dr.source],Pe=yr[Dr.target];hr!==void 0&&Pe!==void 0&&nr.push({source:hr,target:Pe,count:Dr.count})}),{nodes:Ve,links:nr}}function Yt(Ve){var nr={};return Ve.forEach(function(yr){var ar=r(yr);nr[ar]||(nr[ar]={count:0,sumforceNodeSize:0})}),Ve.forEach(function(yr){var ar=r(yr),ir=t(yr),Sr=nr[ar];Sr.count=Sr.count+1,Sr.sumforceNodeSize=Sr.sumforceNodeSize+Math.PI*(ir*ir)*1.3,nr[ar]=Sr}),nr}function Ut(Ve){var nr={},yr=[];Ve.forEach(function(ir){var Sr=Wt(ir),Dr=0;nr[Sr]!==void 0&&(Dr=nr[Sr]),Dr+=1,nr[Sr]=Dr});var ar=Object.entries(nr);return ar.forEach(function(ir){var Sr=ir[0],Dr=ir[1],hr=Sr.split("~")[0],Pe=Sr.split("~")[1];hr!==void 0&&Pe!==void 0&&yr.push({source:hr,target:Pe,count:Dr})}),yr}function Jt(){return d={none:{x:0,y:0}},y.forEach(function(Ve){d[Ve.id]={x:Ve.x-o[0],y:Ve.y-o[1]}}),d}function Wt(Ve){var nr=r(l[Ve.source]),yr=r(l[Ve.target]);return nr<=yr?nr+"~"+yr:yr+"~"+nr}function ee(Ve){l={},Ve.forEach(function(nr){l[nr.id]=nr})}function ue(Ve){return arguments.length?(k=Ve,ut(),G):k}function oe(Ve){return arguments.length?typeof Ve=="string"?(r=function(yr){return yr[Ve]},G):(r=Ve,G):r}function we(Ve){return arguments.length?(F=Ve,G):F}function _e(Ve){return arguments.length?(Y=Ve,G):Y}function Ee(Ve){return arguments.length?(h=Ve,G):h}function Re(Ve){return arguments.length?(c=Ve,G):c}function Ye(Ve){return arguments.length?(ee(Ve||[]),s=Ve||[],G):s}function Xe(Ve){return arguments.length?(u=Ve||[],ut(),G):u}function De(Ve){return arguments.length?(typeof Ve=="function"?t=Ve:t=i(+Ve),ut(),G):t}function Fe(Ve){return arguments.length?(typeof Ve=="function"?e=Ve:e=i(+Ve),ut(),G):e}function er(Ve){return arguments.length?(typeof Ve=="function"?n=Ve:n=i(+Ve),ut(),G):n}function tr(Ve){return arguments.length?(typeof Ve=="function"?a=Ve:a=i(+Ve),ut(),G):a}function or(Ve){return arguments.length?(o=Ve,G):o}return G.initialize=function(Ve){s=Ve,ut()},G.template=ue,G.groupBy=oe,G.enableGrouping=we,G.strength=_e,G.centerX=Ee,G.centerY=Re,G.nodes=Ye,G.links=Xe,G.forceNodeSize=De,G.nodeSize=G.forceNodeSize,G.forceCharge=Fe,G.forceLinkDistance=er,G.forceLinkStrength=tr,G.offset=or,G.getFocis=Jt,G}var ja={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK"},yN=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeStrength=null,t.edgeStrength=null,t.preventOverlap=!1,t.clusterNodeStrength=null,t.clusterEdgeStrength=null,t.clusterEdgeDistance=null,t.clusterNodeSize=null,t.clusterFociStrength=null,t.linkDistance=50,t.alphaDecay=.028,t.alphaMin=.001,t.alpha=.3,t.collideStrength=1,t.workerEnabled=!1,t.tick=function(){},t.onLayoutEnd=function(){},t.onTick=function(){},t.ticking=void 0,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},r.prototype.init=function(t){var e=this;e.nodes=t.nodes||[];var n=t.edges||[];e.edges=n.map(function(a){var o={},s=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(a).forEach(function(l){s.indexOf(l)>-1||(o[l]=a[l])}),o}),e.ticking=!1},r.prototype.execute=function(t){var e=this,n=e.nodes,a=e.edges;if(!e.ticking){var o=e.forceSimulation,s=e.alphaMin,l=e.alphaDecay,u=e.alpha;if(o)t&&(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(a)),o.nodes(n),e.edgeForce.links(a)),e.preventOverlap&&e.overlapProcess(o),o.alpha(u).restart(),this.ticking=!0;else try{var h=wx();if(e.nodeStrength&&h.strength(e.nodeStrength),o=bx().nodes(n),e.clustering){var c=gN();c.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),a&&c.links(a),n&&c.nodes(n),c.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=c,o.force("group",c)}if(o.force("center",fN(e.center[0],e.center[1])).force("charge",h).alpha(u).alphaDecay(l).alphaMin(s),e.preventOverlap&&e.overlapProcess(o),a){var d=Cx().id(function(k){return k.id}).links(a);e.edgeStrength&&d.strength(e.edgeStrength),e.linkDistance&&d.distance(e.linkDistance),e.edgeForce=d,o.force("link",d)}if(e.workerEnabled&&!bN()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!e.workerEnabled)o.on("tick",function(){e.tick()}).on("end",function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()}),e.ticking=!0;else{o.stop();for(var y=xN(o),_=1;_<=y;_++)o.tick(),postMessage({type:ja.TICK,currentTick:_,totalTicks:y,nodes:n},void 0);e.ticking=!1}e.forceSimulation=o,e.ticking=!0}catch(k){e.ticking=!1,console.warn(k)}}},r.prototype.overlapProcess=function(t){var e=this,n=e.nodeSize,a=e.nodeSpacing,o,s,l=e.collideStrength;if((0,va.default)(a)?s=function(){return a}:(0,Ks.default)(a)?s=a:s=function(){return 0},!n)o=function(y){if(y.size){if((0,hi.default)(y.size)){var _=y.size[0]>y.size[1]?y.size[0]:y.size[1];return _/2+s(y)}return y.size/2+s(y)}return 10+s(y)};else if((0,Ks.default)(n))o=function(y){var _=n(y);return _+s(y)};else if((0,hi.default)(n)){var u=n[0]>n[1]?n[0]:n[1],h=u/2;o=function(y){return h+s(y)}}else if((0,va.default)(n)){var c=n/2;o=function(y){return c+s(y)}}else o=function(){return 10};t.force("collisionForce",Mx(o).strength(l))},r.prototype.updateCfg=function(t){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.forceSimulation=null,(0,ks.default)(e,t)},r.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},r}(sa),mN=yN;function xN(i){var r=i.alphaMin(),t=i.alphaTarget(),e=i.alpha(),n=Math.log((r-t)/(e-t))/Math.log(1-i.alphaDecay()),a=Math.ceil(n);return a}function bN(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}var wN=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=500,t.gravity=10,t.clustering=!1,t.clusterGravity=10,t.linkDistance=50,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.linkStrength=1,t.nodeStrength=30,t.preventOverlap=!1,t.collideStrength=1,t.optimizeRangeFactor=1,t.tick=function(){},t.nodes=[],t.edges=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}var a={},o={};e.forEach(function(s,l){a[s.id]=s,o[s.id]=l}),t.nodeMap=a,t.nodeIdxMap=o,t.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.velocityDecay,l=t.clustering,u;t.initVals(),l&&(u=t.getClusterMap());for(var h=function(F){var Y=[];e.forEach(function(G,ut){Y[ut]={x:0,y:0}}),t.applyCalculate(e,n,Y),l&&t.applyClusterForce(u,Y),e.forEach(function(G,ut){!(0,f.isNumber)(G.x)||!(0,f.isNumber)(G.y)||(G.x+=Y[ut].x*s,G.y+=Y[ut].y*s)}),c.alpha+=(c.alphaTarget-c.alpha)*c.alphaDecay,t.tick()},c=this,d=0;d<a;d++)h(d);var y=[0,0];e.forEach(function(k){!(0,f.isNumber)(k.x)||!(0,f.isNumber)(k.y)||(y[0]+=k.x,y[1]+=k.y)}),y[0]/=e.length,y[1]/=e.length;var _=[o[0]-y[0],o[1]-y[1]];e.forEach(function(k,F){!(0,f.isNumber)(k.x)||!(0,f.isNumber)(k.y)||(k.x+=_[0],k.y+=_[1])})},r.prototype.initVals=function(){for(var t=this,e=t.edges,n={},a=0;a<e.length;++a)n[e[a].source]?n[e[a].source]++:n[e[a].source]=1,n[e[a].target]?n[e[a].target]++:n[e[a].target]=1;for(var o=[],a=0;a<e.length;++a)o[a]=n[e[a].source]/(n[e[a].source]+n[e[a].target]);this.bias=o;var s=t.nodeSize,l=t.nodeSpacing,u,h;if((0,f.isNumber)(l)?h=function(){return l}:(0,f.isFunction)(l)?h=l:h=function(){return 0},!s)u=function(Tt){if(Tt.size){if((0,f.isArray)(Tt.size)){var Yt=Tt.size[0]>Tt.size[1]?Tt.size[0]:Tt.size[1];return Yt/2+h(Tt)}return Tt.size/2+h(Tt)}return 10+h(Tt)};else if((0,f.isFunction)(s))u=function(Tt){var Yt=s(Tt);return Yt+h(Tt)};else if((0,f.isArray)(s)){var c=s[0]>s[1]?s[0]:s[1],d=c/2;u=function(Tt){return d+h(Tt)}}else if((0,f.isNumber)(s)){var y=s/2;u=function(Tt){return y+h(Tt)}}else u=function(){return 10};this.nodeSize=u;var _=this.linkDistance,k;_||(_=50),(0,f.isNumber)(_)&&(k=function(Tt){return _}),this.linkDistance=k;var F=this.linkStrength,Y;F||(F=1),(0,f.isNumber)(F)&&(Y=function(Tt){return F}),this.linkStrength=Y;var G=this.nodeStrength,ut;G||(G=30),(0,f.isNumber)(G)&&(ut=function(Tt){return G}),this.nodeStrength=ut},r.prototype.getClusterMap=function(){var t=this,e=t.nodes,n={};e.forEach(function(o){if(n[o.cluster]===void 0){var s={name:o.cluster,cx:0,cy:0,count:0};n[o.cluster]=s}var l=n[o.cluster];(0,f.isNumber)(o.x)&&(l.cx+=o.x),(0,f.isNumber)(o.y)&&(l.cy+=o.y),l.count++});for(var a in n)n[a].cx/=n[a].count,n[a].cy/=n[a].count;return n},r.prototype.applyClusterForce=function(t,e){var n=this,a=n.gravity,o=n.nodes,s=n.clusterGravity||a,l=this.alpha;o.forEach(function(h,c){if(!(!(0,f.isNumber)(h.x)||!(0,f.isNumber)(h.y))){var d=t[h.cluster],y=h.x-d.cx,_=h.y-d.cy,k=Math.sqrt(y*y+_*_);e[c].x-=y*s*l/k,e[c].y-=_*s*l/k}});for(var u in t)t[u].cx=0,t[u].cy=0,t[u].count=0;o.forEach(function(h){var c=t[h.cluster];(0,f.isNumber)(h.x)&&(c.cx+=h.x),(0,f.isNumber)(h.y)&&(c.cy+=h.y),c.count++});for(var u in t)t[u].cx/=t[u].count,t[u].cy/=t[u].count},r.prototype.applyCalculate=function(t,e,n){var a=this,o={};t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,h){if(!(l<h)){var c=s.x-u.x,d=s.y-u.y,y=c*c+d*d;y<1&&(y=Math.sqrt(y)),c===0&&(c=Math.random()*.01,y+=c*c),d===0&&(d=Math.random()*.01,y+=d*d);var _=Math.sqrt(y);o[s.id+"-"+u.id]={vx:c,vy:d,vl:y,sqrtVl:_},o[u.id+"-"+s.id]={vx:-c,vy:-d,vl:y,sqrtVl:_}}})}),a.calRepulsive(t,n,o),a.calAttractive(e,n,o)},r.prototype.calRepulsive=function(t,e,n){var a=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,o=this.nodeStrength,s=this.alpha,l=this.collideStrength,u=this.preventOverlap,h=this.nodeSize;t.forEach(function(c,d){t.forEach(function(y,_){if(d!==_&&!(!(0,f.isNumber)(c.x)||!(0,f.isNumber)(y.x)||!(0,f.isNumber)(c.y)||!(0,f.isNumber)(y.y))){var k=n[c.id+"-"+y.id],F=k.vl,Y=k.vx,G=k.vy;if(!(F>a)&&(e[d].x+=Y*o(y)*s/F,e[d].y+=G*o(y)*s/F,u&&d<_)){var ut=h(c),ft=h(y),Tt=ut+ft;if(F<Tt*Tt){var Yt=n[c.id+"-"+y.id].sqrtVl,Ut=(Tt-Yt)/Yt*l,Jt=ft*ft/(ut*ut+ft*ft),Wt=Y*Ut,ee=G*Ut;e[d].x+=Wt*Jt,e[d].y+=ee*Jt,Jt=1-Jt,e[_].x-=Wt*Jt,e[_].y-=ee*Jt}}}})})},r.prototype.calAttractive=function(t,e,n){var a=this,o=this.linkDistance,s=this.alpha,l=this.linkStrength,u=this.bias;t.forEach(function(h,c){if(!(!h.source||!h.target)){var d=a.nodeIdxMap[h.source],y=a.nodeIdxMap[h.target];if(d!==y){var _=a.nodeMap[h.source],k=a.nodeMap[h.target];if(!(!(0,f.isNumber)(k.x)||!(0,f.isNumber)(_.x)||!(0,f.isNumber)(k.y)||!(0,f.isNumber)(_.y))){var F=n[h.target+"-"+h.source],Y=F.vl,G=F.sqrtVl,ut=F.vx,ft=F.vy,Tt=(G-o(h))/G*s*l(h),Yt=ut*Tt,Ut=ft*Tt,Jt=u[c];e[y].x-=Yt*Jt,e[y].y-=Ut*Jt,e[d].x+=Yt*(1-Jt),e[d].y+=Ut*(1-Jt)}}}})},r}(sa),SN=wN,CN=800,MN=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.gravity=10,t.speed=1,t.clustering=!1,t.clusterGravity=10,t.nodes=[],t.edges=[],t.width=300,t.height=300,t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},r.prototype.execute=function(){var t=this,e=this,n=e.nodes,a=e.center;if(!(!n||n.length===0)){if(n.length===1){n[0].x=a[0],n[0].y=a[1];return}var o={},s={};n.forEach(function(l,u){(0,f.isNumber)(l.x)||(l.x=Math.random()*t.width),(0,f.isNumber)(l.y)||(l.y=Math.random()*t.height),o[l.id]=l,s[l.id]=u}),e.nodeMap=o,e.nodeIdxMap=s,e.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.width/10,l=Math.sqrt(t.width*t.height/(e.length+1)),u=t.gravity,h=t.speed,c=t.clustering,d={};if(c){e.forEach(function(F){if(d[F.cluster]===void 0){var Y={name:F.cluster,cx:0,cy:0,count:0};d[F.cluster]=Y}var G=d[F.cluster];(0,f.isNumber)(F.x)&&(G.cx+=F.x),(0,f.isNumber)(F.y)&&(G.cy+=F.y),G.count++});for(var y in d)d[y].cx/=d[y].count,d[y].cy/=d[y].count}for(var _=function(Y){var G=[];if(e.forEach(function(Tt,Yt){G[Yt]={x:0,y:0}}),t.applyCalculate(e,n,G,l),c){var ut=t.clusterGravity||u;e.forEach(function(Tt,Yt){if(!(!(0,f.isNumber)(Tt.x)||!(0,f.isNumber)(Tt.y))){var Ut=d[Tt.cluster],Jt=Math.sqrt((Tt.x-Ut.cx)*(Tt.x-Ut.cx)+(Tt.y-Ut.cy)*(Tt.y-Ut.cy)),Wt=l*ut;G[Yt].x-=Wt*(Tt.x-Ut.cx)/Jt,G[Yt].y-=Wt*(Tt.y-Ut.cy)/Jt}});for(var ft in d)d[ft].cx=0,d[ft].cy=0,d[ft].count=0;e.forEach(function(Tt){var Yt=d[Tt.cluster];(0,f.isNumber)(Tt.x)&&(Yt.cx+=Tt.x),(0,f.isNumber)(Tt.y)&&(Yt.cy+=Tt.y),Yt.count++});for(var ft in d)d[ft].cx/=d[ft].count,d[ft].cy/=d[ft].count}e.forEach(function(Tt,Yt){if(!(!(0,f.isNumber)(Tt.x)||!(0,f.isNumber)(Tt.y))){var Ut=.01*l*u;G[Yt].x-=Ut*(Tt.x-o[0]),G[Yt].y-=Ut*(Tt.y-o[1])}}),e.forEach(function(Tt,Yt){if(!(!(0,f.isNumber)(Tt.x)||!(0,f.isNumber)(Tt.y))){var Ut=Math.sqrt(G[Yt].x*G[Yt].x+G[Yt].y*G[Yt].y);if(Ut>0){var Jt=Math.min(s*(h/CN),Ut);Tt.x+=G[Yt].x/Ut*Jt,Tt.y+=G[Yt].y/Ut*Jt}}})},k=0;k<a;k++)_(k)},r.prototype.applyCalculate=function(t,e,n,a){var o=this;o.calRepulsive(t,n,a),o.calAttractive(e,n,a)},r.prototype.calRepulsive=function(t,e,n){t.forEach(function(a,o){e[o]={x:0,y:0},t.forEach(function(s,l){if(o!==l&&!(!(0,f.isNumber)(a.x)||!(0,f.isNumber)(s.x)||!(0,f.isNumber)(a.y)||!(0,f.isNumber)(s.y))){var u=a.x-s.x,h=a.y-s.y,c=u*u+h*h;if(c===0){c=1;var d=o>l?1:-1;u=.01*d,h=.01*d}var y=n*n/c;e[o].x+=u*y,e[o].y+=h*y}})})},r.prototype.calAttractive=function(t,e,n){var a=this;t.forEach(function(o){if(!(!o.source||!o.target)){var s=a.nodeIdxMap[o.source],l=a.nodeIdxMap[o.target];if(s!==l){var u=a.nodeMap[o.source],h=a.nodeMap[o.target];if(!(!(0,f.isNumber)(h.x)||!(0,f.isNumber)(u.x)||!(0,f.isNumber)(h.y)||!(0,f.isNumber)(u.y))){var c=h.x-u.x,d=h.y-u.y,y=Math.sqrt(c*c+d*d),_=y*y/n;e[l].x-=c/y*_,e[l].y-=d/y*_,e[s].x+=c/y*_,e[s].y+=d/y*_}}}})},r}(sa),EN=MN,AN=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.begin=[0,0],t.preventOverlap=!0,t.preventOverlapPadding=10,t.condense=!1,t.sortBy="degree",t.nodeSize=30,t.nodes=[],t.edges=[],t.center=[0,0],t.width=300,t.height=300,t.row=0,t.col=0,t.cellWidth=0,t.cellHeight=0,t.cellUsed={},t.id2manPos={},t}return r.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},r.prototype.execute=function(){var t=this,e=t.nodes,n=e.length,a=t.center;if(n!==0){if(n===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.edges,s=[];e.forEach(function(G){s.push(G)});var l={};if(s.forEach(function(G,ut){l[G.id]=ut}),(t.sortBy==="degree"||!(0,rn.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",Va(e[0].degree))){var u=$l(s.length,l,o);s.forEach(function(G,ut){G.degree=u[ut]})}s.sort(function(G,ut){return ut[t.sortBy]-G[t.sortBy]}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var h=t.rows,c=t.cols!=null?t.cols:t.columns;if(t.cells=n,h!=null&&c!=null?(t.rows=h,t.cols=c):h!=null&&c==null?(t.rows=h,t.cols=Math.ceil(t.cells/t.rows)):h==null&&c!=null?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){var d=t.small(),y=t.large();(d-1)*y>=t.cells?t.small(d-1):(y-1)*d>=t.cells&&t.large(y-1)}else for(;t.cols*t.rows<t.cells;){var d=t.small(),y=t.large();(y+1)*d>=t.cells?t.large(y+1):t.small(d+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&s.forEach(function(G){(!G.x||!G.y)&&(G.x=0,G.y=0);var ut,ft;(0,f.isArray)(G.size)?(ut=G.size[0],ft=G.size[1]):(0,f.isNumber)(G.size)&&(ut=G.size,ft=G.size),(ut===void 0||ft===void 0)&&((0,f.isArray)(t.nodeSize)?(ut=t.nodeSize[0],ft=t.nodeSize[1]):(0,f.isNumber)(t.nodeSize)?(ut=t.nodeSize,ft=t.nodeSize):(ut=30,ft=30));var Tt=t.preventOverlapPadding,Yt=ut+Tt,Ut=ft+Tt;t.cellWidth=Math.max(t.cellWidth,Yt),t.cellHeight=Math.max(t.cellHeight,Ut)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var _=0;_<s.length;_++){var k=s[_],F=void 0;if(t.position&&(F=t.position(k)),F&&(F.row!==void 0||F.col!==void 0)){var Y={row:F.row,col:F.col};if(Y.col===void 0)for(Y.col=0;t.used(Y.row,Y.col);)Y.col++;else if(Y.row===void 0)for(Y.row=0;t.used(Y.row,Y.col);)Y.row++;t.id2manPos[k.id]=Y,t.use(Y.row,Y.col)}t.getPos(k)}}},r.prototype.small=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.min(a,o);else{var s=Math.min(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.large=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.max(a,o);else{var s=Math.max(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.used=function(t,e){var n=this;return n.cellUsed["c-"+t+"-"+e]||!1},r.prototype.use=function(t,e){var n=this;n.cellUsed["c-"+t+"-"+e]=!0},r.prototype.moveToNextCell=function(){var t=this,e=t.cols||5;t.col++,t.col>=e&&(t.col=0,t.row++)},r.prototype.getPos=function(t){var e=this,n=e.begin,a=e.cellWidth,o=e.cellHeight,s,l,u=e.id2manPos[t.id];if(u)s=u.col*a+a/2+n[0],l=u.row*o+o/2+n[1];else{for(;e.used(e.row,e.col);)e.moveToNextCell();s=e.col*a+a/2+n[0],l=e.row*o+o/2+n[1],e.use(e.row,e.col),e.moveToNextCell()}t.x=s,t.y=l},r}(sa),_N=AN,TN=v(40670),Ex=v(81306),Ax=v(59206),hu=v(69610),cu=v(54941);const PN=Object.prototype.toString;function vu(i){return PN.call(i).endsWith("Array]")}function LN(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!vu(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]>o&&(o=i[s]);return o}var ON=LN;function IN(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!vu(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]<o&&(o=i[s]);return o}var kN=IN;function _x(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(vu(i)){if(i.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(r.output!==void 0){if(!vu(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(i.length);var e=kN(i),n=ON(i);if(e===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=r.min,o=a===void 0?r.autoMinMax?e:0:a,s=r.max,l=s===void 0?r.autoMinMax?n:1:s;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-o)/(n-e),h=0;h<i.length;h++)t[h]=(i[h]-e)*u+o;return t}var du=" ".repeat(2),Tx=" ".repeat(4);function BN(){return Px(this)}function Px(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.maxRows,e=t===void 0?15:t,n=r.maxColumns,a=n===void 0?10:n,o=r.maxNumSize,s=o===void 0?8:o;return"".concat(i.constructor.name,` {
`).concat(du,`[
`).concat(Tx).concat(DN(i,e,a,s),`
`).concat(du,`]
`).concat(du,"rows: ").concat(i.rows,`
`).concat(du,"columns: ").concat(i.columns,`
}`)}function DN(i,r,t,e){for(var n=i.rows,a=i.columns,o=Math.min(n,r),s=Math.min(a,t),l=[],u=0;u<o;u++){for(var h=[],c=0;c<s;c++)h.push(FN(i.get(u,c),e));l.push("".concat(h.join(" ")))}return s!==a&&(l[l.length-1]+=" ... ".concat(a-t," more columns")),o!==n&&l.push("... ".concat(n-r," more rows")),l.join(`
`.concat(Tx))}function FN(i,r){var t=String(i);if(t.length<=r)return t.padEnd(r," ");var e=i.toPrecision(r-2);if(e.length<=r)return e;var n=i.toExponential(r-2),a=n.indexOf("e"),o=n.slice(a);return n.slice(0,r-o.length)+o}function RN(i,r){i.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},i.prototype.addS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e);return this},i.prototype.addM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e.get(n,a));return this},i.add=function(e,n){var a=new r(e);return a.add(n)},i.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},i.prototype.subS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e);return this},i.prototype.subM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e.get(n,a));return this},i.sub=function(e,n){var a=new r(e);return a.sub(n)},i.prototype.subtract=i.prototype.sub,i.prototype.subtractS=i.prototype.subS,i.prototype.subtractM=i.prototype.subM,i.subtract=i.sub,i.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},i.prototype.mulS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e);return this},i.prototype.mulM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e.get(n,a));return this},i.mul=function(e,n){var a=new r(e);return a.mul(n)},i.prototype.multiply=i.prototype.mul,i.prototype.multiplyS=i.prototype.mulS,i.prototype.multiplyM=i.prototype.mulM,i.multiply=i.mul,i.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},i.prototype.divS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e);return this},i.prototype.divM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e.get(n,a));return this},i.div=function(e,n){var a=new r(e);return a.div(n)},i.prototype.divide=i.prototype.div,i.prototype.divideS=i.prototype.divS,i.prototype.divideM=i.prototype.divM,i.divide=i.div,i.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},i.prototype.modS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e);return this},i.prototype.modM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e.get(n,a));return this},i.mod=function(e,n){var a=new r(e);return a.mod(n)},i.prototype.modulus=i.prototype.mod,i.prototype.modulusS=i.prototype.modS,i.prototype.modulusM=i.prototype.modM,i.modulus=i.mod,i.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},i.prototype.andS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e);return this},i.prototype.andM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e.get(n,a));return this},i.and=function(e,n){var a=new r(e);return a.and(n)},i.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},i.prototype.orS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e);return this},i.prototype.orM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e.get(n,a));return this},i.or=function(e,n){var a=new r(e);return a.or(n)},i.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},i.prototype.xorS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e);return this},i.prototype.xorM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e.get(n,a));return this},i.xor=function(e,n){var a=new r(e);return a.xor(n)},i.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},i.prototype.leftShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e);return this},i.prototype.leftShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e.get(n,a));return this},i.leftShift=function(e,n){var a=new r(e);return a.leftShift(n)},i.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},i.prototype.signPropagatingRightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e);return this},i.prototype.signPropagatingRightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e.get(n,a));return this},i.signPropagatingRightShift=function(e,n){var a=new r(e);return a.signPropagatingRightShift(n)},i.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},i.prototype.rightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e);return this},i.prototype.rightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e.get(n,a));return this},i.rightShift=function(e,n){var a=new r(e);return a.rightShift(n)},i.prototype.zeroFillRightShift=i.prototype.rightShift,i.prototype.zeroFillRightShiftS=i.prototype.rightShiftS,i.prototype.zeroFillRightShiftM=i.prototype.rightShiftM,i.zeroFillRightShift=i.rightShift,i.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,~this.get(e,n));return this},i.not=function(e){var n=new r(e);return n.not()},i.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.abs(this.get(e,n)));return this},i.abs=function(e){var n=new r(e);return n.abs()},i.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acos(this.get(e,n)));return this},i.acos=function(e){var n=new r(e);return n.acos()},i.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acosh(this.get(e,n)));return this},i.acosh=function(e){var n=new r(e);return n.acosh()},i.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asin(this.get(e,n)));return this},i.asin=function(e){var n=new r(e);return n.asin()},i.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asinh(this.get(e,n)));return this},i.asinh=function(e){var n=new r(e);return n.asinh()},i.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atan(this.get(e,n)));return this},i.atan=function(e){var n=new r(e);return n.atan()},i.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atanh(this.get(e,n)));return this},i.atanh=function(e){var n=new r(e);return n.atanh()},i.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cbrt(this.get(e,n)));return this},i.cbrt=function(e){var n=new r(e);return n.cbrt()},i.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.ceil(this.get(e,n)));return this},i.ceil=function(e){var n=new r(e);return n.ceil()},i.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.clz32(this.get(e,n)));return this},i.clz32=function(e){var n=new r(e);return n.clz32()},i.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cos(this.get(e,n)));return this},i.cos=function(e){var n=new r(e);return n.cos()},i.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cosh(this.get(e,n)));return this},i.cosh=function(e){var n=new r(e);return n.cosh()},i.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.exp(this.get(e,n)));return this},i.exp=function(e){var n=new r(e);return n.exp()},i.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.expm1(this.get(e,n)));return this},i.expm1=function(e){var n=new r(e);return n.expm1()},i.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.floor(this.get(e,n)));return this},i.floor=function(e){var n=new r(e);return n.floor()},i.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.fround(this.get(e,n)));return this},i.fround=function(e){var n=new r(e);return n.fround()},i.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log(this.get(e,n)));return this},i.log=function(e){var n=new r(e);return n.log()},i.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log1p(this.get(e,n)));return this},i.log1p=function(e){var n=new r(e);return n.log1p()},i.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log10(this.get(e,n)));return this},i.log10=function(e){var n=new r(e);return n.log10()},i.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log2(this.get(e,n)));return this},i.log2=function(e){var n=new r(e);return n.log2()},i.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.round(this.get(e,n)));return this},i.round=function(e){var n=new r(e);return n.round()},i.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sign(this.get(e,n)));return this},i.sign=function(e){var n=new r(e);return n.sign()},i.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sin(this.get(e,n)));return this},i.sin=function(e){var n=new r(e);return n.sin()},i.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sinh(this.get(e,n)));return this},i.sinh=function(e){var n=new r(e);return n.sinh()},i.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sqrt(this.get(e,n)));return this},i.sqrt=function(e){var n=new r(e);return n.sqrt()},i.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tan(this.get(e,n)));return this},i.tan=function(e){var n=new r(e);return n.tan()},i.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tanh(this.get(e,n)));return this},i.tanh=function(e){var n=new r(e);return n.tanh()},i.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.trunc(this.get(e,n)));return this},i.trunc=function(e){var n=new r(e);return n.trunc()},i.pow=function(e,n){var a=new r(e);return a.pow(n)},i.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},i.prototype.powS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e));return this},i.prototype.powM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e.get(n,a)));return this}}function pa(i,r,t){var e=t?i.rows:i.rows-1;if(r<0||r>e)throw new RangeError("Row index out of range")}function ga(i,r,t){var e=t?i.columns:i.columns-1;if(r<0||r>e)throw new RangeError("Column index out of range")}function $o(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function Qo(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function NN(i,r,t){return{row:GN(i,r),column:YN(i,t)}}function GN(i,r){if(typeof r!="object")throw new TypeError("unexpected type for row indices");var t=r.some(function(e){return e<0||e>=i.rows});if(t)throw new RangeError("row indices are out of range");return Array.isArray(r)||(r=Array.from(r)),r}function YN(i,r){if(typeof r!="object")throw new TypeError("unexpected type for column indices");var t=r.some(function(e){return e<0||e>=i.columns});if(t)throw new RangeError("column indices are out of range");return Array.isArray(r)||(r=Array.from(r)),r}function Lx(i,r,t,e,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(gu("startRow",r),gu("endRow",t),gu("startColumn",e),gu("endColumn",n),r>t||e>n||r<0||r>=i.rows||t<0||t>=i.rows||e<0||e>=i.columns||n<0||n>=i.columns)throw new RangeError("Submatrix indices are out of range")}function pu(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],e=0;e<i;e++)t.push(r);return t}function gu(i,r){if(typeof r!="number")throw new TypeError("".concat(i," must be a number"))}function Jo(i){if(i.isEmpty())throw new Error("Empty matrix has no elements to index")}function zN(i){for(var r=pu(i.rows),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]+=i.get(t,e);return r}function XN(i){for(var r=pu(i.columns),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]+=i.get(t,e);return r}function VN(i){for(var r=0,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r+=i.get(t,e);return r}function HN(i){for(var r=pu(i.rows,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]*=i.get(t,e);return r}function WN(i){for(var r=pu(i.columns,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]*=i.get(t,e);return r}function jN(i){for(var r=1,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r*=i.get(t,e);return r}function UN(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<e;o++){for(var s=0,l=0,u=0,h=0;h<n;h++)u=i.get(o,h)-t[o],s+=u,l+=u*u;r?a.push((l-s*s/n)/(n-1)):a.push((l-s*s/n)/n)}return a}function ZN(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<n;o++){for(var s=0,l=0,u=0,h=0;h<e;h++)u=i.get(h,o)-t[o],s+=u,l+=u*u;r?a.push((l-s*s/e)/(e-1)):a.push((l-s*s/e)/e)}return a}function KN(i,r,t){for(var e=i.rows,n=i.columns,a=e*n,o=0,s=0,l=0,u=0;u<e;u++)for(var h=0;h<n;h++)l=i.get(u,h)-t,o+=l,s+=l*l;return r?(s-o*o/a)/(a-1):(s-o*o/a)/a}function $N(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[t])}function QN(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[e])}function JN(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r)}function qN(i){for(var r=[],t=0;t<i.rows;t++){for(var e=0,n=0;n<i.columns;n++)e+=Math.pow(i.get(t,n),2)/(i.columns-1);r.push(Math.sqrt(e))}return r}function t4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[t])}function e4(i){for(var r=[],t=0;t<i.columns;t++){for(var e=0,n=0;n<i.rows;n++)e+=Math.pow(i.get(n,t),2)/(i.rows-1);r.push(Math.sqrt(e))}return r}function r4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[e])}function n4(i){for(var r=i.size-1,t=0,e=0;e<i.columns;e++)for(var n=0;n<i.rows;n++)t+=Math.pow(i.get(n,e),2)/r;return Math.sqrt(t)}function i4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r)}var ni=function(){function i(){(0,hu.Z)(this,i)}return(0,cu.Z)(i,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.call(this,e,n);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);t++}return a}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);for(var s=e+1;s<this.rows;s++)this.get(t,s)!==0&&(a=!1);t++}return a}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,n=0;e<t.rows&&n<t.columns;){for(var a=e,o=e;o<t.rows;o++)t.get(o,n)>t.get(a,n)&&(a=o);if(t.get(a,n)===0)n++;else{t.swapRows(e,a);for(var s=t.get(e,n),l=n;l<t.columns;l++)t.set(e,l,t.get(e,l)/s);for(var u=e+1;u<t.rows;u++){var h=t.get(u,n)/t.get(e,n);t.set(u,n,0);for(var c=n+1;c<t.columns;c++)t.set(u,c,t.get(u,c)-t.get(e,c)*h)}e++,n++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,n=t.rows,a=n-1;a>=0;)if(t.maxRow(a)===0)a--;else{for(var o=0,s=!1;o<n&&s===!1;)t.get(a,o)===1?s=!0:o++;for(var l=0;l<a;l++)for(var u=t.get(l,o),h=o;h<e;h++){var c=t.get(l,h)-u*t.get(a,h);t.set(l,h,c)}a--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.rows,n=e===void 0?1:e,a=t.columns,o=a===void 0?1:a;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var s=new Fr(this.rows*n,this.columns*o),l=0;l<n;l++)for(var u=0;u<o;u++)s.setSubMatrix(this,this.rows*l,this.columns*u);return s}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){pa(this,t);for(var e=[],n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"getRowVector",value:function(t){return Fr.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){pa(this,t),e=$o(this,e);for(var n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}},{key:"swapRows",value:function(t,e){pa(this,t),pa(this,e);for(var n=0;n<this.columns;n++){var a=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,a)}return this}},{key:"getColumn",value:function(t){ga(this,t);for(var e=[],n=0;n<this.rows;n++)e.push(this.get(n,t));return e}},{key:"getColumnVector",value:function(t){return Fr.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){ga(this,t),e=Qo(this,e);for(var n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}},{key:"swapColumns",value:function(t,e){ga(this,t),ga(this,e);for(var n=0;n<this.rows;n++){var a=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,a)}return this}},{key:"addRowVector",value:function(t){t=$o(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}},{key:"subRowVector",value:function(t){t=$o(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}},{key:"mulRowVector",value:function(t){t=$o(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}},{key:"divRowVector",value:function(t){t=$o(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}},{key:"addColumnVector",value:function(t){t=Qo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=Qo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=Qo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=Qo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}},{key:"mulRow",value:function(t,e){pa(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}},{key:"mulColumn",value:function(t,e){ga(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxIndex",value:function(){Jo(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minIndex",value:function(){Jo(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"maxRow",value:function(t){if(pa(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxRowIndex",value:function(t){pa(this,t),Jo(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)>e&&(e=this.get(t,a),n[1]=a);return n}},{key:"minRow",value:function(t){if(pa(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minRowIndex",value:function(t){pa(this,t),Jo(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)<e&&(e=this.get(t,a),n[1]=a);return n}},{key:"maxColumn",value:function(t){if(ga(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}},{key:"maxColumnIndex",value:function(t){ga(this,t),Jo(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)>e&&(e=this.get(a,t),n[0]=a);return n}},{key:"minColumn",value:function(t){if(ga(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}},{key:"minColumnIndex",value:function(t){ga(this,t),Jo(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)<e&&(e=this.get(a,t),n[0]=a);return n}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],n=0;n<t;n++)e.push(this.get(n,n));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",e=0;if(t==="max")return this.max();if(t==="frobenius"){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)e=e+this.get(n,a)*this.get(n,a);return Math.sqrt(e)}else throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}},{key:"dot",value:function(t){i.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,a=0;a<e.length;a++)n+=e[a]*t[a];return n}},{key:"mmul",value:function(t){t=Fr.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.columns,o=new Fr(e,a),s=new Float64Array(n),l=0;l<a;l++){for(var u=0;u<n;u++)s[u]=t.get(u,l);for(var h=0;h<e;h++){for(var c=0,d=0;d<n;d++)c+=this.get(h,d)*s[d];o.set(h,l,c)}}return o}},{key:"strassen2x2",value:function(t){t=Fr.checkMatrix(t);var e=new Fr(2,2),n=this.get(0,0),a=t.get(0,0),o=this.get(0,1),s=t.get(0,1),l=this.get(1,0),u=t.get(1,0),h=this.get(1,1),c=t.get(1,1),d=(n+h)*(a+c),y=(l+h)*a,_=n*(s-c),k=h*(u-a),F=(n+o)*c,Y=(l-n)*(a+s),G=(o-h)*(u+c),ut=d+k-F+G,ft=_+F,Tt=y+k,Yt=d-y+_+Y;return e.set(0,0,ut),e.set(0,1,ft),e.set(1,0,Tt),e.set(1,1,Yt),e}},{key:"strassen3x3",value:function(t){t=Fr.checkMatrix(t);var e=new Fr(3,3),n=this.get(0,0),a=this.get(0,1),o=this.get(0,2),s=this.get(1,0),l=this.get(1,1),u=this.get(1,2),h=this.get(2,0),c=this.get(2,1),d=this.get(2,2),y=t.get(0,0),_=t.get(0,1),k=t.get(0,2),F=t.get(1,0),Y=t.get(1,1),G=t.get(1,2),ut=t.get(2,0),ft=t.get(2,1),Tt=t.get(2,2),Yt=(n+a+o-s-l-c-d)*Y,Ut=(n-s)*(-_+Y),Jt=l*(-y+_+F-Y-G-ut+Tt),Wt=(-n+s+l)*(y-_+Y),ee=(s+l)*(-y+_),ue=n*y,oe=(-n+h+c)*(y-k+G),we=(-n+h)*(k-G),_e=(h+c)*(-y+k),Ee=(n+a+o-l-u-h-c)*G,Re=c*(-y+k+F-Y-G-ut+ft),Ye=(-o+c+d)*(Y+ut-ft),Xe=(o-d)*(Y-ft),De=o*ut,Fe=(c+d)*(-ut+ft),er=(-o+l+u)*(G+ut-Tt),tr=(o-u)*(G-Tt),or=(l+u)*(-ut+Tt),Ve=a*F,nr=u*ft,yr=s*k,ar=h*_,ir=d*Tt,Sr=ue+De+Ve,Dr=Yt+Wt+ee+ue+Ye+De+Fe,hr=ue+oe+_e+Ee+De+er+or,Pe=Ut+Jt+Wt+ue+De+er+tr,He=Ut+Wt+ee+ue+nr,Cr=De+er+tr+or+yr,Pr=ue+oe+we+Re+Ye+Xe+De,pr=Ye+Xe+De+Fe+ar,Rr=ue+oe+we+_e+ir;return e.set(0,0,Sr),e.set(0,1,Dr),e.set(0,2,hr),e.set(1,0,Pe),e.set(1,1,He),e.set(1,2,Cr),e.set(2,0,Pr),e.set(2,1,pr),e.set(2,2,Rr),e}},{key:"mmulStrassen",value:function(t){t=Fr.checkMatrix(t);var e=this.clone(),n=e.rows,a=e.columns,o=t.rows,s=t.columns;a!==o&&console.warn("Multiplying ".concat(n," x ").concat(a," and ").concat(o," x ").concat(s," matrix: dimensions do not match."));function l(d,y,_){var k=d.rows,F=d.columns;if(k===y&&F===_)return d;var Y=i.zeros(y,_);return Y=Y.setSubMatrix(d,0,0),Y}var u=Math.max(n,o),h=Math.max(a,s);e=l(e,u,h),t=l(t,u,h);function c(d,y,_,k){if(_<=512||k<=512)return d.mmul(y);_%2==1&&k%2==1?(d=l(d,_+1,k+1),y=l(y,_+1,k+1)):_%2==1?(d=l(d,_+1,k),y=l(y,_+1,k)):k%2==1&&(d=l(d,_,k+1),y=l(y,_,k+1));var F=parseInt(d.rows/2,10),Y=parseInt(d.columns/2,10),G=d.subMatrix(0,F-1,0,Y-1),ut=y.subMatrix(0,F-1,0,Y-1),ft=d.subMatrix(0,F-1,Y,d.columns-1),Tt=y.subMatrix(0,F-1,Y,y.columns-1),Yt=d.subMatrix(F,d.rows-1,0,Y-1),Ut=y.subMatrix(F,y.rows-1,0,Y-1),Jt=d.subMatrix(F,d.rows-1,Y,d.columns-1),Wt=y.subMatrix(F,y.rows-1,Y,y.columns-1),ee=c(i.add(G,Jt),i.add(ut,Wt),F,Y),ue=c(i.add(Yt,Jt),ut,F,Y),oe=c(G,i.sub(Tt,Wt),F,Y),we=c(Jt,i.sub(Ut,ut),F,Y),_e=c(i.add(G,ft),Wt,F,Y),Ee=c(i.sub(Yt,G),i.add(ut,Tt),F,Y),Re=c(i.sub(ft,Jt),i.add(Ut,Wt),F,Y),Ye=i.add(ee,we);Ye.sub(_e),Ye.add(Re);var Xe=i.add(oe,_e),De=i.add(ue,we),Fe=i.sub(ee,ue);Fe.add(oe),Fe.add(Ee);var er=i.zeros(2*Ye.rows,2*Ye.columns);return er=er.setSubMatrix(Ye,0,0),er=er.setSubMatrix(Xe,Ye.rows,0),er=er.setSubMatrix(De,0,Ye.columns),er=er.setSubMatrix(Fe,Ye.rows,Ye.columns),er.subMatrix(0,_-1,0,k-1)}return c(e,t,u,h)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new Fr(this.rows,this.columns),l=0;l<this.rows;l++){var u=this.getRow(l);u.length>0&&_x(u,{min:n,max:o,output:u}),s.setRow(l,u)}return s}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new Fr(this.rows,this.columns),l=0;l<this.columns;l++){var u=this.getColumn(l);u.length&&_x(u,{min:n,max:o,output:u}),s.setColumn(l,u)}return s}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var n=0;n<t;n++){var a=this.get(e,n),o=this.get(e,this.columns-1-n);this.set(e,n,o),this.set(e,this.columns-1-n,a)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var n=0;n<t;n++){var a=this.get(n,e),o=this.get(this.rows-1-n,e);this.set(n,e,o),this.set(this.rows-1-n,e,a)}return this}},{key:"kroneckerProduct",value:function(t){t=Fr.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.rows,o=t.columns,s=new Fr(e*a,n*o),l=0;l<e;l++)for(var u=0;u<n;u++)for(var h=0;h<a;h++)for(var c=0;c<o;c++)s.set(a*l+h,o*u+c,this.get(l,u)*t.get(h,c));return s}},{key:"kroneckerSum",value:function(t){if(t=Fr.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,n=t.rows,a=this.kroneckerProduct(Fr.eye(n,n)),o=Fr.eye(e,e).kroneckerProduct(t);return a.add(o)}},{key:"transpose",value:function(){for(var t=new Fr(this.columns,this.rows),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ox,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ox,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,n,a){Lx(this,t,e,n,a);for(var o=new Fr(e-t+1,a-n+1),s=t;s<=e;s++)for(var l=n;l<=a;l++)o.set(s-t,l-n,this.get(s,l));return o}},{key:"subMatrixRow",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var a=new Fr(t.length,n-e+1),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[o]));a.set(o,s-e,this.get(t[o],s))}return a}},{key:"subMatrixColumn",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var a=new Fr(n-e+1,t.length),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[o]));a.set(s-e,o,this.get(s,t[o]))}return a}},{key:"setSubMatrix",value:function(t,e,n){if(t=Fr.checkMatrix(t),t.isEmpty())return this;var a=e+t.rows-1,o=n+t.columns-1;Lx(this,e,a,n,o);for(var s=0;s<t.rows;s++)for(var l=0;l<t.columns;l++)this.set(e+s,n+l,t.get(s,l));return this}},{key:"selection",value:function(t,e){for(var n=NN(this,t,e),a=new Fr(t.length,e.length),o=0;o<n.row.length;o++)for(var s=n.row[o],l=0;l<n.column.length;l++){var u=n.column[l];a.set(o,l,this.get(s,u))}return a}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,n=0;n<t;n++)e+=this.get(n,n);return e}},{key:"clone",value:function(){for(var t=new Fr(this.rows,this.columns),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}},{key:"sum",value:function(t){switch(t){case"row":return zN(this);case"column":return XN(this);case void 0:return VN(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return HN(this);case"column":return WN(this);case void 0:return jN(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var n=0;n<this.rows;n++)e[n]/=this.columns;return e}case"column":{for(var a=0;a<this.columns;a++)e[a]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.unbiased,o=a===void 0?!0:a,s=n.mean,l=s===void 0?this.mean(t):s;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!Array.isArray(l))throw new TypeError("mean must be an array");return UN(this,o,l)}case"column":{if(!Array.isArray(l))throw new TypeError("mean must be an array");return ZN(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return KN(this,o,l)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){typeof t=="object"&&(e=t,t=void 0);var n=this.variance(t,e);if(t===void 0)return Math.sqrt(n);for(var a=0;a<n.length;a++)n[a]=Math.sqrt(n[a]);return n}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.center,o=a===void 0?this.mean(t):a;switch(t){case"row":{if(!Array.isArray(o))throw new TypeError("center must be an array");return $N(this,o),this}case"column":{if(!Array.isArray(o))throw new TypeError("center must be an array");return QN(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return JN(this,o),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e.scale;switch(t){case"row":{if(n===void 0)n=qN(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return t4(this,n),this}case"column":{if(n===void 0)n=e4(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return r4(this,n),this}case void 0:{if(n===void 0)n=n4(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return i4(this,n),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return Px(this,t)}}],[{key:"from1DArray",value:function(t,e,n){var a=t*e;if(a!==n.length)throw new RangeError("data length does not match given dimensions");for(var o=new Fr(t,e),s=0;s<t;s++)for(var l=0;l<e;l++)o.set(s,l,n[s*e+l]);return o}},{key:"rowVector",value:function(t){for(var e=new Fr(1,t.length),n=0;n<t.length;n++)e.set(0,n,t[n]);return e}},{key:"columnVector",value:function(t){for(var e=new Fr(t.length,1),n=0;n<t.length;n++)e.set(n,0,t[n]);return e}},{key:"zeros",value:function(t,e){return new Fr(t,e)}},{key:"ones",value:function(t,e){return new Fr(t,e).fill(1)}},{key:"rand",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");for(var a=n.random,o=a===void 0?Math.random:a,s=new Fr(t,e),l=0;l<t;l++)for(var u=0;u<e;u++)s.set(l,u,o());return s}},{key:"randInt",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");var a=n.min,o=a===void 0?0:a,s=n.max,l=s===void 0?1e3:s,u=n.random,h=u===void 0?Math.random:u;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(l))throw new TypeError("max must be an integer");if(o>=l)throw new RangeError("min must be smaller than max");for(var c=l-o,d=new Fr(t,e),y=0;y<t;y++)for(var _=0;_<e;_++){var k=o+Math.round(h()*c);d.set(y,_,k)}return d}},{key:"eye",value:function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=1);for(var a=Math.min(t,e),o=this.zeros(t,e),s=0;s<a;s++)o.set(s,s,n);return o}},{key:"diag",value:function(t,e,n){var a=t.length;e===void 0&&(e=a),n===void 0&&(n=e);for(var o=Math.min(a,e,n),s=this.zeros(e,n),l=0;l<o;l++)s.set(l,l,t[l]);return s}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new Fr(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.min(t.get(s,l),e.get(s,l)));return o}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new this(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.max(t.get(s,l),e.get(s,l)));return o}},{key:"checkMatrix",value:function(t){return i.isMatrix(t)?t:new Fr(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),i}();ni.prototype.klass="Matrix",typeof Symbol!="undefined"&&(ni.prototype[Symbol.for("nodejs.util.inspect.custom")]=BN);function Ox(i,r){return i-r}ni.random=ni.rand,ni.randomInt=ni.randInt,ni.diagonal=ni.diag,ni.prototype.diagonal=ni.prototype.diag,ni.identity=ni.eye,ni.prototype.negate=ni.prototype.neg,ni.prototype.tensorProduct=ni.prototype.kroneckerProduct;var Fr=function(i){(0,Ex.Z)(t,i);var r=(0,Ax.Z)(t);function t(e,n){var a;if((0,hu.Z)(this,t),a=r.call(this),t.isMatrix(e))return(0,TN.Z)(a,e.clone());if(Number.isInteger(e)&&e>=0)if(a.data=[],Number.isInteger(n)&&n>=0)for(var o=0;o<e;o++)a.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(Array.isArray(e)){var s=e;if(e=s.length,n=e?s[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");a.data=[];for(var l=0;l<e;l++){if(s[l].length!==n)throw new RangeError("Inconsistent array dimensions");a.data.push(Float64Array.from(s[l]))}}else throw new TypeError("First argument must be a positive number or an array");return a.rows=e,a.columns=n,a}return(0,cu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}},{key:"removeRow",value:function(n){return pa(this,n),this.data.splice(n,1),this.rows-=1,this}},{key:"addRow",value:function(n,a){return a===void 0&&(a=n,n=this.rows),pa(this,n,!0),a=Float64Array.from($o(this,a)),this.data.splice(n,0,a),this.rows+=1,this}},{key:"removeColumn",value:function(n){ga(this,n);for(var a=0;a<this.rows;a++){for(var o=new Float64Array(this.columns-1),s=0;s<n;s++)o[s]=this.data[a][s];for(var l=n+1;l<this.columns;l++)o[l-1]=this.data[a][l];this.data[a]=o}return this.columns-=1,this}},{key:"addColumn",value:function(n,a){typeof a=="undefined"&&(a=n,n=this.columns),ga(this,n,!0),a=Qo(this,a);for(var o=0;o<this.rows;o++){for(var s=new Float64Array(this.columns+1),l=0;l<n;l++)s[l]=this.data[o][l];for(s[l++]=a[o];l<this.columns+1;l++)s[l]=this.data[o][l-1];this.data[o]=s}return this.columns+=1,this}}]),t}(ni);RN(ni,Fr);var a4=function(i){(0,Ex.Z)(t,i);var r=(0,Ax.Z)(t);function t(e){var n;return(0,hu.Z)(this,t),n=r.call(this),n.data=e,n.rows=e.length,n.columns=e[0].length,n}return(0,cu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}}]),t}(ni);function qo(i,r){var t=0;return Math.abs(i)>Math.abs(r)?(t=r/i,Math.abs(i)*Math.sqrt(1+t*t)):r!==0?(t=i/r,Math.abs(r)*Math.sqrt(1+t*t)):0}var Ix=function(){function i(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,hu.Z)(this,i),r=a4.checkMatrix(r),r.isEmpty())throw new Error("Matrix must be non-empty");var e=r.rows,n=r.columns,a=t.computeLeftSingularVectors,o=a===void 0?!0:a,s=t.computeRightSingularVectors,l=s===void 0?!0:s,u=t.autoTranspose,h=u===void 0?!1:u,c=Boolean(o),d=Boolean(l),y=!1,_;if(e<n)if(!h)_=r.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{_=r.transpose(),e=_.rows,n=_.columns,y=!0;var k=c;c=d,d=k}else _=r.clone();for(var F=Math.min(e,n),Y=Math.min(e+1,n),G=new Float64Array(Y),ut=new Fr(e,F),ft=new Fr(n,n),Tt=new Float64Array(n),Yt=new Float64Array(e),Ut=new Float64Array(Y),Jt=0;Jt<Y;Jt++)Ut[Jt]=Jt;for(var Wt=Math.min(e-1,n),ee=Math.max(0,Math.min(n-2,e)),ue=Math.max(Wt,ee),oe=0;oe<ue;oe++){if(oe<Wt){G[oe]=0;for(var we=oe;we<e;we++)G[oe]=qo(G[oe],_.get(we,oe));if(G[oe]!==0){_.get(oe,oe)<0&&(G[oe]=-G[oe]);for(var _e=oe;_e<e;_e++)_.set(_e,oe,_.get(_e,oe)/G[oe]);_.set(oe,oe,_.get(oe,oe)+1)}G[oe]=-G[oe]}for(var Ee=oe+1;Ee<n;Ee++){if(oe<Wt&&G[oe]!==0){for(var Re=0,Ye=oe;Ye<e;Ye++)Re+=_.get(Ye,oe)*_.get(Ye,Ee);Re=-Re/_.get(oe,oe);for(var Xe=oe;Xe<e;Xe++)_.set(Xe,Ee,_.get(Xe,Ee)+Re*_.get(Xe,oe))}Tt[Ee]=_.get(oe,Ee)}if(c&&oe<Wt)for(var De=oe;De<e;De++)ut.set(De,oe,_.get(De,oe));if(oe<ee){Tt[oe]=0;for(var Fe=oe+1;Fe<n;Fe++)Tt[oe]=qo(Tt[oe],Tt[Fe]);if(Tt[oe]!==0){Tt[oe+1]<0&&(Tt[oe]=0-Tt[oe]);for(var er=oe+1;er<n;er++)Tt[er]/=Tt[oe];Tt[oe+1]+=1}if(Tt[oe]=-Tt[oe],oe+1<e&&Tt[oe]!==0){for(var tr=oe+1;tr<e;tr++)Yt[tr]=0;for(var or=oe+1;or<e;or++)for(var Ve=oe+1;Ve<n;Ve++)Yt[or]+=Tt[Ve]*_.get(or,Ve);for(var nr=oe+1;nr<n;nr++)for(var yr=-Tt[nr]/Tt[oe+1],ar=oe+1;ar<e;ar++)_.set(ar,nr,_.get(ar,nr)+yr*Yt[ar])}if(d)for(var ir=oe+1;ir<n;ir++)ft.set(ir,oe,Tt[ir])}}var Sr=Math.min(n,e+1);if(Wt<n&&(G[Wt]=_.get(Wt,Wt)),e<Sr&&(G[Sr-1]=0),ee+1<Sr&&(Tt[ee]=_.get(ee,Sr-1)),Tt[Sr-1]=0,c){for(var Dr=Wt;Dr<F;Dr++){for(var hr=0;hr<e;hr++)ut.set(hr,Dr,0);ut.set(Dr,Dr,1)}for(var Pe=Wt-1;Pe>=0;Pe--)if(G[Pe]!==0){for(var He=Pe+1;He<F;He++){for(var Cr=0,Pr=Pe;Pr<e;Pr++)Cr+=ut.get(Pr,Pe)*ut.get(Pr,He);Cr=-Cr/ut.get(Pe,Pe);for(var pr=Pe;pr<e;pr++)ut.set(pr,He,ut.get(pr,He)+Cr*ut.get(pr,Pe))}for(var Rr=Pe;Rr<e;Rr++)ut.set(Rr,Pe,-ut.get(Rr,Pe));ut.set(Pe,Pe,1+ut.get(Pe,Pe));for(var kr=0;kr<Pe-1;kr++)ut.set(kr,Pe,0)}else{for(var Er=0;Er<e;Er++)ut.set(Er,Pe,0);ut.set(Pe,Pe,1)}}if(d)for(var Nr=n-1;Nr>=0;Nr--){if(Nr<ee&&Tt[Nr]!==0)for(var Ur=Nr+1;Ur<n;Ur++){for(var wn=0,an=Nr+1;an<n;an++)wn+=ft.get(an,Nr)*ft.get(an,Ur);wn=-wn/ft.get(Nr+1,Nr);for(var Pn=Nr+1;Pn<n;Pn++)ft.set(Pn,Ur,ft.get(Pn,Ur)+wn*ft.get(Pn,Nr))}for(var Bn=0;Bn<n;Bn++)ft.set(Bn,Nr,0);ft.set(Nr,Nr,1)}for(var pi=Sr-1,Si=0,jn=Number.EPSILON;Sr>0;){var mr=void 0,Ln=void 0;for(mr=Sr-2;mr>=-1&&mr!==-1;mr--){var ii=Number.MIN_VALUE+jn*Math.abs(G[mr]+Math.abs(G[mr+1]));if(Math.abs(Tt[mr])<=ii||Number.isNaN(Tt[mr])){Tt[mr]=0;break}}if(mr===Sr-2)Ln=4;else{var Kn=void 0;for(Kn=Sr-1;Kn>=mr&&Kn!==mr;Kn--){var Ia=(Kn!==Sr?Math.abs(Tt[Kn]):0)+(Kn!==mr+1?Math.abs(Tt[Kn-1]):0);if(Math.abs(G[Kn])<=jn*Ia){G[Kn]=0;break}}Kn===mr?Ln=3:Kn===Sr-1?Ln=1:(Ln=2,mr=Kn)}switch(mr++,Ln){case 1:{var ai=Tt[Sr-2];Tt[Sr-2]=0;for(var sn=Sr-2;sn>=mr;sn--){var en=qo(G[sn],ai),Sn=G[sn]/en,An=ai/en;if(G[sn]=en,sn!==mr&&(ai=-An*Tt[sn-1],Tt[sn-1]=Sn*Tt[sn-1]),d)for(var Ci=0;Ci<n;Ci++)en=Sn*ft.get(Ci,sn)+An*ft.get(Ci,Sr-1),ft.set(Ci,Sr-1,-An*ft.get(Ci,sn)+Sn*ft.get(Ci,Sr-1)),ft.set(Ci,sn,en)}break}case 2:{var _o=Tt[mr-1];Tt[mr-1]=0;for(var ya=mr;ya<Sr;ya++){var Gs=qo(G[ya],_o),oc=G[ya]/Gs,sc=_o/Gs;if(G[ya]=Gs,_o=-sc*Tt[ya],Tt[ya]=oc*Tt[ya],c)for(var so=0;so<e;so++)Gs=oc*ut.get(so,ya)+sc*ut.get(so,mr-1),ut.set(so,mr-1,-sc*ut.get(so,ya)+oc*ut.get(so,mr-1)),ut.set(so,ya,Gs)}break}case 3:{var Ys=Math.max(Math.abs(G[Sr-1]),Math.abs(G[Sr-2]),Math.abs(Tt[Sr-2]),Math.abs(G[mr]),Math.abs(Tt[mr])),es=G[Sr-1]/Ys,P1=G[Sr-2]/Ys,Du=Tt[Sr-2]/Ys,lc=G[mr]/Ys,tG=Tt[mr]/Ys,To=((P1+es)*(P1-es)+Du*Du)/2,Fu=es*Du*(es*Du),zs=0;(To!==0||Fu!==0)&&(To<0?zs=0-Math.sqrt(To*To+Fu):zs=Math.sqrt(To*To+Fu),zs=Fu/(To+zs));for(var Po=(lc+es)*(lc-es)+zs,rs=lc*tG,ln=mr;ln<Sr-1;ln++){var Xi=qo(Po,rs);Xi===0&&(Xi=Number.MIN_VALUE);var ma=Po/Xi,xa=rs/Xi;if(ln!==mr&&(Tt[ln-1]=Xi),Po=ma*G[ln]+xa*Tt[ln],Tt[ln]=ma*Tt[ln]-xa*G[ln],rs=xa*G[ln+1],G[ln+1]=ma*G[ln+1],d)for(var lo=0;lo<n;lo++)Xi=ma*ft.get(lo,ln)+xa*ft.get(lo,ln+1),ft.set(lo,ln+1,-xa*ft.get(lo,ln)+ma*ft.get(lo,ln+1)),ft.set(lo,ln,Xi);if(Xi=qo(Po,rs),Xi===0&&(Xi=Number.MIN_VALUE),ma=Po/Xi,xa=rs/Xi,G[ln]=Xi,Po=ma*Tt[ln]+xa*G[ln+1],G[ln+1]=-xa*Tt[ln]+ma*G[ln+1],rs=xa*Tt[ln+1],Tt[ln+1]=ma*Tt[ln+1],c&&ln<e-1)for(var uo=0;uo<e;uo++)Xi=ma*ut.get(uo,ln)+xa*ut.get(uo,ln+1),ut.set(uo,ln+1,-xa*ut.get(uo,ln)+ma*ut.get(uo,ln+1)),ut.set(uo,ln,Xi)}Tt[Sr-2]=Po,Si=Si+1;break}case 4:{if(G[mr]<=0&&(G[mr]=G[mr]<0?-G[mr]:0,d))for(var Ru=0;Ru<=pi;Ru++)ft.set(Ru,mr,-ft.get(Ru,mr));for(;mr<pi&&!(G[mr]>=G[mr+1]);){var Xs=G[mr];if(G[mr]=G[mr+1],G[mr+1]=Xs,d&&mr<n-1)for(var ns=0;ns<n;ns++)Xs=ft.get(ns,mr+1),ft.set(ns,mr+1,ft.get(ns,mr)),ft.set(ns,mr,Xs);if(c&&mr<e-1)for(var is=0;is<e;is++)Xs=ut.get(is,mr+1),ut.set(is,mr+1,ut.get(is,mr)),ut.set(is,mr,Xs);mr++}Si=0,Sr--;break}}}if(y){var eG=ft;ft=ut,ut=eG}this.m=e,this.n=n,this.s=G,this.U=ut,this.V=ft}return(0,cu.Z)(i,[{key:"solve",value:function(t){for(var e=t,n=this.threshold,a=this.s.length,o=Fr.zeros(a,a),s=0;s<a;s++)Math.abs(this.s[s])<=n?o.set(s,s,0):o.set(s,s,1/this.s[s]);for(var l=this.U,u=this.rightSingularVectors,h=u.mmul(o),c=u.rows,d=l.rows,y=Fr.zeros(c,d),_=0;_<c;_++)for(var k=0;k<d;k++){for(var F=0,Y=0;Y<a;Y++)F+=h.get(_,Y)*l.get(k,Y);y.set(_,k,F)}return y.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(Fr.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,n=t.rows,a=t.columns,o=new Fr(n,this.s.length),s=0;s<n;s++)for(var l=0;l<a;l++)Math.abs(this.s[l])>e&&o.set(s,l,t.get(s,l)/this.s[l]);for(var u=this.U,h=u.rows,c=u.columns,d=new Fr(n,h),y=0;y<n;y++)for(var _=0;_<h;_++){for(var k=0,F=0;F<c;F++)k+=o.get(y,F)*u.get(_,F);d.set(y,_,k)}return d}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s,a=0,o=n.length;a<o;a++)n[a]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return Fr.diag(this.s)}}]),i}(),o4=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.linkDistance=50,t.scaledDistances=null,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=n===void 0?[]:n,o=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.linkDistance,l=Th({nodes:e,edges:a},!1),u=_h(l);t.handleInfinity(u);var h=Am(u,s);t.scaledDistances=h;var c=t.runMDS();t.positions=c,c.forEach(function(d,y){e[y].x=d[0]+o[0],e[y].y=d[1]+o[1]})}},r.prototype.runMDS=function(){var t=this,e=2,n=t.scaledDistances,a=Fr.mul(Fr.pow(n,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new Ix(a),h=Fr.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(c){return Fr.mul([c],[h]).toJSON()[0].splice(0,e)})},r.prototype.handleInfinity=function(t){var e=-999999;t.forEach(function(n){n.forEach(function(a){a!==Infinity&&e<a&&(e=a)})}),t.forEach(function(n,a){n.forEach(function(o,s){o===Infinity&&(t[a][s]=e)})})},r}(sa),s4=o4,l4=function(){function i(r){this.distances=r.distances,this.dimension=r.dimension||2,this.linkDistance=r.linkDistance}return i.prototype.layout=function(){var r=this,t=r.dimension,e=r.distances,n=r.linkDistance;try{var a=Fr.mul(Fr.pow(e,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new Ix(a),h=Fr.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(k){return Fr.mul([k],[h]).toJSON()[0].splice(0,t)})}catch(k){for(var c=[],d=0;d<e.length;d++){var y=Math.random()*n,_=Math.random()*n;c.push([y,_])}return c}},i}(),u4=l4,f4=800,h4=function(){function i(r){this.disp=[],this.positions=r.positions,this.adjMatrix=r.adjMatrix,this.focusID=r.focusID,this.radii=r.radii,this.iterations=r.iterations||10,this.height=r.height||10,this.width=r.width||10,this.speed=r.speed||100,this.gravity=r.gravity||10,this.nodeSizeFunc=r.nodeSizeFunc,this.k=r.k||5,this.strictRadial=r.strictRadial,this.nodes=r.nodes}return i.prototype.layout=function(){var r=this,t=r.positions,e=[],n=r.iterations,a=r.width/10;r.maxDisplace=a,r.disp=e;for(var o=0;o<n;o++)t.forEach(function(s,l){e[l]={x:0,y:0}}),r.getRepulsion(),r.updatePositions();return t},i.prototype.getRepulsion=function(){var r=this,t=r.positions,e=r.nodes,n=r.disp,a=r.k,o=r.radii||[];t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,h){if(l!==h&&o[l]===o[h]){var c=s[0]-u[0],d=s[1]-u[1],y=Math.sqrt(c*c+d*d);if(y===0){y=1;var _=l>h?1:-1;c=.01*_,d=.01*_}if(y<r.nodeSizeFunc(e[l])/2+r.nodeSizeFunc(e[h])/2){var k=a*a/y;n[l].x+=c/y*k,n[l].y+=d/y*k}}})})},i.prototype.updatePositions=function(){var r=this,t=r.positions,e=r.disp,n=r.speed,a=r.strictRadial,o=r.focusID,s=r.maxDisplace||r.width/10;a&&e.forEach(function(u,h){var c=t[h][0]-t[o][0],d=t[h][1]-t[o][1],y=Math.sqrt(c*c+d*d),_=d/y,k=-c/y,F=Math.sqrt(u.x*u.x+u.y*u.y),Y=Math.acos((_*u.x+k*u.y)/F);Y>Math.PI/2&&(Y-=Math.PI/2,_*=-1,k*=-1);var G=Math.cos(Y)*F;u.x=_*G,u.y=k*G});var l=r.radii;t.forEach(function(u,h){if(h!==o){var c=Math.sqrt(e[h].x*e[h].x+e[h].y*e[h].y);if(c>0&&h!==o){var d=Math.min(s*(n/f4),c);if(u[0]+=e[h].x/c*d,u[1]+=e[h].y/c*d,a){var y=u[0]-t[o][0],_=u[1]-t[o][1],k=Math.sqrt(y*y+_*_);y=y/k*l[h],_=_/k*l[h],u[0]=t[o][0]+y,u[1]=t[o][1]+_}}}})},i}(),c4=h4;function v4(i){for(var r=i.length,t=i[0].length,e=[],n=0;n<r;n++){for(var a=[],o=0;o<t;o++)i[n][o]!==0?a.push(1/(i[n][o]*i[n][o])):a.push(0);e.push(a)}return e}function d4(i,r){var t=-1;return i.forEach(function(e,n){e.id===r&&(t=n)}),t}function kx(i,r){return Math.sqrt((i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1]))}var p4=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.focusNode=null,t.unitRadius=null,t.linkDistance=50,t.preventOverlap=!1,t.strictRadial=!0,t.maxPreventOverlapIteration=200,t.sortStrength=10,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges||[],a=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.linkDistance,s=null;if((0,rn.default)(t.focusNode)){for(var l=!1,u=0;u<e.length;u++)e[u].id===t.focusNode&&(s=e[u],t.focusNode=s,l=!0,u=e.length);l||(s=null)}else s=t.focusNode;s||(s=e[0],t.focusNode=s);var h=d4(e,s.id);t.focusIndex=h;var c=Th({nodes:e,edges:n},!1),d=_h(c),y=t.maxToFocus(d,h);t.handleInfinity(d,h,y+1),t.distances=d;var _=d[h];!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var k=t.width||500,F=t.height||500,Y=k-a[0]>a[0]?a[0]:k-a[0],G=F-a[1]>a[1]?a[1]:F-a[1];Y===0&&(Y=k/2),G===0&&(G=F/2);var ut=G>Y?Y:G,ft=Math.max.apply(Math,_),Tt=[];_.forEach(function(Xe,De){t.unitRadius||(t.unitRadius=ut/ft),Tt[De]=Xe*t.unitRadius}),t.radii=Tt;var Yt=t.eIdealDisMatrix();t.eIdealDistances=Yt;var Ut=v4(Yt);t.weights=Ut;var Jt=new u4({distances:Yt,linkDistance:o}),Wt=Jt.layout();Wt.forEach(function(Xe){Va(Xe[0])&&(Xe[0]=Math.random()*o),Va(Xe[1])&&(Xe[1]=Math.random()*o)}),t.positions=Wt,Wt.forEach(function(Xe,De){e[De].x=Xe[0]+a[0],e[De].y=Xe[1]+a[1]}),Wt.forEach(function(Xe){Xe[0]-=Wt[h][0],Xe[1]-=Wt[h][1]}),t.run();var ee=t.preventOverlap,ue=t.nodeSize,oe,we=t.strictRadial;if(ee){var _e=t.nodeSpacing,Ee;(0,va.default)(_e)?Ee=function(){return _e}:(0,Ks.default)(_e)?Ee=_e:Ee=function(){return 0},ue?(0,hi.default)(ue)?oe=function(De){var Fe=ue[0]>ue[1]?ue[0]:ue[1];return Fe+Ee(De)}:oe=function(De){return ue+Ee(De)}:oe=function(De){if(De.size){if((0,hi.default)(De.size)){var Fe=De.size[0]>De.size[1]?De.size[0]:De.size[1];return Fe+Ee(De)}return De.size+Ee(De)}return 10+Ee(De)};var Re={nodeSizeFunc:oe,adjMatrix:c,positions:Wt,radii:Tt,height:F,width:k,strictRadial:we,focusID:h,iterations:t.maxPreventOverlapIteration||200,k:Wt.length/4.5,nodes:e},Ye=new c4(Re);Wt=Ye.layout()}Wt.forEach(function(Xe,De){e[De].x=Xe[0]+a[0],e[De].y=Xe[1]+a[1]})}},r.prototype.run=function(){for(var t=this,e=t.maxIteration,n=t.positions||[],a=t.weights||[],o=t.eIdealDistances||[],s=t.radii||[],l=0;l<=e;l++){var u=l/e;t.oneIteration(u,n,s,o,a)}},r.prototype.oneIteration=function(t,e,n,a,o){var s=this,l=1-t,u=s.focusIndex;e.forEach(function(h,c){var d=kx(h,[0,0]),y=d===0?0:1/d;if(c!==u){var _=0,k=0,F=0;e.forEach(function(G,ut){if(c!==ut){var ft=kx(h,G),Tt=ft===0?0:1/ft,Yt=a[ut][c];F+=o[c][ut],_+=o[c][ut]*(G[0]+Yt*(h[0]-G[0])*Tt),k+=o[c][ut]*(G[1]+Yt*(h[1]-G[1])*Tt)}});var Y=n[c]===0?0:1/n[c];F*=l,F+=t*Y*Y,_*=l,_+=t*Y*h[0]*y,h[0]=_/F,k*=l,k+=t*Y*h[1]*y,h[1]=k/F}})},r.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var n=t.distances,a=t.linkDistance,o=t.radii||[],s=t.unitRadius||50,l=[];return n&&n.forEach(function(u,h){var c=[];u.forEach(function(d,y){if(h===y)c.push(0);else if(o[h]===o[y])if(t.sortBy==="data")c.push(d*(Math.abs(h-y)*t.sortStrength)/(o[h]/s));else if(t.sortBy){var _=e[h][t.sortBy]||0,k=e[y][t.sortBy]||0;(0,rn.default)(_)&&(_=_.charCodeAt(0)),(0,rn.default)(k)&&(k=k.charCodeAt(0)),c.push(d*(Math.abs(_-k)*t.sortStrength)/(o[h]/s))}else c.push(d*a/(o[h]/s));else{var F=(a+s)/2;c.push(d*F)}}),l.push(c)}),l},r.prototype.handleInfinity=function(t,e,n){for(var a=t.length,o=0;o<a;o++)if(t[e][o]===Infinity){t[e][o]=n,t[o][e]=n;for(var s=0;s<a;s++)t[o][s]!==Infinity&&t[e][s]===Infinity&&(t[e][s]=n+t[o][s],t[s][e]=n+t[o][s])}for(var o=0;o<a;o++)if(o!==e){for(var s=0;s<a;s++)if(t[o][s]===Infinity){var l=Math.abs(t[e][o]-t[e][s]);l=l===0?1:l,t[o][s]=l}}},r.prototype.maxToFocus=function(t,e){for(var n=0,a=0;a<t[e].length;a++)t[e][a]!==Infinity&&(n=t[e][a]>n?t[e][a]:n);return n},r}(sa),g4=p4,y4=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},r.prototype.execute=function(){var t=this,e=t.nodes,n=.9,a=t.center;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),e&&e.forEach(function(o){o.x=(Math.random()-.5)*n*t.width+a[0],o.y=(Math.random()-.5)*n*t.height+a[1]})},r}(sa),m4=y4,x4=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=100,t.gravity=10,t.comboGravity=10,t.linkDistance=10,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.edgeStrength=.2,t.nodeStrength=30,t.preventOverlap=!1,t.preventNodeOverlap=!1,t.preventComboOverlap=!1,t.collideStrength=void 0,t.nodeCollideStrength=void 0,t.comboCollideStrength=void 0,t.optimizeRangeFactor=1,t.onTick=function(){},t.onLayoutEnd=function(){},t.depthAttractiveForceScale=.5,t.depthRepulsiveForceScale=2,t.nodes=[],t.edges=[],t.combos=[],t.comboTrees=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.oriComboMap={},t.nodeIdxMap={},t.comboMap={},t.previousLayouted=!1,t}return r.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}t.initVals(),t.run(),t.onLayoutEnd()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var a=t.center,o=t.velocityDecay,s=t.comboMap;t.previousLayouted||t.initPos(s);for(var l=function(y){var _=[];e.forEach(function(k,F){_[F]={x:0,y:0}}),t.applyCalculate(_),t.applyComboCenterForce(_),e.forEach(function(k,F){!(0,f.isNumber)(k.x)||!(0,f.isNumber)(k.y)||(k.x+=_[F].x*o,k.y+=_[F].y*o)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},u=0;u<n;u++)l(u);var h=[0,0];e.forEach(function(d){!(0,f.isNumber)(d.x)||!(0,f.isNumber)(d.y)||(h[0]+=d.x,h[1]+=d.y)}),h[0]/=e.length,h[1]/=e.length;var c=[a[0]-h[0],a[1]-h[1]];e.forEach(function(d,y){!(0,f.isNumber)(d.x)||!(0,f.isNumber)(d.y)||(d.x+=c[0],d.y+=c[1])}),t.combos.forEach(function(d){var y=s[d.id];y&&y.empty&&(d.x=y.cx||d.x,d.y=y.cy||d.y)}),t.previousLayouted=!0},r.prototype.initVals=function(){var t=this,e=t.edges,n=t.nodes,a=t.combos,o={},s={},l={};n.forEach(function(Ee,Re){s[Ee.id]=Ee,l[Ee.id]=Re}),t.nodeMap=s,t.nodeIdxMap=l;var u={};a.forEach(function(Ee){u[Ee.id]=Ee}),t.oriComboMap=u,t.comboMap=t.getComboMap();var h=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||h,t.preventNodeOverlap=t.preventNodeOverlap||h;var c=t.collideStrength;c&&(t.comboCollideStrength=c,t.nodeCollideStrength=c);for(var d=0;d<e.length;++d)o[e[d].source]?o[e[d].source]++:o[e[d].source]=1,o[e[d].target]?o[e[d].target]++:o[e[d].target]=1;for(var y=[],d=0;d<e.length;++d)y[d]=o[e[d].source]/(o[e[d].source]+o[e[d].target]);this.bias=y;var _=t.nodeSize,k=t.nodeSpacing,F,Y;if((0,f.isNumber)(k)?Y=function(){return k}:(0,f.isFunction)(k)?Y=k:Y=function(){return 0},this.nodeSpacing=Y,!_)F=function(Re){if(Re.size){if((0,f.isArray)(Re.size)){var Ye=Re.size[0]>Re.size[1]?Re.size[0]:Re.size[1];return Ye/2}return Re.size/2}return 10};else if((0,f.isFunction)(_))F=function(Re){return _(Re)};else if((0,f.isArray)(_)){var G=_[0]>_[1]?_[0]:_[1],ut=G/2;F=function(Re){return ut}}else{var ft=_/2;F=function(Re){return ft}}this.nodeSize=F;var Tt=t.comboSpacing,Yt;(0,f.isNumber)(Tt)?Yt=function(){return Tt}:(0,f.isFunction)(Tt)?Yt=Tt:Yt=function(){return 0},this.comboSpacing=Yt;var Ut=t.comboPadding,Jt;(0,f.isNumber)(Ut)?Jt=function(){return Ut}:(0,f.isArray)(Ut)?Jt=function(){return Math.max.apply(null,Ut)}:(0,f.isFunction)(Ut)?Jt=Ut:Jt=function(){return 0},this.comboPadding=Jt;var Wt=this.linkDistance,ee;Wt||(Wt=10),(0,f.isNumber)(Wt)?ee=function(Re){return Wt}:ee=Wt,this.linkDistance=ee;var ue=this.edgeStrength,oe;ue||(ue=1),(0,f.isNumber)(ue)?oe=function(Re){return ue}:oe=ue,this.edgeStrength=oe;var we=this.nodeStrength,_e;we||(we=30),(0,f.isNumber)(we)?_e=function(Re){return we}:_e=we,this.nodeStrength=_e},r.prototype.initPos=function(t){var e=this,n=e.nodes;n.forEach(function(a,o){if(a.comboId){var s=t[a.comboId];a.x=s.cx+100/(o+1),a.y=s.cy+100/(o+1)}else a.x=100/(o+1),a.y=100/(o+1)})},r.prototype.getComboMap=function(){var t=this,e=t.nodeMap,n=t.nodeIdxMap,a=t.comboTrees,o=t.oriComboMap,s={};return(a||[]).forEach(function(l){var u=[];oa(l,function(h){if(h.itemType==="node"||!o[h.id])return!0;if(s[h.id]===void 0){var c={name:h.id,cx:0,cy:0,count:0,depth:t.oriComboMap[h.id].depth,children:[]};s[h.id]=c}var d=h.children;d&&d.forEach(function(G){if(!s[G.id]&&!e[G.id])return!0;u.push(G)});var y=s[h.id];if(y.cx=0,y.cy=0,u.length===0){y.empty=!0;var _=o[h.id],k=Object.keys(e).length,F=h.id+"-visual-child-"+k,Y={id:F,x:_.x,y:_.y,depth:y.depth+1,itemType:"node"};t.nodes.push(Y),e[F]=Y,n[F]=k,y.cx=_.x,y.cy=_.y,u.push(Y)}return u.forEach(function(G){if(y.count++,G.itemType!=="node"){var ut=s[G.id];(0,f.isNumber)(ut.cx)&&(y.cx+=ut.cx),(0,f.isNumber)(ut.cy)&&(y.cy+=ut.cy);return}var ft=e[G.id];!ft||((0,f.isNumber)(ft.x)&&(y.cx+=ft.x),(0,f.isNumber)(ft.y)&&(y.cy+=ft.y))}),y.cx/=y.count,y.cy/=y.count,y.children=u,!0})}),s},r.prototype.applyComboCenterForce=function(t){var e=this,n=e.gravity,a=e.comboGravity||n,o=this.alpha,s=e.comboTrees,l=e.nodeIdxMap,u=e.nodeMap,h=e.comboMap;(s||[]).forEach(function(c){oa(c,function(d){if(d.itemType==="node")return!0;var y=h[d.id];if(!y)return!0;var _=h[d.id],k=(_.depth+1)*.5,F=_.cx,Y=_.cy;return _.cx=0,_.cy=0,_.children.forEach(function(G){if(G.itemType!=="node"){var ut=h[G.id];ut&&(0,f.isNumber)(ut.cx)&&(_.cx+=ut.cx),ut&&(0,f.isNumber)(ut.cy)&&(_.cy+=ut.cy);return}var ft=u[G.id],Tt=ft.x-F||.005,Yt=ft.y-Y||.005,Ut=Math.sqrt(Tt*Tt+Yt*Yt),Jt=l[ft.id],Wt=a*o/Ut*k;t[Jt].x-=Tt*Wt,t[Jt].y-=Yt*Wt,(0,f.isNumber)(ft.x)&&(_.cx+=ft.x),(0,f.isNumber)(ft.y)&&(_.cy+=ft.y)}),_.cx/=_.count,_.cy/=_.count,!0})})},r.prototype.applyCalculate=function(t){var e=this,n=e.comboMap,a=e.nodes,o={};a.forEach(function(l,u){a.forEach(function(h,c){if(!(u<c)){var d=l.x-h.x||.005,y=l.y-h.y||.005,_=d*d+y*y,k=Math.sqrt(_);_<1&&(_=k),o[l.id+"-"+h.id]={vx:d,vy:y,vl2:_,vl:k},o[h.id+"-"+l.id]={vx:-d,vy:-y,vl2:_,vl:k}}})}),e.updateComboSizes(n),e.calRepulsive(t,o),e.calAttractive(t,o);var s=e.preventComboOverlap;s&&e.comboNonOverlapping(t,n)},r.prototype.updateComboSizes=function(t){var e=this,n=e.comboTrees,a=e.nodeMap,o=e.nodeSize,s=e.comboSpacing,l=e.comboPadding;(n||[]).forEach(function(u){var h=[];oa(u,function(c){if(c.itemType==="node")return!0;var d=t[c.id];if(!!d){var y=c.children;y&&y.forEach(function(F){!t[F.id]&&!a[F.id]||h.push(F)}),d.minX=Infinity,d.minY=Infinity,d.maxX=-Infinity,d.maxY=-Infinity,h.forEach(function(F){if(F.itemType!=="node")return!0;var Y=a[F.id];if(!Y)return!0;var G=o(Y),ut=Y.x-G,ft=Y.y-G,Tt=Y.x+G,Yt=Y.y+G;d.minX>ut&&(d.minX=ut),d.minY>ft&&(d.minY=ft),d.maxX<Tt&&(d.maxX=Tt),d.maxY<Yt&&(d.maxY=Yt)});var _=e.oriComboMap[c.id].size||Be.defaultCombo.size;(0,f.isArray)(_)&&(_=_[0]);var k=Math.max(d.maxX-d.minX,d.maxY-d.minY,_);return d.r=k/2+s(d)/2+l(d),!0}})})},r.prototype.comboNonOverlapping=function(t,e){var n=this,a=n.comboTree,o=n.comboCollideStrength,s=n.nodeIdxMap,l=n.nodeMap;oa(a,function(u){if(!(!e[u.id]&&!l[u.id]&&u.id!=="comboTreeRoot")){var h=u.children;return h&&h.length>1&&h.forEach(function(c,d){if(c.itemType!=="node"){var y=e[c.id];!y||h.forEach(function(_,k){if(!(d<=k)&&_.itemType!=="node"){var F=e[_.id];if(!!F){var Y=y.cx-F.cx||.005,G=y.cy-F.cy||.005,ut=Y*Y+G*G,ft=y.r,Tt=F.r,Yt=ft+Tt,Ut=Tt*Tt,Jt=ft*ft;if(ut<Yt*Yt){var Wt=c.children;if(!Wt||Wt.length===0)return;var ee=_.children;if(!ee||ee.length===0)return;var ue=Math.sqrt(ut),oe=(Yt-ue)/ue*o,we=Y*oe,_e=G*oe,Ee=Ut/(Jt+Ut),Re=1-Ee;Wt.forEach(function(Ye){if(Ye.itemType==="node"&&!!l[Ye.id]){var Xe=s[Ye.id];ee.forEach(function(De){if(De.itemType==="node"&&!!l[De.id]){var Fe=s[De.id];t[Xe].x+=we*Ee,t[Xe].y+=_e*Ee,t[Fe].x-=we*Re,t[Fe].y-=_e*Re}})}})}}}})}}),!0}})},r.prototype.calRepulsive=function(t,e){var n=this,a=n.nodes,o=n.width*n.optimizeRangeFactor,s=n.nodeStrength,l=n.alpha,u=n.nodeCollideStrength,h=n.preventNodeOverlap,c=n.nodeSize,d=n.nodeSpacing,y=n.depthRepulsiveForceScale,_=n.center;a.forEach(function(k,F){if(!(!k.x||!k.y)){if(_){var Y=n.gravity,G=k.x-_[0]||.005,ut=k.y-_[1]||.005,ft=Math.sqrt(G*G+ut*ut);t[F].x-=G*Y*l/ft,t[F].y-=ut*Y*l/ft}a.forEach(function(Tt,Yt){if(F!==Yt&&!(!Tt.x||!Tt.y)){var Ut=e[k.id+"-"+Tt.id],Jt=Ut.vl2,Wt=Ut.vl;if(!(Wt>o)){var ee=e[k.id+"-"+Tt.id],ue=ee.vx,oe=ee.vy,we=Math.abs(Tt.depth-k.depth)+1||1;Tt.comboId!==k.comboId&&we++;var _e=we?Math.pow(y,we):1,Ee=s(Tt)*l/Jt*_e;if(t[F].x+=ue*Ee,t[F].y+=oe*Ee,F<Yt&&h){var Re=c(k)+d(k),Ye=c(Tt)+d(Tt),Xe=Re+Ye;if(Jt<Xe*Xe){var De=(Xe-Wt)/Wt*u,Fe=Ye*Ye,er=Fe/(Re*Re+Fe),tr=ue*De,or=oe*De;t[F].x+=tr*er,t[F].y+=or*er,er=1-er,t[Yt].x-=tr*er,t[Yt].y-=or*er}}}}})}})},r.prototype.calAttractive=function(t,e){var n=this,a=n.edges,o=n.linkDistance,s=n.alpha,l=n.edgeStrength,u=n.bias,h=n.depthAttractiveForceScale;a.forEach(function(c,d){if(!(!c.source||!c.target||c.source===c.target)){var y=n.nodeIdxMap[c.source],_=n.nodeIdxMap[c.target],k=n.nodeMap[c.source],F=n.nodeMap[c.target],Y=Math.abs(k.depth-F.depth);k.comboId===F.comboId&&(Y=Y/2);var G=Y?Math.pow(h,Y):1;if(k.comboId!==F.comboId&&G===1?G=h/2:k.comboId===F.comboId&&(G=2),!(!(0,f.isNumber)(F.x)||!(0,f.isNumber)(k.x)||!(0,f.isNumber)(F.y)||!(0,f.isNumber)(k.y))){var ut=e[c.target+"-"+c.source],ft=ut.vl,Tt=ut.vx,Yt=ut.vy,Ut=(ft-o(c))/ft*s*l(c)*G,Jt=Tt*Ut,Wt=Yt*Ut,ee=u[d];t[_].x-=Jt*ee,t[_].y-=Wt*ee,t[y].x+=Jt*(1-ee),t[y].y+=Wt*(1-ee)}}})},r}(sa),b4=x4,w4={circular:L3,concentric:I3,dagre:D3,force:mN,g6force:SN,comboForce:b4,fruchterman:EN,grid:_N,mds:s4,radial:g4,random:m4};(0,un.default)(w4,function(i,r){vx.registerLayout(r,{},i)});var Bs=vx,Uh=self;function S4(i){var r=i.data.type;return r===ja.RUN}function C4(i){var r=i.data.type;switch(r){case ja.RUN:{var t=i.data,e=t.nodes,n=t.edges,a=t.layoutCfg,o=a===void 0?{}:a,s=o.type,l=Bs[s];if(!l){Uh.postMessage({type:ja.ERROR,message:"layout "+s+" not found"});break}var u=new l(o);u.init({nodes:e,edges:n}),u.execute(),Uh.postMessage({type:ja.END,nodes:e}),u.destroy();break}default:break}}Uh.onmessage=function(i){S4(i)&&C4(i)};var M4=null;function yu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yu=function(t){return typeof t}:yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(i)}var E4=function(r){return setTimeout(r,16)},A4=function(r){return clearTimeout(r)},mu={requestAnimationFrame:function(r){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||E4;return t(r)},cancelAnimationFrame:function(r){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||A4;return t(r)}},_4=function(){function i(r){this.graph=r,this.layoutCfg=r.get("layout")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return i.prototype.initLayout=function(){},i.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new M4,this.worker)},i.prototype.stopWorker=function(){var r=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,r.requestId&&(mu.cancelAnimationFrame(r.requestId),r.requestId=null),r.requestId2&&(mu.cancelAnimationFrame(r.requestId2),r.requestId2=null))},i.prototype.getLayoutType=function(){return this.layoutCfg.type},i.prototype.layout=function(r){var t=this.graph;this.data=this.setDataFromGraph();var e=this.data.nodes;if(!e)return!1;var n=t.get("width"),a=t.get("height"),o={};Object.assign(o,{width:n,height:a,center:[n/2,a/2]},this.layoutCfg),this.layoutCfg=o;var s=!!this.layoutType,l=this.layoutMethod;l&&l.destroy(),t.emit("beforelayout");var u=this.initPositions(o.center,e);if(this.stopWorker(),o.workerEnabled&&this.layoutWithWorker(this.data,r))return!0;if(this.layoutType==="force"||this.layoutType==="g6force"){var h=o.onTick,c=function(){h&&h(),t.refreshPositions()};o.tick=c;var d=o.onLayoutEnd;o.onLayoutEnd=function(){d&&d(),t.emit("afterlayout")}}else this.layoutType==="comboForce"&&(o.comboTrees=t.get("comboTrees"));var y=!1;if(this.layoutType!==void 0){try{l=new Bs[this.layoutType](o)}catch(Y){return console.warn("The layout method: "+this.layoutType+" does not exist! Please specify it first."),!1}if(y=l.enableTick,y){var _=o.onTick,k=o.onLayoutEnd,c=function(){_&&_(),t.refreshPositions()};l.tick=c;var F=function(){k&&k(),t.emit("afterlayout")};l.onLayoutEnd=F}l.init(this.data),s&&l.execute(),this.layoutMethod=l}return(s||!u)&&this.layoutType!=="force"&&!y&&(t.emit("afterlayout"),this.refreshLayout()),!1},i.prototype.layoutWithWorker=function(r,t){var e=this,n=r.nodes,a=r.edges,o=this,s=o.layoutCfg,l=o.graph,u=this.getWorker(),h=this.workerData;if(!u)return!1;h.requestId=null,h.requestId2=null,h.currentTick=null,h.currentTickData=null;var c=P4(s,function(d){return typeof d!="function"});return u.postMessage({type:ja.RUN,nodes:n,edges:a,layoutCfg:c}),u.onmessage=function(d){e.handleWorkerMessage(d,r,t)},!0},i.prototype.handleWorkerMessage=function(r,t,e){var n=this,a=n.graph,o=n.workerData,s=n.layoutCfg,l=r.data,u=l.type,h=function(){s.onTick&&s.onTick()},c=function(){s.onLayoutEnd&&s.onLayoutEnd(),a.emit("afterlayout")};switch(u){case ja.TICK:o.currentTick=l.currentTick,o.currentTickData=l,o.requestId||(o.requestId=mu.requestAnimationFrame(function(){Zh(t,l),a.refreshPositions(),h(),l.currentTick===1&&e&&e(),l.currentTick===l.totalTicks?c():o.currentTick===l.totalTicks&&(o.requestId2=mu.requestAnimationFrame(function(){Zh(t,o.currentTickData),a.refreshPositions(),o.requestId2=null,h(),c()})),o.requestId=null}));break;case ja.END:o.currentTick==null&&(Zh(t,l),this.refreshLayout(),e&&e(),a.emit("afterlayout"));break;case ja.ERROR:break;default:break}},i.prototype.refreshLayout=function(){var r=this.graph;r.get("animate")?r.positionsAnimate():r.refreshPositions()},i.prototype.updateLayoutCfg=function(r){var t=this,e=t.graph,n=t.layoutMethod;if(this.layoutType=r.type,!n){console.warn("You did not assign any layout type and the graph has no previous layout method!");return}this.data=this.setDataFromGraph(),this.stopWorker(),!(r.workerEnabled&&this.layoutWithWorker(this.data,null))&&(n.init(this.data),n.updateCfg(r),e.emit("beforelayout"),n.execute(),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout())},i.prototype.changeLayout=function(r){var t=this,e=t.graph,n=t.layoutMethod;this.layoutType=r,this.layoutCfg=e.get("layout")||{},this.layoutCfg.type=r,n&&n.destroy(),this.layout()},i.prototype.changeData=function(){var r=this.layoutMethod;r&&r.destroy(),this.layout()},i.prototype.destroyLayout=function(){var r=this,t=r.layoutMethod,e=r.graph;t&&t.destroy(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},i.prototype.setDataFromGraph=function(){var r=[],t=[],e=[],n=this.graph.getNodes(),a=this.graph.getEdges(),o=this.graph.getCombos();n.forEach(function(l){if(!!l.isVisible()){var u=l.getModel();r.push(u)}}),a.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var u=l.getModel();u.isComboEdge||t.push(u)}}),o.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var u=l.getModel();e.push(u)}});var s={nodes:r,edges:t,combos:e};return s},i.prototype.relayout=function(r){var t=this,e=t.graph,n=t.layoutMethod,a=t.layoutCfg;if(r){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(a.center,o),n.init(this.data)}this.layoutType==="force"&&(n.ticking=!1,n.forceSimulation.stop()),e.emit("beforelayout"),n.execute(r),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout()},i.prototype.layoutAnimate=function(){},i.prototype.moveToZero=function(){var r=this.graph,t=r.get("data"),e=t.nodes;if(!(e[0].x===void 0||e[0].x===null||Va(e[0].x))){var n=[0,0];e.forEach(function(a){n[0]+=a.x,n[1]+=a.y}),n[0]/=e.length,n[1]/=e.length,e.forEach(function(a){a.x-=n[0],a.y-=n[1]})}},i.prototype.initPositions=function(r,t){var e=this.graph;if(!t)return!1;var n=!0,a=e.get("width")*.85,o=e.get("height")*.85,s=t.length,l=Math.ceil(Math.sqrt(s)*(a/o)),u=Math.ceil(s/l),h=a/(l-1),c=o/(u-1);(!isFinite(h)||!h)&&(h=0),(!isFinite(c)||!h)&&(c=0);var d=r[0]-a/2,y=r[1]-o/2;return t.forEach(function(_,k){Va(_.x)&&(n=!1,_.x=k%l*h+d),Va(_.y)&&(n=!1,_.y=Math.floor(k/l)*c+y)}),n},i.prototype.destroy=function(){var r=this.layoutMethod;this.graph=null,r&&r.destroy();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0},i}(),T4=_4;function Zh(i,r){var t=i.nodes,e=r.nodes;t.forEach(function(n,a){n.x=e[a].x,n.y=e[a].y})}function P4(i,r){var t={};return i&&yu(i)==="object"?(Object.keys(i).forEach(function(e){i.hasOwnProperty(e)&&r(i[e])&&(t[e]=i[e])}),t):i}var Ao=null,L4=function(){function i(r){this.graph=r,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return i.checkCache=function(r,t,e){if(!!e[t]){var n=e[t].indexOf(r);n>=0&&e[t].splice(n,1)}},i.cacheState=function(r,t,e){e[t]||(e[t]=[]),e[t].push(r)},i.prototype.updateState=function(r,t,e){var n=this,a=i.checkCache,o=i.cacheState;if(!r.destroyed){var s=this.cachedStates,l=s.enabled,u=s.disabled;e?(a(r,t,u),o(r,t,l)):(a(r,t,l),o(r,t,u)),Ao&&clearTimeout(Ao),Ao=setTimeout(function(){Ao=null,n.updateGraphStates()},16)}},i.prototype.updateStates=function(r,t,e){var n=this;(0,rn.default)(t)?this.updateState(r,t,e):t.forEach(function(a){n.updateState(r,a,e)})},i.prototype.updateGraphStates=function(){var r=this.graph.get("states"),t=this.cachedStates;(0,un.default)(t.disabled,function(e,n){r[n]&&(r[n]=r[n].filter(function(a){return e.indexOf(a)<0&&!e.destroyed}))}),(0,un.default)(t.enabled,function(e,n){if(!r[n])r[n]=e;else{var a={};r[n].forEach(function(o){o.destroyed||(a[o.get("id")]=!0)}),e.forEach(function(o){if(!o.destroyed){var s=o.get("id");a[s]||(a[s]=!0,r[n].push(o))}})}}),this.graph.emit("graphstatechange",{states:r}),this.cachedStates={enabled:{},disabled:{}}},i.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Ao&&clearTimeout(Ao),Ao=null,this.destroyed=!0},i}(),O4=L4,Kh=null,I4=function(){function i(r){this.graph=r;var t=r.get("groupStyle");this.styles=(0,bi.default)({},i.getDefaultCfg(),t),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return i.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},i.prototype.create=function(r,t,e,n,a,o){e===void 0&&(e="circle"),n===void 0&&(n=0),a===void 0&&(a=!1),o===void 0&&(o={});var s=this.graph,l=s.get("customGroup"),u=l.get("children").map(function(or){return or.get("id")});if(u.indexOf(r)>-1){console.warn("\u5DF2\u7ECF\u5B58\u5728ID\u4E3A "+r+" \u7684\u5206\u7EC4\uFF0C\u8BF7\u91CD\u65B0\u8BBE\u7F6E\u5206\u7EC4ID\uFF01");return}var h=l.addGroup({id:r,zIndex:n}),c=this.styles.default,d=this.calculationGroupPosition(t),y=d.x,_=d.y,k=d.width,F=d.height,Y=d.maxX,G=this.getGroupPadding(r),ut=s.get("groupBBoxs");ut[r]={x:y,y:_,width:k,height:F,maxX:Y};var ft=null;if(a){var Tt=s.get("groups");t.forEach(function(or){var Ve=s.findById(or),nr=Ve.getModel();nr.groupId||(nr.groupId=r)}),Tt.find(function(or){return or.id===r})||(Tt.push({id:r,title:o}),s.set({groups:Tt}))}var Yt=s.get("groups").filter(function(or){return or.id===r});Yt&&Yt.length>0&&(ft=Yt[0].title);var Ut=0,Jt=0,Wt=null;if(e==="circle"){var ee=k>F?k/2:F/2,ue=(k+2*y)/2,oe=(F+2*_)/2,we=ee+G;Wt=h.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:ue,y:oe,r:we}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"circle-group-shape"}),Ut=ue,Jt=oe-we,this.setDeletageGroupByStyle(r,h,{width:k,height:F,x:ue,y:oe,r:we})}else{var _e=G*c.disCoefficient;Wt=h.addShape("rect",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:y-_e,y:_-_e,width:k+_e*2,height:F+_e*2}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"rect-group-shape"}),Ut=y-_e+15,Jt=_-_e+15,this.setDeletageGroupByStyle(r,h,{x:y-_e,y:_-_e,width:k+_e,height:F+_e,btnOffset:Y-3})}if(ft){var Ee=ft.offsetX,Re=Ee===void 0?0:Ee,Ye=ft.offsetY,Xe=Ye===void 0?0:Ye,De=ft.text,Fe=De===void 0?ft:De,er=(0,J.__rest)(ft,["offsetX","offsetY","text"]),tr=h.addShape("text",{attrs:(0,J.__assign)({text:Fe,stroke:"#444",x:Ut+Re,y:Jt+Xe},er),className:"group-title",name:"group-title-shape"});tr.set("capture",!1)}h.set("keyShape",Wt),s.get("groupNodes")[r]=t},i.prototype.setGroupStyle=function(r,t){if(!(!r||r.get("destroyed"))){var e={},n=this.styles,a=n.hover,o=n.default;(0,rn.default)(t)?t==="default"?e=(0,bi.default)({},o):t==="hover"&&(e=(0,bi.default)({},a)):e=(0,bi.default)({},o,t),Object.keys(e).forEach(function(s){r.attr(s,e[s])})}},i.prototype.calculationGroupPosition=function(r,t){if(t===void 0&&(t={x:100,y:100}),r.length===0)return{x:t.x,y:t.y,width:100,height:100};var e=this.graph,n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;r.forEach(function(d){var y=(0,rn.default)(d)?e.findById(d):d,_=y.getBBox(),k=_.minX,F=_.minY,Y=_.maxX,G=_.maxY;k<n&&(n=k),F<o&&(o=F),Y>a&&(a=Y),G>s&&(s=G)});var l=Math.floor(n),u=Math.floor(o),h=Math.ceil(a)-l,c=Math.ceil(s)-u;return{x:l,y:u,width:h,height:c,maxX:Math.ceil(a)}},i.prototype.flatToTree=function(r,t,e){t===void 0&&(t="id"),e===void 0&&(e="parentId");var n="children",a=[],o=[];return r.forEach(function(s){a[s[t]]=s}),r.forEach(function(s){var l=a[s[e]];l?(l[n]=l[n]||[],l[n].push(s)):o.push(s)}),o},i.prototype.getGroupPadding=function(r){var t=this.graph,e=this.styles.default,n=t.get("groups"),a=n.filter(function(h){return h.parentId===r}),o=1;a.length>0&&(Kh||(Kh=this.flatToTree(n)),Pi(Kh[0],function(h){if(h.parentId===r&&h.children)return o+=h.children.length,!0}));var s=n.filter(function(h){return h.id===r&&!h.parentId});s.length>0&&(o+=1);var l=n.filter(function(h){return h.parentId===r}).length>0,u=l?e.maxDis+(o>1?o/2:1)*30:e.minDis;return u},i.prototype.setDeletageGroupByStyle=function(r,t,e){var n=e.width,a=e.height,o=e.x,s=e.y,l=e.r,u=e.btnOffset,h=this.customGroup[r];if(!h)this.customGroup[r]={nodeGroup:t,groupStyle:{width:n,height:a,x:o,y:s,r:l,btnOffset:u}};else{var c=h.groupStyle,d=(0,bi.default)({},c,e);this.customGroup[r]={nodeGroup:t,groupStyle:d}}},i.prototype.getDeletageGroupById=function(r){return this.customGroup[r]},i.prototype.collapseExpandGroup=function(r){var t=this.getDeletageGroupById(r),e=t.nodeGroup,n=e.get("hasHidden");n?(e.set("hasHidden",!1),this.expandGroup(r)):(e.set("hasHidden",!0),this.collapseGroup(r))},i.prototype.setGroupTmpNode=function(r,t){var e=this.graph,n=e.get("groupNodes"),a=e.get("groups");n[r].indexOf(t)<0&&n[r].push(t);var o=a.filter(function(l){return l.id===r}),s=null;o.length>0&&(s=o[0].parentId),s&&this.setGroupTmpNode(s,t)},i.prototype.collapseGroup=function(r){var t=this,e=this.getDeletageGroupById(r),n=e.nodeGroup,a=this.styles.collapse,o=this.graph,s=o.get("groupType"),l=o.get("groupNodes")[r],u=n.get("keyShape"),h=a.r,c=a.width,d=a.height,y=a.offsetX,_=a.offsetY,k=(0,J.__rest)(a,["r","width","height","offsetX","offsetY"]);Object.keys(k).forEach(function(Ut){u.attr(Ut,k[Ut])});var F={groupId:r,id:r+"-custom-node",x:u.attr("x"),y:u.attr("y"),style:{r:h},type:"circle"},Y=n.find(function(Ut){return Ut.get("className")==="group-title"});s==="circle"?(u.animate({r:h},{duration:500,easing:"easeCubic"}),Y&&Y.attr({x:u.attr("x")+y,y:u.attr("y")+_})):s==="rect"&&(u.animate({width:c,height:d},{duration:500,easing:"easeCubic"}),Y&&Y.attr({x:u.attr("x")+10,y:u.attr("y")+d/2+5}),F={groupId:r,id:r+"-custom-node",x:u.attr("x")+c/2,y:u.attr("y")+d/2,size:[c,d],type:"rect"});var G=o.getEdges(),ut=G.filter(function(Ut){var Jt=Ut.getModel();return!l.includes(Jt.source)&&l.includes(Jt.target)}),ft=G.filter(function(Ut){var Jt=Ut.getModel();return l.includes(Jt.source)&&!l.includes(Jt.target)}),Tt=G.filter(function(Ut){var Jt=Ut.getModel();return l.includes(Jt.source)&&l.includes(Jt.target)});if(l.forEach(function(Ut){var Jt=o.findById(Ut),Wt=Jt.getModel(),ee=Wt.groupId;if(ee&&ee!==r){var ue=t.getDeletageGroupById(ee),oe=ue.nodeGroup;oe.hide()}Jt.hide()}),Tt.forEach(function(Ut){var Jt=Ut.getSource(),Wt=Ut.getTarget();Jt.isVisible()&&Wt.isVisible()?Ut.show():Ut.hide()}),ut.length>0||ft.length>0){var Yt=o.add("node",F);Yt.set("capture",!1),Yt.hide(),this.delegateInGroup[r]={delegateNode:Yt},this.setGroupTmpNode(r,r+"-custom-node"),this.updateEdgeInGroupLinks(r,ut,ft)}},i.prototype.updateEdgeInGroupLinks=function(r,t,e){var n=this.graph,a={};t.map(function(s){var l=s.getModel(),u=s.get("id"),h=l.target;return a[u]=h,n.updateItem(s,{target:r+"-custom-node"}),!0});var o={};e.map(function(s){var l=s.getModel(),u=s.get("id"),h=l.source;return o[u]=h,n.updateItem(s,{source:r+"-custom-node"}),!0}),this.delegateInGroup[r]=(0,bi.default)({sourceOutTargetInEdges:t,sourceInTargetOutEdges:e,edgesOuts:a,edgesIn:o},this.delegateInGroup[r])},i.prototype.expandGroup=function(r){var t=this,e=this.graph,n=e.get("groupType"),a=e.get("groupNodes")[r],o=a.filter(function(Ye){return Ye.indexOf("custom-node")===-1}),s=this.calculationGroupPosition(o),l=s.width,u=s.height,h=this.getDeletageGroupById(r).nodeGroup,c=h.get("keyShape"),d=this.styles,y=d.default,_=d.collapse;Object.keys(y).forEach(function(Ye){c.attr(Ye,y[Ye])});var k=h.find(function(Ye){return Ye.get("className")==="group-title"}),F=this.getGroupPadding(r);if(n==="circle"){var Y=l>u?l/2:u/2;c.animate({r:Y+F},{duration:500,easing:"easeCubic"})}else if(n==="rect"){var G=_.width,ut=_.height;c.animate({width:G+l+F*y.disCoefficient*2,height:ut+u+F*y.disCoefficient*2},{duration:500,easing:"easeCubic"})}if(k){var ft=null,Tt=e.get("groups").filter(function(Ye){return Ye.id===r});Tt&&Tt.length>0&&(ft=Tt[0].title);var Yt=ft.offsetX,Ut=Yt===void 0?0:Yt,Jt=ft.offsetY,Wt=Jt===void 0?0:Jt;n==="circle"?k.animate({x:c.attr("x")+Ut,y:c.attr("y")-c.attr("r")+Wt},{duration:600,easing:"easeCubic"}):n==="rect"&&k.animate({x:c.attr("x")+(15+Ut),y:c.attr("y")+(15+Wt)},{duration:600,easing:"easeCubic"})}setTimeout(function(){a.forEach(function(De){var Fe=e.findById(De),er=Fe.getModel(),tr=er.groupId;if(tr&&tr!==r){var or=t.getDeletageGroupById(tr),Ve=or.nodeGroup;Ve.show();var nr=Ve.get("hasHidden");nr||Fe.show()}else Fe.show()});var Ye=e.getEdges(),Xe=Ye.filter(function(De){var Fe=De.getModel();return a.includes(Fe.source)||a.includes(Fe.target)});Xe.forEach(function(De){var Fe=De.getSource(),er=De.getTarget();Fe.isVisible()&&er.isVisible()&&De.show()})},300);var ee=this.delegateInGroup[r];if(ee){var ue=ee.sourceOutTargetInEdges,oe=ee.sourceInTargetOutEdges,we=ee.edgesOuts,_e=ee.edgesIn,Ee=ee.delegateNode;ue.map(function(Ye){var Xe=Ye.get("id"),De=we[Xe];return e.updateItem(Ye,{target:De}),!0}),oe.map(function(Ye){var Xe=Ye.get("id"),De=_e[Xe];return e.updateItem(Ye,{source:De}),!0});var Re=Ee.getModel();this.deleteTmpNode(r,Re.id),e.remove(Ee),delete this.delegateInGroup[r]}},i.prototype.deleteTmpNode=function(r,t){var e=this.graph,n=e.get("groups"),a=e.get("groupNodes")[r],o=a.indexOf(t);a.splice(o,1);var s=n.filter(function(u){return u.id===r}),l=null;s.length>0&&(l=s[0].parentId),l&&this.deleteTmpNode(l,t)},i.prototype.remove=function(r){var t=this.graph,e=this.getDeletageGroupById(r);if(!!e){var n=e.nodeGroup,a=t.get("groupNodes"),o=a[r];o.forEach(function(y){var _=t.findById(y),k=_.getModel(),F=k.groupId;!F||r===F&&(delete k.groupId,t.updateItem(_,k))}),n.destroy(),delete this.customGroup[r];var s=t.get("groups");if(s.length>0){var l=s.filter(function(y){return y.id!==r});t.set("groups",l)}for(var u=null,h=null,c=0;c<s.length;c++){var d=s[c];if(r===d.id){u=d.parentId,h=d;break}}h&&delete h.parentId,delete a[r],u&&(a[u]=a[u].filter(function(y){return!o.includes(y)}))}},i.prototype.updateGroup=function(r,t,e){var n=this.graph,a=n.get("groupType");this.updateItemInGroup(r,t,e);for(var o=n.save().groups,s=null,l=null,u=0;u<o.length;u++){var h=o[u];if(r===h.id){s=h.parentId,l=h;break}}if(s){var c=this.getDeletageGroupById(s).nodeGroup,d=c.get("keyShape");this.setGroupStyle(d,"default");var y=d.getBBox(),_=y.minX,k=y.minY,F=y.maxX,Y=y.maxY,G=this.getDeletageGroupById(r).nodeGroup,ut=G.get("keyShape"),ft=ut.getBBox(),Tt=ft.x,Yt=ft.y;if(!(Tt<F&&Tt>_&&Yt<Y&&Yt>k)){delete l.parentId;var Ut=n.get("groupNodes"),Jt=Ut[r],Wt=Ut[s];Ut[s]=Wt.filter(function(ar){return Jt.indexOf(ar)===-1});var ee=this.calculationGroupPosition(Ut[s]),ue=ee.x,oe=ee.y,we=ee.width,_e=ee.height,Ee=this.getGroupPadding(s),Re=c.find(function(ar){return ar.get("className")==="group-title"}),Ye=0,Xe=0;if(a==="circle"){var De=we>_e?we/2:_e/2,Fe=ue,er=oe;d.attr({r:De+Ee,x:Fe,y:er}),Ye=Fe,Xe=er-d.attr("r")}else if(a==="rect"){var tr=this.styles.default,or=Ee*tr.disCoefficient;d.attr({x:ue-or,y:oe-or}),Ye=ue-or+15,Xe=oe-or+15}if(Re){var Ve=l.title,nr=0,yr=0;Ve&&(nr=Ve.offsetX,yr=Ve.offsetY),Re.attr({x:Ye+nr,y:Xe+yr})}}}},i.prototype.updateItemInGroup=function(r,t,e){var n=this,a=this.graph,o=a.get("groupType"),s=a.get("groupNodes"),l=s[r],u=this.getDeletageGroupById(r).nodeGroup,h=u.getBBox(),c=[];l.forEach(function(d,y){var _=a.findById(d),k=_.getModel(),F=k.groupId;F&&!c.includes(F)&&c.push(F),n.nodePoint[y]||(n.nodePoint[y]={x:k.x,y:k.y});var Y=t.x-h.x+n.nodePoint[y].x,G=t.y-h.y+n.nodePoint[y].y;n.nodePoint[y]={x:Y,y:G},a.updateItem(_,{x:Y,y:G})}),c.includes(r)||c.push(r),c.forEach(function(d){var y=n.getDeletageGroupById(d).nodeGroup,_=y.get("keyShape"),k=s[d].filter(function(_e){return _e.indexOf("custom-node")===-1}),F=n.calculationGroupPosition(k,t),Y=F.x,G=F.y,ut=F.width,ft=F.height,Tt=0,Yt=0;if(o==="circle"){var Ut=(ut+2*Y)/2,Jt=(ft+2*G)/2;_.attr({x:Ut,y:Jt}),Tt=Ut,Yt=Jt-_.attr("r")}else if(o==="rect"){var Wt=y.get("hasHidden"),ee=n.getGroupPadding(d),ue={},oe=n.styles.default,we=ee*oe.disCoefficient;Tt=Y-we+15,Yt=G-we+15,Wt?(ue={x:Y-we,y:G-we},Yt=Yt+10):ue={x:Y-we,y:G-we,width:ut+we*2,height:ft+we*2},_.attr(ue)}n.updateGroupTitle(y,d,Tt,Yt)})},i.prototype.updateGroupTitle=function(r,t,e,n){var a=this.graph,o=r.find(function(c){return c.get("className")==="group-title"});if(o){var s=null,l=a.get("groups").filter(function(c){return c.id===t});l&&l.length>0&&(s=l[0].title);var u=0,h=0;s&&(u=s.offsetX||0,h=s.offsetY||0),o.attr({x:e+u,y:n+h})}},i.prototype.dynamicChangeGroupSize=function(r,t,e){var n=r.item,a=n.getModel(),o=a.groupId,s=this.graph,l=s.get("groupType"),u=s.get("groupNodes"),h=u[o];if(h.length===0){delete u[o];var c=s.get("groups");s.set("groups",c.filter(function(Wt){return Wt.id!==o})),t.remove()}else{var d=this.calculationGroupPosition(h),y=d.x,_=d.y,k=d.width,F=d.height,Y=this.getGroupPadding(o),G=0,ut=0;if(l==="circle"){var ft=k>F?k/2:F/2,Tt=(k+2*y)/2,Yt=(F+2*_)/2;e.attr({r:ft+Y,x:Tt,y:Yt}),G=Tt,ut=Yt-e.attr("r")}else if(l==="rect"){var Ut=this.styles.default,Jt=Y*Ut.disCoefficient;e.attr({x:y-Jt,y:_-Jt,width:k+Jt*2,height:F+Jt*2}),G=y-Jt+15,ut=_-Jt+15}this.updateGroupTitle(t,o,G,ut)}this.setGroupStyle(e,"default")},i.prototype.resetNodePoint=function(){this.nodePoint.length=0},i.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},i}(),k4=I4,B4=function(r){var t={};return r.getNodes().forEach(function(e){t[e.getID()]={degree:0,inDegree:0,outDegree:0}}),r.getEdges().forEach(function(e){t[e.getSource().getID()].degree++,t[e.getSource().getID()].outDegree++,t[e.getTarget().getID()].degree++,t[e.getTarget().getID()].inDegree++}),t},Bx=B4,D4=function(){function i(r){this.compare=r||i.defaultCompareFunction}return i.defaultCompareFunction=function(r,t){return r===t?0:r<t?-1:1},i.prototype.equal=function(r,t){return this.compare(r,t)===0},i.prototype.lessThan=function(r,t){return this.compare(r,t)<0},i.prototype.greaterThan=function(r,t){return this.compare(r,t)>0},i.prototype.lessThanOrEqual=function(r,t){return this.lessThan(r,t)||this.equal(r,t)},i.prototype.greaterThanOrEqual=function(r,t){return this.greaterThan(r,t)||this.equal(r,t)},i.prototype.reverse=function(){var r=this.compare;this.compare=function(t,e){return r(e,t)}},i}(),F4=D4,Dx=function(){function i(r,t){t===void 0&&(t=null),this.value=r,this.next=t}return i.prototype.toString=function(r){return r?r(this.value):""+this.value},i}(),R4=function(){function i(r){r===void 0&&(r=null),this.head=null,this.tail=null,this.compare=new F4(r)}return i.prototype.prepend=function(r){var t=new Dx(r,this.head);return this.head=t,this.tail||(this.tail=t),this},i.prototype.append=function(r){var t=new Dx(r);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},i.prototype.delete=function(r){if(!this.head)return null;for(var t=null;this.head&&this.compare.equal(this.head.value,r);)t=this.head,this.head=this.head.next;var e=this.head;if(e!==null)for(;e.next;)this.compare.equal(e.next.value,r)?(t=e.next,e.next=e.next.next):e=e.next;return this.compare.equal(this.tail.value,r)&&(this.tail=e),t},i.prototype.find=function(r){var t=r.value,e=t===void 0?void 0:t,n=r.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||e!==void 0&&this.compare.equal(o.value,e))return o;o=o.next}return null},i.prototype.deleteTail=function(){var r=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,r;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,r},i.prototype.deleteHead=function(){if(!this.head)return null;var r=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),r},i.prototype.fromArray=function(r){var t=this;return r.forEach(function(e){return t.append(e)}),this},i.prototype.toArray=function(){for(var r=[],t=this.head;t;)r.push(t),t=t.next;return r},i.prototype.reverse=function(){for(var r=this.head,t=null,e=null;r;)e=r.next,r.next=t,t=r,r=e;this.tail=this.head,this.head=t},i.prototype.toString=function(r){return r===void 0&&(r=void 0),this.toArray().map(function(t){return t.toString(r)}).toString()},i}(),Fx=R4,N4=function(){function i(r){r===void 0&&(r=10),this.linkedList=new Fx,this.maxStep=r}return Object.defineProperty(i.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},i.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},i.prototype.push=function(r){this.linkedList.prepend(r),this.length>this.maxStep&&this.linkedList.deleteTail()},i.prototype.pop=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toArray=function(){return this.linkedList.toArray().map(function(r){return r.value})},i.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},i}(),Rx=N4,G4=function(r,t){var e=r.getNodes(),n=r.getEdges(),a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.getID()]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.getModel(),u=l.source,h=l.target,c=o[u],d=o[h];a[c][d]=1,t||(a[d][c]=1)}),a},xu=G4,Y4=function(r,t){var e=r.get("adjMatrix");e||(e=xu(r,t));for(var n=[],a=e.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:e[o][s]===0||!e[o][s]?n[o][s]=Infinity:n[o][s]=e[o][s]}for(var l=0;l<a;l+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][l]+n[l][s]&&(n[o][s]=n[o][l]+n[l][s]);return n},Nx=Y4,Gx=function(r,t,e){return(r.y-e.y)*(t.x-e.x)-(r.x-e.x)*(t.y-e.y)},Yx=function(r){var t=r.map(function(s){return{x:s.getModel().x,y:s.getModel().y}});t.sort(function(s,l){return s.x===l.x?s.y-l.y:s.x-l.x});for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&Gx(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var a=[],n=t.length-1;n>=0;n--){for(;a.length>=2&&Gx(a[a.length-2],a[a.length-1],t[n])<=0;)a.pop();a.push(t[n])}a.pop(),e.pop();var o=e.concat(a);return o},z4={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function X4(i,r,t){var e=!1,n=function(l,u){return r.cells[l+u*r.width]},a=function(l,u){var h=0;return n(l-1,u-1)>=t&&(h+=1),n(l,u-1)>t&&(h+=2),n(l-1,u)>t&&(h+=4),n(l,u)>t&&(h+=8),h},o=function(l,u){for(var h=l,c=u,d,y,_=0;_<r.width*r.height;_++){if(d=h,y=c,i.findIndex(function(F){return F.x===h&&F.y===c})>-1){if(!(i[0].x!==h||i[0].y!==c))return!0}else i.push({x:h,y:c});var k=a(h,c);switch(k){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:h++;break;case 12:case 14:case 4:h--;break;case 6:d===0&&(y===-1?h-=1:h+=1);break;case 1:case 13:case 5:c--;break;case 9:d===1&&(y===0?c-=1:c+=1);break;case 10:case 8:case 11:c++;break;default:return console.warn("Marching squares invalid state: "+k),!0}}};this.march=function(){for(var s=0;s<r.width&&!e;s+=1)for(var l=0;l<r.height&&!e;l+=1)n(s,l)>t&&a(s,l)!==15&&(e=o(s,l));return e}}var V4=function(r,t,e){var n=Math.ceil(r/e),a=Math.ceil(t/e),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},H4=function(r,t,e){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:r.getModel().x,y:r.getModel().y},l={x:o.getModel().x,y:o.getModel().y},u=Ql(s,l),h=new Mo(s.x,s.y,l.x,l.y),c=e.reduce(function(d,y){return Oh(y,h)>0?d+1:d},0);u*Math.pow(c+1,2)<a&&(n=o,a=u*Math.pow(c+1,2))}),n},zx=function(r,t){var e=Number.POSITIVE_INFINITY,n=null;return r.forEach(function(a){var o=Oh(a,t);o>=0&&o<e&&(n=a,e=o)}),n},W4=function(r,t,e,n){var a=[],o=[];o.push(r);for(var s=!0,l=0,u=function(y,_){var k=!1;return _.forEach(function(F){k||(Ih(y,{x:F.x1,y:F.y1})||Ih(y,{x:F.x2,y:F.y2}))&&(k=!0)}),k},h=function(y,_){for(var k=0,F=_;k<F.length;k++){var Y=F[k],G=Y.getBBox(),ut=[[G.x,G.y],[G.x+G.width,G.y],[G.x,G.y+G.height],[G.x+G.width,G.y+G.height]];if(Ls(ut,y.x,y.y))return!0}return!1};s&&l<e;){s=!1;for(var c=function(){var y=o.pop(),_=zx(t,y);if(_){var k=Lm(_,y),F=k[0],Y=k[1];if(Y===2){var G=function(ft){for(var Tt=n,Yt=Xx(_,Tt,F,ft),Ut=u(Yt,o)||u(Yt,a),Jt=h(Yt,t);!Ut&&Jt&&Tt>=1;)Tt/=1.5,Yt=Xx(_,Tt,F,ft),Ut=u(Yt,o)||u(Yt,a),Jt=h(Yt,t);Yt&&!Ut&&(!ft||!Jt)&&(o.push(new Mo(y.x1,y.y1,Yt.x,Yt.y)),o.push(new Mo(Yt.x,Yt.y,y.x2,y.y2)),s=!0)};G(!0),s||G(!1)}}s||a.push(y),l+=1};!s&&o.length;)c()}for(;o.length;)a.push(o.pop());return a};function j4(i,r,t,e,n){var a=H4(i,t,r);if(a===null)return[];var o=function(c){for(var d=[];c.length>0;){var y=c.pop();if(c.length===0){d.push(y);break}var _=c.pop(),k=new Mo(y.x1,y.y1,_.x2,_.y2),F=zx(r,k);F?(d.push(y),c.push(_)):c.push(k)}return d},s=new Mo(i.getModel().x,i.getModel().y,a.getModel().x,a.getModel().y),l=W4(s,r,e,n),u=o(l);return u}var U4=function(r,t,e){var n=Object.assign(z4,e),a=Om(r.map(function(G){return{x:G.getModel().x,y:G.getModel().y}}));r=r.sort(function(G,ut){return Ql({x:G.getModel().x,y:G.getModel().y},a)-Ql({x:ut.getModel().x,y:ut.getModel().y},a)});var o=[],s=[];r.forEach(function(G){var ut=j4(G,t,o,n.maxRoutingIterations,n.morphBuffer);ut.forEach(function(ft){s.push(ft)}),o.push(G)});for(var l=Z4(r,s,n.nodeR0),u=V4(l.width,l.height,n.pixelGroupSize),h=[],c=[],d=0;d<n.maxMarchingIterations;d++)if(K4(r,t,s,l,u,n),h=[],c=[],!!new X4(h,u,n.threshold).march()){var y=h.map(function(G){return{x:Math.round(G.x*n.pixelGroupSize+l.minX),y:Math.round(G.y*n.pixelGroupSize+l.minY)}});if(y){var _=y.length;if(n.skip>1)for(_=Math.floor(y.length/n.skip);_<3&&n.skip>1;)n.skip-=1,_=Math.floor(y.length/n.skip);for(var k=0,F=0;F<_;F+=1,k+=n.skip)c.push({x:y[k].x,y:y[k].y})}var Y=function(){for(var ut=0,ft=r;ut<ft.length;ut++){var Tt=ft[ut],Yt=c.map(function(Ut){return[Ut.x,Ut.y]});if(!Ls(Yt,Tt.getBBox().centerX,Tt.getBBox().centerY))return!1}return!0};if(c&&Y())return c;if(n.threshold*=.9,d<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return c};function Z4(i,r,t){var e={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];i.forEach(function(l){n.push(l.getBBox())}),r.forEach(function(l){n.push(l.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];e.minX=(s.minX<e.minX?s.minX:e.minX)-t,e.minY=(s.minY<e.minY?s.minY:e.minY)-t,e.maxX=(s.maxX>e.maxX?s.maxX:e.maxX)+t,e.maxY=(s.maxY>e.maxY?s.maxY:e.maxY)+t}return e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.x=e.minX,e.y=e.minY,e}function K4(i,r,t,e,n,a){function o(y,_){var k=Math.floor((y-_)/a.pixelGroupSize);return k<0?0:k}function s(y,_){return y*a.pixelGroupSize+_}var l=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),u=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),h=function(_,k){var F=Math.min(o(_.minX,k+e.minX),n.width),Y=Math.min(o(_.minY,k+e.minY),n.height),G=Math.min(o(_.maxX,-k+e.minX),n.width),ut=Math.min(o(_.maxY,-k+e.minY),n.height);return[F,Y,G,ut]},c=function(_,k){for(var F=_.getBBox(),Y=h(F,a.nodeR1),G=Y[0],ut=Y[1],ft=Y[2],Tt=Y[3],Yt=ut;Yt<Tt;Yt+=1)for(var Ut=G;Ut<ft;Ut+=1)if(!(k<0&&n[Ut+Yt*n.width]<=0)){var Jt=s(Ut,e.minX),Wt=s(Yt,e.minY),ee=km({x:Jt,y:Wt},{x:F.minX,y:F.minY,width:F.width,height:F.height});if(ee<Math.pow(a.nodeR1,2)){var ue=Math.sqrt(ee)-a.nodeR1;n.cells[Ut+Yt*n.width]+=k*ue*ue}}},d=function(_,k){for(var F=_.getBBox(),Y=h(F,a.edgeR1),G=Y[0],ut=Y[1],ft=Y[2],Tt=Y[3],Yt=ut;Yt<Tt;Yt+=1)for(var Ut=G;Ut<ft;Ut+=1)if(!(k<0&&n.cells[Ut+Yt*n.width]<=0)){var Jt=s(Ut,e.minX),Wt=s(Yt,e.minY),ee=Im({x:Jt,y:Wt},_);if(ee<Math.pow(a.edgeR1,2)){var ue=Math.sqrt(ee)-a.edgeR1;n.cells[Ut+Yt*n.width]+=k*ue*ue}}};a.nodeInfluenceFactor&&i.forEach(function(y){c(y,a.nodeInfluenceFactor/l)}),a.edgeInfluenceFactor&&t.forEach(function(y){d(y,a.edgeInfluenceFactor/u)}),a.negativeNodeInfluenceFactor&&r.forEach(function(y){c(y,a.negativeNodeInfluenceFactor/l)})}function Xx(i,r,t,e){var n=i.getBBox(),a=t[0],o=t[1],s=t[2],l=t[3],u={topLeft:{x:n.minX-r,y:n.minY-r},topRight:{x:n.maxX+r,y:n.minY-r},bottomLeft:{x:n.minX-r,y:n.maxY+r},bottomRight:{x:n.maxX+r,y:n.maxY+r}},h=n.height*n.width;function c(_,k){return n.width*((_.y-n.minY+(k.y-n.minY))*.5)}if(o){if(a)return e?u.topLeft:u.bottomRight;if(s)return e?u.bottomLeft:u.topRight;var d=c(o,l);return d<h*.5?o.y>l.y?e?u.topLeft:u.bottomRight:e?u.topRight:u.bottomLeft:o.y<l.y?e?u.bottomLeft:u.topRight:e?u.bottomRight:u.topLeft}if(l){if(a)return e?u.topRight:u.bottomLeft;if(s)return e?u.bottomRight:u.topLeft}var y=c(a,s);return y<h*.5?a.x>s.x?e?u.topLeft:u.bottomRight:e?u.bottomLeft:u.topRight:a.x<s.x?e?u.topRight:u.bottomLeft:e?u.bottomRight:u.topLeft}var $4=function(){function i(r,t){this.cfg=(0,f.deepMix)(this.getDefaultCfg(),t),this.graph=r,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return(0,f.isString)(e)?r.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,f.isString)(e)?r.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return i.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},i.prototype.setPadding=function(){var r=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+r:10+r,this.cfg.bubbleCfg={nodeR0:this.padding-r,nodeR1:this.padding-r,morphBuffer:this.padding-r}},i.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},i.prototype.calcPath=function(r,t){var e,n,a;switch(this.type){case"round-convex":e=Yx(r),a=Gm(e.map(function(o){return[o.x,o.y]}),this.padding),n=(0,js.parsePathString)(a);break;case"smooth-convex":e=Yx(r),a=Ym(e.map(function(o){return[o.x,o.y]}),this.padding),n=e.length>=2&&kh(a);break;case"bubble":e=U4(r,t,this.cfg.bubbleCfg),n=e.length>=2&&kh(e);break;default:}return n},i.prototype.render=function(){this.group.addShape("path",{attrs:(0,J.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},i.prototype.addMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r)),this.members.push(r);var t=this.nonMembers.indexOf(r);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.addNonMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r)),this.nonMembers.push(r);var t=this.members.indexOf(r);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.removeMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r));var t=this.members.indexOf(r);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.removeNonMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r));var t=this.nonMembers.indexOf(r);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.updateData=function(r,t){var e=this;this.group.findById(this.id).remove(),r&&(this.members=r.map(function(n){return(0,f.isString)(n)?e.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,f.isString)(n)?e.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.updateStyle=function(r){var t=this.group.findById(this.id);t.attr((0,J.__assign)({},r))},i.prototype.updateCfg=function(r){var t=this;this.cfg=(0,f.deepMix)(this.cfg,r),this.id=this.cfg.id,this.group=this.cfg.group,r.members&&(this.members=this.cfg.members.map(function(e){return(0,f.isString)(e)?t.graph.findById(e):e})),r.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,f.isString)(e)?t.graph.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.contain=function(r){var t=this,e;(0,f.isString)(r)?e=this.graph.findById(r):e=r;var n,a=e.getKeyShape();if(e.get("type")==="path")n=ql(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var l=t.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),Ph(n,ql(this.path))},i.prototype.destroy=function(){this.group.remove(),this.cfg=null},i}(),Q4=$4,J4="node",q4="svg",t6=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.cfg=(0,f.deepMix)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new Rx(e.cfg.maxStep),e.redoStack=new Rx(e.cfg.maxStep)),e}return r.prototype.init=function(){this.initCanvas();var t=new n3(this),e=new e3(this),n=new qR(this),a=new E3(this),o=new T4(this),s=new O4(this),l=new k4(this);this.set({eventController:t,viewController:e,modeController:n,itemController:a,layoutController:o,stateController:s,customGroupControll:l}),this.initPlugin()},r.prototype.initCanvas=function(){var t=this.get("container");if((0,f.isString)(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=this.get("width"),n=this.get("height"),a=this.get("renderer"),o;if(a===q4)o=new Os.Z({container:t,width:e,height:n});else{var s={container:t,width:e,height:n},l=this.get("pixelRatio");l&&(s.pixelRatio=l),o=new Eo.Z(s)}this.set("canvas",o),this.initGroups()},r.prototype.initPlugin=function(){var t=this;(0,f.each)(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},r.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el"),n=e.id,a=t.addGroup({id:n+"-root",className:Be.rootContainerClassName});if(this.get("groupByTypes")){var o=a.addGroup({id:n+"-edge",className:Be.edgeContainerClassName}),s=a.addGroup({id:n+"-node",className:Be.nodeContainerClassName}),l=a.addGroup({id:n+"-combo",className:Be.comboContainerClassName}),u=a.addGroup({id:n+"-group",className:Be.customGroupContainerClassName});u.toBack(),l.toBack(),this.set({nodeGroup:s,edgeGroup:o,customGroup:u,comboGroup:l})}var h=a.addGroup({id:n+"-delegate",className:Be.delegateContainerClassName});this.set({delegateGroup:h}),this.set("group",a)},r.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},r.prototype.set=function(t,e){return(0,f.isPlainObject)(t)?this.cfg=(0,J.__assign)((0,J.__assign)({},this.cfg),t):this.cfg[t]=e,this},r.prototype.get=function(t){return this.cfg[t]},r.prototype.getGroup=function(){return this.get("group")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.getMinZoom=function(){return this.get("minZoom")},r.prototype.setMinZoom=function(t){return this.set("minZoom",t)},r.prototype.getMaxZoom=function(){return this.get("maxZoom")},r.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},r.prototype.getWidth=function(){return this.get("width")},r.prototype.getHeight=function(){return this.get("height")},r.prototype.clearItemStates=function(t,e){(0,f.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e);var a=this.get("stateController");a.updateStates(t,e,!1)},r.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},r.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},r.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},r.prototype.findById=function(t){return this.get("itemMap")[t]},r.prototype.find=function(t,e){var n,a=this.get(t+"s");return(0,f.each)(a,function(o,s){if(e(o,s))return n=o,n}),n},r.prototype.findAll=function(t,e){var n=[];return(0,f.each)(this.get(t+"s"),function(a,o){e(a,o)&&n.push(a)}),n},r.prototype.findAllByState=function(t,e){return this.findAll(t,function(n){return n.hasState(e)})},r.prototype.translate=function(t,e){var n=this.get("group"),a=(0,f.clone)(n.getMatrix());a||(a=[1,0,0,0,1,0,0,0,1]),da.wO.translate(a,a,[t,e]),n.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},r.prototype.moveTo=function(t,e){var n=this.get("group");Tm(n,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:n.getMatrix()})},r.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var e=this.get("viewController");e.fitView(),this.autoPaint()},r.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},r.prototype.addBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!0),this},r.prototype.removeBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!1),this},r.prototype.zoom=function(t,e){var n=this.get("group"),a=(0,f.clone)(n.getMatrix()),o=this.get("minZoom"),s=this.get("maxZoom");a||(a=[1,0,0,0,1,0,0,0,1]),e?(da.wO.translate(a,a,[-e.x,-e.y]),da.wO.scale(a,a,[t,t]),da.wO.translate(a,a,[e.x,e.y])):da.wO.scale(a,a,[t,t]),!(o&&a[0]<o||s&&a[0]>s)&&(n.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint())},r.prototype.zoomTo=function(t,e){var n=t/this.getZoom();this.zoom(n,e)},r.prototype.focusItem=function(t,e,n){var a=this.get("viewController"),o=!1;e?o=!0:e===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},r.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},r.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},r.prototype.getPointByClient=function(t,e){var n=this.get("viewController");return n.getPointByClient(t,e)},r.prototype.getClientByPoint=function(t,e){var n=this.get("viewController");return n.getClientByPoint(t,e)},r.prototype.getPointByCanvas=function(t,e){var n=this.get("viewController");return n.getPointByCanvas(t,e)},r.prototype.getCanvasByPoint=function(t,e){var n=this.get("viewController");return n.getCanvasByPoint(t,e)},r.prototype.showItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!1}],u.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],u.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],u.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:l,after:u})}},r.prototype.hideItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!0}],u.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],u.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],u.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:l,after:u})}},r.prototype.refreshItem=function(t){var e=this.get("itemController");e.refreshItem(t)},r.prototype.setAutoPaint=function(t){var e=this;e.set("autoPaint",t);var n=e.get("canvas");n.set("autoDraw",t)},r.prototype.remove=function(t,e){e===void 0&&(e=!0),this.removeItem(t,e)},r.prototype.removeItem=function(t,e){e===void 0&&(e=!0);var n=t;if((0,f.isString)(t)&&(n=this.findById(t)),!n&&(0,f.isString)(t)){console.warn("The item to be removed does not exist!");var a=this.get("customGroupControll");a.remove(t)}else if(n){var o="";if(n.getType&&(o=n.getType()),e&&this.get("enabledStack")){var s=(0,J.__assign)((0,J.__assign)({},n.getModel()),{itemType:o}),l={};switch(o){case"node":{l.nodes=[s],l.edges=[];for(var u=n.getEdges(),h=u.length-1;h>=0;h--)l.edges.push((0,J.__assign)((0,J.__assign)({},u[h].getModel()),{itemType:"edge"}));break}case"edge":l.edges=[s];break;case"combo":l.combos=[s];break;default:break}this.pushStack("delete",{before:l,after:{}})}var c=this.get("itemController");if(c.removeItem(t),o==="combo"){var d=Rh(this.get("comboTrees"));this.set("comboTrees",d)}}},r.prototype.addItem=function(t,e,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController");if(t==="group"){var l=e.groupId,u=e.nodes,h=e.type,c=e.zIndex,d=e.title,y=d;return(0,f.isString)(d)&&(y={text:d}),this.get("customGroupControll").create(l,u,h,c,!0,y)}if(e.id&&this.findById(e.id)){console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","");return}var _,k=this.get("comboTrees");if(k||(k=[]),t==="combo"){var F=this.get("itemMap"),Y=!1;if(k.forEach(function(ee){Y||oa(ee,function(ue){if(e.parentId===ue.id){Y=!0;var oe=(0,J.__assign)({id:e.id,depth:ue.depth+2},e);ue.children?ue.children.push(oe):ue.children=[oe],e.depth=oe.depth,_=s.addItem(t,e)}var we=F[ue.id];return Y&&we&&we.getType&&we.getType()==="combo"&&s.updateCombo(we,ue.children),!0})}),!Y){var G=(0,J.__assign)({id:e.id,depth:0},e);e.depth=G.depth,k.push(G),_=s.addItem(t,e)}this.set("comboTrees",k)}else if(t==="node"&&(0,f.isString)(e.comboId)&&k){var ut=this.findById(e.comboId);if(ut&&ut.getType&&ut.getType()!=="combo"){console.warn("'"+e.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");return}_=s.addItem(t,e);var ft=this.get("itemMap"),Tt=!1,Yt=!1;(k||[]).forEach(function(ee){Yt||Tt||oa(ee,function(ue){if(ue.id===e.id)return Yt=!0,!1;if(e.comboId===ue.id&&!Yt){Tt=!0;var oe=(0,f.clone)(e);oe.itemType="node",ue.children?ue.children.push(oe):ue.children=[oe],e.depth=ue.depth+1}return Tt&&ft[ue.id].getType&&ft[ue.id].getType()==="combo"&&s.updateCombo(ft[ue.id],ue.children),!0})})}else _=s.addItem(t,e);if(t==="node"&&e.comboId||t==="combo"&&e.parentId){var ut=this.findById(e.comboId||e.parentId);ut&&ut.addChild(_)}var Ut=this.get("combos");if(Ut&&Ut.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var Jt=(0,J.__assign)((0,J.__assign)({},_.getModel()),{itemType:t}),Wt={};switch(t){case"node":Wt.nodes=[Jt];break;case"edge":Wt.edges=[Jt];break;case"combo":Wt.combos=[Jt];break;default:break}this.pushStack("add",{before:{},after:Wt})}return _},r.prototype.add=function(t,e,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,e,n,a)},r.prototype.updateItem=function(t,e,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,f.isString)(t)?s=this.findById(t):s=t;var l=(0,f.clone)(s.getModel()),u="";s.getType&&(u=s.getType());var h=(0,J.__spreadArrays)(s.getStates());if(u==="combo"&&(0,f.each)(h,function(_){return a.setItemState(s,_,!1)}),o.updateItem(s,e),u==="combo"&&(0,f.each)(h,function(_){return a.setItemState(s,_,!0)}),n&&this.get("enabledStack")){var c={nodes:[],edges:[],combos:[]},d={nodes:[],edges:[],combos:[]},y=(0,J.__assign)({id:l.id},e);switch(u){case"node":c.nodes.push(l),d.nodes.push(y);break;case"edge":c.edges.push(l),d.edges.push(y);break;case"combo":c.combos.push(l),d.combos.push(y);break;default:break}u==="node"&&c.nodes.push(l),this.pushStack("update",{before:c,after:d})}},r.prototype.update=function(t,e,n){n===void 0&&(n=!0),this.updateItem(t,e,n)},r.prototype.setItemState=function(t,e,n){(0,f.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,e,n);var o=this.get("stateController");(0,f.isString)(n)?o.updateState(t,e+":"+n,!0):o.updateState(t,e,n)},r.prototype.priorityState=function(t,e){var n=this.get("itemController");n.priorityState(t,e)},r.prototype.data=function(t){this.set("data",t)},r.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o,l=e.combos,u=l===void 0?[]:l;if(this.clear(),this.emit("beforerender"),(0,f.each)(a,function(G){t.add("node",G,!1,!1)}),u&&u.length!==0){var h=Fh(u,a);this.set("comboTrees",h),t.addCombos(u)}(0,f.each)(s,function(G){t.add("edge",G,!1,!1)});var c=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var d=t.get("layoutController");d.layout(y)||y();function y(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",c)}if(!this.get("groupByTypes"))if(u&&u.length!==0)this.sortCombos();else if(e.nodes&&e.edges&&e.nodes.length<e.edges.length){var _=this.getNodes();_.forEach(function(G){G.toFront()})}else{var k=this.getEdges();k.forEach(function(G){G.toBack()})}if(e.nodes){var F=e.nodes.filter(function(G){return G.groupId});if(F.length>0){var Y=t.get("groupType");this.renderCustomGroup(e,Y)}}this.get("enabledStack")&&this.pushStack("render")},r.prototype.read=function(t){this.data(t),this.render()},r.prototype.diffItems=function(t,e,n){var a=this,o,s=this.get("itemMap");(0,f.each)(n,function(l){if(o=s[l.id],o){if(a.get("animate")&&t===J4){var u=o.getContainer().getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:u[6],y:u[7]})}a.updateItem(o,l,!1)}else o=a.addItem(t,l,!1);e[t+"s"].push(o)})},r.prototype.changeData=function(t,e){e===void 0&&(e=!0);var n=this;if(!t)return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.getNodes().map(function(k){return n.clearItemStates(k)}),this.getEdges().map(function(k){return n.clearItemStates(k)});var a=this.get("canvas"),o=a.get("localRefresh");a.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var s=this.get("itemMap"),l={nodes:[],edges:[]},u=t.combos;if(u){var h=Fh(u,t.nodes);this.set("comboTrees",h)}this.diffItems("node",l,t.nodes),(0,f.each)(s,function(k,F){s[F].getModel().depth=0,!(k.getType&&k.getType()==="edge")&&(k.getType&&k.getType()==="combo"?(delete s[F],k.destroy()):l.nodes.indexOf(k)<0&&(delete s[F],n.remove(k,!1)))});for(var c=this.getCombos(),d=c.length,y=d-1;y>=0;y--)c[y].destroyed&&c.splice(y,1);u&&(n.addCombos(u),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",l,t.edges),(0,f.each)(s,function(k,F){k.getType&&(k.getType()==="node"||k.getType()==="combo")||l.edges.indexOf(k)<0&&(delete s[F],n.remove(k,!1))}),this.set({nodes:l.nodes,edges:l.edges});var _=this.get("layoutController");return _.changeData(),n.get("animate")&&!_.getLayoutType()?n.positionsAnimate():n.autoPaint(),setTimeout(function(){a.set("localRefresh",o)},16),this},r.prototype.addCombos=function(t){var e=this,n=e.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},r.prototype.createCombo=function(t,e){var n=this;this.set("comboSorted",!1);var a="",o;if(!!t){if((0,f.isString)(t))a=t,o={id:t};else{if(a=t.id,!a){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}o=t}var s=e.map(function(u){var h=n.findById(u),c="";h.getType&&(c=h.getType());var d={id:h.getID(),itemType:c};return c==="combo"?d.parentId=a:c==="node"&&(d.comboId=a),d});o.children=s,this.addItem("combo",o,!1),this.set("comboSorted",!1);var l=this.get("comboTrees");(l||[]).forEach(function(u){oa(u,function(h){return h.id===a?(h.itemType="combo",h.children=s,!1):!0})}),l&&this.sortCombos()}},r.prototype.uncombo=function(t){var e=this,n,a=this,o=t;if((0,f.isString)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var s=o.getModel().parentId,l=a.get("comboTrees");l||(l=[]);var u=this.get("itemMap"),h=o.get("id"),c,d=[],y=this.get("combos"),_=this.findById(s);if(l.forEach(function(F){c||oa(F,function(Y){var G;if(Y.id===h){c=Y;var ut=o.getEdges();ut.forEach(function(Tt){e.removeItem(Tt,!1)});var ft=y.indexOf(t);y.splice(ft,1),delete u[h],o.destroy()}if(s&&c&&Y.id===s){_.removeCombo(o),d=Y.children;var ft=d.indexOf(c);return ft!==-1&&d.splice(ft,1),(G=c.children)===null||G===void 0||G.forEach(function(Yt){var Ut=e.findById(Yt.id),Jt=Ut.getModel();Ut.getType&&Ut.getType()==="combo"?(Yt.parentId=s,delete Yt.comboId,Jt.parentId=s,delete Jt.comboId):Ut.getType&&Ut.getType()==="node"&&(Yt.comboId=s,Jt.comboId=s),_.addChild(Ut),d.push(Yt)}),!1}return!0})}),!s&&c){var k=l.indexOf(c);l.splice(k,1),(n=c.children)===null||n===void 0||n.forEach(function(F){F.parentId=void 0;var Y=e.findById(F.id).getModel();Y.parentId=void 0,F.itemType!=="node"&&l.push(F)})}},r.prototype.updateCombos=function(){var t=this,e=this,n=this.get("comboTrees"),a=e.get("itemController"),o=e.get("itemMap");(n||[]).forEach(function(s){oa(s,function(l){if(!l)return!0;var u=o[l.id];if(u&&u.getType&&u.getType()==="combo"){var h=(0,J.__spreadArrays)(u.getStates());(0,f.each)(h,function(c){return t.setItemState(u,c,!1)}),a.updateCombo(u,l.children),(0,f.each)(h,function(c){return t.setItemState(u,c,!0)})}return!0})}),e.sortCombos()},r.prototype.updateCombo=function(t){var e=this,n=this,a=t,o;if((0,f.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),l=n.get("itemController"),u=n.get("itemMap");(s||[]).forEach(function(h){oa(h,function(c){if(!c)return!0;var d=u[c.id];if(o===c.id&&d&&d.getType&&d.getType()==="combo"){var y=(0,J.__spreadArrays)(d.getStates());(0,f.each)(y,function(_){d.getStateStyle(_)&&e.setItemState(d,_,!1)}),l.updateCombo(d,c.children),(0,f.each)(y,function(_){d.getStateStyle(_)&&e.setItemState(d,_,!0)}),o&&(o=c.parentId)}return!0})})},r.prototype.updateComboTree=function(t,e){var n=this;this.set("comboSorted",!1);var a;(0,f.isString)(t)?a=n.findById(t):a=t;var o=a.getModel(),s=o.comboId||o.parentId;if(e&&a.getType&&a.getType()==="combo"){var l=this.get("comboTrees"),u=!0,h;if((l||[]).forEach(function(k){h||Pi(k,function(F){if(!h)return F.id===a.getID()&&(h=F),!0})}),Pi(h,function(k){return k.id===e?(u=!1,!1):!0}),!u){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(o.parentId||o.comboId){var c=this.findById(o.parentId||o.comboId);c&&c.removeChild(a)}var d="";if(a.getType&&(d=a.getType()),d==="combo"?o.parentId=e:d==="node"&&(o.comboId=e),e){var y=this.findById(e);y&&y.addChild(a)}if(s){var y=this.findById(s);y&&y.removeChild(a)}var _=Rh(this.get("comboTrees"),o.id,e);this.set("comboTrees",_),this.updateCombos()},r.prototype.renderCustomGroup=function(t,e){var n=this,a=t.groups,o=t.nodes,s=o===void 0?[]:o,l=10;if(a){this.set({groups:a});var d=QR(t);Object.keys(d).forEach(function(_){var k=d[_];n.get("customGroupControll").create(_,k,e,l),l--});var y=this.get("customGroup");y.sort()}else{var u=s.filter(function(_){return _.groupId}),h=[],c=(0,f.groupBy)(u,"groupId");Object.keys(c).forEach(function(_){var k=c[_].map(function(F){return F.id});n.get("customGroupControll").create(_,k,e,l),l--,h.find(function(F){return F.id===_})||h.push({id:_})}),this.set({groups:h})}},r.prototype.save=function(){var t=[],e=[],n=[];return(0,f.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,f.each)(this.get("edges"),function(a){e.push(a.getModel())}),(0,f.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:e,combos:n,groups:this.get("groups")}},r.prototype.changeSize=function(t,e){var n=this.get("viewController");return n.changeSize(t,e),this},r.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,f.each)(e,function(o){o.refresh()}),(0,f.each)(n,function(o){o.refresh()}),(0,f.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},r.prototype.getNodes=function(){return this.get("nodes")},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getCombos=function(){return this.get("combos")},r.prototype.getComboChildren=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},r.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),n=e.onFrame,a=t.getNodes(),o=a.map(function(l){var u=l.getModel();return{id:u.id,x:u.x,y:u.y}});t.isAnimating()&&t.stopAnimate();var s=t.get("canvas");s.animate(function(l){(0,f.each)(o,function(u){var h=t.findById(u.id);if(!(!h||h.destroyed)){var c=h.get("originAttrs"),d=h.get("model");if(!c){var y=h.getContainer().getMatrix();y||(y=[1,0,0,0,1,0,0,0,1]),c={x:y[6],y:y[7]},h.set("originAttrs",c)}if(n){var _=n(h,l,u,c);h.set("model",Object.assign(d,_))}else d.x=c.x+(u.x-c.x)*l,d.y=c.y+(u.y-c.y)*l}}),t.refreshPositions()},{duration:e.duration,easing:e.easing,callback:function(){(0,f.each)(a,function(u){u.set("originAttrs",null)}),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},r.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var e=t.get("nodes"),n=t.get("edges"),a=t.get("vedges"),o=t.get("combos"),s,l={};(0,f.each)(e,function(u){s=u.getModel();var h=u.get("originAttrs");h&&s.x===h.x&&s.y===h.y||(u.updatePosition({x:s.x,y:s.y}),l[s.id]=!0,s.comboId&&(l[s.comboId]=!0))}),o&&o.length!==0&&t.updateCombos(),(0,f.each)(n,function(u){var h=u.getSource().getModel(),c=u.getTarget().getModel();(l[h.id]||l[c.id]||u.getModel().isComboEdge)&&u.refresh()}),(0,f.each)(a,function(u){u.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},r.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},r.prototype.isAnimating=function(){return this.animating},r.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},r.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},r.prototype.setMode=function(t){var e=this.get("modeController");return e.setMode(t),this},r.prototype.clear=function(){var t=this.get("canvas");return t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},r.prototype.toDataURL=function(t,e){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var l=o.cloneNode(!0),u=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),h=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",u);h.replaceChild(l,h.documentElement);var c=new XMLSerializer().serializeToString(h);s="data:image/svg+xml;charset=utf8,"+encodeURIComponent(c)}else{var d=void 0,y=o.getContext("2d"),_=this.get("width"),k=this.get("height"),F=void 0;if(e){var Y=window.devicePixelRatio;d=y.getImageData(0,0,_*Y,k*Y),F=y.globalCompositeOperation,y.globalCompositeOperation="destination-over",y.fillStyle=e,y.fillRect(0,0,_,k)}s=o.toDataURL(t),e&&(y.clearRect(0,0,_,k),y.putImageData(d,0,0),y.globalCompositeOperation=F)}return s},r.prototype.toFullDataURL=function(t,e,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,l=this.get("renderer"),u=(0,Wn.Z)('<id="virtual-image"></div>'),h=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?(0,f.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var d=o+c[0]+c[2],y=s+c[1]+c[3],_={container:u,height:d,width:y,quickHit:!0},k=l==="svg"?new Os.Z(_):new Eo.Z(_),F=this.get("group"),Y=F.clone(),G=(0,f.clone)(Y.getMatrix());G||(G=[1,0,0,0,1,0,0,0,1]);var ut=(a.maxX+a.minX)/2,ft=(a.maxY+a.minY)/2;da.wO.translate(G,G,[-ut,-ft]),da.wO.translate(G,G,[s/2+c[3],o/2+c[0]]),Y.resetMatrix(),Y.setMatrix(G),k.add(Y);var Tt=k.get("el"),Yt="";e||(e="image/png"),setTimeout(function(){if(l==="svg"){var Ut=Tt.cloneNode(!0),Jt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Wt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Jt);Wt.replaceChild(Ut,Wt.documentElement);var ee=new XMLSerializer().serializeToString(Wt);Yt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(ee)}else{var ue=void 0,oe=Tt.getContext("2d"),we=void 0;if(h){var _e=window.devicePixelRatio;ue=oe.getImageData(0,0,y*_e,d*_e),we=oe.globalCompositeOperation,oe.globalCompositeOperation="destination-over",oe.fillStyle=h,oe.fillRect(0,0,y,d)}Yt=Tt.toDataURL(e),h&&(oe.clearRect(0,0,y,d),oe.putImageData(ue,0,0),oe.globalCompositeOperation=we)}t==null||t(Yt)},16)},r.prototype.downloadFullImage=function(t,e,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,u=this.get("renderer"),h=(0,Wn.Z)('<id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,d=n?n.padding:void 0;d?(0,f.isNumber)(d)&&(d=[d,d,d,d]):d=[0,0,0,0];var y=s+d[0]+d[2],_=l+d[1]+d[3],k={container:h,height:y,width:_},F=u==="svg"?new Os.Z(k):new Eo.Z(k),Y=this.get("group"),G=Y.clone(),ut=(0,f.clone)(G.getMatrix());ut||(ut=[1,0,0,0,1,0,0,0,1]);var ft=(o.maxX+o.minX)/2,Tt=(o.maxY+o.minY)/2;da.wO.translate(ut,ut,[-ft,-Tt]),da.wO.translate(ut,ut,[l/2+d[3],s/2+d[0]]),G.resetMatrix(),G.setMatrix(ut),F.add(G);var Yt=F.get("el");e||(e="image/png"),setTimeout(function(){var Ut="";if(u==="svg"){var Jt=Yt.cloneNode(!0),Wt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),ee=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Wt);ee.replaceChild(Jt,ee.documentElement);var ue=new XMLSerializer().serializeToString(ee);Ut="data:image/svg+xml;charset=utf8,"+encodeURIComponent(ue)}else{var oe=void 0,we=Yt.getContext("2d"),_e=void 0;if(c){var Ee=window.devicePixelRatio;oe=we.getImageData(0,0,_*Ee,y*Ee),_e=we.globalCompositeOperation,we.globalCompositeOperation="destination-over",we.fillStyle=c,we.fillRect(0,0,_,y)}Ut=Yt.toDataURL(e),c&&(we.clearRect(0,0,_,y),we.putImageData(oe,0,0),we.globalCompositeOperation=_e)}var Re=document.createElement("a"),Ye=(t||"graph")+(u==="svg"?".svg":"."+e.split("/")[1]);a.dataURLToImage(Ut,u,Re,Ye);var Xe=document.createEvent("MouseEvents");Xe.initEvent("click",!1,!1),Re.dispatchEvent(Xe)},16)},r.prototype.downloadImage=function(t,e,n){var a=this,o=this;o.isAnimating()&&o.stopAnimate();var s=o.get("canvas"),l=s.getRenderer();e||(e="image/png");var u=(t||"graph")+(l==="svg"?".svg":e.split("/")[1]),h=document.createElement("a");setTimeout(function(){var c=o.toDataURL(e,n);a.dataURLToImage(c,l,h,u);var d=document.createEvent("MouseEvents");d.initEvent("click",!1,!1),h.dispatchEvent(d)},16)},r.prototype.dataURLToImage=function(t,e,n,a){if(typeof window!="undefined")if(window.Blob&&window.URL&&e!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var u=atob(o[1]),h=u.length,c=new Uint8Array(h);h--;)c[h]=u.charCodeAt(h);var d=new Blob([c],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(d,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(d)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},r.prototype.updateLayout=function(t){var e=this.get("layoutController"),n;(0,f.isString)(t)?(n=t,t={type:n}):n=t.type;var a=this.get("layout"),o=a?a.type:void 0;if(!n||o===n){var s={};Object.assign(s,a,t),s.type=o||"random",this.set("layout",s),e.updateLayoutCfg(s)}else this.set("layout",t),e.changeLayout(n)},r.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},r.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");if(!!e){if(e.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},r.prototype.collapseCombo=function(t){var e=this;if((0,f.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.collapseCombo(t),n.collapsed=!0;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),h=!1,c={};(u||[]).forEach(function(_){c[_.id]=_}),(u||[]).forEach(function(_){h||Pi(_,function(k){if(h&&c[k.id])return!1;if(n.parentId===k.id?(c={},k.children.forEach(function(Y){c[Y.id]=Y})):n.id===k.id&&(h=!0),h){var F=e.findById(k.id);F&&F.getType&&F.getType()==="combo"&&(s=s.concat(F.getNodes()),l=l.concat(F.getCombos()))}return!0})});var d={},y=[];o.forEach(function(_){if(!(_.isVisible()&&!_.getModel().isVEdge)){var k=_.getSource(),F=_.getTarget();if((s.includes(k)||l.includes(k))&&!s.includes(F)&&!l.includes(F)||k.getModel().id===n.id){var Y=_.getModel();if(Y.isVEdge){e.removeItem(_,!1);return}for(var G=F.getModel();!F.isVisible();){if(F=e.findById(G.parentId||G.comboId),!F||!G.parentId&&!G.comboId)return;G=F.getModel()}var ut=G.id;if(d[n.id+"-"+ut]){d[n.id+"-"+ut]+=Y.size||1;return}var ft=e.addItem("vedge",{source:n.id,target:ut,isVEdge:!0},!1);d[n.id+"-"+ut]=Y.size||1,y.push(ft)}else if(!s.includes(k)&&!l.includes(k)&&(s.includes(F)||l.includes(F))||F.getModel().id===n.id){var Y=_.getModel();if(Y.isVEdge){e.removeItem(_,!1);return}for(var Tt=k.getModel();!k.isVisible();){if(k=e.findById(Tt.parentId||Tt.comboId),!k||!Tt.parentId&&!Tt.comboId)return;Tt=k.getModel()}var Yt=Tt.id;if(d[Yt+"-"+n.id]){d[Yt+"-"+n.id]+=Y.size||1;return}var ft=e.addItem("vedge",{target:n.id,source:Yt,isVEdge:!0},!1);d[Yt+"-"+n.id]=Y.size||1,y.push(ft)}}}),y.forEach(function(_){var k=_.getModel();e.updateItem(_,{size:d[k.source+"-"+k.target]},!1)})},r.prototype.expandCombo=function(t){var e=this;if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.expandCombo(t),n.collapsed=!1;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),h=!1,c={};(u||[]).forEach(function(_){c[_.id]=_}),(u||[]).forEach(function(_){h||Pi(_,function(k){if(h&&c[k.id])return!1;if(n.parentId===k.id?(c={},k.children.forEach(function(Y){c[Y.id]=Y})):n.id===k.id&&(h=!0),h){var F=e.findById(k.id);F&&F.getType&&F.getType()==="combo"&&(s=s.concat(F.getNodes()),l=l.concat(F.getCombos()))}return!0})});var d={},y={};o.forEach(function(_){if(!(_.isVisible()&&!_.getModel().isVEdge)){var k=_.getSource(),F=_.getTarget(),Y=k.get("id"),G=F.get("id");if((s.includes(k)||l.includes(k))&&!s.includes(F)&&!l.includes(F)||Y===n.id){if(_.getModel().isVEdge){e.removeItem(_,!1);return}for(var ut=F.getModel();!F.isVisible();){if(F=e.findById(ut.comboId||ut.parentId),!F||!ut.parentId&&!ut.comboId)return;ut=F.getModel()}G=ut.id;for(var ft=k.getModel();!k.isVisible();){if(k=e.findById(ft.comboId||ft.parentId),!k||!ft.parentId&&!ft.comboId)return;if(ft.comboId===n.id||ft.parentId===n.id)break;ft=k.getModel()}if(Y=ft.id,G){var Tt=Y+"-"+G;if(d[Tt]){d[Tt]+=_.getModel().size||1,e.updateItem(y[Tt],{size:d[Tt]},!1);return}var Yt=e.addItem("vedge",{source:Y,target:G,isVEdge:!0},!1);d[Tt]=_.getModel().size||1,y[Tt]=Yt}}else if(!s.includes(k)&&!l.includes(k)&&(s.includes(F)||l.includes(F))||G===n.id){if(_.getModel().isVEdge){e.removeItem(_,!1);return}for(var ft=k.getModel();!k.isVisible();){if(k=e.findById(ft.comboId||ft.parentId),!k||!ft.parentId&&!ft.comboId)return;ft=k.getModel()}Y=ft.id;for(var ut=F.getModel();!F.isVisible();){if(F=e.findById(ut.comboId||ut.parentId),!F||!ut.parentId&&!ut.comboId)return;if(ut.comboId===n.id||ut.parentId===n.id)break;ut=F.getModel()}if(G=ut.id,Y){var Tt=Y+"-"+G;if(d[Tt]){d[Tt]+=_.getModel().size||1,e.updateItem(y[Tt],{size:d[Tt]},!1);return}var Yt=e.addItem("vedge",{target:G,source:Y,isVEdge:!0},!1);d[Tt]=_.getModel().size||1,y[Tt]=Yt}}else(s.includes(k)||l.includes(k))&&(s.includes(F)||l.includes(F))&&k.isVisible()&&F.isVisible()&&_.show()}})},r.prototype.collapseExpandCombo=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!(t.getType&&t.getType()!=="combo")){for(var e=t.getModel(),n=this.findById(e.parentId);n;){var a=n.getModel();if(a.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),n=void 0;return}n=this.findById(a.parentId)}var o=e.collapsed;o?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},r.prototype.collapseGroup=function(t){var e=this.get("customGroupControll");e.collapseGroup(t)},r.prototype.expandGroup=function(t){var e=this.get("customGroupControll");e.expandGroup(t)},r.prototype.addPlugin=function(t){var e=this;t.destroyed||(e.get("plugins").push(t),t.initPlugin(e))},r.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},r.prototype.sortCombos=function(){var t=this,e=this.get("comboSorted");if(!e){this.set("comboSorted",!0);var n=[],a={},o=this.get("comboTrees");(o||[]).forEach(function(l){Pi(l,function(u){return n[u.depth]?n[u.depth].push(u.id):n[u.depth]=[u.id],a[u.id]=u.depth,!0})});var s=this.getEdges().concat(this.get("vedges"));(s||[]).forEach(function(l){var u=l.getModel(),h=a[u.source]||0,c=a[u.target]||0,d=Math.max(h,c);n[d]?n[d].push(u.id):n[d]=[u.id]}),n.forEach(function(l){if(!(!l||!l.length))for(var u=l.length-1;u>=0;u--){var h=t.findById(l[u]);h==null||h.toFront()}})}},r.prototype.getNeighbors=function(t,e){var n=t;return(0,f.isString)(t)&&(n=this.findById(t)),n.getNeighbors(e)},r.prototype.getNodeDegree=function(t,e){e===void 0&&(e=void 0);var n=t;(0,f.isString)(t)&&(n=this.findById(t));var a=this.get("degrees");a||(a=Bx(this)),this.set("degees",a);var o=a[n.getID()],s;switch(e){case"in":s=o.inDegree;break;case"out":s=o.outDegree;break;case"all":s=o;break;default:s=o.degree;break}return s},r.prototype.getUndoStack=function(){return this.undoStack},r.prototype.getRedoStack=function(){return this.redoStack},r.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},r.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},r.prototype.pushStack=function(t,e,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=e?(0,f.clone)(e):{before:{},after:(0,f.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},r.prototype.getAdjMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=xu(this,e),this.set("adjMatrix",n)),n},r.prototype.getShortestPathMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=xu(this,e),this.set("adjMatrix",n)),(!a||!t)&&(a=Nx(this,e),this.set("shortestPathMatrix",a)),a},r.prototype.destroy=function(){this.clear(),this.clearStack(),(0,f.each)(this.get("plugins"),function(o){o.destroyPlugin()});var t=this.get("tooltips");if(t)for(var e=0;e<t.length;e++){var n=t[e];if(!!n){var a=n.parentElement;!a||a.removeChild(n)}}this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},r.prototype.createHull=function(t){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e||(e=this.get("group").addGroup({id:"hullGroup"}),e.toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=e.addGroup({id:t.id+"-container"}),o=new Q4(this,(0,J.__assign)((0,J.__assign)({},t),{group:a})),s=o.id;return n[s]=o,o},r.prototype.getHulls=function(){return this.get("hullMap")},r.prototype.getHullById=function(t){return this.get("hullMap")[t]},r.prototype.removeHull=function(t){var e;(0,f.isString)(t)?e=this.getHullById(t):e=t;var n=this.get("hullMap");delete n[e.id],e.destroy()},r.prototype.setImageWaterMarker=function(t,e){t===void 0&&(t=Be.waterMarkerImage);var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},Be.imageWaterMarkerConfig,e),s=o.width,l=o.height,u=o.compatible,h=o.image;if(!a){var c={container:n,width:s,height:l,capture:!1},d=this.get("pixelRatio");d&&(c.pixelRatio=d),a=new Eo.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var y=a.get("context"),_=h.rotate,k=h.x,F=h.y;y.rotate(-_*Math.PI/180);var Y=new Image;Y.crossOrigin="anonymous",Y.src=t,Y.onload=function(){if(y.drawImage(Y,k,F,h.width,h.height),y.rotate(_*Math.PI/180),u)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var G=document.querySelector(".g6-graph-watermarker");G||(G=document.createElement("div"),G.className="g6-graph-watermarker"),G.className="g6-graph-watermarker",a.destroyed||(G.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",n.appendChild(G))}}},r.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},Be.textWaterMarkerConfig,e),s=o.width,l=o.height,u=o.compatible,h=o.text;if(!a){var c={container:n,width:s,height:l,capture:!1},d=this.get("pixelRatio");d&&(c.pixelRatio=d),a=new Eo.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var y=a.get("context"),_=h.rotate,k=h.fill,F=h.fontFamily,Y=h.fontSize,G=h.baseline,ut=h.x,ft=h.y,Tt=h.lineHeight;y.rotate(-_*Math.PI/180),y.font=Y+"px "+F,y.fillStyle=k,y.textBaseline=G;for(var Yt=t.length-1;Yt>=0;Yt--)y.fillText(t[Yt],ut,ft+Yt*Tt);if(y.rotate(_*Math.PI/180),u)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Ut=document.querySelector(".g6-graph-watermarker");Ut||(Ut=document.createElement("div"),Ut.className="g6-graph-watermarker"),Ut.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",n.appendChild(Ut)}},r}(Xt.default),Vx=t6,e6=v(77201),Hx=v.n(e6),r6=function(i){(0,J.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.layoutAnimating=!1,e.set("removeList",[]),e.set("layoutMethod",e.getLayout()),e}return r.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var n=Hx()[t.type](e,t);return Jm(n),n}:function(e){return Hx()[t.type](e,t)}):null},r.indexOfChild=function(t,e){var n=-1;return(0,kn.S6)(t,function(a,o){if(e===a.id)return n=o,!1}),n},r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.animate=!0,t},r.prototype.innerAddChild=function(t,e,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(e){if(s.set("parent",e),n){var l=e.get("originAttrs");if(l)s.set("originAttrs",l);else{var u=e.getModel();s.set("originAttrs",{x:u.x,y:u.y})}}var h=e.get("children");h?h.push(s):e.set("children",[s]),a.addItem("edge",{source:e,target:s,id:e.get("id")+":"+s.get("id")},!1)}return(0,kn.S6)(t.children||[],function(c){a.innerAddChild(c,s,n)}),a.emit("afteraddchild",{item:s,parent:e}),s},r.prototype.innerUpdateChild=function(t,e,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,e,n);return}(0,kn.S6)(t.children||[],function(_){a.innerUpdateChild(_,o,n)});var s=o.get("children");if(s){var l=s.length;if(l>0)for(var u=s.length-1;u>=0;u--){var h=s[u].getModel();r.indexOfChild(t.children||[],h.id)===-1&&(a.innerRemoveChild(h.id,{x:t.x,y:t.y},n),s.splice(u,1))}}var c,d;o.get("originAttrs")&&(c=o.get("originAttrs").x,d=o.get("originAttrs").y);var y=o.getModel();n&&o.set("originAttrs",{x:y.x,y:y.y}),o.set("model",t.data),(c!==t.x||d!==t.y)&&o.updatePosition({x:t.x,y:t.y})},r.prototype.innerRemoveChild=function(t,e,n){var a=this,o=a.findById(t);if(!!o)if((0,kn.S6)(o.get("children"),function(l){a.innerRemoveChild(l.getModel().id,e,n)}),n){var s=o.getModel();o.set("to",e),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o)},r.prototype.changeData=function(t){var e=this;this.getNodes().map(function(n){return e.clearItemStates(n)}),this.getEdges().map(function(n){return e.clearItemStates(n)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},r.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var e=this;e.updateLayout(t)},r.prototype.updateLayout=function(t){var e=this;if(!t){console.warn("layout cannot be null");return}e.set("layout",t),e.set("layoutMethod",e.getLayout()),e.layout()},r.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var e=this;e.layout(t)},r.prototype.layout=function(t){var e=this,n=e.get("data"),a=e.get("layoutMethod"),o=a(n,e.get("layout")),s=e.get("animate");if(e.emit("beforerefreshlayout",{data:n,layoutData:o}),e.emit("beforelayout"),e.innerUpdateChild(o,void 0,s),t){var l=e.get("viewController");l.fitView()}s?e.layoutAnimate(o):(e.refresh(),e.paint()),e.emit("afterrefreshlayout",{data:n,layoutData:o}),e.emit("afterlayout")},r.prototype.addChild=function(t,e){var n=this;n.emit("beforeaddchild",{model:t,parent:e}),(0,kn.HD)(e)||(e=e.get("id"));var a=n.findDataById(e);a&&(a.children||(a.children=[]),a.children.push(t),n.changeData())},r.prototype.updateChild=function(t,e){var n=this;if(!e||!n.findById(e)){n.changeData(t);return}var a=n.findById(e).getModel(),o=n.findById(t.id);if(a.children||(a.children=[]),!o)a.children.push(t);else{var s=r.indexOfChild(a.children,t.id);a.children[s]=t}n.changeData()},r.prototype.removeChild=function(t){var e=this,n=e.findById(t);if(!!n){var a=n.get("parent");if(a&&!a.destroyed){var o=e.findDataById(a.get("id")),s=o&&o.children||[],l=n.getModel(),u=r.indexOfChild(s,l.id);s.splice(u,1)}e.changeData()}},r.prototype.findDataById=function(t,e){var n=this;if(e||(e=n.get("data")),t===e.id)return e;var a=null;return(0,kn.S6)(e.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},r.prototype.layoutAnimate=function(t,e){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){Pi(t,function(s){var l=n.findById(s.id);if(l){var u=l.get("originAttrs"),h=l.get("model");if(u||(u={x:h.x,y:h.y},l.set("originAttrs",u)),e){var c=e(l,o,u,t);l.set("model",Object.assign(h,c))}else h.x=u.x+(s.x-u.x)*o,h.y=u.y+(s.y-u.y)*o}return!0}),(0,kn.S6)(n.get("removeList"),function(s){var l=s.getModel(),u=s.get("originAttrs"),h=s.get("to");l.x=u.x+(h.x-u.x)*o,l.y=u.y+(h.y-u.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,kn.S6)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,kn.S6)(n.get("removeList"),function(s){n.removeItem(s)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},r.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},r.prototype.isLayoutAnimating=function(){return this.layoutAnimating},r.prototype.render=function(){var t=this,e=t.get("data");if(!e)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},r.prototype.save=function(){return this.get("data")},r}(Vx),n6=r6,i6="-shape",Wx="-label",bu=["startArrow","endArrow"],$h="-label-bg",Qh={options:{},itemType:"",type:"",getCustomConfig:function(r){return{}},getOptions:function(r){return(0,f.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(r)||{},r)},draw:function(r,t){var e=this.drawShape(r,t);if(e.set("className",this.itemType+i6),r.label){var n=this.drawLabel(r,t);n.set("className",this.itemType+Wx)}return e},afterDraw:function(r,t,e){},drawShape:function(r,t){return null},drawLabel:function(r,t){var e=this.getOptions(r).labelCfg,n=e||{},a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape"});if(o){var l=s.getBBox(),u=s.getMatrix();if(u||(u=[1,0,0,0,1,0,0,0,1]),a.rotateCenter)switch(a.rotateCenter){case"center":u=Ea(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":u=Ea(u,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":u=Ea(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);break;default:u=Ea(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break}else u=Ea(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);s.setMatrix(u)}if(a.background){var h=this.drawLabelBg(r,t,s),c=this.itemType+$h;h.set("classname",c),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,f.mix)({},n,r.labelCfg),o=this.getLabelBgStyleByPosition(e,r,a,t),s=t.addShape("rect",{name:"text-bg-shape",attrs:o});return s},getLabelStyleByPosition:function(r,t,e){return{text:r.label}},getLabelBgStyleByPosition:function(r,t,e,n){return{}},getLabelStyle:function(r,t,e){var n=this.getLabelStyleByPosition(r,t,e),a=this.itemType+"Label",o=Be[a]?Be[a].style:null,s=(0,J.__assign)((0,J.__assign)((0,J.__assign)({},o),n),t.style);return s},getShapeStyle:function(r){return r.style},update:function(r,t){this.updateShapeStyle(r,t),this.updateLabel(r,t)},updateShapeStyle:function(r,t){var e=t.getContainer(),n=t.getKeyShape(),a=(0,f.mix)({},n.attr(),r.style),o=function(u){var h,c=a[u];if((0,f.isPlainObject)(c)){var d=e.find(function(y){return y.get("name")===u});d&&d.attr(c)}else n.attr((h={},h[u]=c,h))};for(var s in a)o(s)},updateLabel:function(r,t){var e=t.getContainer(),n=this.getOptions({}).labelCfg,a=this.itemType+Wx,o=e.find(function(ft){return ft.get("className")===a}),s=this.itemType+$h,l=e.find(function(ft){return ft.get("classname")===s});if(r.label||r.label==="")if(o){var h={};t.getModel&&(h=t.getModel().labelCfg);var c=(0,f.deepMix)({},n,h,r.labelCfg),d=this.getLabelStyleByPosition(r,c,e),y=r.labelCfg?r.labelCfg.style:void 0,_=c.style&&c.style.background,k=(0,J.__assign)((0,J.__assign)((0,J.__assign)({},o.attr()),d),y),F=k.rotate;if(delete k.rotate,F){var Y=[1,0,0,0,1,0,0,0,1];Y=Ea(Y,[["t",-k.x,-k.y],["r",F],["t",k.x,k.y]]),o.resetMatrix(),o.attr((0,J.__assign)((0,J.__assign)({},k),{matrix:Y}))}else o.resetMatrix(),o.attr(k);if(!l)k.background&&(l=this.drawLabelBg(r,e,o),l.set("classname",s),o.toFront());else if(k.background){var G=this.getLabelBgStyleByPosition(o,r,c,e),ut=(0,J.__assign)((0,J.__assign)({},G),_);l.resetMatrix(),F&&l.rotateAtStart(F),l.attr(ut)}else e.removeChild(l)}else{var u=this.drawLabel(r,e);u.set("className",a)}},afterUpdate:function(r,t){},setState:function(r,t,e){var n,a,o=e.get("keyShape");if(!!o){var s=e.getType(),l=(0,f.isBoolean)(t)?r:r+":"+t,u=this.getStateStyle(l,e),h=e.getStateStyle(l);if(!(!h&&!u)){var c=(0,f.mix)({},h||u),d=e.getContainer();if(t){var y=function(oe){var we,_e=c[oe];if((0,f.isPlainObject)(_e)&&!bu.includes(oe)){var Ee=d.find(function(Re){return Re.get("name")===oe});Ee&&Ee.attr(_e)}else o.attr((we={},we[oe]=_e,we))};for(var _ in c)y(_)}else{var k=(0,f.clone)(e.getCurrentStatesStyle()),F=e.getModel(),Y=(0,f.mix)({},F.style,(0,f.clone)(e.getOriginStyle())),G=o.get("name"),ut=o.attr(),ft={},Tt=function(oe){var we=c[oe];if((0,f.isPlainObject)(we)&&!bu.includes(oe)){var _e=d.find(function(Ye){return Ye.get("name")===oe});if(_e){var Ee=_e.attr();(0,f.each)(we,function(Ye,Xe){(Ee[Xe]||Ee[Xe]===0)&&delete Ee[Xe]}),ft[oe]=Ee}}else{var Re={x:1,y:1,cx:1,cy:1};ut[oe]&&!Re[oe]&&delete ut[oe]}};for(var Yt in c)Tt(Yt);G?ft[G]=ut:(0,f.mix)(ft,ut);for(var _ in k){var Ut=k[_];(!(0,f.isPlainObject)(Ut)||bu.includes(_))&&(G?((0,f.mix)(Y[G],(a={},a[_]=Ut,a)),delete Y[_]):(0,f.mix)(Y,(n={},n[_]=Ut,n)),delete k[_])}var Jt={};(0,f.deepMix)(Jt,Y,ft,k);var Wt=function(oe){var we,_e,Ee=Jt[oe];if((0,f.isPlainObject)(Ee)&&!bu.includes(oe)){var Re=d.find(function(Ye){return Ye.get("name")===oe});Re&&Re.attr(Ee)}else s==="combo"?G||o.attr((we={},we[oe]=Ee,we)):o.attr((_e={},_e[oe]=Ee,_e))};for(var ee in Jt)Wt(ee)}}}},getStateStyle:function(r,t){var e=t.getModel(),n=t.getType(),a=this.getOptions(e),o=a.stateStyles,s=a.style,l=s===void 0?{}:s,u=e.stateStyles?e.stateStyles[r]:o&&o[r];return n==="combo"?(0,f.clone)(u):(0,f.mix)({},l,u)},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.getOptions(r).anchorPoints;return t}},a6={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Be.nodeLabel.offset,getSize:function(r){var t=r.size||this.getOptions({}).size||Be.defaultNode.size;return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition;if(e==="center")return{x:0,y:0,text:r.label};var n=t.offset;(0,f.isNil)(n)&&(n=this.offset);var a=this.getSize(r),o=a[0],s=a[1],l;switch(e){case"top":l={x:0,y:0-s/2-n,textBaseline:"bottom"};break;case"bottom":l={x:0,y:s/2+n,textBaseline:"top"};break;case"left":l={x:0-o/2-n,y:0,textAlign:"right"};break;default:l={x:o/2+n,y:0,textAlign:"left"};break}return l.text=r.label,l},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=Sh(o.padding),l=a.width+s[1]+s[3],u=a.height+s[0]+s[2],h=e.offset;(0,f.isNil)(h)&&(h=this.offset);var c;return c={x:a.minX-s[3],y:a.minY-s[0]},c=(0,J.__assign)((0,J.__assign)((0,J.__assign)({},c),o),{width:l,height:u}),c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"node-shape"});return a},updateLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=t.find(function(Ut){return Ut.get("className")==="link-point-left"}),a=t.find(function(Ut){return Ut.get("className")==="link-point-right"}),o=t.find(function(Ut){return Ut.get("className")==="link-point-top"}),s=t.find(function(Ut){return Ut.get("className")==="link-point-bottom"}),l;n&&(l=n.attr()),a&&!l&&(l=a.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=e);var u=(0,f.mix)({},l,r.linkPoints),h=u.fill,c=u.stroke,d=u.lineWidth,y=u.size/2;y||(y=u.r);var _=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},k=_.left,F=_.right,Y=_.top,G=_.bottom,ut=this.getSize(r),ft=ut[0],Tt=ut[1],Yt={r:y,fill:h,stroke:c,lineWidth:d};n?!k&&k!==void 0?n.remove():n.attr((0,J.__assign)((0,J.__assign)({},Yt),{x:-ft/2,y:0})):k&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},Yt),{x:-ft/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a?(!F&&F!==void 0&&a.remove(),a.attr((0,J.__assign)((0,J.__assign)({},Yt),{x:ft/2,y:0}))):F&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},Yt),{x:ft/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o?(!Y&&Y!==void 0&&o.remove(),o.attr((0,J.__assign)((0,J.__assign)({},Yt),{x:0,y:-Tt/2}))):Y&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},Yt),{x:0,y:-Tt/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s?!G&&G!==void 0?s.remove():s.attr((0,J.__assign)((0,J.__assign)({},Yt),{x:0,y:Tt/2})):G&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},Yt),{x:0,y:Tt/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(r,t,e,n){var a=t.get("keyShape");a.attr((0,J.__assign)({},e)),this.updateLabel(r,t),n&&this.updateIcon(r,t)},updateIcon:function(r,t){var e=this,n=t.getContainer(),a=this.getOptions(r).icon,o=(r.icon?r.icon:{show:void 0}).show,s=n.find(function(d){return d.get("className")===e.type+"-icon"});if(s)if(o||o===void 0){var l=(0,f.mix)({},s.attr(),a),u=l.width,h=l.height;s.attr((0,J.__assign)((0,J.__assign)({},l),{x:-u/2,y:-h/2}))}else s.remove();else if(o){var u=a.width,h=a.height;n.addShape("image",{attrs:(0,J.__assign)((0,J.__assign)({},a),{x:-u/2,y:-h/2}),className:this.type+"-icon",name:this.type+"-icon"});var c=n.find(function(_){return _.get("className")==="node-label"});c&&c.toFront()}}},o6=(0,J.__assign)((0,J.__assign)({},Qh),a6);Fn.registerNode("single-node",o6);var wu="edge-shape";function s6(i){var r=i;return i==="start"?r="end":i==="end"&&(r="start"),r}var l6={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Be.defaultEdge.size,style:{x:0,y:0,stroke:Be.defaultEdge.style.stroke,lineAppendWidth:Be.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Be.edgeLabel.style.fill,fontSize:Be.edgeLabel.style.fontSize}},stateStyles:(0,J.__assign)({},Be.edgeStateStyles)},getPath:function(r){var t=[];return(0,f.each)(r,function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,f.mix)({},t,e,r.style),a=r.size||Be.defaultEdge.size;r=this.getPathPoints(r);var o=r.startPoint,s=r.endPoint,l=this.getControlPoints(r),u=[o];l&&(u=u.concat(l)),u.push(s);var h=this.getPath(u),c=(0,f.mix)({},Be.defaultEdge.style,{stroke:Be.defaultEdge.color,lineWidth:a,path:h},n);return c},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(Y){return Y.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,u=this.getControlPoints(r),h=[s];u&&(h=h.concat(u)),h.push(l);var c=(0,f.mix)({},n,a.attr(),r.style),d=r.sourceNode,y=r.targetNode,_={radius:c.radius};u||(_={source:d,target:y,offset:c.offset,radius:c.radius});var k=this.getPath(h,_),F=(0,f.mix)(n,a.attr(),{lineWidth:o,path:k},r.style);a&&a.attr(F)},getLabelStyleByPosition:function(r,t,e){var n=t.position||this.labelPosition,a={},o=e&&e.find(function(d){return d.get("className")===wu}),s;n==="start"?s=0:n==="end"?s=1:s=.5;var l=t.refX||this.refX,u=t.refY||this.refY;if(r.startPoint.x===r.endPoint.x&&r.startPoint.y===r.endPoint.y)return a.x=r.startPoint.x+l,a.y=r.startPoint.y+u,a.text=r.label,a;var h=(0,f.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate,c=ru(o,s,l,u,h);return a.x=c.x,a.y=c.y,a.rotate=c.rotate,a.textAlign=this._getTextAlign(n,c.angle),a.text=r.label,a},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=o.padding,l=a.width+s[1]+s[3],u=a.height+s[0]+s[2],h=e.position||this.labelPosition,c=(0,J.__assign)((0,J.__assign)({},o),{width:l,height:u,x:a.minX-s[2],y:a.minY-s[0],rotate:0}),d=(0,f.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate,y=n&&n.find(function(ut){return ut.get("className")===wu}),_;h==="start"?_=0:h==="end"?_=1:_=.5;var k=e.refX||this.refX,F=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return c.x=t.startPoint.x+k,c.y=t.startPoint.y+F,c;var Y=ru(y,_,k-l/2,F+u/2,d),G=Y.angle;return G>1/2*Math.PI&&G<3*1/2*Math.PI&&(Y=ru(y,_,k+l/2,F+u/2,d)),d&&(c.x=Y.x,c.y=Y.y),c.rotate=Y.rotate,c},_getTextAlign:function(r,t){var e="center";return t?(t=t%(Math.PI*2),r!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?e=r:e=s6(r)),e):r},getControlPoints:function(r){return r.controlPoints},getPathPoints:function(r){return r},drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("path",{className:wu,name:wu,attrs:e});return n},drawLabel:function(r,t){var e=this.options.labelCfg,n=(0,f.deepMix)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},e,r.labelCfg),a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape"});if(o&&s.rotateAtStart(o),a.background){var l=this.drawLabelBg(r,t,s),u=this.itemType+$h;l.set("classname",u),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,f.deepMix)({},n,r.labelCfg),o=this.getLabelStyle(r,a,t),s=o.rotate,l=this.getLabelBgStyleByPosition(e,r,a,t);delete l.rotate;var u=t.addShape("rect",{name:"text-bg-shape",attrs:l});return s&&u.rotateAtStart(s),u}},u6=(0,J.__assign)((0,J.__assign)({},Qh),l6);Fn.registerEdge("single-edge",u6),Fn.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Fn.registerEdge("spline",{getPath:function(r){var t=Bm(r);return t}},"single-edge"),Fn.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(r){var t=r.startPoint,e=r.endPoint,n={x:(t.x+e.x)/2,y:(t.y+e.y)/2},a,o;if(r.controlPoints!==void 0){if(o=r.controlPoints[0],a=Ah(t,o,e),t.x<=e.x&&t.y>e.y?this.clockwise=a.x>o.x?0:1:t.x<=e.x&&t.y<e.y?this.clockwise=a.x>o.x?1:0:t.x>e.x&&t.y<=e.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)==(e.x-t.x)/(e.y-t.y))return[]}else{r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),(0,hi.default)(r.curveOffset)&&(r.curveOffset=r.curveOffset[0]),r.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:e.x-t.x,y:e.y-t.y},l=Math.atan2(s.y,s.x);o={x:r.curveOffset*Math.cos(-Math.PI/2+l)+n.x,y:r.curveOffset*Math.sin(-Math.PI/2+l)+n.y},a=Ah(t,o,e)}var u=Ps(t,a),h=[{x:u,y:u}];return h},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),r.length===2?t.push(["L",r[1].x,r[1].y]):t.push(["A",r[1].x,r[1].y,0,0,this.clockwise,r[2].x,r[2].y]),t}},"single-edge"),Fn.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(r){var t=r.controlPoints;if(!t||!t.length){var e=r.startPoint,n=r.endPoint;r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,hi.default)(this.curveOffset)&&(r.curveOffset=r.curveOffset[0]),(0,hi.default)(this.curvePosition)&&(r.curvePosition=r.curveOffset[0]);var a=Jl(e,n,r.curvePosition,r.curveOffset);t=[a]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["Q",r[1].x,r[1].y,r[2].x,r[2].y]),t}},"single-edge"),Fn.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(r){var t=r.controlPoints;if(r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,va.default)(r.curveOffset)&&(r.curveOffset=[r.curveOffset,-r.curveOffset]),(0,va.default)(r.curvePosition)&&(r.curvePosition=[r.curvePosition,1-r.curvePosition]),!t||!t.length||t.length<2){var e=r.startPoint,n=r.endPoint,a=Jl(e,n,r.curvePosition[0],r.curveOffset[0]),o=Jl(e,n,r.curvePosition[1],r.curveOffset[1]);t=[a,o]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["C",r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y]),t}},"single-edge"),Fn.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,va.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:t.x,y:(e.y-t.y)*this.curvePosition[0]+t.y},a={x:e.x,y:(e.y-t.y)*this.curvePosition[1]+t.y},o=[n,a];return o}},"cubic"),Fn.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,va.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:(e.x-t.x)*this.curvePosition[0]+t.x,y:t.y},a={x:(e.x-t.x)*this.curvePosition[1]+t.x,y:e.y},o=[n,a];return o}},"cubic"),Fn.registerEdge("loop",{getPathPoints:function(r){return $m(r)},getControlPoints:function(r){return r.controlPoints},afterDraw:function(r){r.controlPoints=void 0},afterUpdate:function(r){r.controlPoints=void 0}},"cubic");var f6={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Be.comboLabel.refX,refY:Be.comboLabel.refY,options:{style:{stroke:Be.defaultCombo.style.stroke,fill:Be.defaultCombo.style.fill,lineWidth:Be.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Be.comboLabel.style.fill,fontSize:Be.comboLabel.style.fontSize}},stateStyles:(0,J.__assign)({},Be.comboStateStyles)},getSize:function(r){var t=(0,f.clone)(r.size||this.options.size||Be.defaultCombo.size);return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,f.isArray)(a)&&(a=a[0]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var l=this.getSize(r),u=Math.max(n.r,l[0]/2)||l[0]/2,h=u+a,c;switch(e){case"top":c={x:0,y:-h-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":c={x:0,y:h+s,textBaseline:"bottom",textAlign:"center"};break;case"left":c={x:-h+o,y:0,textAlign:"left"};break;case"center":c={x:0,y:0,text:r.label,textAlign:"center"};break;default:c={x:h+o,y:0,textAlign:"right"};break}return c.text=r.label,c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr((0,J.__assign)({},e)),this.updateLabel(r,t)}},h6=(0,J.__assign)((0,J.__assign)({},Qh),f6);Fn.registerCombo("single-combo",h6),Fn.registerCombo("circle",{options:{size:[Be.defaultCombo.size[0],Be.defaultCombo.size[0]],padding:Be.defaultCombo.padding[0],animate:!0,style:{stroke:Be.defaultCombo.style.stroke,fill:Be.defaultCombo.style.fill,lineWidth:Be.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Be.comboLabel.style.fill,fontSize:Be.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,J.__assign)({},Be.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r);delete e.height,delete e.width;var n=t.addShape("circle",{attrs:e,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,f.isArray)(e)&&(e=e[0]);var n={stroke:r.color},a=(0,f.mix)({},t,n,r.style),o=this.getSize(r),s;!(0,f.isNumber)(a.r)||isNaN(a.r)?s=o[0]/2||Be.defaultCombo.style.r:s=Math.max(a.r,o[0]/2)||o[0]/2,a.r=s+e;var l=(0,J.__assign)({x:0,y:0},a);return r.style?r.style.r=s:r.style={r:s},l},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,f.isArray)(n)&&(n=n[0]);var a=(0,f.clone)(r.style),o=Math.max(a.r,e[0]/2)||e[0]/2;a.r=o+n;var s=t.get("sizeCache");s&&(s.r=a.r);var l={stroke:r.color},u=t.get("keyShape"),h=(0,f.mix)({},u.attr(),l,a);r.style?r.style.r=o:r.style={r:o},this.updateShape(r,t,h,!0)}},"single-combo"),Fn.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Be.defaultCombo.style.stroke,fill:Be.defaultCombo.style.fill,lineWidth:Be.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Be.comboLabel.style.fill,fontSize:Be.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,J.__assign)({},Be.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,f.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var l=n.width/2+a[3],u=n.height/2+a[0],h;switch(e){case"top":h={x:0-l+o,y:0-u+s,textBaseline:"top",textAlign:"left"};break;case"bottom":h={x:0,y:u+s,textBaseline:"bottom",textAlign:"center"};break;case"left":h={x:0-l+s,y:0,textAlign:"left"};break;case"center":h={x:0,y:0,text:r.label,textAlign:"center"};break;default:h={x:l+o,y:0,textAlign:"right"};break}return h.text=r.label,h},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,f.isNumber)(e)&&(e=[e,e,e,e]);var n={stroke:r.color},a=(0,f.mix)({},t,n,r.style),o=this.getSize(r),s,l;!(0,f.isNumber)(a.width)||isNaN(a.width)?s=o[0]||Be.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,f.isNumber)(a.height)||isNaN(a.height)?l=o[1]||Be.defaultCombo.style.height:l=Math.max(a.height,o[1])||o[1];var u=-s/2-e[3],h=-l/2-e[0];a.width=s+e[1]+e[3],a.height=l+e[0]+e[2];var c=(0,J.__assign)({x:u,y:h},a);return r.style?(r.style.width=s,r.style.height=l):r.style={width:s,height:l},c},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,f.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,f.clone)(r.style),o=Math.max(a.width,e[0])||e[0],s=Math.max(a.height,e[1])||e[1];a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var l=t.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var u={stroke:r.color},h=t.get("keyShape"),c=(0,f.mix)({},h.attr(),u,a);r.style?(r.style.width=o,r.style.height=s):r.style={width:o,height:s},this.updateShape(r,t,c,!1)},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr((0,J.__assign)({},e)),this.updateLabel(r,t)}},"single-combo"),Fn.registerNode("circle",{options:{size:Be.defaultNode.size,style:{x:0,y:0,stroke:Be.defaultNode.style.stroke,fill:Be.defaultNode.style.fill,lineWidth:Be.defaultNode.style.lineWidth},labelCfg:{style:{fill:Be.nodeLabel.style.fill,fontSize:Be.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Be.defaultNode.linkPoints.size,lineWidth:Be.defaultNode.linkPoints.lineWidth,fill:Be.defaultNode.linkPoints.fill,stroke:Be.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,J.__assign)({},Be.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=(0,bi.default)({},n,r.icon),s=t.addShape("circle",{attrs:a,className:this.type+"-keyShape",draggable:!0}),l=o.width,u=o.height,h=o.show;return h&&t.addShape("image",{attrs:(0,J.__assign)({x:-l/2,y:-u/2},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(r,t),s},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,J.__rest)(n,["top","left","right","bottom","size","r"]),d=this.getSize(r),y=d[0]/2;o&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:-y,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:y,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:0,y:-y,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:0,y,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,bi.default)({},t,e),a=this.getSize(r),o=a[0]/2,s=(0,J.__assign)({x:0,y:0,r:o},n);return s},update:function(r,t){var e=t.getContainer(),n=this.getSize(r),a={stroke:r.color,r:n[0]/2},o=t.get("keyShape"),s=(0,bi.default)({},o.attr(),a,r.style);this.updateShape(r,t,s,!0),this.updateLinkPoints(r,e)}},"single-node"),Fn.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:Be.defaultNode.style.stroke,fill:Be.defaultNode.style.fill,lineWidth:Be.defaultNode.style.lineWidth},labelCfg:{style:{fill:Be.nodeLabel.style.fill,fontSize:Be.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Be.defaultNode.linkPoints.size,lineWidth:Be.defaultNode.linkPoints.lineWidth,fill:Be.defaultNode.linkPoints.fill,stroke:Be.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,J.__assign)({},Be.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(r,t),n},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,J.__rest)(n,["top","left","right","bottom","size","r"]),d=this.getSize(r),y=d[0],_=d[1];o&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:-y/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:y/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:0,y:-_/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:0,y:_/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=(0,J.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o=t.get("keyShape");r.size||(a[0]=o.attr("width")||n.width,a[1]=o.attr("height")||n.height);var s={stroke:r.color,x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]},l=(0,f.mix)({},n,o.attr(),s);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!1),this.updateLinkPoints(r,e)}},"single-node"),Fn.registerNode("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Be.defaultNode.style.stroke,fill:Be.defaultNode.style.fill,lineWidth:Be.defaultNode.style.lineWidth},labelCfg:{style:{fill:Be.nodeLabel.style.fill,fontSize:Be.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Be.defaultNode.linkPoints.size,lineWidth:Be.defaultNode.linkPoints.lineWidth,fill:Be.defaultNode.linkPoints.fill,stroke:Be.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,J.__assign)({},Be.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:(0,J.__assign)({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,J.__rest)(n,["top","left","right","bottom","size","r"]),d=this.getSize(r),y=d[0]/2,_=d[1]/2;o&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:-y,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:y,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:0,y:-_,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:0,y:_,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=a[0]/2,s=a[1]/2,l=(0,J.__assign)({x:0,y:0,rx:o,ry:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o={stroke:r.color,rx:a[0]/2,ry:a[1]/2},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),Fn.registerNode("diamond",{options:{size:[80,80],style:{stroke:Be.defaultNode.style.stroke,fill:Be.defaultNode.style.fill,lineWidth:Be.defaultNode.style.lineWidth},labelCfg:{style:{fill:Be.nodeLabel.style.fill,fontSize:Be.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Be.defaultNode.linkPoints.size,lineWidth:Be.defaultNode.linkPoints.lineWidth,fill:Be.defaultNode.linkPoints.fill,stroke:Be.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,J.__assign)({},Be.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:(0,J.__assign)({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,J.__rest)(n,["top","left","right","bottom","size","r"]),d=this.getSize(r),y=d[0],_=d[1];o&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:-y/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:y/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:0,y:-_/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:0,y:_/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(r){var t=this.getSize(r),e=t[0],n=t[1],a=[["M",0,-n/2],["L",e/2,0],["L",0,n/2],["L",-e/2,0],["Z"]];return a},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=(0,J.__assign)({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),Fn.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:Be.defaultNode.style.stroke,fill:Be.defaultNode.style.fill,lineWidth:Be.defaultNode.style.lineWidth},labelCfg:{style:{fill:Be.nodeLabel.style.fill,fontSize:Be.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Be.defaultNode.linkPoints.size,lineWidth:Be.defaultNode.linkPoints.lineWidth,fill:Be.defaultNode.linkPoints.fill,stroke:Be.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,J.__assign)({},Be.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(r,t){var e=this.getOptions(r),n=e.icon,a=n===void 0?{}:n,o=e.direction,s=this.getShapeStyle(r),l=r.direction||o,u=t.addShape("path",{attrs:s,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=a.width,c=a.height,d=a.show,y=a.offset;if(d){var _=-h/2,k=-c/2;(l==="up"||l==="down")&&(k+=y),(l==="left"||l==="right")&&(_+=y),t.addShape("image",{attrs:(0,J.__assign)({x:_,y:k},a),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(r,t),u},drawLinkPoints:function(r,t){var e=this.getOptions(r),n=e.linkPoints,a=n===void 0?{}:n,o=e.direction,s=r.direction||o,l=a.top,u=a.left,h=a.right,c=a.bottom,d=a.size,y=a.r,_=(0,J.__rest)(a,["top","left","right","bottom","size","r"]),k=this.getSize(r),F=k[0];if(u){var Y=null,G=F*Math.sin(1/3*Math.PI),ut=F*Math.sin(1/3*Math.PI);s==="up"?Y=[-ut,G]:s==="down"?Y=[-ut,-G]:s==="left"&&(Y=[-ut,ut-G]),Y&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},_),{x:Y[0],y:Y[1],r:d/2||y||5}),className:"link-point-left",name:"link-point-left"})}if(h){var ft=null,G=F*Math.sin(1/3*Math.PI),ut=F*Math.sin(1/3*Math.PI);s==="up"?ft=[ut,G]:s==="down"?ft=[ut,-G]:s==="right"&&(ft=[ut,ut-G]),ft&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},_),{x:ft[0],y:ft[1],r:d/2||y||5}),className:"link-point-right",name:"link-point-right"})}if(l){var Tt=null,G=F*Math.sin(1/3*Math.PI),ut=F*Math.sin(1/3*Math.PI);s==="up"?Tt=[ut-G,-G]:s==="left"?Tt=[ut,-G]:s==="right"&&(Tt=[-ut,-G]),Tt&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},_),{x:Tt[0],y:Tt[1],r:d/2||y||5}),className:"link-point-top",name:"link-point-top"})}if(c){var Yt=null,G=F*Math.sin(1/3*Math.PI),ut=F*Math.sin(1/3*Math.PI);s==="down"?Yt=[-ut+G,G]:s==="left"?Yt=[ut,G]:s==="right"&&(Yt=[-ut,G]),Yt&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},_),{x:Yt[0],y:Yt[1],r:d/2||y||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(r){var t=this.getOptions(r).direction,e=r.direction||t,n=this.getSize(r),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return e==="down"?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:e==="left"?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:e==="right"&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=(0,J.__assign)({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}),n=e.linkPoints,a=e.direction,o=r.direction||a,s=t.find(function(Re){return Re.get("className")==="link-point-left"}),l=t.find(function(Re){return Re.get("className")==="link-point-right"}),u=t.find(function(Re){return Re.get("className")==="link-point-top"}),h=t.find(function(Re){return Re.get("className")==="link-point-bottom"}),c=n,d=s||l||u||h;d&&(c=d.attr());var y=(0,f.mix)({},c,r.linkPoints),_=y.fill,k=y.stroke,F=y.lineWidth,Y=y.size/2;Y||(Y=y.r);var G=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},ut=G.left,ft=G.right,Tt=G.top,Yt=G.bottom,Ut=this.getSize(r),Jt=Ut[0],Wt={r:Y,fill:_,stroke:k,lineWidth:F},ee=null,ue=Jt*Math.sin(1/3*Math.PI),oe=Jt*Math.sin(1/3*Math.PI);o==="up"?ee=[-oe,ue]:o==="down"?ee=[-oe,-ue]:o==="left"&&(ee=[-oe,oe-ue]),ee&&(s?!ut&&ut!==void 0?s.remove():s.attr((0,J.__assign)((0,J.__assign)({},Wt),{x:ee[0],y:ee[1]})):ut&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},Wt),{x:ee[0],y:ee[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var we=null;o==="up"?we=[oe,ue]:o==="down"?we=[oe,-ue]:o==="right"&&(we=[oe,oe-ue]),we&&(l?!ft&&ft!==void 0?l.remove():l.attr((0,J.__assign)((0,J.__assign)({},Wt),{x:we[0],y:we[1]})):ft&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},Wt),{x:we[0],y:we[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var _e=null;o==="up"?_e=[oe-ue,-ue]:o==="left"?_e=[oe,-ue]:o==="right"&&(_e=[-oe,-ue]),_e&&(u?!Tt&&Tt!==void 0?u.remove():u.attr((0,J.__assign)((0,J.__assign)({},Wt),{x:_e[0],y:_e[1]})):Tt&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},Wt),{x:_e[0],y:_e[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var Ee=null;o==="down"?Ee=[-oe+ue,ue]:o==="left"?Ee=[oe,ue]:o==="right"&&(Ee=[-oe,ue]),Ee&&(h?!Yt&&Yt!==void 0?h.remove():h.attr((0,J.__assign)((0,J.__assign)({},Wt),{x:Ee[0],y:Ee[1]})):Yt&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},Wt),{x:Ee[0],y:Ee[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),Fn.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Be.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(r,t){var e=this.getOptions(r).preRect,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=this.getSize(r),s=o[0],l=o[1],u=t.addShape("rect",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=n.show,c=(0,J.__rest)(n,["show"]);return h&&t.addShape("rect",{attrs:(0,J.__assign)({x:-s/2,y:-l/2,height:l},c),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(r,t),this.drawStateIcon(r,t),this.drawLinkPoints(r,t),u},drawLogoIcon:function(r,t){var e=this.getOptions(r).logoIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,h=n.y,c=n.offset,d=(0,J.__rest)(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:(0,J.__assign)((0,J.__assign)({},d),{x:u||-o/2+s+c,y:h||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(r,t){var e=this.getOptions(r).stateIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,h=n.y,c=n.offset,d=(0,J.__rest)(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:(0,J.__assign)((0,J.__assign)({},d),{x:u||o/2-s+c,y:h||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,J.__rest)(n,["top","left","right","bottom","size","r"]),d=this.getSize(r),y=d[0],_=d[1];o&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:-y/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:y/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:0,y:-_/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},c),{x:0,y:_/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(r,t){var e=this.getOptions(r),n=e.labelCfg,a=n===void 0?{}:n,o=e.logoIcon,s=o===void 0?{}:o,l=e.descriptionCfg,u=l===void 0?{}:l,h=this.getSize(r),c=h[0],d=null,y=s.show,_=s.width,k=-c/2+a.offset;y&&(k=-c/2+_+a.offset);var F=a.style,Y=u.style,G=u.paddingTop;return(0,f.isString)(r.description)?(d=t.addShape("text",{attrs:(0,J.__assign)((0,J.__assign)({},F),{x:k,y:-5,text:r.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:(0,J.__assign)((0,J.__assign)({},Y),{x:k,y:17+(G||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0})):d=t.addShape("text",{attrs:(0,J.__assign)((0,J.__assign)({},F),{x:k,y:7,text:r.label}),draggable:!0}),d},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=(0,J.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=this.getOptions(r),n=e.style,a=n===void 0?{}:n,o=e.labelCfg,s=o===void 0?{}:o,l=e.descriptionCfg,u=l===void 0?{}:l,h=this.getSize(r),c=h[0],d=h[1],y=t.get("keyShape");y.attr((0,J.__assign)((0,J.__assign)({},a),{x:-c/2,y:-d/2,width:c,height:d}));var _=t.getContainer(),k=_.find(function(yr){return yr.get("className")==="rect-logo-icon"}),F=k?k.attr():{},Y=(0,f.mix)({},F,r.logoIcon),G=Y.width;G===void 0&&(G=this.options.logoIcon.width);var ut=r.logoIcon?r.logoIcon.show:void 0,ft=s.offset,Tt=-c/2+G+ft;!ut&&ut!==void 0&&(Tt=-c/2+ft);var Yt=_.find(function(yr){return yr.get("className")==="node-label"}),Ut=_.find(function(yr){return yr.get("className")==="rect-description"});if(r.label)if(!Yt)_.addShape("text",{attrs:(0,J.__assign)((0,J.__assign)({},s.style),{x:Tt,y:r.description?-5:7,text:r.label}),className:"node-label",name:"node-label",draggable:!0});else{var Jt=r.labelCfg?r.labelCfg.style:{},Wt=(0,f.mix)({},Yt.attr(),Jt);r.label&&(Wt.text=r.label),Wt.x=Tt,(0,f.isString)(r.description)&&(Wt.y=-5),Ut&&(Ut.resetMatrix(),Ut.attr({x:Tt})),Yt.resetMatrix(),Yt.attr(Wt)}if((0,f.isString)(r.description)){var ee=u.paddingTop;if(!Ut)_.addShape("text",{attrs:(0,J.__assign)((0,J.__assign)({},u.style),{x:Tt,y:17+(ee||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var Jt=r.descriptionCfg?r.descriptionCfg.style:{},ue=(0,f.mix)({},Ut.attr(),Jt);(0,f.isString)(r.description)&&(ue.text=r.description),ue.x=Tt,Ut.resetMatrix(),Ut.attr((0,J.__assign)((0,J.__assign)({},ue),{y:17+(ee||0)}))}}var oe=_.find(function(yr){return yr.get("className")==="pre-rect"});if(oe){var we=(0,f.mix)({},oe.attr(),r.preRect);oe.attr((0,J.__assign)((0,J.__assign)({},we),{x:-c/2,y:-d/2,height:d}))}if(k)if(!ut&&ut!==void 0)k.remove();else{var _e=Y.width,Ee=Y.height,Re=Y.x,Ye=Y.y,Xe=Y.offset,De=(0,J.__rest)(Y,["width","height","x","y","offset"]);k.attr((0,J.__assign)((0,J.__assign)({},De),{x:Re||-c/2+_e+Xe,y:Ye||-Ee/2,width:_e,height:Ee}))}else ut&&this.drawLogoIcon(r,_);var Fe=_.find(function(yr){return yr.get("className")==="rect-state-icon"}),er=Fe?Fe.attr():{},tr=(0,f.mix)({},er,r.stateIcon);if(Fe){!tr.show&&tr.show!==void 0&&Fe.remove();var or=tr.width,Ee=tr.height,Re=tr.x,Ye=tr.y,Ve=tr.offset,nr=(0,J.__rest)(tr,["width","height","x","y","offset"]);Fe.attr((0,J.__assign)((0,J.__assign)({},nr),{x:Re||c/2-or+Ve,y:Ye||-Ee/2,width:or,height:Ee}))}else tr.show&&this.drawStateIcon(r,_);this.updateLinkPoints(r,_)}},"single-node"),Fn.registerNode("star",{options:{size:60,style:{stroke:Be.defaultNode.style.stroke,fill:Be.defaultNode.style.fill,lineWidth:Be.defaultNode.style.lineWidth},labelCfg:{style:{fill:Be.nodeLabel.style.fill,fontSize:Be.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Be.defaultNode.linkPoints.size,lineWidth:Be.defaultNode.linkPoints.lineWidth,fill:Be.defaultNode.linkPoints.fill,stroke:Be.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,J.__assign)({},Be.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:(0,J.__assign)({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.leftBottom,u=n.rightBottom,h=n.size,c=n.r,d=(0,J.__rest)(n,["top","left","right","leftBottom","rightBottom","size","r"]),y=this.getSize(r),_=y[0];if(s){var k=Math.cos((18+72*0)/180*Math.PI)*_,F=Math.sin((18+72*0)/180*Math.PI)*_;t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},d),{x:k,y:-F,r:h/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(a){var k=Math.cos((18+72*1)/180*Math.PI)*_,F=Math.sin((18+72*1)/180*Math.PI)*_;t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},d),{x:k,y:-F,r:h/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){var k=Math.cos((18+72*2)/180*Math.PI)*_,F=Math.sin((18+72*2)/180*Math.PI)*_;t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},d),{x:k,y:-F,r:h/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(l){var k=Math.cos((18+72*3)/180*Math.PI)*_,F=Math.sin((18+72*3)/180*Math.PI)*_;t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},d),{x:k,y:-F,r:h/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){var k=Math.cos((18+72*4)/180*Math.PI)*_,F=Math.sin((18+72*4)/180*Math.PI)*_;t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},d),{x:k,y:-F,r:h/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(r){for(var t=this.getSize(r),e=t[0],n=e*3/8,a=r.innerR||n,o=[],s=0;s<5;s++){var l=Math.cos((18+72*s)/180*Math.PI)*e,u=Math.sin((18+72*s)/180*Math.PI)*e,h=Math.cos((54+72*s)/180*Math.PI)*a,c=Math.sin((54+72*s)/180*Math.PI)*a;s===0?o.push(["M",l,-u]):o.push(["L",l,-u]),o.push(["L",h,-c])}return o.push(["Z"]),o},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=(0,J.__assign)({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}).linkPoints,n=t.find(function(ue){return ue.get("className")==="link-point-left"}),a=t.find(function(ue){return ue.get("className")==="link-point-right"}),o=t.find(function(ue){return ue.get("className")==="link-point-top"}),s=t.find(function(ue){return ue.get("className")==="link-point-left-bottom"}),l=t.find(function(ue){return ue.get("className")==="link-point-right-bottom"}),u=e,h=n||a||o||s||l;h&&(u=h.attr());var c=(0,f.mix)({},u,r.linkPoints),d=c.fill,y=c.stroke,_=c.lineWidth,k=c.size/2;k||(k=c.r);var F=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},Y=F.left,G=F.right,ut=F.top,ft=F.leftBottom,Tt=F.rightBottom,Yt=this.getSize(r),Ut=Yt[0],Jt={r:k,fill:d,stroke:y,lineWidth:_},Wt=Math.cos((18+72*0)/180*Math.PI)*Ut,ee=Math.sin((18+72*0)/180*Math.PI)*Ut;a?!G&&G!==void 0?a.remove():a.attr((0,J.__assign)((0,J.__assign)({},Jt),{x:Wt,y:-ee})):G&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},Jt),{x:Wt,y:-ee}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Wt=Math.cos((18+72*1)/180*Math.PI)*Ut,ee=Math.sin((18+72*1)/180*Math.PI)*Ut,o?!ut&&ut!==void 0?o.remove():o.attr((0,J.__assign)((0,J.__assign)({},Jt),{x:Wt,y:-ee})):ut&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},Jt),{x:Wt,y:-ee}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Wt=Math.cos((18+72*2)/180*Math.PI)*Ut,ee=Math.sin((18+72*2)/180*Math.PI)*Ut,n?!Y&&Y!==void 0?n.remove():n.attr((0,J.__assign)((0,J.__assign)({},Jt),{x:Wt,y:-ee})):Y&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},Jt),{x:Wt,y:-ee}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Wt=Math.cos((18+72*3)/180*Math.PI)*Ut,ee=Math.sin((18+72*3)/180*Math.PI)*Ut,s?!ft&&ft!==void 0?s.remove():s.attr((0,J.__assign)((0,J.__assign)({},Jt),{x:Wt,y:-ee})):ft&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},Jt),{x:Wt,y:-ee}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),Wt=Math.cos((18+72*4)/180*Math.PI)*Ut,ee=Math.sin((18+72*4)/180*Math.PI)*Ut,l?!Tt&&Tt!==void 0?s.remove():l.attr((0,J.__assign)((0,J.__assign)({},Jt),{x:Wt,y:-ee})):Tt&&t.addShape("circle",{attrs:(0,J.__assign)((0,J.__assign)({},Jt),{x:Wt,y:-ee}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node"),Fn.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r);delete n.fill;var a=t.addShape(e,{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(r,a),a},drawClip:function(r,t){var e=this.getOptions(r).clipCfg;if(!!e.show){var n=e.type,a=e.x,o=e.y,s=e.style;if(n==="circle"){var l=e.r;t.setClip({type:"circle",attrs:(0,J.__assign)({r:l,x:a,y:o},s)})}else if(n==="rect"){var u=e.width,h=e.height,c=a-u/2,d=o-h/2;t.setClip({type:"rect",attrs:(0,J.__assign)({x:c,y:d,width:u,height:h},s)})}else if(n==="ellipse"){var y=e.rx,_=e.ry;t.setClip({type:"ellipse",attrs:(0,J.__assign)({x:a,y:o,rx:y,ry:_},s)})}else if(n==="polygon"){var k=e.points;t.setClip({type:"polygon",attrs:(0,J.__assign)({points:k},s)})}else if(n==="path"){var F=e.path;t.setClip({type:"path",attrs:(0,J.__assign)({path:F},s)})}}},getShapeStyle:function(r){var t=this.getOptions(r).style,e=this.getSize(r),n=this.getOptions(r).img,a=e[0],o=e[1];t&&(a=t.width||e[0],o=t.height||e[1]);var s=(0,J.__assign)({x:-a/2,y:-o/2,width:a,height:o,img:n},t);return s},updateShapeStyle:function(r,t){var e=t.getContainer(),n=this.itemType+"-shape",a=e.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(r);a&&a.attr(o)}},"single-node");function Su(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Su=function(t){return typeof t}:Su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(i)}var Cu=function(r){var t=r.x,e=r.y;return{x:t,y:e,centerX:t,centerY:e,minX:t,minY:e,maxX:t,maxY:e,height:0,width:0}},c6=function(r){r===void 0&&(r=[]);var t=[],e=[];r.forEach(function(l){t.push(l.x),e.push(l.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,e),s=Math.max.apply(Math,e);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}},jx=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},Jh=function(r){var t=[],e={};return r.forEach(function(n){var a=n.x+"-"+n.y;n.id=a,e[a]=n}),(0,f.each)(e,function(n){t.push(n)}),t},Mu=function(r){return r=Jh(r),r},Ux=function(r,t){return[r,{x:r.x,y:t.y},t]},Eu=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},v6=function(r,t){var e=Math.abs(r.x-t.centerX),n=Math.abs(r.y-t.centerY);return e/t.width>n/t.height},qh=function(r,t){var e=v6(t,r);return e?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},tc=function(r,t){var e=Math.min(r.minX,t.minX),n=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),o=Math.max(r.maxY,t.maxY);return{centerX:(e+a)/2,centerY:(n+o)/2,minX:e,minY:n,maxX:a,maxY:o,height:o-n,width:a-e}},ec=function(r){var t=r.minX,e=r.minY,n=r.maxX,a=r.maxY;return[{x:t,y:e},{x:n,y:e},{x:n,y:a},{x:t,y:a}]},Au=function(r,t){var e=r.x,n=r.y;return e<t.minX||e>t.maxX||n<t.minY||n>t.maxY},d6=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},p6=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},g6=function(r,t){return d6(r,t.x).concat(p6(r,t.y))},Ds=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},y6=function(r,t){var e=-2,n=0;return t.forEach(function(a){a&&(r.x===a.x&&(n+=e),r.y===a.y&&(n+=e))}),n},Zx=function(r,t,e,n,a){return Ds(r,t)+Ds(r,e)+y6(r,[t,e,n,a])},m6=function i(r,t,e,n,a){a===void 0&&(a=0),r.unshift(t[n]),e[n]&&e[n]!==n&&a<=100&&i(r,t,e,e[n],a+1)},x6=function(r,t){var e=r.indexOf(t);e>-1&&r.splice(e,1)},_u=function(r,t,e,n){var a=t.x-r.x,o=t.y-r.y,s=n.x-e.x,l=n.y-e.y,u=(-o*(r.x-e.x)+a*(r.y-e.y))/(-s*o+a*l),h=(s*(r.y-e.y)-l*(r.x-e.x))/(-s*o+a*l);return u>=0&&u<=1&&h>=0&&h<=1},rc=function(r,t,e){if(e.width===0&&e.height===0)return!1;var n=ec(e),a=n[0],o=n[1],s=n[2],l=n[3];return _u(r,t,a,o)||_u(r,t,a,l)||_u(r,t,o,s)||_u(r,t,s,l)},b6=function(r,t,e,n){var a=[];return r.forEach(function(o){o!==t&&(o.x===t.x||o.y===t.y)&&!rc(o,t,e)&&!rc(o,t,n)&&a.push(o)}),Jh(a)},w6=function(r,t,e,n,a,o,s){var l=[],u=[t],h={},c={},d={};c[t.id]=0,d[t.id]=Zx(t,e,t);var y={};r.forEach(function(F){y[F.id]=F});for(var _=function(){var Y,G=Infinity;if(u.forEach(function(ft){d[ft.id]<G&&(G=d[ft.id],Y=ft)}),Y===e){var ut=[];return m6(ut,y,h,e.id),{value:ut}}x6(u,Y),l.push(Y),b6(r,Y,n,a).forEach(function(ft){if(l.indexOf(ft)===-1){u.indexOf(ft)===-1&&u.push(ft);var Tt=d[Y.id]+Ds(Y,ft);c[ft.id]&&Tt>=c[ft.id]||(h[ft.id]=Y.id,c[ft.id]=Tt,d[ft.id]=c[ft.id]+Zx(ft,e,t,o,s))}})};u.length;){var k=_();if(Su(k)==="object")return k.value}return[t,e]},S6=function(r,t,e){return!(r.x===t.x&&t.x===e.x||r.y===t.y&&t.y===e.y)},C6=function(r,t,e,n){var a=Ds(r,t),o=Ds(e,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-r.x),y:t.y-n/a*(t.y-r.y)},l={x:t.x-n/o*(t.x-e.x),y:t.y-n/o*(t.y-e.y)};return[s,l]},Kx=function(r,t){var e=[],n=r[0];return e.push("M"+n.x+" "+n.y),r.forEach(function(a,o){var s=r[o+1],l=r[o+2];if(s&&l)if(S6(a,s,l)){var u=C6(a,s,l,t),h=u[0],c=u[1];e.push("L"+h.x+" "+h.y),e.push("Q"+s.x+" "+s.y+" "+c.x+" "+c.y),e.push("L"+c.x+" "+c.y)}else e.push("L"+s.x+" "+s.y);else s&&e.push("L"+s.x+" "+s.y)}),e.join("")},M6=function(r,t,e,n,a){var o,s;if(!e||!e.getType())o=Cu(r);else if(e.getType()==="combo"){var l=e.getKeyShape();o=l.getCanvasBBox()||Cu(r),o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=e.getBBox();if(!n||!n.getType())s=Cu(t);else if(n.getType()==="combo"){var u=n.getKeyShape();s=u.getCanvasBBox()||Cu(t),s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=n&&n.getBBox();if(jx(o,s))return Mu(Ux(r,t));var h=Eu(o,a),c=Eu(s,a);if(jx(h,c))return Mu(Ux(r,t));var d=qh(h,r),y=qh(c,t),_=c6([d,y]),k=tc(h,c),F=tc(h,_),Y=tc(c,_),G=[];G=G.concat(ec(F)),G=G.concat(ec(Y));var ut={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[_,F,Y].forEach(function(Tt){G=G.concat(g6(Tt,ut).filter(function(Yt){return Au(Yt,h)&&Au(Yt,c)}))}),[{x:d.x,y:y.y},{x:y.x,y:d.y}].forEach(function(Tt){Au(Tt,h)&&Au(Tt,c)&&G.push(Tt)}),G.unshift(d),G.push(y),G=Jh(G);var ft=w6(G,d,y,o,s,r,t);return ft.unshift(r),ft.push(t),Mu(ft)};function Tu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tu=function(t){return typeof t}:Tu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(i)}var E6=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},A6=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},_6=function(r,t){return[r,t]},T6=function(r,t,e,n,a){return Mu(M6(r,t,e,n,a.offset))},P6={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:E6,fallbackRoute:T6},YY={maxAllowedDirectionChange:45,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:A6,fallbackRoute:_6},qi=function(r,t){var e=Math.floor(r/t);return e<0?0:e},L6=function(r,t,e){var n={};return r.forEach(function(a){if(a)for(var o=Eu(a.getBBox(),e),s=qi(o.minX,t);s<=qi(o.maxX,t);s+=1)for(var l=qi(o.minY,t);l<=qi(o.maxY,t);l+=1){var u=s+"-"+l;n[u]=!0}}),n},nc=function(r,t){var e=t.x-r.x,n=t.y-r.y;if(!e&&!n)return 0;var a=(360+Math.atan2(n,e)*180/Math.PI)%360;return a},$x=function(r,t){var e=Math.abs(r-t);return e>180?360-e:e},Qx=function(r,t,e){for(var n=Infinity,a=0,o=t.length;a<o;a++){var s=e(r,t[a]);s<n&&(n=s)}return n},Jx=function(r,t,e){var n=[];if(!t)return n;var a=e.directions,o=e.offset,s=t.getBBox(),l=Eu(t.getBBox(),o);for(var u in l)l[u]=qi(l[u],e.gridSize);var h=r.x>qi(s.minX,e.gridSize)&&r.x<qi(s.maxX,e.gridSize)&&r.y>qi(s.minY,e.gridSize)&&r.y<qi(s.maxY,e.gridSize);if(h)for(var c=0,d=a;c<d.length;c++)for(var y=d[c],_=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]],u=0;u<4;u++){var k=_[u],F=_s(r,{x:r.x+y.stepX*l.width,y:r.y+y.stepY*l.height},k[0],k[1]);F&&!rc(r,F,t.getBBox())&&(F.id=F.x+"-"+F.y,n.push(F))}else{var F=qh(l,r);F.id=F.x+"-"+F.y,n.push(F)}return n},qx=function(r,t,e,n,a){var o=(0,bi.default)(P6,a);o.obstacles=o.obstacles||[];var s=L6(o.obstacles.concat([e,n]),o.gridSize,o.offset),l={x:qi(r.x,o.gridSize),y:qi(r.y,o.gridSize)},u={x:qi(t.x,o.gridSize),y:qi(t.y,o.gridSize)};r.id=l.x+"-"+l.y,t.id=u.x+"-"+u.y;var h=Jx(l,e,o),c=Jx(u,n,o);h.forEach(function(Jt){delete s[Jt.id]}),c.forEach(function(Jt){delete s[Jt.id]});for(var d={},y={},_={},k={},F={},Y=0;Y<h.length;Y++){var G=h[Y];d[G.id]=G,k[G.id]=0,F[G.id]=Qx(G,c,o.distFunc)}for(var ut=function(Wt,ee){var ue=nc(Wt,ee),oe;if(_[Wt.id]){var _e=nc({x:parseFloat(_[Wt.id].split("-")[0]),y:parseFloat(_[Wt.id].split("-")[1])},Wt);oe=$x(_e,ue)}else{var we=nc(l,Wt);oe=$x(we,ue)}return oe},ft=function(Wt){var ee=[t],ue={x:parseFloat(Wt.split("-")[0]),y:parseFloat(Wt.split("-")[1]),id:Wt};for(ut(ue,u)&&ee.unshift({x:ue.x===u.x?t.x:ue.x*o.gridSize,y:ue.y===u.y?t.y:ue.y*o.gridSize});_[Wt]&&_[Wt]!==Wt;){var oe={x:parseFloat(Wt.split("-")[0]),y:parseFloat(Wt.split("-")[1]),id:Wt},we=_[Wt],_e={x:parseFloat(we.split("-")[0]),y:parseFloat(we.split("-")[1]),id:we},Ee=ut(_e,oe);Ee&&ee.unshift({x:_e.x===oe.x?ee[0].x:_e.x*o.gridSize,y:_e.y===oe.y?ee[0].y:_e.y*o.gridSize}),Wt=we}var Re={x:parseFloat(Wt.split("-")[0]),y:parseFloat(Wt.split("-")[1]),id:Wt};return ee[0].x=Re.x===l.x?r.x:ee[0].x,ee[0].y=Re.y===l.y?r.y:ee[0].y,ee.unshift(r),ee},Tt=o.maximumLoops,Yt=function(){var Wt,ee=Infinity;for(var ue in d)F[ue]<=ee&&(ee=F[ue],Wt=d[ue]);if(!Wt)return"break";if(c.findIndex(function(De){return De.x===Wt.x&&De.y===Wt.y})>-1){var oe=ft(Wt.id);return{value:oe}}delete d[Wt.id],y[Wt.id]=!0;for(var we=0;we<o.directions.length;we++){var _e=o.directions[we],Ee={x:Wt.x+_e.stepX,y:Wt.y+_e.stepY,id:Wt.x+_e.stepX+"-"+(Wt.y+_e.stepY)};if(!y[Ee.id]){var Re=ut(Wt,Ee);if(!(Re>o.maxAllowedDirectionChange)&&!s[Ee.id]){d[Ee.id]||(d[Ee.id]=Ee);var Ye=o.distFunc(Wt,Ee)+(isNaN(o.penalties[Re])?o.gridSize:o.penalties[Re]),Xe=k[Wt.id]+Ye;k[Ee.id]&&Xe>=k[Ee.id]||(_[Ee.id]=Wt.id,k[Ee.id]=Xe,F[Ee.id]=Xe+Qx(Ee,c,o.distFunc))}}}Tt-=1};Object.keys(d).length>0&&Tt>0;){var Ut=Yt();if(Tu(Ut)==="object")return Ut.value;if(Ut==="break")break}return o.fallbackRoute(r,t,e,n,o)};Fn.registerEdge("polyline",{options:{color:Be.defaultEdge.color,size:Be.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Be.defaultEdge.style.stroke,lineAppendWidth:Be.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Be.edgeLabel.style.fill,fontSize:Be.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:1e3,gridSize:10},stateStyles:(0,J.__assign)({},Be.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r);e.radius===0&&delete e.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:e});return n},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,f.mix)({},t,e,r.style);r=this.getPathPoints(r),this.radius=n.radius,this.offset=n.offset;var a=r.startPoint,o=r.endPoint,s=this.getControlPoints(r),l=[a];s&&(l=l.concat(s)),l.push(o);var u=r.sourceNode,h=r.targetNode,c=n.radius,d=this.options.routeCfg;d.offset=n.offset;var y=this.getPath(l,u,h,c,d);((0,f.isArray)(y)&&y.length<=1||(0,f.isString)(y)&&y.indexOf("L")===-1)&&(y="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(y="M0 0, L0 0");var _=(0,f.mix)({},Be.defaultEdge.style,n,{lineWidth:r.size,path:y});return _},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(G){return G.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,u=this.getControlPoints(r),h=[s];u&&(h=h.concat(u)),h.push(l);var c=(0,f.mix)({},n,a.attr(),r.style),d=r.sourceNode,y=r.targetNode,_=c.radius,k=this.options.routeCfg;k.offset=c.offset;var F=this.getPath(h,d,y,_,k);((0,f.isArray)(F)&&F.length<=1||(0,f.isString)(F)&&F.indexOf("L")===-1)&&(F="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(F="M0 0, L0 0");var Y=(0,f.mix)(n,a.attr(),{lineWidth:o,path:F},r.style);a&&a.attr(Y)},getPath:function(r,t,e,n,a){var o=a.offset;if(!o||r.length>2){if(n)return Kx(r,n);var s=[];return(0,f.each)(r,function(c,d){d===0?s.push(["M",c.x,c.y]):s.push(["L",c.x,c.y])}),s}var l;if(n){l=qx(r[0],r[r.length-1],t,e,a);var u=Kx(l,n);return u}l=qx(r[0],r[r.length-1],t,e,a);var h=Dm(l);return h}},"single-edge");var O6={triangle:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+" L "+(n+t)+","+r/2+" Z";return a},vee:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=20),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+`
        L `+(n+2*t/3)+",0 L "+(n+t)+","+r/2+" Z";return a},circle:function(r,t){r===void 0&&(r=5),t===void 0&&(t=0);var e=t*2,n="M "+e+`, 0
            a `+r+","+r+" 0 1,0 "+r*2+`,0
            a `+r+","+r+" 0 1,0 "+-r*2+",0";return n},rect:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=10),e===void 0&&(e=0);var n=e*2,a="M "+n+","+-r/2+` 
        L `+(n+t)+","+-r/2+` 
        L `+(n+t)+","+r/2+` 
        L `+n+","+r/2+" Z";return a},diamond:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+`,0 
        L `+(n+t/2)+","+-r/2+` 
        L `+(n+t)+`,0 
        L `+(n+t/2)+","+r/2+" Z";return a},triangleRect:function(r,t,e,n,a,o){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,l=s+t+a,u="M "+s+",0 L "+(s+t)+",-"+r/2+" L "+(s+t)+","+r/2+` Z
            M `+l+", -"+e/2+`
            L `+(l+n)+" -"+e/2+`
            L `+(l+n)+" "+e/2+`
            L `+l+" "+e/2+`
            Z`;return u}},I6={collapse:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r+e-4,t]]},expand:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r-e+2*e-4,t],["M",r-e+e,t-e+4],["L",r,t+e-4]]},upTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t+a],["L",r+n,t+a],["L",r,t-e],["Z"]]},downTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t-a],["L",r+n,t-a],["L",r,t+e],["Z"]]}},ts=Fn,k6={mat3:da.wO,mix:ks.default,deepMix:bi.default,transform:da.vs},B6=(0,J.__assign)((0,J.__assign)((0,J.__assign)((0,J.__assign)((0,J.__assign)((0,J.__assign)({},k6),N),lt),V),X),W),D6=B6,F6=function(){function i(r){this._cfgs=(0,bi.default)(this.getDefaultCfgs(),r),this._events={},this.destroyed=!1}return i.prototype.getDefaultCfgs=function(){return{}},i.prototype.initPlugin=function(r){var t=this;t.set("graph",r);var e=t.getEvents(),n={};(0,un.default)(e,function(a,o){var s=(0,tu.default)(t,a);n[o]=s,r.on(o,s)}),this._events=n,this.init()},i.prototype.init=function(){},i.prototype.getEvents=function(){return{}},i.prototype.get=function(r){return this._cfgs[r]},i.prototype.set=function(r,t){this._cfgs[r]=t},i.prototype.destroy=function(){},i.prototype.destroyPlugin=function(){this.destroy();var r=this.get("graph"),t=this._events;(0,un.default)(t,function(e,n){r.off(n,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},i}(),_a=F6,t1="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",R6=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{img:t1}},r.prototype.init=function(){var t=this.get("graph"),e=t.get("minZoom"),n=t.get("container"),a=t.get("canvas").get("el"),o=t.get("width"),s=t.get("height"),l=this.get("img")||t1,u=(0,Wn.Z)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),h=(0,Wn.Z)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+l+`;
        user-select: none
        '></div>`);u.appendChild(h),(0,mn.Z)(u,{width:o+"px",height:s+"px",left:n.offsetLeft+"px",top:n.offsetTop+"px"}),(0,mn.Z)(h,{width:o/e+"px",height:s/e+"px",left:"0px",top:"0px"}),n.insertBefore(u,a),this.set("container",u),this.set("gridContainer",h)},r.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},r.prototype.updateGrid=function(t){var e=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a="matrix("+n[0]+", "+n[1]+", "+n[3]+", "+n[4]+", 0, 0)";(0,mn.Z)(e,{transform:a})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),n=this.get("container");e.removeChild(n)},r}(_a),N6=R6,G6=v(38186),ic=v.n(G6);ic()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var Y6=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},r.prototype.init=function(){var t=this.get("className"),e=(0,Wn.Z)("<div class="+(t||"g6-component-contextmenu")+"></div>");(0,mn.Z)(e,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),n.appendChild(e),this.set("menu",e)},r.prototype.onMenuShow=function(t){var e=this;if(t.preventDefault(),t.stopPropagation(),!!t.item){var n=this.get("shouldBegin");if(!!n(t)){var a=this.get("itemTypes");if(t.item&&t.item.getType&&a.indexOf(t.item.getType())===-1){e.onMenuHide();return}if(!!t.item){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),u=s(t,l);(0,rn.default)(u)?o.innerHTML=u:o.innerHTML=u.outerHTML,this.removeMenuEventListener();var h=this.get("handleMenuClick");if(h){var c=function(Ut){h(Ut.target,t.item,l)};this.set("handleMenuClickWrapper",c),o.addEventListener("click",c)}var d=l.get("width"),y=l.get("height"),_=o.getBoundingClientRect(),k=this.get("offsetX")||0,F=this.get("offsetY")||0,Y=l.getContainer().offsetTop,G=l.getContainer().offsetLeft,ut=t.canvasX+G+k,ft=t.canvasY+Y+F;ut+_.width>d&&(ut=t.canvasX-_.width-k+G),ft+_.height>y&&(ft=t.canvasY-_.height-F+Y),(0,mn.Z)(o,{top:ft+"px",left:ut+"px",visibility:"visible"});var Tt=function(Ut){e.onMenuHide()};document.body.addEventListener("click",Tt),this.set("handler",Tt)}}}},r.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}e&&document.body.removeEventListener("click",e)},r.prototype.onMenuHide=function(){var t=this.get("menu");t&&(0,mn.Z)(t,{visibility:"hidden"}),this.removeMenuEventListener()},r.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(_a),z6=Y6,e1=Math.max,X6="default",V6="keyShape",H6="delegate",r1="svg",W6=function(i){(0,J.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.handleUpdateCanvas=(0,f.debounce)(function(e){var n=t;n.destroyed||n.updateCanvas()},100,!1),t}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.size,a=e.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),l=(0,Wn.Z)(`
      <div
        class=`+e.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          border: 2px solid #1980ff'
        draggable=true>
      </div>`),u=0,h=0,c=!1,d=0,y=0,_=0,k=0,F=0,Y=0;l.addEventListener("dragstart",function(G){if(G.dataTransfer){var ut=new Image;ut.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",G.dataTransfer.setDragImage(ut,0,0),G.dataTransfer.setData("text","view-port-minimap")}if(e.refresh=!1,G.target===l){var ft=l.style;d=parseInt(ft.left,10),y=parseInt(ft.top,10),_=parseInt(ft.width,10),k=parseInt(ft.height,10),!(_>n[0]||k>n[1])&&(Y=a.getZoom(),F=t.get("ratio"),c=!0,u=G.clientX,h=G.clientY)}},!1),l.addEventListener("drag",function(G){if(!(!c||(0,fi.default)(G.clientX)||(0,fi.default)(G.clientY))){var ut=u-G.clientX,ft=h-G.clientY;(d-ut<0||d-ut+_>=n[0])&&(ut=0),(y-ft<0||y-ft+k>=n[1])&&(ft=0),d-=ut,y-=ft,(0,mn.Z)(l,{left:d+"px",top:y+"px"}),a.translate(ut*Y/F,ft*Y/F),u=G.clientX,h=G.clientY}},!1),l.addEventListener("dragend",function(){c=!1,e.refresh=!0},!1),this.set("viewport",l),s.appendChild(l)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("dx"),n=this.get("dy"),a=this.get("totaldx"),o=this.get("totaldy"),s=this.get("graph"),l=this.get("size"),u=s.get("width"),h=s.get("height"),c=s.getPointByCanvas(0,0),d=s.getPointByCanvas(u,h),y=this.get("viewport");y||this.initViewport();var _=s.getZoom(),k=(d.x-c.x)*t,F=(d.y-c.y)*t,Y=c.x*t+a,G=c.y*t+o,ut=Y+k,ft=G+F;Y<0&&(k+=Y,Y=0),ut>l[0]&&(k=k-(ut-l[0])),G<0&&(F+=G,G=0),ft>l[1]&&(F=F-(ft-l[1])),this.set("ratio",t);var Tt=Y+"px",Yt=G+"px";(0,mn.Z)(y,{left:Tt,top:Yt,width:k+"px",height:F+"px"})}},r.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),n=t.get("group");if(!n.destroyed){var a=n.clone();a.resetMatrix(),e.clear(),e.add(a);var o=t.get("renderer");o===r1&&this.updateVisible(a)}},r.prototype.updateVisible=function(t){var e=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),e.updateVisible(a)})}},r.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph;(0,un.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,un.default)(e.getNodes(),function(n){t.updateOneNodeKeyShape(n)}),this.clearDestroyedShapes()},r.prototype.updateOneNodeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox(),l=t.get("keyShape").clone(),u=l.attr(),h={x:s.centerX,y:s.centerY};o?h=Object.assign(u,h):(o=l,n.add(o));var c=o.get("type");(c==="rect"||c==="image")&&(h.x=s.minX,h.y=s.minY),o.attr(h),t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph;(0,un.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,un.default)(e.getNodes(),function(n){t.updateOneNodeDelegateShape(n)}),this.clearDestroyedShapes()},r.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(!(!e||e.length===0))for(var n=e.length-1;n>=0;n--){var a=t[e[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[e[n]])}},r.prototype.updateOneEdgeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")];if(o){var s=t.get("keyShape").attr("path");o.attr("path",s)}else o=t.get("keyShape").clone(),n.add(o),o.toBack();t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateOneNodeDelegateShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("delegateStyle"),o=this.get("itemMap")||{},s=o[t.get("id")],l=t.getBBox();if(s){var u={x:l.minX,y:l.minY,width:l.width,height:l.height};s.attr(u)}else s=n.addShape("rect",{attrs:(0,J.__assign)({x:l.minX,y:l.minY,width:l.width,height:l.height},a),name:"minimap-node-shape"});t.isVisible()||s.hide(),s.exist=!0,o[t.get("id")]=s,this.set("itemMap",o)},r.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=(0,Wn.Z)("<div class='"+a+"' style='width: "+n[0]+"px; height: "+n[1]+"px; overflow: hidden'></div>");(0,rn.default)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):e.get("container").appendChild(s),t.set("container",s);var l=(0,Wn.Z)('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l);var u,h=e.get("renderer");h===r1?u=new Os.Z({container:l,width:n[0],height:n[1]}):u=new Eo.Z({container:l,width:n[0],height:n[1]}),t.set("canvas",u),t.updateCanvas()},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case X6:this.updateGraphShapes();break;case V6:this.updateKeyShapes();break;case H6:this.updateDelegateShapes();break;default:break}var l=a.get("children")[0];if(!!l){l.resetMatrix();var u=l.getCanvasBBox(),h=e.get("canvas").getBBox(),c=h.width,d=h.height;Number.isFinite(u.width)&&(c=e1(u.width,c),d=e1(u.height,d)),c+=2*s,d+=2*s;var y=Math.min(n[0]/c,n[1]/d),_=[1,0,0,0,1,0,0,0,1],k=0,F=0;Number.isFinite(u.minX)&&(k=-u.minX),Number.isFinite(u.minY)&&(F=-u.minY);var Y=(n[0]-(c-2*s)*y)/2,G=(n[1]-(d-2*s)*y)/2;_=Ea(_,[["t",k,F],["s",y,y],["t",Y,G]]),l.setMatrix(_),this.set("ratio",y),this.set("totaldx",Y+k*y),this.set("totaldy",G+F*y),this.set("dx",Y),this.set("dy",G),this.updateViewport()}}}}},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},r}(_a),j6=W6;function Ta(i,r,t){var e=i.x-r.x,n=i.y-r.y;return!t||Math.abs(e)>t||Math.abs(n)>t?Math.sqrt(e*e+n*n):t}function U6(i,r){return i.x*r.x+i.y*r.y}function n1(i,r){var t=(r.source.y-r.target.y)/(r.source.x-r.target.x),e=(t*t*r.source.x+t*(i.y-r.source.y)+i.x)/(t*t+1),n=t*(e-r.source.x)+r.source.y;return{x:e,y:n}}var Z6=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},r.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),n=function(){e&&e(),t.refreshPositions()};this.set("tick",n)},r.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(ft){(ft.x===null||!ft.y===null||ft.x===void 0||!ft.y===void 0)&&(s=!0),o[ft.id]=ft}),s)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",o);var l=e.get("divisions"),u=e.get("divRate"),h=e.divideEdges(l);e.set("edgePoints",h);var c=e.getEdgeBundles();e.set("edgeBundles",c);for(var d=e.get("cycles"),y=e.get("iterations"),_=e.get("iterRate"),k=e.get("lambda"),F=0;F<d;F++){for(var Y=function(Tt){var Yt=[];n.forEach(function(Ut,Jt){if(Ut.source!==Ut.target){var Wt=o[Ut.source],ee=o[Ut.target];Yt[Jt]=e.getEdgeForces({source:Wt,target:ee},Jt,l,k);for(var ue=0;ue<l+1;ue++)h[Jt][ue].x+=Yt[Jt][ue].x,h[Jt][ue].y+=Yt[Jt][ue].y}})},G=0;G<y;G++)Y(G);k=k/2,l*=u,y*=_,h=e.divideEdges(l),e.set("edgePoints",h)}n.forEach(function(ft,Tt){ft.source!==ft.target&&(ft.shape="polyline",ft.type="polyline",ft.controlPoints=h[Tt].slice(1,h[Tt].length-1))});var ut=e.get("graph");ut.refresh()}},r.prototype.updateBundling=function(t){var e=this,n=t.data;if(n&&e.set("data",n),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(o){e.set(o,t[o])}),t.onTick){var a=this.get("graph");e.set("tick",function(){t.onTick(),a.refresh()})}e.bundling(n)},r.prototype.divideEdges=function(t){var e=this,n=e.get("data").edges,a=e.get("nodeIdMap"),o=e.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,l){(!o[l]||o[l]===void 0)&&(o[l]=[]);var u=a[s.source],h=a[s.target];if(t===1)o[l].push({x:u.x,y:u.y}),o[l].push({x:.5*(u.x+h.x),y:.5*(u.y+h.y)}),o[l].push({x:h.x,y:h.y});else{var c=0;!o[l]||o[l]===[]?c=Ta({x:u.x,y:u.y},{x:h.x,y:h.y}):c=e.getEdgeLength(o[l]);var d=c/(t+1),y=d,_=[{x:u.x,y:u.y}];o[l].forEach(function(k,F){if(F!==0){for(var Y=Ta(k,o[l][F-1]);Y>y;){var G=y/Y,ut={x:o[l][F-1].x,y:o[l][F-1].y};ut.x+=G*(k.x-o[l][F-1].x),ut.y+=G*(k.y-o[l][F-1].y),_.push(ut),Y-=y,y=d}y-=Y}}),_.push({x:h.x,y:h.y}),o[l]=_}}),o},r.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(n,a){a!==0&&(e+=Ta(n,t[a-1]))}),e},r.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),n=e.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(l,u){(!s[u]||s[u]===void 0)&&(s[u]=[])}),n.forEach(function(l,u){var h=o[l.source],c=o[l.target];n.forEach(function(d,y){if(!(y<=u)){var _=o[d.source],k=o[d.target],F=t.getBundleScore({source:h,target:c},{source:_,target:k});F>=a&&(s[u].push(y),s[y].push(u))}})}),s},r.prototype.getBundleScore=function(t,e){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=Ta({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=Ta({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var a=n.getAngleScore(t,e),o=n.getScaleScore(t,e),s=n.getPositionScore(t,e),l=n.getVisibilityScore(t,e);return a*o*s*l},r.prototype.getAngleScore=function(t,e){var n=U6({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return n/(t.length*e.length)},r.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2,a=2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n);return a},r.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},s=Ta(a,o);return n/(n+s)},r.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),a=this.getEdgeVisibility(e,t);return n<a?n:a},r.prototype.getEdgeVisibility=function(t,e){var n=n1(e.source,t),a=n1(e.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Ta(o,s)/Ta(n,a))},r.prototype.getEdgeForces=function(t,e,n,a){for(var o=this,s=o.get("edgePoints"),l=o.get("K"),u=l/(Ta(t.source,t.target)*(n+1)),h=[{x:0,y:0}],c=1;c<n;c++){var d={x:0,y:0},y=o.getSpringForce({pre:s[e][c-1],cur:s[e][c],next:s[e][c+1]},u),_=o.getElectrostaticForce(c,e);d.x=a*(y.x+_.x),d.y=a*(y.y+_.y),h.push(d)}return h.push({x:0,y:0}),h},r.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=e,a*=e,{x:n,y:a}},r.prototype.getElectrostaticForce=function(t,e){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),l=o[e],u={x:0,y:0};return l.forEach(function(h){var c={x:s[h][t].x-s[e][t].x,y:s[h][t].y-s[e][t].y};if(Math.abs(c.x)>a||Math.abs(c.y)>a){var d=Ta(s[h][t],s[e][t]),y=1/d;u.x+=c.x*y,u.y+=c.y*y}}),u},r.prototype.isTicking=function(){return this.get("ticking")},r.prototype.getSimulation=function(){return this.get("forceSimulation")},r.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),i.prototype.destroy.call(this)},r}(_a),K6=Z6,Pu=.05,i1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},$6=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,kn.d9)(i1),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},r.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var n=t.get("d");t.set("molecularParam",(n+1)*e)},r.prototype.createDelegate=function(t){var e=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){e.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-Pu:a=1/(1-Pu);var u=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(u||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.set("r2",c*c);var d=e.get("d");e.set("molecularParam",(d+1)*c),e.set("delegateCenterDiff",void 0),e.magnify(t,l)}},r.prototype.scaleRByDrag=function(t){var e=this;if(!!t){var n=e.get("dragPrePos"),a=e.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-Pu:o=1/(1-Pu);var l=e.get("maxR"),u=e.get("minR"),h=e.get("r");(h>(l||a.get("height"))&&o>1||h<(u||a.get("height")*.05)&&o<1)&&(o=1),h*=o,e.set("r",h),e.set("r2",h*h);var c=e.get("d");e.set("molecularParam",(c+1)*h),e.magnify(t,s),e.set("dragPrePos",{x:t.x,y:t.y})}},r.prototype.scaleDByWheel=function(t){var e=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=e.get("d"),o=a+n,s=e.get("maxD"),l=e.get("minD");if(o<s&&o>l){e.set("d",o);var u=e.get("r");e.set("molecularParam",(o+1)*u);var h=e.get("delegate"),c=h?{x:h.attr("x"),y:h.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,c)}}},r.prototype.scaleDByDrag=function(t){var e=this,n=e.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=e.get("d"),s=o+a,l=e.get("maxD"),u=e.get("minD");if(s<l&&s>u){e.set("d",s);var h=e.get("r");e.set("molecularParam",(s+1)*h),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},r.prototype.magnify=function(t,e){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),l=n.get("showLabel"),u=n.get("r"),h=n.get("r2"),c=n.get("d"),d=n.get("molecularParam"),y=a.getNodes(),_=y.length,k=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(k=n.get("cacheCenter"));var F=n.get("delegateCenterDiff");F&&(k.x+=F.x,k.y+=F.y),n.updateDelegate(k,u);for(var Y=0;Y<_;Y++){var G=y[Y].getModel(),ut=G.x,ft=G.y;if(!(isNaN(ut)||isNaN(ft))){var Tt=(ut-k.x)*(ut-k.x)+(ft-k.y)*(ft-k.y);if(!isNaN(Tt)&&Tt<h&&Tt!==0){var Yt=Math.sqrt(Tt),Ut=d*Yt/(c*Yt+u),Jt=(ut-k.x)/Yt,Wt=(ft-k.y)/Yt;if(G.x=Jt*Ut+k.x,G.y=Wt*Ut+k.y,s[G.id]||(s[G.id]={x:ut,y:ft,texts:[]}),o.push(G),l&&2*Yt<u)for(var ee=y[Y],ue=ee.getContainer(),oe=ue.getChildren(),we=oe.length,_e=0;_e<we;_e++){var Ee=oe[_e];Ee.get("type")==="text"&&(s[G.id].texts.push({visible:Ee.get("visible"),shape:Ee}),Ee.set("visible",!0))}}}}a.refreshPositions()},r.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=e.length,o=0;o<a;o++){var s=e[o],l=s.id,u=n[l];s.x=u.x,s.y=u.y;for(var h=u.texts.length,c=0;c<h;c++){var d=u.texts[c];d.shape.set("visible",d.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,l=t.maxD,u=t.minR,h=t.maxR,c=t.scaleDBy,d=t.scaleRBy;isNaN(t.r)||(e.set("r",n),e.set("r2",n*n)),isNaN(a)||e.set("d",a),isNaN(l)||e.set("maxD",l),isNaN(s)||e.set("minD",s),isNaN(h)||e.set("maxR",h),isNaN(u)||e.set("minR",u);var y=e.get("d"),_=e.get("r");if(e.set("molecularParam",(y+1)*_),(o==="mousemove"||o==="click"||o==="drag")&&e.set("trigger",o),c==="drag"||c==="wheel"||c==="unset"){e.set("scaleDBy",c),e.get("delegate").remove(),e.get("delegate").destroy();var k=e.get("dPercentText");k&&(k.remove(),k.destroy())}if(d==="drag"||d==="wheel"||d==="unset"){e.set("scaleRBy",d),e.get("delegate").remove(),e.get("delegate").destroy();var k=e.get("dPercentText");k&&(k.remove(),k.destroy())}},r.prototype.updateDelegate=function(t,e){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var l=o.get("group"),u=a.get("delegateStyle")||i1;s=l.addShape("circle",{attrs:(0,J.__assign)({r:e/1.5,x:t.x,y:t.y},u),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(_){a.scaleRByWheel(_)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(_){a.set("dragging",!0),a.set("cacheCenter",{x:_.x,y:_.y}),a.set("dragPrePos",{x:_.x,y:_.y})}),s.on("drag",function(_){a.scaleRByDrag(_)}),s.on("dragend",function(_){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(_){n.scaleDByWheel(_)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(_){a.set("dragging",!0),a.set("cacheCenter",{x:_.x,y:_.y}),a.set("dragPrePos",{x:_.x,y:_.y})}),s.on("drag",function(_){n.scaleDByDrag(_)}),s.on("dragend",function(_){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:e/1.5});if(a.get("showDPercent")){var h=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),c=a.get("dPercentText"),d=t.y+e/1.5+16;if(!c||c.destroyed){var y=o.get("group");c=y.addShape("text",{attrs:{text:h+"%",x:t.x,y:d,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",c)}else c.attr({text:h+"%",x:t.x,y:d})}a.set("delegate",s)},r.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(_a),Q6=$6;ic()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var J6=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `}}},r.prototype.init=function(){var t=this,e=this.get("graph"),n=this.get("getContent"),a=n(e),o=a;(0,kn.HD)(a)&&(o=(0,Wn.Z)(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),l.appendChild(o),this.set("toolBar",o);var u=this.get("handleClick");o.addEventListener("click",function(c){var d=c.path.filter(function(_){return _.nodeName==="LI"});if(d.length!==0){var y=d[0].getAttribute("code");!y||(u?u(y,e):t.handleDefaultOperator(y,e))}});var h=this.get("position");h&&(0,mn.Z)(o,{top:h.y+"px",left:h.x+"px"}),this.bindUndoRedo()},r.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!e||!n||!a||!o||t.on("stackchange",function(s){var l=s.undoStack,u=s.redoStack,h=l.length,c=u.length;h===1?(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),n.removeAttribute("style")),c===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))})},r.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action;t.pushStack(a,(0,kn.d9)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=t.findById(u.id);u.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.updateItem(u.id,u,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=u.itemType;delete u.itemType,t.addItem(h,u,!1)})});break}case"add":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.removeItem(u.id,!1)})});break;default:}}}},r.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,kn.d9)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=t.findById(u.id);u.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.updateItem(u.id,u,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(s){t.removeItem(s.id,!1)}),o.nodes&&o.nodes.forEach(function(s){t.removeItem(s.id,!1)}),o.combos&&o.combos.forEach(function(s){t.removeItem(s.id,!1)});break;case"add":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=u.itemType;delete u.itemType,t.addItem(h,u,!1)})});break}default:}}}},r.prototype.handleDefaultOperator=function(t,e){var n=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var a=1+.05*5;if(a*n>5)return;e.zoomTo(n*1.1);break}case"zoomIn":{var o=1-.05*5;if(o*n<.3)return;e.zoomTo(n*.9);break}case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20]);break;default:}},r.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},r}(_a),q6=J6;ic()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var t8=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+e.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+e.item.getID()+`</span>
        `},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},r.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",e=(0,Wn.Z)("<div class="+t+"></div>"),n=this.get("container");n||(n=this.get("graph").get("container")),(0,mn.Z)(e,{position:"absolute",visibility:"hidden"}),n.appendChild(e),this.set("tooltip",e)},r.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},r.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},r.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},r.prototype.showTooltip=function(t){if(!!t.item){var e=this.get("itemTypes");if(!(t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,rn.default)(o)?n.innerHTML=o:n.innerHTML=o.outerHTML,this.updatePosition(t)}}},r.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&(0,mn.Z)(t,{visibility:"hidden"})},r.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),n=this.get("tooltip");if(!e(t)){(0,mn.Z)(n,{visibility:"hidden"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=this.get("offsetX")||0,u=this.get("offsetY")||0,h=a.getPointByClient(t.clientX,t.clientY),c=a.getCanvasByPoint(h.x,h.y),d=c.x,y=c.y;d+=l,y+=u;var _=n.getBoundingClientRect();d+_.width>o&&(d=d-_.width-l),y+_.height>s&&(y=y-_.height-u),(0,mn.Z)(n,{left:d+"px",top:y+"px",visibility:"visible"})},r.prototype.hide=function(){this.onMouseLeave()},r.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(_a),e8=t8,a1=v(89539);function r8(i){return(0,f.map)(i,function(r,t){var e=t===0?"M":"L",n=r[0],a=r[1];return[e,n,a]})}function o1(i){return r8(i)}function n8(i){if(i.length<=2)return o1(i);var r=[];(0,f.each)(i,function(o){(0,f.isEqual)(o,r.slice(r.length-2))||r.push(o[0],o[1])});var t=js.catmullRom2Bezier(r,!1),e=(0,f.head)(i),n=e[0],a=e[1];return t.unshift(["M",n,a]),t}function i8(i,r,t,e){e===void 0&&(e=!0);var n=new zt.Linear({values:i}),a=new zt.Category({values:(0,f.map)(i,function(s,l){return l})}),o=(0,f.map)(i,function(s,l){return[a.scale(l)*r,t-n.scale(s)*t]});return e?n8(o):o1(o)}function a8(i,r,t){for(var e=new zt.Linear({values:i}),n=new zt.Category({values:(0,f.map)(i,function(c,d){return d})}),a=(0,f.map)(i,function(c,d){return[n.scale(d)*r,t-e.scale(c)*t]}),o=[],s=0;s<a.length;s++){var l=a[s],u={x:l[0],y:l[1],y0:t,size:5},h=l8(u);o.push.apply(o,h)}return u8(o)}function o8(i,r){var t=new zt.Linear({values:i}),e=Math.max(0,t.min);return r-t.scale(e)*r}function s8(i,r,t,e){var n=(0,J.__spreadArrays)(i),a=o8(e,t);return n.push(["L",r,a]),n.push(["L",0,a]),n.push(["Z"]),n}function l8(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,a1.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s,l;(0,a1.isArray)(r)?(s=r[0],l=r[1]):(s=r-n/2,l=r+n/2);var u=[{x:s,y:a},{x:s,y:o}];return u.push({x:l,y:o},{x:l,y:a}),u}function u8(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}var zY={opacity:.5},f8={stroke:"#C5C5C5",strokeOpacity:.85},h8={fill:"#CACED4",opacity:.85},c8=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.width,s=o===void 0?200:o,l=r.height,u=l===void 0?26:l,h=r.smooth,c=h===void 0?!0:h,d=r.isArea,y=d===void 0?!1:d,_=r.data,k=_===void 0?[]:_,F=r.lineStyle,Y=r.areaStyle,G=r.group,ut=r.interval,ft=ut===void 0?null:ut;this.group=G,this.x=e,this.y=a,this.width=s,this.height=u,this.data=k,this.smooth=c,this.isArea=y,this.lineStyle=Object.assign({},f8,F),this.areaStyle=Object.assign({},h8,Y),this.intervalConfig=ft,this.renderLine()}return i.prototype.renderLine=function(){var r=this,t=r.x,e=r.y,n=r.width,a=r.height,o=r.data,s=r.smooth,l=r.isArea,u=r.backgroundStyle,h=r.lineStyle,c=r.areaStyle,d=this.group.addGroup({name:"trend-group"});if(o){var y=i8(o,n,a,s);if(d.addShape("path",{attrs:(0,J.__assign)({path:y},h)}),l){var _=s8(y,n,a,o);d.addShape("path",{attrs:(0,J.__assign)({path:_},c)})}}this.intervalConfig&&d.addShape("path",{attrs:(0,J.__assign)({path:a8(this.intervalConfig.data,n,a)},this.intervalConfig.style)}),d.move(t,e)},i.prototype.destory=function(){this.group.destroy()},i}(),v8=c8,d8={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},p8={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},g8=function(){function i(r){var t=r.group,e=r.name,n=r.type,a=r.x,o=a===void 0?0:a,s=r.y,l=s===void 0?0:s,u=r.width,h=u===void 0?2:u,c=r.height,d=c===void 0?24:c,y=r.style,_=y===void 0?{}:y;this.group=t,this.name=e,this.handleType=n,this.x=o,this.y=l,this.width=h,this.height=d,n==="trend"?this.style=(0,J.__assign)((0,J.__assign)({},d8),_):n==="simple"&&(this.style=(0,J.__assign)((0,J.__assign)({},p8),_)),this.renderHandle()}return i.prototype.setX=function(r){this.setXY(r,void 0)},i.prototype.setY=function(r){this.setXY(void 0,r)},i.prototype.setXY=function(r,t){(0,f.isNumber)(r)&&(this.x=r),(0,f.isNumber)(t)&&(this.y=t),this.updateXY()},i.prototype.renderHandle=function(){var r=this,t=r.width,e=r.height,n=r.style,a=r.name,o=n.fill,s=n.stroke,l=n.radius,u=n.opacity,h=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=r.style.highLightFill;r.background.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=r.style.fill;r.background.attr("fill",e)})},i.prototype.show=function(){this.handleGroup.show()},i.prototype.hide=function(){this.handleGroup.hide()},i.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},i}(),s1=g8,y8=function(){function i(r){this.config=(0,f.deepMix)({},r),this.init()}return i.prototype.update=function(r){this.config=(0,f.deepMix)({},this.config,r),this.updateElement(),this.renderMarker()},i.prototype.init=function(){this.initElement(),this.renderMarker()},i.prototype.initElement=function(){var r=this.config,t=r.group,e=r.style;this.circle=t.addShape("circle",{attrs:(0,J.__assign)({x:this.config.x,y:this.config.y,r:this.config.r},e)}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=t.addGroup();var n=1/4*this.config.r,a=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n*2.5,height:a,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"})},i.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var r=1/4*this.config.r,t=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-t/2),this.pauseLeftMarker.attr("width",r),this.pauseLeftMarker.attr("height",t),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-t/2),this.pauseRightMarker.attr("width",r),this.pauseRightMarker.attr("height",t)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},i.prototype.getStartMarkerPath=function(){var r=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-r/Math.sqrt(3)/2,this.config.y-r/2],["L",this.config.x+r/Math.sqrt(3),this.config.y],["L",this.config.x-r/Math.sqrt(3)/2,this.config.y+r/2]]},i}(),m8=y8,x8="#ccc",b8="green",w8={fill:"#607889",stroke:"#607889"},S8={fill:"#fff"},C8={fill:"green"},M8={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},Fs=110,Pa=50,E8=function(){function i(r){this.controllerCfg=(0,f.deepMix)({},M8,r),this.group=r.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.init()}return i.prototype.init=function(){this.renderPlayButton()},i.prototype.getNextMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r+e,t],["L",r,t+e]]},i.prototype.getPreMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r-e,t],["L",r,t+e]]},i.prototype.renderPlayButton=function(){var r=this.controllerCfg,t=r.width,e=r.height,n=r.x,a=r.y,o=r.hiddleToggle,s=r.fill,l=s===void 0?x8:s,u=r.stroke,h=u===void 0?b8:u,c=r.playBtnStyle,d=c===void 0?w8:c,y=r.preBtnStyle,_=y===void 0?S8:y,k=r.nextBtnStyle,F=k===void 0?C8:k,Y=e/2-5,G=a+10,ut=this.group.addShape("rect",{attrs:{x:n,y:G,width:t,height:e,stroke:h,fill:l},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:G,r:Y}):this.playButton=new m8({group:this.group,x:t/2,y:G+Y+5,r:Y,isPlay:this.isPlay,style:d}),this.group.addShape("path",{attrs:(0,J.__assign)({path:this.getPreMarkerPath(t/2-5*Y,G+Y+5,Y*.5)},_),name:"preStepBtn"}),this.group.addShape("path",{attrs:(0,J.__assign)({path:this.getPreMarkerPath(t/2-4.5*Y,G+Y+5,Y*.5)},_),name:"preStepBtn"}),this.group.addShape("path",{attrs:(0,J.__assign)({path:this.getNextMarkerPath(t/2+5*Y,G+Y+5,Y*.5)},F),name:"nextStepBtn"}),this.group.addShape("path",{attrs:(0,J.__assign)({path:this.getNextMarkerPath(t/2+4.5*Y,G+Y+5,Y*.5)},F),name:"nextStepBtn"}),ut.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent()},i.prototype.renderSpeedBtn=function(){var r=this.controllerCfg,t=r.y,e=r.width,n=r.hiddleToggle,a=this.group.addGroup({name:"speed-group"});this.speedGroup=a;for(var o=1,s=[],l=9,u=0;u<5;u++){var h=t+15+u*(u+1)+o;a.addShape("rect",{attrs:{x:e-(n?Pa:Fs),y:h,width:15,height:2,fill:"#ccc"},speed:l,name:"speed-rect"}),this.speedAxisY.push(h),s.push(l),l=l-2,o++}for(var u=0;u<4;u++)a.addShape("rect",{attrs:{x:e-(n?Pa:Fs),y:this.speedAxisY[u]+2,width:15,height:2*u+1,fill:"#fff",opacity:.3},speed:s[u]-1,name:"speed-rect"});this.speedText=a.addShape("text",{attrs:{x:e-(n?Pa:Fs)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc"}}),this.speedPoint=a.addShape("path",{attrs:{path:this.getPath(e-(n?Pa:Fs),this.speedAxisY[4]),fill:"#ccc"}})},i.prototype.getPath=function(r,t){return[["M",r,t],["L",r-12,t-6],["L",r-12,t+6],["Z"]]},i.prototype.renderToggleTime=function(){var r=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:r-Pa,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",r-Pa+3,this.speedAxisY[1]+6],["L",r-Pa+7,this.speedAxisY[1]+10],["L",r-Pa+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:"\u5355\u4E00\u65F6\u95F4",x:r-Pa+20,y:this.speedAxisY[1]+15,fill:"#ccc"}})},i.prototype.bindEvent=function(){var r=this,t=this.controllerCfg,e=t.width,n=t.hiddleToggle;this.speedGroup.on("speed-rect:click",function(a){r.speedPoint.attr("path",r.getPath(e-(n?Pa:Fs),a.y)),r.currentSpeed=a.target.get("speed"),r.speedText.attr("text",r.currentSpeed+".0X"),r.group.emit("timebarConfigChanged",{speed:r.currentSpeed,type:r.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(a){var o=a.target.get("isChecked");o?(r.checkedIcon.hide(),r.checkedText.attr("text","\u5355\u4E00\u65F6\u95F4"),r.currentType="range"):(r.checkedIcon.show(),r.checkedText.attr("text","\u65F6\u95F4\u8303\u56F4"),r.currentType="single"),a.target.set("isChecked",!o),r.group.emit("timebarConfigChanged",{type:r.currentType,speed:r.currentSpeed})})},i.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},i}(),l1=E8,u1="timelinestart",f1="timelineend",La="valueChange",Lu="timebarConfigChanged",Ou="playPauseBtn",Iu="nextStepBtn",ku="preStepBtn",A8={fill:"#416180",opacity:.05},_8={fill:"#416180",opacity:.15,radius:5},T8={fill:"#5B8FF9",opacity:.3,cursor:"move"},ac=2,P8={width:ac,height:24},L8={textBaseline:"middle",fill:"#000",opacity:.45},O8=function(){function i(r){var t=this;this.prevX=0,this.onMouseDown=function(Fe){return function(er){t.currentHandler=Fe;var tr=er.originalEvent;tr.stopPropagation(),tr.preventDefault(),t.prevX=(0,f.get)(tr,"touches.0.pageX",tr.pageX);var or=t.canvas.get("container");or.addEventListener("mousemove",t.onMouseMove),or.addEventListener("mouseup",t.onMouseUp),or.addEventListener("mouseleave",t.onMouseUp),or.addEventListener("touchmove",t.onMouseMove),or.addEventListener("touchend",t.onMouseUp),or.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(Fe){Fe.stopPropagation(),Fe.preventDefault();var er=(0,f.get)(Fe,"touches.0.pageX",Fe.pageX),tr=er-t.prevX,or=t.adjustOffsetRange(tr/t.width);t.updateStartEnd(or),t.updateUI(),t.prevX=er},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var Fe=t.canvas.get("container");Fe&&(Fe.removeEventListener("mousemove",t.onMouseMove),Fe.removeEventListener("mouseup",t.onMouseUp),Fe.removeEventListener("mouseleave",t.onMouseUp),Fe.removeEventListener("touchmove",t.onMouseMove),Fe.removeEventListener("touchend",t.onMouseUp),Fe.removeEventListener("touchcancel",t.onMouseUp))};var e=r.x,n=e===void 0?0:e,a=r.y,o=a===void 0?0:a,s=r.width,l=s===void 0?100:s,u=r.height,h=r.padding,c=h===void 0?10:h,d=r.trendCfg,y=r.controllerCfg,_=y===void 0?{speed:1}:y,k=r.backgroundStyle,F=k===void 0?{}:k,Y=r.foregroundStyle,G=Y===void 0?{}:Y,ut=r.handlerStyle,ft=ut===void 0?{}:ut,Tt=r.textStyle,Yt=Tt===void 0?{}:Tt,Ut=r.start,Jt=Ut===void 0?0:Ut,Wt=r.end,ee=Wt===void 0?1:Wt,ue=r.minText,oe=ue===void 0?"":ue,we=r.maxText,_e=we===void 0?"":we,Ee=r.group,Re=r.graph,Ye=r.canvas,Xe=r.ticks,De=r.type;this.graph=Re,this.canvas=Ye,this.group=Ee,this.timeBarType=De,this.x=n,this.y=o,this.width=l,this.height=u,this.padding=c,this.ticks=Xe,this.trendCfg=d,this.controllerCfg=_,this.currentSpeed=_.speed,De==="trend"?this.backgroundStyle=(0,J.__assign)((0,J.__assign)({},A8),F):De==="simple"&&(this.backgroundStyle=(0,J.__assign)((0,J.__assign)({},_8),F)),this.foregroundStyle=(0,J.__assign)((0,J.__assign)({},T8),G),this.handlerStyle=(0,J.__assign)((0,J.__assign)({},P8),ft),this.textStyle=(0,J.__assign)((0,J.__assign)({},L8),Yt),this.currentMode="range",this.start=Jt,this.end=ee,this.minText=oe,this.maxText=_e,this.renderSlider()}return i.prototype.update=function(r){var t=r.x,e=r.y,n=r.width,a=r.height,o=r.minText,s=r.maxText,l=r.start,u=r.end;this.start=Math.min(1,Math.max(l,0)),this.end=Math.min(1,Math.max(u,0)),(0,f.assign)(this,{x:t,y:e,width:n,height:a,minText:o,maxText:s}),this.updateUI()},i.prototype.setText=function(r,t){this.minTextShape.attr("text",r),this.maxTextShape.attr("text",t)},i.prototype.renderSlider=function(){var r=this,t=this,e=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,f.size)((0,f.get)(this.trendCfg,"data"))){var o=new v8((0,J.__assign)((0,J.__assign)({x:this.x,y:this.y,width:e,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:(0,J.__assign)({x:0,y:0,width:e,height:n},this.backgroundStyle)});var l=this.group.addGroup();a==="trend"?(this.minTextShape=l.addShape("text",{attrs:(0,J.__assign)({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:(0,J.__assign)({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1},this.textStyle),capture:!1})):(this.minTextShape=l.addShape("text",{attrs:(0,J.__assign)({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:(0,J.__assign)({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:(0,J.__assign)({x:0,y:this.y,height:n},this.foregroundStyle)});var u=(0,f.get)(this.handlerStyle,"width",2),h=(0,f.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new s1((0,J.__assign)({name:"minHandlerShape",group:c,type:a,x:this.x,y:this.y,width:u,height:h,cursor:"ew-resize"},this.handlerStyle));var d=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new s1((0,J.__assign)({name:"maxHandlerShape",group:d,type:a,x:this.x,y:this.y,width:u,height:h,cursor:"ew-resize"},this.handlerStyle));var y=this.ticks,_=e/(y.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(F){F.destroy()});var k=-Infinity;this.textList=y.map(function(F,Y){r.tickPosList.push(r.x+Y*_);var G=r.group.addShape("text",{attrs:{x:r.x+Y*_,y:r.y+n+5,text:F,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),ut=r.group.addShape("line",{attrs:{x1:r.x+Y*_,y1:r.y+n+2,x2:r.x+Y*_,y2:r.y+n+6,lineWidth:1,stroke:"#ccc"}}),ft=G.getBBox();return ft.minX>k?(G.show(),ut.show(),k=ft.minX+ft.width+10):(G.hide(),ut.hide()),G}),this.controllerBtnGroup=new l1({group:this.group,x:this.x,y:this.y+n+25,width:e,height:40}),this.updateUI(),s.move(this.x,this.y),this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var e=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),e.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(Ou+":click",function(){r.isPlay=!r.isPlay,r.currentHandler=r.maxHandlerShape,r.changePlayStatus()}),this.group.on(Iu+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(.01),r.updateUI()}),this.group.on(ku+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(-.01),r.updateUI()}),this.group.on(Lu,function(n){var a=n.type,o=n.speed;r.currentSpeed=o,r.currentMode=a,a==="single"?(r.minHandlerShape.hide(),r.foregroundShape.hide(),r.minTextShape.hide()):a==="range"&&(r.minHandlerShape.show(),r.foregroundShape.show(),r.minTextShape.show())})},i.prototype.adjustTickIndex=function(r){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=r&&r<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-r)<Math.abs(r-this.tickPosList[t+1])?t:t+1},i.prototype.adjustOffsetRange=function(r){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,e=1-this.start;return Math.min(e,Math.max(t,r))}case this.maxHandlerShape:{var t=0-this.end,e=1-this.end;return Math.min(e,Math.max(t,r))}case this.foregroundShape:{var t=0-this.start,e=1-this.end;return Math.min(e,Math.max(t,r))}default:return 0}},i.prototype.updateStartEnd=function(r){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=r,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=r,this.end+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;default:break}},i.prototype.updateUI=function(){var r=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.start*this.width,e=this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t);var n=(0,f.get)(this.handlerStyle,"width",ac);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,e]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,f.each)(o,function(l,u){return r.minTextShape.attr(u,l)}),this.maxHandlerShape.setX(e-n/2),(0,f.each)(s,function(l,u){return r.maxTextShape.attr(u,l)}),this.currentMode==="range"?this.graph.emit(La,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(La,{value:[this.end,this.end]})},i.prototype.dodgeText=function(r){var t,e,n=2,a=(0,f.get)(this.handlerStyle,"width",ac),o=this.minTextShape,s=this.maxTextShape,l=r[0],u=r[1],h=!1;l>u&&(t=[u,l],l=t[0],u=t[1],e=[s,o],o=e[0],s=e[1],h=!0);var c=o.getBBox(),d=s.getBBox(),y=null,_=null;return this.timeBarType==="trend"?(y=c.width>l-n?{x:l+a/2+n,textAlign:"left"}:{x:l-a/2-n,textAlign:"right"},_=d.width>this.width-u-n?{x:u-a/2-n,textAlign:"right"}:{x:u+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(y=c.width>l-n?{x:l+a/2+n,textAlign:"center"}:{x:l-a/2-n,textAlign:"center"},_=d.width>this.width-u-n?{x:u-a/2-n,textAlign:"center"}:{x:u+a/2+n,textAlign:"center"}),h?[_,y]:[y,_]},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r,e=t.ticks,n=t.width,a=r.currentSpeed,o=n/e.length,s=o/((10-a)*1e3/60),l=r.adjustOffsetRange(s/r.width);r.updateStartEnd(l),r.updateUI(),r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(u1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(f1,null))},i.prototype.destory=function(){this.graph.off(La);var r=this.group,t=r.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var e=r.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.off("maxHandlerShape-handler:mousedown"),e.off("maxHandlerShape-handler:touchstart"),e.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),r.off(Ou+":click"),r.off(Iu+":click"),r.off(ku+":click"),r.off(Lu),r.destroy(),this.trendComponent&&this.trendComponent.destory()},i}(),I8=O8,XY={opacity:.5,fill:"#000"},VY={opacity:.5,fill:"#000",r:5},HY={fill:"#fff",fontSize:12},k8=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.container,s=r.text,l=r.padding,u=l===void 0?[4,4,4,4]:l,h=r.className,c=h===void 0?"g6-component-timebar-tooltip":h,d=r.backgroundColor,y=d===void 0?"#000":d,_=r.textColor,k=_===void 0?"#fff":_,F=r.opacity,Y=F===void 0?.8:F,G=r.fontSize,ut=G===void 0?12:G;this.container=o,this.className=c,this.backgroundColor=y,this.textColor=k,this.x=e,this.y=a,this.text=s,this.padding=u,this.opacity=Y,this.fontSize=ut,this.render()}return i.prototype.render=function(){var r=this,t=r.className,e=r.x,n=r.y,a=r.backgroundColor,o=r.textColor,s=r.text,l=r.padding,u=r.opacity,h=r.fontSize,c=r.container,d=(0,Wn.Z)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+u+'"></div>');(0,f.isString)(c)&&(c=document.getElementById(c)),c.appendChild(d),r.parentHeight=c.offsetHeight,r.parentWidth=c.offsetWidth,(0,mn.Z)(d,{visibility:"hidden",top:0,left:0});var y=(0,Wn.Z)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+a+"; font-size: "+h+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+o+"; padding: "+l[0]+"px "+l[1]+"px "+l[2]+"px "+l[3]+"px'></div>");y.innerHTML=s,d.appendChild(y),r.backgroundDOM=y;var _=(0,Wn.Z)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+a+"'></div>");d.appendChild(_),r.arrowDOM=_,r.container=d},i.prototype.show=function(r){var t=this,e=r.text,n=r.x,a=r.y,o=r.clientX,s=r.clientY;t.backgroundDOM.innerHTML=e;var l=t.backgroundDOM.offsetWidth,u=t.backgroundDOM.offsetHeight,h=t.arrowDOM.offsetWidth,c=t.arrowDOM.offsetHeight;(0,mn.Z)(t.container,{top:-u-c+"px",left:n+"px",visibility:"visible"}),(0,mn.Z)(t.backgroundDOM,{marginLeft:-l/2+"px"}),(0,mn.Z)(t.arrowDOM,{marginLeft:-h/2+"px",top:u+"px"});var d=n-l/2,y=n+l/2;d<0?(0,mn.Z)(t.backgroundDOM,{marginLeft:-l/2-d+"px"}):y>t.parentWidth&&(0,mn.Z)(t.backgroundDOM,{marginLeft:-l/2-y+t.parentWidth+12+"px"})},i.prototype.hide=function(){(0,mn.Z)(this.container,{top:0,left:0,visibility:"hidden"})},i}(),B8=k8,D8={fill:"#5B8FF9"},F8={fill:"#e6e8e9"},R8=function(){function i(r){this.frameCount=0;var t=r.graph,e=r.canvas,n=r.group,a=r.width,o=r.height,s=r.padding,l=r.data,u=r.start,h=r.end,c=r.x,d=c===void 0?0:c,y=r.y,_=y===void 0?0:y,k=r.tickLabelFormatter,F=r.selectedTickStyle,Y=F===void 0?D8:F,G=r.unselectedTickStyle,ut=G===void 0?F8:G,ft=r.tooltipBackgroundColor,Tt=r.tooltipFomatter;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=e,this.width=a,this.height=o,this.padding=s,this.data=l,this.start=u,this.end=h,this.tickLabelFormatter=k,this.selectedTickStyle=Y,this.unselectedTickStyle=ut,this.x=d,this.y=_,this.tooltipBackgroundColor=ft,this.tooltipFomatter=Tt,this.renderSlices(),this.initEvent()}return i.prototype.renderSlices=function(){var r=this,t=r.width,e=r.height,n=r.padding,a=r.data,o=r.start,s=r.end,l=r.tickLabelFormatter,u=r.selectedTickStyle,h=r.unselectedTickStyle,c=t-2*n,d=10,y=4,_=3*n+y+d,k=e-_-2*n,F=2,Y=a.length,G=(c-F*(Y-1))/Y;this.tickWidth=G;var ut=this.sliceGroup,ft=[],Tt=[],Yt=Math.round(Y*o),Ut=Math.round(Y*s);this.startTickRectId=Yt,this.endTickRectId=Ut,a.forEach(function(Wt,ee){var ue=ee>=Yt&&ee<=Ut,oe=ue?u:h,we=ut.addShape("rect",{attrs:(0,J.__assign)({x:n+ee*(G+F),y:n,width:G,height:k},oe),draggable:!0,name:"tick-rect-"+ee}),_e=ut.addShape("rect",{attrs:{x:n+ee*G+F*(2*ee-1)/2,y:n,width:ee===0||ee===Y-1?G+F/2:G+F,height:k,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+ee});_e.toFront();var Ee=we.getBBox(),Re=(Ee.minX+Ee.maxX)/2;ft.push({rect:we,pickRect:_e,value:Wt.date,x:Re,y:Ee.minY});var Ye;if(l?(Ye=l(Wt),!(0,f.isString)(Ye)&&Ye&&(Ye=Wt.date)):ee%Math.round(Y/10)==0&&(Ye=Wt.date),Ye){Tt.push(Ye);var Xe=Ee.maxY+n*2;ut.addShape("line",{attrs:{stroke:"#BFBFBF",x1:Re,y1:Xe,x2:Re,y2:Xe+y}});var De=Xe+y+n,Fe=ut.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:Re,y:De,textAlign:"center",text:Ye,textBaseline:"top",fontSize:10},capture:!1}),er=Fe.getBBox();er.maxX>t?Fe.attr("textAlign","right"):er.minX<0&&Fe.attr("textAlign","left")}}),this.tickRects=ft;var Jt=this.group;this.currentSpeed=1,this.controllerBtnGroup=new l1({group:Jt,x:this.x,y:this.y+e+5,width:t,height:40,hiddleToggle:!0,speed:this.currentSpeed})},i.prototype.initEvent=function(){var r=this,t=this.sliceGroup;t.on("click",function(h){var c=h.target;if(!(c.get("type")!=="rect"||!c.get("name"))){var d=parseInt(c.get("name").split("-")[2],10);if(!isNaN(d)){var y=r.tickRects,_=r.unselectedTickStyle;y.forEach(function(G){G.rect.attr(_)});var k=r.selectedTickStyle;y[d].rect.attr(k),r.startTickRectId=d,r.endTickRectId=d;var F=y.length,Y=d/F;r.graph.emit(La,{value:[Y,Y]})}}}),t.on("dragstart",function(h){var c=r.tickRects,d=r.unselectedTickStyle;c.forEach(function(G){G.rect.attr(d)});var y=h.target,_=parseInt(y.get("name").split("-")[2],10),k=r.selectedTickStyle;c[_].rect.attr(k),r.startTickRectId=_;var F=c.length,Y=_/F;r.graph.emit(La,{value:[Y,Y]}),r.dragging=!0}),t.on("dragover",function(h){if(!!r.dragging&&h.target.get("type")==="rect"){for(var c=parseInt(h.target.get("name").split("-")[2],10),d=r.startTickRectId,y=r.tickRects,_=r.selectedTickStyle,k=r.unselectedTickStyle,F=0;F<y.length;F++){var Y=F>=d&&F<=c?_:k;y[F].rect.attr(Y)}var G=y.length;r.endTickRectId=c;var ut=d/G,ft=c/G;r.graph.emit(La,{value:[ut,ft]})}}),t.on("drop",function(h){if(!!r.dragging&&(r.dragging=!1,h.target.get("type")==="rect")){var c=r.startTickRectId,d=parseInt(h.target.get("name").split("-")[2],10);if(!(d<c)){var y=r.selectedTickStyle,_=r.tickRects;_[d].rect.attr(y),r.endTickRectId=d;var k=_.length,F=c/k,Y=d/k;r.graph.emit(La,{value:[F,Y]})}}});var e=this,n=e.tooltipBackgroundColor,a=e.tooltipFomatter,o=e.canvas,s=new B8({container:o.get("container"),backgroundColor:n}),l=this.tickRects;l.forEach(function(h){var c=h.pickRect;c.on("mouseenter",function(d){var y=d.target;if(y.get("type")==="rect"){var _=parseInt(y.get("name").split("-")[2],10),k=o.getClientByPoint(l[_].x,l[_].y);s.show({x:l[_].x,y:l[_].y,clientX:k.x,clientY:k.y,text:a?a(l[_].value):l[_].value})}}),c.on("mouseleave",function(d){s.hide()})});var u=this.group;u.on(Ou+":click",function(){r.isPlay=!r.isPlay,r.changePlayStatus()}),u.on(Iu+":click",function(){r.updateStartEnd(1)}),u.on(ku+":click",function(){r.updateStartEnd(-1)}),u.on(Lu,function(h){var c=h.type,d=h.speed;r.currentSpeed=d})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(u1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(f1,null))},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r.currentSpeed;r.frameCount%(60/t)==0&&(r.frameCount=0,r.updateStartEnd(1)),r.frameCount++,r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.updateStartEnd=function(r){var t=this,e=this.tickRects,n=e.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(r>0?t.endTickRectId++:(e[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var l=t.startTickRectId;l<=t.endTickRectId-1;l++)e[l].rect.attr(a);t.startTickRectId=t.endTickRectId}if(e[t.endTickRectId]){e[t.endTickRectId].rect.attr(o);var u=t.startTickRectId/n,h=t.endTickRectId/n;this.graph.emit(La,{value:[u,h]})}},i.prototype.destory=function(){this.graph.off(La);var r=this.sliceGroup;r.off("click"),r.off("dragstart"),r.off("dragover"),r.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,r.off(Ou+":click"),r.off(Iu+":click"),r.off(ku+":click"),r.off(Lu),this.sliceGroup.destroy()},i}(),N8=R8,G8=8,Y8=26,z8=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]}}},r.prototype.initContainer=function(){var t=this.get("graph"),e=this._cfgs,n=e.width,a=e.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),l=this.get("graph").get("container"),u;s?u=s:(u=(0,Wn.Z)("<div class='"+o+"'></div>"),(0,mn.Z)(u,{position:"relative"})),l.appendChild(u),this.set("timeBarContainer",u);var h,c=t.get("renderer");c==="SVG"?h=new Os.Z({container:u,width:n,height:a}):h=new Eo.Z({container:u,width:n,height:a}),this.set("canvas",h)},r.prototype.init=function(){this.initContainer();var t=this.get("canvas"),e=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent()},r.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,n=t.x,a=t.y,o=t.padding,s=t.type,l=t.trend,u=t.slider,h=t.controllerCfg,c=l.data,d=(0,J.__rest)(l,["data"]),y=e-2*o,_=s==="trend"?Y8:G8,k=this.get("graph"),F=this.get("timeBarGroup"),Y=this.get("canvas"),G=null;if(s==="trend"||s==="simple")G=new I8((0,J.__assign)((0,J.__assign)({graph:k,canvas:Y,group:F,type:s,x:n+o,y:s==="trend"?a+o:a+o+15,width:y,height:_,padding:o,trendCfg:(0,J.__assign)((0,J.__assign)({},d),{data:c.map(function(ft){return ft.value})})},u),{ticks:c.map(function(ft){return ft.date}),handlerStyle:(0,J.__assign)((0,J.__assign)({},u.handlerStyle),{height:u.height||_}),controllerCfg:h}));else if(s==="tick"){var ut=this._cfgs.tick;G=new N8((0,J.__assign)({graph:k,canvas:Y,group:F,x:n+o,y:a+o},ut))}this.set("timebar",G)},r.prototype.filterData=function(t){var e=t.value,n=null,a=this._cfgs.type;if(a==="trend"||a==="simple"?n=this._cfgs.trend.data:a==="tick"&&(n=this._cfgs.tick.data),!n||n.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var o=this.get("rangeChange"),s=this.get("graph"),l=Math.round(n.length*e[0]),u=Math.round(n.length*e[1]);u=u>=n.length?n.length-1:u;var h=n[l].date,c=n[u].date;if(a!=="tick"){var d=this.get("timebar");d.setText(h,c)}if(o)o(s,h,c);else{var y=s.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=y);var _=this.cacheGraphData.nodes.filter(function(Y){return Y.date>=h&&Y.date<=c}),k=_.map(function(Y){return Y.id}),F=this.cacheGraphData.edges.filter(function(Y){return k.includes(Y.source)&&k.includes(Y.target)});s.changeData({nodes:_,edges:F})}},r.prototype.initEvent=function(){var t=this,e=0,n=0,a=this._cfgs.type;!a||a==="trend"||a==="simple"?(e=this._cfgs.slider.start,n=this._cfgs.slider.end):a==="tick"&&(e=this._cfgs.tick.start,n=this._cfgs.tick.end);var o=this.get("graph");o.on("afterrender",function(){t.filterData({value:[e,n]})}),o.on(La,function(s){t.filterData(s)})},r.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),i.prototype.destroy.call(this);var e=this.get("timeBarContainer");if(e){var n=this.get("container");n||(n=this.get("graph").get("container")),n.removeChild(e)}},r}(_a),X8=z8;function V8(i,r){var t,e;if(i.naturalWidth)t=i.naturalWidth,e=i.naturalHeight;else{var n=new Image;n.src=i.src,n.onload=function(){r==null||r(n.width,n.height)}}return[t,e]}var H8=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.graph;if(!this.destroyed){var a=this.get("container"),o=(0,Wn.Z)("<div class="+e.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),s=0,l=0,u=!1,h=0,c=0,d=0,y=0,_=0,k=0;a.addEventListener("mousedown",function(F){if(e.refresh=!1,F.target===o){var Y=o.style;d=parseInt(Y.width,10),y=parseInt(Y.height,10);var G=t.get("width"),ut=t.get("height");d>G||y>ut||(k=n.getZoom(),_=t.get("ratio"),u=!0,s=F.clientX,l=F.clientY)}},!1),a.addEventListener("mousemove",function(F){if(!(!u||(0,fi.default)(F.clientX)||(0,fi.default)(F.clientY))){var Y=t.get("width"),G=t.get("height"),ut=o.style;h=parseInt(ut.left,10),c=parseInt(ut.top,10),d=parseInt(ut.width,10),y=parseInt(ut.height,10);var ft=s-F.clientX,Tt=l-F.clientY;h-ft<0?ft=h:h-ft+d>=Y&&(ft=0),c-Tt<0?Tt=c:c-Tt+y>=G&&(Tt=0),h-=ft,c-=Tt,(0,mn.Z)(o,{left:h+"px",top:c+"px"}),n.translate(ft*k/_,Tt*k/_),s=F.clientX,l=F.clientY}},!1),a.addEventListener("mouseleave",function(){u=!1,e.refresh=!0},!1),a.addEventListener("mouseup",function(){u=!1,e.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=o/s,u=a.getGroup(),h=u.getCanvasBBox(),c=[(h.minX+h.maxX)/2,(h.minY+h.maxY)/2],d=[h.maxX-h.minX,h.maxY-h.minY],y={centerX:c[0],centerY:c[1],width:0,height:0,minX:0,minY:0};h[0]/h[1]>l?(y.width=d[0],y.height=y.width/l):(y.height=d[1],y.width=y.height*l),y.minX=c[0]-y.width/2,y.minY=c[1]-y.height/2;var _=u.getMatrix();_||(_=[1,0,0,0,1,0,0,0,1]);var k=Ha.invert([],_),F=Ts({x:y.minX,y:y.minY},k),Y=a.getCanvasByPoint(F.x,F.y),G=this.get("viewport");G||this.initViewport();var ut=o/y.width,ft=ut*e,Tt=ut*n,Yt=e*-Y.x/y.width,Ut=n*-Y.y/y.height,Jt=Yt+ft,Wt=Ut+Tt;Yt<0&&(ft+=Yt,Yt=0),Jt>e&&(ft=ft-(Jt-e)),Ut<0&&(Tt+=Ut,Ut=0),Wt>n&&(Tt=Tt-(Wt-n)),this.set("ratio",t);var ee=Yt+"px",ue=Ut+"px";(0,mn.Z)(G,{left:ee,top:ue,width:ft+"px",height:Tt+"px"})}},r.prototype.init=function(){this.initContainer()},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=e.get("width"),a=e.get("height"),o=a/n,s=t.get("className"),l=t.get("container"),u=t.get("width"),h=t.get("height");!u&&!h&&(u=200),u?(h=o*u,t.set("height",h)):(u=1/o*h,t.set("width",u));var c=(0,Wn.Z)("<div class='"+s+"' style='width: "+u+"px; height: "+h+"px; overflow: hidden; position: relative;'></div>");(0,rn.default)(l)&&(l=document.getElementById(l)),l?l.appendChild(c):e.get("container").appendChild(c),t.set("container",c);var d=(0,Wn.Z)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');c.appendChild(d);var y=(0,Wn.Z)('<span style="display: table-cell; vertical-align: middle; "></span>');d.appendChild(y),t.set("containerDOM",d),t.set("containerSpan",y);var _=(0,Wn.Z)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",_),t.updateImgSize(),y.appendChild(_),t.updateCanvas()},r.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),n=t.get("width"),a=t.get("height");e.onload=function(){var o=V8(e);o[0]>o[1]?e.width=n:e.height=a}},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=e.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateGraphImg=function(t){var e=this,n=e.get("imgDOM");n.remove(),e.set("graphImg",t);var a=(0,Wn.Z)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');e.set("imgDOM",a),a.src=t,e.updateImgSize();var o=e.get("containerSpan");o.appendChild(a),e.updateCanvas()},r.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},r}(_a),W8=H8,h1=.05,c1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},j8=function(i){(0,J.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,kn.d9)(c1),showLabel:"edge",scaleRBy:"wheel"}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},r.prototype.init=function(){var t=this,e=t.get("showLabel"),n=e==="node"||e==="both",a=e==="edge"||e==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},r.prototype.createDelegate=function(t){var e=this,n=e.get("delegate");(!n||n.destroyed)&&(e.filter(t),n=e.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){e.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){e.scaleRByWheel(a)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-h1:a=1/(1-h1);var u=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(u||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.filter(t)}},r.prototype.filter=function(t){var e=this,n=e.get("graph"),a=n.getNodes(),o={},s=e.get("r"),l=e.get("type"),u={x:t.x,y:t.y};e.updateDelegate(u,s);var h=e.get("shouldShow"),c=e.get("vShapes");c&&c.forEach(function(Y){Y.remove(),Y.destroy()}),c=[],a.forEach(function(Y){var G=Y.getModel(),ut=G.x,ft=G.y;Ps({x:ut,y:ft},u)<s&&(o[G.id]=Y)});var d=n.getEdges(),y=[];d.forEach(function(Y){var G=Y.getModel(),ut=G.source,ft=G.target;h(G)&&(l==="only-source"||l==="one"?o[ut]&&!o[ft]&&y.push(Y):l==="only-target"||l==="one"?o[ft]&&!o[ut]&&y.push(Y):l==="both"&&o[ut]&&o[ft]&&y.push(Y))});var _=e.get("showNodeLabel"),k=e.get("showEdgelabel"),F=n.get("group");y.forEach(function(Y){var G=Y.get("group").get("children");G.forEach(function(ut){var ft=ut.get("type"),Tt=F.addShape(ft,{attrs:ut.attr()});c.push(Tt),_&&ft==="text"&&Tt.set("visible",!0)})}),Object.keys(o).forEach(function(Y){var G=o[Y],ut=G.get("group").clone();if(F.add(ut),c.push(ut),k)for(var ft=ut.get("children"),Tt=0;Tt<ft.length;Tt++){var Yt=ft[Tt];Yt.get("type")==="text"&&Yt.set("visible",!0)}}),e.set("vShapes",c)},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,l=t.scaleRBy,u=t.showLabel,h=t.shouldShow;if(isNaN(t.r)||e.set("r",n),isNaN(s)||e.set("maxR",s),isNaN(o)||e.set("minR",o),(a==="mousemove"||a==="click")&&e.set("trigger",a),l==="wheel"||l==="unset"){e.set("scaleRBy",l),e.get("delegate").remove(),e.get("delegate").destroy();var c=e.get("dPercentText");c&&(c.remove(),c.destroy())}(u==="node"||u==="both")&&e.set("showNodeLabel",!0),(u==="edge"||u==="both")&&e.set("showEdgeLabel",!0),h&&e.set("shouldShow",h)},r.prototype.updateDelegate=function(t,e){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),l=n.get("delegateStyle")||c1;o=s.addShape("circle",{attrs:(0,J.__assign)({r:e,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(u){n.scaleRByWheel(u)})}else o.attr({x:t.x,y:t.y,r:e});n.set("delegate",o)},r.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach(function(a){a.remove(),a.destroy()}),e=[],t.set("vShapes",e);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(_a),U8=j8,Li={Menu:z6,Grid:N6,Minimap:j6,Bundling:K6,ToolBar:q6,Tooltip:e8,Fisheye:Q6,TimeBar:X8,ImageMinimap:W8,EdgeFilterLens:U8};function Z8(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next;return n[o.get("id")]?!1:(n[o.get("id")]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}function v1(i,r,t,e){e.enter({current:r,previous:t}),i.getNeighbors(r,"target").forEach(function(n){e.allowTraversal({previous:t,current:r,next:n})&&v1(i,n,r,e)}),e.leave({current:r,previous:t})}function d1(i,r,t){var e=null,n=i.findById(r);v1(i,n,e,Z8(t))}var K8=function(){function i(){this.linkedList=new Fx}return i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(r){this.linkedList.append(r)},i.prototype.dequeue=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toString=function(r){return this.linkedList.toString(r)},i}(),$8=K8;function Q8(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next,s=o.get("id");return n[s]?!1:(n[s]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}var J8=function(r,t,e){var n=Q8(e),a=new $8,o=r.findById(t);a.enqueue(o);for(var s=null,l=function(){var h=a.dequeue();n.enter({current:h,previous:s}),r.getNeighbors(h,"target").forEach(function(c){n.allowTraversal({previous:s,current:h,next:c})&&a.enqueue(c)}),n.leave({current:h,previous:s}),s=h};!a.isEmpty();)l()},q8=J8;function t9(i){for(var r=[],t={},e=[],n=function l(u){e.push(u),t[u.get("id")]=!0;for(var h=u.getNeighbors(),c=0;c<h.length;++c){var d=h[c];t[d.get("id")]||l(d)}},a=0;a<i.length;a++){var o=i[a];if(!t[o.get("id")]){n(o);for(var s=[];e.length>0;)s.push(e.pop());r.push(s)}}return r}function p1(i){for(var r=[],t={},e={},n={},a=[],o=0,s=function c(d){e[d.get("id")]=o,n[d.get("id")]=o,o+=1,r.push(d),t[d.get("id")]=!0;for(var y=d.getNeighbors("target").filter(function(G){return i.indexOf(G)>-1}),_=0;_<y.length;_++){var k=y[_];!e[k.get("id")]&&e[k.get("id")]!==0?(c(k),n[d.get("id")]=Math.min(n[d.get("id")],n[k.get("id")])):t[k.get("id")]&&(n[d.get("id")]=Math.min(n[d.get("id")],e[k.get("id")]))}if(n[d.get("id")]===e[d.get("id")]){for(var F=[];r.length>0;){var Y=r.pop();if(t[Y.get("id")]=!1,F.push(Y),Y===d)break}F.length>0&&a.push(F)}},l=0,u=i;l<u.length;l++){var h=u[l];!e[h.get("id")]&&e[h.get("id")]!==0&&s(h)}return a}function g1(i,r){var t=r===void 0?i.get("directed"):r,e=i.getNodes();return t?p1(e):t9(e)}var e9=function(r){var t=null,e={},n={},a={},o={};r.getNodes().forEach(function(u){n[u.getID()]=u});for(var s={enter:function(h){var c=h.current,d=h.previous;if(a[c.getID()]){t={};for(var y=c,_=d;_.getID()!==c.getID();)t[y.getID()]=_,y=_,_=e[_.getID()];t[y.getID()]=_}else a[c.getID()]=c,delete n[c.getID()],e[c.getID()]=d},leave:function(h){var c=h.current;o[c.getID()]=c,delete a[c.getID()]},allowTraversal:function(h){var c=h.next;return t?!1:!o[c.getID()]}};Object.keys(n).length;){var l=Object.keys(n)[0];d1(r,l,s)}return t},y1=function(r,t,e){var n,a,o;e===void 0&&(e=!0);for(var s=[],l=g1(r,!1),u=0,h=l;u<h.length;u++){var c=h[u];if(!!c.length)for(var d=c[0],y=d.get("id"),_=[d],k=(n={},n[y]=d,n),F=(a={},a[y]=new Set,a);_.length>0;)for(var Y=_.pop(),G=Y.get("id"),ut=Y.getNeighbors(),ft=0;ft<ut.length;ft+=1){var Tt=ut[ft],Yt=Tt.get("id");if(Yt===G)s.push((o={},o[Tt.getID()]=Y,o));else if(!(Yt in F))k[Yt]=Y,_.push(Tt),F[Yt]=new Set([Y]);else if(!F[G].has(Tt)){for(var Ut=!0,Jt=[Tt,Y],Wt=k[G];F[Yt].size&&!F[Yt].has(Wt)&&(Jt.push(Wt),Wt!==k[Wt.getID()]);)Wt=k[Wt.getID()];if(Jt.push(Wt),t&&e?(Ut=!1,Jt.findIndex(function(oe){return t.indexOf(oe.get("id"))>-1})>-1&&(Ut=!0)):t&&!e&&Jt.findIndex(function(oe){return t.indexOf(oe.get("id"))>-1})>-1&&(Ut=!1),Ut){for(var ee={},ue=1;ue<Jt.length;ue+=1)ee[Jt[ue-1].getID()]=Jt[ue];Jt.length&&(ee[Jt[Jt.length-1].getID()]=Jt[0]),s.push(ee)}F[Yt].add(Y)}}}return s},m1=function(r,t,e){e===void 0&&(e=!0);for(var n=[],a=new Set,o=[],s=[],l={},u={},h=function(ee){for(var ue=[ee];ue.length>0;){var oe=ue.pop();a.has(oe)&&(a.delete(oe),o[oe.get("id")].forEach(function(we){ue.push(we)}),o[oe.get("id")].clear())}},c=function Wt(ee,ue,oe){var we=!1;if(t&&e===!1&&t.indexOf(ee.get("id"))>-1)return we;n.push(ee),a.add(ee);for(var _e=oe[ee.getID()],Ee=0;Ee<_e.length;Ee+=1){var Re=l[_e[Ee]];if(Re===ue){for(var Ye={},Xe=1;Xe<n.length;Xe+=1)Ye[n[Xe-1].getID()]=n[Xe];n.length&&(Ye[n[n.length-1].getID()]=n[0]),s.push(Ye),we=!0}else a.has(Re)||Wt(Re,ue,oe)&&(we=!0)}if(we)h(ee);else for(var Ee=0;Ee<_e.length;Ee+=1){var Re=l[_e[Ee]];o[Re.get("id")].has(ee)||o[Re.get("id")].add(ee)}return n.pop(),we},d=r.getNodes(),y=0;y<d.length;y+=1){var _=d[y],k=_.getID();u[k]=y,l[y]=_}if(t&&e)for(var y=0;y<t.length;y++){var k=t[y];u[d[y].getID()]=u[k],u[k]=0,l[0]=r.findById(k),l[u[d[y].getID()]]=d[y]}for(var F=function(ee){for(var ue,oe,we=Infinity,_e=0;_e<ee.length;_e+=1)for(var Ee=ee[_e],Re=0;Re<Ee.length;Re++){var Ye=u[Ee[Re].getID()];Ye<we&&(we=Ye,oe=_e)}for(var Xe=ee[oe],De=[],_e=0;_e<Xe.length;_e+=1){var Fe=Xe[_e];De[Fe.getID()]=[];for(var er=0,tr=Fe.getNeighbors("target").filter(function(nr){return Xe.indexOf(nr)>-1});er<tr.length;er++){var or=tr[er];or===Fe&&!(e===!1&&t.indexOf(Fe.getId())>-1)?s.push((ue={},ue[Fe.getID()]=Fe,ue)):De[Fe.getID()].push(u[or.getID()])}}return{component:Xe,adjList:De,minIdx:we}},Y=0;Y<d.length;){var G=d.filter(function(Wt){return u[Wt.getID()]>=Y}),ut=p1(G).filter(function(Wt){return Wt.length>1});if(ut.length===0)break;var ft=F(ut),Tt=ft.minIdx,Yt=ft.adjList,Ut=ft.component;if(Ut.length>1){Ut.forEach(function(Wt){o[Wt.get("id")]=new Set});var Jt=l[Tt];if(t&&e&&t.indexOf(Jt.get("id"))===-1)return s;c(Jt,Jt,Yt),Y=Tt+1}else break}return s},r9=function(r,t,e,n){return n===void 0&&(n=!0),t===void 0&&(t=r.get("directed")),t?m1(r,e,n):y1(r,e,n)},n9=e9,i9=function(r,t,e,n){var a=r.getNodes(),o=[],s={},l={},u={};a.forEach(function(F,Y){var G=F.getID();o.push(G),l[G]=Infinity,G===t&&(l[G]=0)});for(var h=a.length,c=function(Y){var G=a9(l,a,s),ut=G.get("id");if(s[ut]=!0,l[ut]===Infinity)return"continue";var ft=[];e?ft=G.getOutEdges():ft=G.getEdges(),ft.forEach(function(Tt){var Yt=Tt.getTarget().getID(),Ut=Tt.getSource().getID(),Jt=Yt===ut?Ut:Yt,Wt=n&&Tt.getModel()[n]?Tt.getModel()[n]:1;l[Jt]>l[G.get("id")]+Wt&&(l[Jt]=l[G.get("id")]+Wt,u[Jt]=G.get("id"))})},d=0;d<h;d++)c(d);var y={};for(var _ in l){y[_]=[_];for(var k=u[_];k!==void 0;)y[_].unshift(k),k=u[k]}return{length:l,path:y}};function a9(i,r,t){for(var e=Infinity,n,a=0;a<r.length;a++){var o=r[a].get("id");!t[o]&&i[o]<=e&&(e=i[o],n=r[a])}return n}var o9=i9,s9=function(r,t,e,n,a){(0,f.isString)(t)&&(t=r.findById(t)),(0,f.isString)(e)&&(e=r.findById(e));var o=o9(r,t.get("id"),n,a),s=o.length,l=o.path;return{length:s[e.get("id")],path:l[e.get("id")]}},l9=function(r,t,e,n){var a;if((0,f.isString)(t)&&(t=r.findById(t)),(0,f.isString)(e)&&(e=r.findById(e)),n===void 0&&(n=r.get("directed")),t===e)return[[t.get("id")]];var o=[t],s=(a={},a[t.get("id")]=!0,a),l=[],u=[],h=n?t.getNeighbors("target"):t.getNeighbors();for(l.push(h);o.length>0&&l.length>0;){var c=l[l.length-1];if(c.length){var d=c.shift();d&&(o.push(d),s[d.get("id")]=!0,h=n?d.getNeighbors("target"):d.getNeighbors(),l.push(h.filter(function(k){return!s[k.get("id")]})))}else{var y=o.pop();s[y.get("id")]=!1,l.pop();continue}if(o[o.length-1]===e){var _=o.map(function(F){return F.get("id")});u.push(_);var y=o.pop();s[y.get("id")]=!1,l.pop()}}return u},u9=function(){function i(r){this.count=r.length,this.parent={};for(var t=0,e=r;t<e.length;t++){var n=e[t];this.parent[n]=n}}return i.prototype.find=function(r){for(;this.parent[r]!==r;)r=this.parent[r];return r},i.prototype.union=function(r,t){var e=this.find(r),n=this.find(t);e!==n&&(e<n?(this.parent[t]!==t&&this.union(this.parent[t],r),this.parent[t]=this.parent[r]):(this.parent[r]!==r&&this.union(this.parent[r],t),this.parent[r]=this.parent[t]))},i.prototype.connected=function(r,t){return this.find(r)===this.find(t)},i}(),f9=u9,h9=function(r,t){return r-t},c9=function(){function i(r){r===void 0&&(r=h9),this.compareFn=r,this.list=[]}return i.prototype.getLeft=function(r){return 2*r+1},i.prototype.getRight=function(r){return 2*r+2},i.prototype.getParent=function(r){return r===0?null:Math.floor((r-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var r=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),r},i.prototype.insert=function(r){if(r!==null){this.list.push(r);var t=this.list.length-1;return this.moveUp(t),!0}return!1},i.prototype.moveUp=function(r){for(var t=this.getParent(r);r&&r>0&&this.compareFn(this.list[t],this.list[r])>0;){var e=this.list[t];this.list[t]=this.list[r],this.list[r]=e,r=t,t=this.getParent(r)}},i.prototype.moveDown=function(r){var t,e=r,n=this.getLeft(r),a=this.getRight(r),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[e],this.list[n])>0?e=n:a!==null&&a<o&&this.compareFn(this.list[e],this.list[a])>0&&(e=a),r!==e&&(t=[this.list[e],this.list[r]],this.list[r]=t[0],this.list[e]=t[1],this.moveDown(e))},i}(),v9=c9,d9=function(r,t){var e=[],n=r.getNodes();if(n.length===0)return e;var a=n[0],o=new Set;o.add(a);var s=function(y,_){return t?y.getModel()[t]-_.getModel()[t]:0},l=new v9(s);for(a.getEdges().forEach(function(d){l.insert(d)});!l.isEmpty();){var u=l.delMin(),h=u.getSource(),c=u.getTarget();o.has(h)&&o.has(c)||(e.push(u),o.has(h)||(o.add(h),h.getEdges().forEach(function(d){l.insert(d)})),o.has(c)||(o.add(c),c.getEdges().forEach(function(d){l.insert(d)})))}return e},x1=function(r,t){var e=[];if(r.getNodes().length===0)return e;var n=r.getEdges().map(function(u){return u});t&&n.sort(function(u,h){return u.getModel()[t]-h.getModel()[t]});for(var a=new f9(r.getNodes().map(function(u){return u.get("id")}));n.length>0;){var o=n.shift(),s=o.getSource().get("id"),l=o.getTarget().get("id");a.connected(s,l)||(e.push(o),a.union(s,l))}return e};function p9(i,r,t){var e={prim:d9,kruskal:x1};return t?e[t](i,r):x1(i,r)}var g9=function(r,t,e){typeof t!="number"&&(t=1e-6),typeof e!="number"&&(e=.85);for(var n=1,a=0,o=1e3,s=r.getNodes(),l=s.length,u,h={},c={},d=0;d<l;++d){var y=s[d],_=y.get("id");h[_]=1/l,c[_]=1/l}for(;o>0&&n>t;){a=0;for(var d=0;d<l;++d){var y=s[d],_=y.get("id");if(u=0,r.getNodeDegree(y,"in")===0)h[_]=0;else{for(var k=y.getNeighbors("source"),F=0;F<k.length;++F){var Y=k[F],G=r.getNodeDegree(Y,"out");G>0&&(u+=c[Y.get("id")]/G)}h[_]=e*u,a+=h[_]}}a=(1-a)/l,n=0;for(var d=0;d<l;++d){var y=s[d],_=y.get("id");u=h[_]+a,n+=Math.abs(u-c[_]),c[_]=u}o-=1}return c},y9=g9,WY=ts.registerNode,jY=ts.registerEdge,UY=ts.registerCombo,ZY=Wm.registerBehavior,KY=Bs.registerLayout,$Y=Li.Minimap,QY=Li.Grid,JY=Li.Bundling,qY=Li.Menu,m9=Li.Fisheye,t7=Li.ToolBar,e7=Li.Tooltip,x9=Li.TimeBar,b9=Li.ImageMinimap,w9=Li.EdgeFilterLens,wi={version:QF.i8,Graph:Vx,TreeGraph:n6,Util:D6,registerNode:ts.registerNode,registerEdge:ts.registerEdge,registerCombo:ts.registerCombo,registerBehavior:Wm.registerBehavior,registerLayout:Bs.registerLayout,Layout:Bs,Global:Be,Minimap:Li.Minimap,Grid:Li.Grid,Bundling:Li.Bundling,Menu:Li.Menu,ToolBar:Li.ToolBar,Tooltip:Li.Tooltip,TimeBar:x9,Fisheye:m9,ImageMinimap:b9,EdgeFilterLens:w9,Algorithm:Z,Arrow:O6,Marker:I6};function b1(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function Oa(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?b1(Object(t),!0).forEach(function(e){S9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):b1(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function S9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}wi.registerNode("card-node",{draw:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a=Object.assign({radius:2,fill:"#fff"},a),e=a.stroke||"#5B8FF9";var o=a.radius||0,s=t.addShape("rect",{attrs:Oa({x:-n[0]/2,y:-n[1]/2,width:n[0],height:n[1],stroke:e},a),name:"main-box",draggable:!0}),l=r.title||r.label,u,h=r&&r.labelCfg&&r.labelCfg.style?r.labelCfg.style:{};if(l){var c=Object.assign({fill:"#fff"},h);u=t.addShape("text",{attrs:Oa(Oa({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+2,text:l},c),{},{fill:"#fff"}),name:"title"})}var d=u?u.getBBox():{height:n[1]/2},y=t.addShape("rect",{attrs:{x:-n[0]/2,y:-n[1]/2,width:n[0],height:d.height+4,fill:e,radius:[o,o,0,0]},name:"title-rect",draggable:!0});u&&u.toFront();var _;r.children&&(_=t.addShape("marker",{attrs:{x:n[0]/2,y:0,r:6,cursor:"pointer",symbol:r.collapsed?wi.Marker.expand:wi.Marker.collapse,stroke:e,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var k=r&&r.description?r.description:void 0,F=y.getBBox(),Y;if(k&&(Y=t.addShape("text",{attrs:Oa({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+F.height+8,text:k},h),name:"description"})),Y){var G,ut=Y.getBBox(),ft=F.height+16+ut.height,Tt=n[0]>ut.width+16?n[0]:ut.width+16;s.attr({width:Tt,height:ft}),y==null||y.attr("width",Tt),(G=_)===null||G===void 0||G.attr({x:Tt-n[0]/2,y:ft/2-n[1]/2})}return s},update:void 0},"single-node"),wi.registerNode("round-rect",{drawShape:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a.stroke&&(e=a.stroke);var o=a&&a.fill?a.fill:"#fff";a=Object.assign({width:n[0],height:n[1],radius:n[1]/2,fill:o,lineWidth:1.2,stroke:e},a);var s=t.addShape("rect",{attrs:Oa({x:-n[0]/2,y:-n[1]/2},a),name:"rect-shape"});return t.addShape("circle",{attrs:{x:-n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape"}),t.addShape("circle",{attrs:{x:n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape2"}),s},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(r,t){var e=t.getContainer(),n=e.get("children"),a=n[0],o=n[1],s=n[2],l=r.style&&r.style.stroke?r.style.stroke:"#5B8FF9";l&&(a.attr("stroke",l),o.attr("fill",l),s.attr("fill",l))}},"single-node");var C9=function(r){wi.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,n){var a=this.getShapeStyle(e),o=e.labelCfg,s=o===void 0?{}:o,l=n.addShape("rect",{attrs:Oa(Oa({},a),{},{x:0,y:0})}),u={fill:"#e6fffb"},h="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return e.leftIcon&&(u=Object.assign({},u,e.leftIcon.style),h=e.leftIcon.img),n.addShape("rect",{attrs:Oa({x:1,y:1,width:38,height:a.height-2},u)}),n.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:h},name:"image-shape"}),r.enableEdit&&(n.addShape("marker",{attrs:{x:a.width/3,y:a.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:wi.Marker.expand},name:"add-item"}),n.addShape("marker",{attrs:{x:a.width*2/3,y:a.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:wi.Marker.collapse},name:"remove-item"})),e.label&&n.addShape("text",{attrs:Oa(Oa({},s.style),{},{text:e.label,x:a.width/2,y:a.height/1.5})}),l}},"rect")};wi.registerEdge("fund-polyline",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=n.y-e.y,o=a!==0?500/Math.abs(a):0,s=16,l=a<0?s:-s,u={x:e.x+o,y:n.y+l},h={x:u.x+s,y:n.y},c={x:(u.x-e.x)*(n.y-e.y)/(u.y-e.y)+e.x,y:n.y},d=[["M",e.x,e.y],["L",u.x,u.y],["Q",c.x,c.y,h.x,h.y],["L",n.x,n.y]];a===0&&(d=[["M",e.x,e.y],["L",n.x,n.y]]);var y=r||{},_=y.style,k=t.addShape("path",{attrs:{path:d,stroke:_.stroke||r.colorMap&&r.colorMap[r.dataType]?r.colorMap[r.dataType]:"#5B8FF9",lineWidth:_.lineWidth||1.2,endArrow:!1},name:"path-shape"}),F=0,Y=8,G;if(r.label&&(G=t.addShape("text",{attrs:{text:r.label,x:h.x+F,y:n.y-Y-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),r.dataType){var ut=G?G.getBBox():{height:0};t.addShape("text",{attrs:{text:r.dataType,x:h.x+F,y:n.y-Y-ut.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return r.subLabel&&t.addShape("text",{attrs:{text:r.subLabel,x:h.x+F,y:n.y+Y+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),k},update:void 0},"single-edge"),wi.registerEdge("flow-line",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=r.style,o=a===void 0?{}:a,s=t.addShape("path",{attrs:{stroke:o.stroke,endArrow:o.endArrow,path:[["M",e.x,e.y],["L",e.x,(e.y+n.y)/2],["L",n.x,(e.y+n.y)/2],["L",n.x,n.y]]}});return s}});function w1(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function M9(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?w1(Object(t),!0).forEach(function(e){E9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):w1(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function E9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}var A9={show:!1,size:[150,100],type:"keyShape"},Rs=function(r,t,e){var n,a;return e&&e.current&&(n=e.current.offsetWidth,a=e.current.offsetHeight||500),console.log("graph size",n,a,t,r,e,e.current),!r&&!n||!t&&!a?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[r||n||500,t||a||500]},Ns=function(r,t){if(!(!t||t.destroyed)&&r&&r.show){var e=Object.assign(A9,r),n=new wi.Minimap(M9({},e));return t.addPlugin(n),n}};function Bu(i,r,t){var e=(0,U.useRef)(),n=r.data,a=r.nodeStyle,o=r.nodeAnchorPoints,s=r.nodeType,l=r.edgeType,u=r.edgeStyle,h=r.width,c=r.height,d=r.layout,y=r.minimapCfg,_=r.behaviors,k=r.nodeLabelCfg,F=r.edgeLabelCfg,Y;return(0,U.useEffect)(function(){i&&!i.destroyed&&(i.changeData(n),i.layout())},[n]),(0,U.useEffect)(function(){i&&!i.destroyed&&i.getNodes().forEach(function(G){i.updateItem(G,{type:s,style:a,anchorPoints:o,labelCfg:k})})},[a,o,s]),(0,U.useEffect)(function(){i&&!i.destroyed&&i.getEdges().forEach(function(G){i.updateItem(G,{type:l,style:u,labelCfg:F})})},[u,l]),(0,U.useEffect)(function(){if(i&&!i.destroyed){var G=Rs(h,c,t);i.changeSize(G[0],G[1])}},[t,h,c]),(0,U.useEffect)(function(){i&&!i.destroyed&&i.updateLayout(d)},[d]),(0,U.useEffect)(function(){if(!(!y||!i||i.destroyed))if(y.show)Y=Ns(y,i),Y&&Y.updateCanvas();else{var G=i.get("plugins")[0];G&&i.removePlugin(G)}},[y]),(0,U.useEffect)(function(){if(i&&!i.destroyed){var G=i.get("modes"),ut=G.default,ft=[];ut.forEach(function(Tt){(0,f.isObject)(Tt)?ft.push(Tt.type):(0,f.isString)(Tt)&&ft.push(Tt)}),i.removeBehaviors(ft,"default"),i.addBehaviors(_,"default")}},[_]),(0,U.useEffect)(function(){if(e.current=i,i&&!i.destroyed)return function(){i.destroy(),i=void 0}},[]),{graphHook:e}}var S1={hover:{stroke:"#1890ff",lineWidth:2}},_9={fill:"#91d5ff",stroke:"#40a9ff",radius:5},T9={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},P9={type:"compactBox",direction:"TB",getId:function(r){return r.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},C1={style:{fill:"#000",fontSize:12}},gn,L9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"rect":s,u=r.edgeType,h=u===void 0?"flow-line":u,c=r.collapseExpand,d=c===void 0?!1:c,y=r.nodeSize,_=y===void 0?[120,40]:y,k=r.nodeLabelCfg,F=k===void 0?C1:k,Y=r.edgeLabelCfg,G=Y===void 0?C1:Y,ut=r.layout,ft=ut===void 0?P9:ut,Tt=r.enableEdit,Yt=Tt===void 0?!1:Tt,Ut=r.minimapCfg,Jt=r.nodeStyle,Wt=Jt===void 0?_9:Jt,ee=r.edgeStyle,ue=ee===void 0?T9:ee,oe=r.nodeStateStyles,we=oe===void 0?S1:oe,_e=r.edgeStateStyles,Ee=_e===void 0?S1:_e,Re=r.handleNodeClick,Ye=r.handleEdgeClick,Xe=r.handleNodeHover,De=r.handleNodeUnHover,Fe=r.handleEdgeHover,er=r.handleEdgeUnHover,tr=r.handleCanvasClick,or=r.graphRef,Ve={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,collapseExpand:d,nodeSize:_,nodeLabelCfg:F,edgeLabelCfg:G,layout:ft,enableEdit:Yt,minimapCfg:Ut,nodeStyle:Wt,edgeStyle:ue,nodeStateStyles:we,edgeStateStyles:Ee,handleNodeClick:Re,handleEdgeClick:Ye,handleNodeHover:Xe,handleNodeUnHover:De,handleEdgeHover:Fe,handleEdgeUnHover:er,handleCanvasClick:tr,graphRef:or},nr=U.useRef(null);return Bu(gn,Ve,nr),(0,U.useEffect)(function(){var yr=Rs(a,o,nr);return(!gn||gn.destroyed)&&(l==="icon-node"&&C9({enableEdit:Yt}),gn=new wi.TreeGraph({container:nr.current,width:yr[0],height:yr[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:l,size:_,style:Wt,labelCfg:F},defaultEdge:{type:h,style:ue,labelCfg:G},nodeStateStyles:we,edgeStateStyles:Ee,layout:ft}),or&&(or.current=gn)),Ns(Ut,gn),gn.data(t),gn.render(),gn.fitView(),d&&gn.addBehaviors({type:"collapse-expand",onChange:function(ir,Sr){if(!ir)return!1;var Dr=ir.get("model").data;return Dr.collapsed=Sr,!0}},"default"),gn.on("node:mouseenter",function(ar){var ir=ar.item;gn.setItemState(ir,"hover",!0),Xe&&Xe(ir,gn)}),gn.on("node:mouseleave",function(ar){var ir=ar.item;gn.setItemState(ir,"hover",!1),De&&De(ir,gn)}),gn.on("node:click",function(ar){var ir=ar.item,Sr=ar.target,Dr=Sr.get("type"),hr=Sr.get("name");if(Dr==="marker"){var Pe=ir.getModel();if(hr==="add-item"){Pe.children||(Pe.children=[]);var He=Math.random().toString(36).slice(-8);Pe.children.push({id:He,label:He}),gn.updateChild(Pe,Pe.id)}else hr==="remove-item"&&gn.removeChild(Pe.id)}else Re&&Re(ir,gn)}),gn.on("edge:mouseenter",function(ar){var ir=ar.item;gn.setItemState(ir,"hover",!0),Fe&&Fe(ir,gn)}),gn.on("edge:mouseleave",function(ar){var ir=ar.item;gn.setItemState(ir,"hover",!1),er&&er(ir,gn)}),gn.on("edge:click",function(ar){var ir=ar.item;Ye&&Ye(ir,gn)}),gn.on("canvas:click",function(ar){tr&&tr(gn)}),function(){return gn.destroy()}},[]),U.createElement(Gr,null,U.createElement("div",{className:e,style:n,ref:nr}))},O9=L9,M1={hover:{stroke:"#1890ff",lineWidth:2}},I9=[120,40],k9={stroke:"#40a9ff"},B9=[[.5,0],[.5,1]],D9={stroke:"#91d5ff",endArrow:{path:wi.Arrow.vee(10,10),fill:"#91d5ff"}},F9={type:"dagre",rankdir:"TB",nodesepFunc:function(r){return 0},ranksepFunc:function(r){return 0},controlPoints:!0},E1={style:{fill:"#000",fontSize:12}},En,R9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"modelRect":s,u=r.edgeType,h=u===void 0?"polyline":u,c=r.behaviors,d=c===void 0?["zoom-canvas","drag-canvas"]:c,y=r.nodeSize,_=y===void 0?I9:y,k=r.nodeLabelCfg,F=k===void 0?E1:k,Y=r.edgeLabelCfg,G=Y===void 0?E1:Y,ut=r.nodeAnchorPoints,ft=ut===void 0?B9:ut,Tt=r.layout,Yt=Tt===void 0?F9:Tt,Ut=r.minimapCfg,Jt=r.nodeStyle,Wt=Jt===void 0?k9:Jt,ee=r.edgeStyle,ue=ee===void 0?D9:ee,oe=r.nodeStateStyles,we=oe===void 0?M1:oe,_e=r.edgeStateStyles,Ee=_e===void 0?M1:_e,Re=r.handleEdgeClick,Ye=r.handleEdgeHover,Xe=r.handleEdgeUnHover,De=r.handleNodeClick,Fe=r.handleNodeHover,er=r.handleNodeUnHover,tr=r.handleCanvasClick,or=r.graphRef,Ve={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:d,nodeSize:_,nodeLabelCfg:F,edgeLabelCfg:G,nodeAnchorPoints:ft,layout:Yt,minimapCfg:Ut,nodeStyle:Wt,edgeStyle:ue,nodeStateStyles:we,edgeStateStyles:Ee,handleEdgeClick:Re,handleEdgeHover:Ye,handleEdgeUnHover:Xe,handleNodeClick:De,handleNodeHover:Fe,handleNodeUnHover:er,handleCanvasClick:tr,graphRef:or},nr=U.useRef(null);return Bu(En,Ve,nr),(0,U.useEffect)(function(){var yr=Rs(a,o,nr);return(!En||En.destroyed)&&(En=new wi.Graph({container:nr.current,width:yr[0],height:yr[1],modes:{default:d},defaultNode:{type:l,size:_,style:Wt,anchorPoints:ft,labelCfg:F},defaultEdge:{type:h,style:ue,labelCfg:G},nodeStateStyles:we,edgeStateStyles:Ee,layout:Yt}),or&&(or.current=En)),Ns(Ut,En),En.data(t),En.render(),En.fitView(),En.on("edge:mouseenter",function(ar){var ir=ar.item;En.setItemState(ir,"hover",!0),Ye&&Ye(ir,En)}),En.on("node:mouseenter",function(ar){var ir=ar.item;En.setItemState(ir,"hover",!1),Fe&&Fe(ir,En)}),En.on("edge:mouseleave",function(ar){var ir=ar.item;En.setItemState(ir,"hover",!1),Xe&&Xe(ir,En)}),En.on("node:mouseleave",function(ar){var ir=ar.item;En.setItemState(ir,"hover",!1),er&&er(ir,En)}),En.on("edge:click",function(ar){var ir=ar.item;Re&&Re(ir,En)}),En.on("node:click",function(ar){var ir=ar.item;De&&De(ir,En)}),En.on("canvas:click",function(ar){tr&&tr(En)}),function(){return En.destroy()}},[]),U.createElement(Gr,null,U.createElement("div",{className:e,style:n,ref:nr}))},N9=R9,A1={hover:{stroke:"#1890ff",lineWidth:2}},G9=[150,30],Y9={stroke:"#72CC4A",fill:"#f00"},z9=[[.5,0],[.5,1]],X9={stroke:"#91d5ff",endArrow:{path:wi.Arrow.vee(10,10),fill:"#91d5ff"}},V9={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},_1={style:{fill:"#000000A6",fontSize:10}},bn,H9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"round-rect":s,u=r.edgeType,h=u===void 0?"fund-polyline":u,c=r.behaviors,d=c===void 0?["zoom-canvas","drag-canvas"]:c,y=r.nodeSize,_=y===void 0?G9:y,k=r.nodeLabelCfg,F=k===void 0?_1:k,Y=r.edgeLabelCfg,G=Y===void 0?_1:Y,ut=r.nodeAnchorPoints,ft=ut===void 0?z9:ut,Tt=r.layout,Yt=Tt===void 0?V9:Tt,Ut=r.minimapCfg,Jt=r.nodeStyle,Wt=Jt===void 0?Y9:Jt,ee=r.edgeStyle,ue=ee===void 0?X9:ee,oe=r.nodeStateStyles,we=oe===void 0?A1:oe,_e=r.edgeStateStyles,Ee=_e===void 0?A1:_e,Re=r.colorMap,Ye=Re===void 0?{}:Re,Xe=r.handleEdgeClick,De=r.handleEdgeHover,Fe=r.handleEdgeUnHover,er=r.handleNodeClick,tr=r.handleNodeHover,or=r.handleNodeUnHover,Ve=r.handleCanvasClick,nr=r.graphRef,yr=U.useRef(null),ar={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:d,nodeSize:_,nodeLabelCfg:F,edgeLabelCfg:G,nodeAnchorPoints:ft,layout:Yt,minimapCfg:Ut,nodeStyle:Wt,edgeStyle:ue,nodeStateStyles:we,edgeStateStyles:Ee,colorMap:Ye,handleEdgeClick:Xe,handleEdgeHover:De,handleEdgeUnHover:Fe,handleNodeClick:er,handleNodeHover:tr,handleNodeUnHover:or,handleCanvasClick:Ve,graphRef:nr};return Bu(bn,ar,yr),(0,U.useEffect)(function(){var ir=Rs(a,o,yr);(!bn||bn.destroyed)&&(bn=new wi.Graph({container:yr.current,width:ir[0],height:ir[1],modes:{default:d},defaultNode:{type:l,size:_,style:Wt,anchorPoints:ft,labelCfg:F},defaultEdge:{type:h,style:ue,colorMap:Ye,labelCfg:G},nodeStateStyles:we,edgeStateStyles:Ee,layout:Yt}),nr&&(nr.current=bn)),Ns(Ut,bn),bn.data(t),bn.render();var Sr=bn.getEdges();return Sr.forEach(function(Dr){var hr=Dr.getKeyShape(),Pe=hr.attr("stroke"),He=Dr.getTarget();He.update({style:{stroke:Pe}})}),bn.fitView(),bn.on("edge:mouseenter",function(Dr){var hr=Dr.item;bn.setItemState(hr,"hover",!0),De&&De(hr,bn)}),bn.on("edge:mouseleave",function(Dr){var hr=Dr.item;bn.setItemState(hr,"hover",!1),Fe&&Fe(hr,bn)}),bn.on("edge:click",function(Dr){var hr=Dr.item;Xe&&Xe(hr,bn)}),bn.on("node:mouseenter",function(Dr){var hr=Dr.item;bn.setItemState(hr,"hover",!1),tr&&tr(hr,bn)}),bn.on("node:mouseleave",function(Dr){var hr=Dr.item;bn.setItemState(hr,"hover",!1),or&&or(hr,bn)}),bn.on("node:click",function(Dr){var hr=Dr.item;er&&er(hr,bn)}),bn.on("canvas:click",function(Dr){Ve&&Ve(bn)}),function(){return bn.destroy()}},[]),U.createElement(Gr,null,U.createElement("div",{className:e,style:n,ref:yr}))},W9=H9,T1={hover:{stroke:"#1890ff",lineWidth:2}},j9=[120,40],U9={stroke:"#40a9ff"},Z9=[[0,.5],[1,.5]],K9={stroke:"#ccc",endArrow:{path:wi.Arrow.vee(10,10),fill:"#ccc"}},$9={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(r){return 100}},Q9={style:{fill:"#000",fontSize:12}},xn,J9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"card-node":s,u=r.edgeType,h=u===void 0?"cubic-horizontal":u,c=r.behaviors,d=c===void 0?["zoom-canvas","drag-canvas"]:c,y=r.nodeSize,_=y===void 0?j9:y,k=r.nodeLabelCfg,F=k===void 0?Q9:k,Y=r.nodeAnchorPoints,G=Y===void 0?Z9:Y,ut=r.layout,ft=ut===void 0?$9:ut,Tt=r.minimapCfg,Yt=r.nodeStyle,Ut=Yt===void 0?U9:Yt,Jt=r.edgeStyle,Wt=Jt===void 0?K9:Jt,ee=r.nodeStateStyles,ue=ee===void 0?T1:ee,oe=r.edgeStateStyles,we=oe===void 0?T1:oe,_e=r.collapseExpand,Ee=_e===void 0?!0:_e,Re=r.handleEdgeClick,Ye=r.handleEdgeHover,Xe=r.handleEdgeUnHover,De=r.handleNodeClick,Fe=r.handleNodeHover,er=r.handleNodeUnHover,tr=r.handleCanvasClick,or=r.graphRef,Ve=U.useRef(null),nr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:d,nodeSize:_,nodeLabelCfg:F,nodeAnchorPoints:G,layout:ft,minimapCfg:Tt,nodeStyle:Ut,edgeStyle:Wt,nodeStateStyles:ue,edgeStateStyles:we,collapseExpand:Ee,handleEdgeClick:Re,handleEdgeHover:Ye,handleEdgeUnHover:Xe,handleNodeClick:De,handleNodeHover:Fe,handleNodeUnHover:er,handleCanvasClick:tr,graphRef:or};return Bu(xn,nr,Ve),(0,U.useEffect)(function(){var yr=Rs(a,o,Ve);return(!xn||xn.destroyed)&&(xn=new wi.TreeGraph({container:Ve.current,width:yr[0],height:yr[1],modes:{default:d},defaultNode:{type:l,size:_,style:Ut,anchorPoints:G,labelCfg:F},defaultEdge:{type:h,style:Wt},nodeStateStyles:ue,edgeStateStyles:we,layout:ft}),or&&(or.current=xn)),Ns(Tt,xn),xn.data(t),xn.render(),xn.fitView(),Ee&&xn.on("node:click",function(ar){var ir=ar.item;ar.target.get("name")==="collapse-icon"?(xn.updateItem(ir,{collapsed:!ir.getModel().collapsed}),xn.layout()):De&&De(ir,xn)}),xn.on("edge:mouseenter",function(ar){var ir=ar.item;xn.setItemState(ir,"hover",!0),Ye&&Ye(ir,xn)}),xn.on("edge:mouseleave",function(ar){var ir=ar.item;xn.setItemState(ir,"hover",!1),Xe&&Xe(ir,xn)}),xn.on("edge:click",function(ar){var ir=ar.item;Re&&Re(ir,xn)}),xn.on("node:mouseenter",function(ar){var ir=ar.item;xn.setItemState(ir,"hover",!1),Fe&&Fe(ir,xn)}),xn.on("node:mouseleave",function(ar){var ir=ar.item;xn.setItemState(ir,"hover",!1),er&&er(ir,xn)}),xn.on("canvas:click",function(ar){tr&&tr(xn)}),function(){return xn.destroy()}},[]),U.createElement(Gr,null,U.createElement("div",{className:e,style:n,ref:Ve}))},q9=J9,r7={Area:h0,Bar:_D,Bubble:LD,Bullet:kD,Calendar:RD,Column:YD,ColumnLine:VD,DensityHeatmap:jD,Donut:x0,DualLine:QD,FanGauge:t5,Funnel:i5,Gauge:s5,GroupedBar:f5,GroupedColumn:v5,GroupedColumnLine:g5,GroupedRose:x5,Heatmap:S5,Histogram:E5,Line:T5,Liquid:O5,MeterGauge:B5,PercentStackedArea:R5,PercentStackedBar:Y5,PercentStackedColumn:V5,Pie:j5,Progress:K5,Radar:J5,RangeBar:eF,RangeColumn:iF,RingProgress:sF,Rose:fF,Scatter:vF,StackedArea:gF,StackedBar:xF,StackedColumn:SF,StackedColumnLine:EF,StackedRose:TF,StepLine:OF,TinyArea:BF,TinyColumn:RF,TinyLine:YF,Treemap:VF,Waterfall:jF,WordCloud:$F,OrganizationTreeGraph:O9,DagreGraph:N9,IndentedTree:q9,DagreFundFlowGraph:W9,G2:T}},89939:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(49242),O=v(15623),I=function(){function P(T){var A=T.xField,E=T.yField,C=T.adjustNames,p=C===void 0?["x","y"]:C;this.adjustNames=p,this.xField=A,this.yField=E}return P.prototype.isAdjust=function(T){return this.adjustNames.indexOf(T)>=0},P.prototype.getAdjustRange=function(T,A,E){var C=this.yField,p=E.indexOf(A),b=E.length,x,w;return!C&&this.isAdjust("y")?(x=0,w=1):b>1?(x=E[p===0?0:p-1],w=E[p===b-1?b-1:p+1],p!==0?x+=(A-x)/2:x-=(w-A)/2,p!==b-1?w-=(w-A)/2:w+=(A-E[b-2])/2):(x=A===0?0:A-.5,w=A===0?1:A+.5),{pre:x,next:w}},P.prototype.adjustData=function(T,A){var E=this,C=this.getDimValues(A);g.each(T,function(p,b){g.each(C,function(x,w){E.adjustDim(w,x,p,b)})})},P.prototype.groupData=function(T,A){return g.each(T,function(E){E[A]===void 0&&(E[A]=O.DEFAULT_Y)}),g.groupBy(T,A)},P.prototype.adjustDim=function(T,A,E,C){},P.prototype.getDimValues=function(T){var A=this,E=A.xField,C=A.yField,p={},b=[];if(E&&this.isAdjust("x")&&b.push(E),C&&this.isAdjust("y")&&b.push(C),b.forEach(function(w){p[w]=g.valuesOfKey(T,w).sort(function(m,M){return m-M})}),!C&&this.isAdjust("y")){var x="y";p[x]=[O.DEFAULT_Y,1]}return p},P}();S.default=I},15623:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.GAP=S.DODGE_RATIO=S.MARGIN_RATIO=S.DEFAULT_Y=void 0,S.DEFAULT_Y=0,S.MARGIN_RATIO=1/2,S.DODGE_RATIO=1/2,S.GAP=.05},28014:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Adjust=S.registerAdjust=S.getAdjust=void 0;var g=v(60153),O=v(89939);S.Adjust=O.default;var I={},P=function(A){return I[A.toLowerCase()]};S.getAdjust=P;var T=function(A,E){if(P(A))throw new Error("Adjust type '"+A+"' existed.");I[A.toLowerCase()]=E};S.registerAdjust=T,g.__exportStar(v(48551),S)},48551:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0})},21392:function(mt,S,v){"use strict";v.r(S),v.d(S,{Attribute:function(){return P},Color:function(){return C},Opacity:function(){return b},Position:function(){return w},Scale:function(){return D.Scale},Shape:function(){return M},Size:function(){return B},getAttribute:function(){return q},registerAttribute:function(){return K}});var g=v(49242),O=function(it,ct){return(0,g.isString)(ct)?ct:it.invert(it.scale(ct))},I=function(){function it(ct){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(ct)}return it.prototype.mapping=function(){for(var ct=this,st=[],Ot=0;Ot<arguments.length;Ot++)st[Ot]=arguments[Ot];var Dt=st.map(function(Ht,N){return ct._toOriginParam(Ht,ct.scales[N])});return this.callback.apply(this,Dt)},it.prototype.getLinearValue=function(ct){var st=this.values.length-1,Ot=Math.floor(st*ct),Dt=st*ct-Ot,Ht=this.values[Ot],N=Ot===st?Ht:this.values[Ot+1];return Ht+(N-Ht)*Dt},it.prototype.getNames=function(){for(var ct=this.scales,st=this.names,Ot=Math.min(ct.length,st.length),Dt=[],Ht=0;Ht<Ot;Ht+=1)Dt.push(st[Ht]);return Dt},it.prototype.getFields=function(){return this.scales.map(function(ct){return ct.field})},it.prototype.getScale=function(ct){return this.scales[this.names.indexOf(ct)]},it.prototype.defaultCallback=function(){for(var ct=this,st=[],Ot=0;Ot<arguments.length;Ot++)st[Ot]=arguments[Ot];return st.length===0?this.values:st.map(function(Dt,Ht){var N=ct.scales[Ht];return N.type==="identity"?N.values[0]:ct._getAttributeValue(N,Dt)})},it.prototype._parseCfg=function(ct){var st=this,Ot=ct.type,Dt=Ot===void 0?"base":Ot,Ht=ct.names,N=Ht===void 0?[]:Ht,W=ct.scales,X=W===void 0?[]:W,V=ct.values,lt=V===void 0?[]:V,Z=ct.callback;this.type=Dt,this.scales=X,this.values=lt,this.names=N,this.callback=function(){for(var U=[],j=0;j<arguments.length;j++)U[j]=arguments[j];if(Z){var H=Z.apply(void 0,U);if(!(0,g.isNil)(H))return[H]}return st.defaultCallback.apply(st,U)}},it.prototype._getAttributeValue=function(ct,st){if(ct.isCategory&&!this.linear){var Ot=ct.translate(st);return this.values[Ot%this.values.length]}var Dt=ct.scale(st);return this.getLinearValue(Dt)},it.prototype._toOriginParam=function(ct,st){return st.isLinear?ct:(0,g.isArray)(ct)?ct.map(function(Ot){return O(st,Ot)}):O(st,ct)},it}(),P=I,T=v(60153),A=v(55223),E=function(it){(0,T.__extends)(ct,it);function ct(st){var Ot=it.call(this,st)||this;return Ot.type="color",Ot.names=["color"],(0,g.isString)(Ot.values)&&(Ot.linear=!0),Ot.gradient=A.default.gradient(Ot.values),Ot}return ct.prototype.getLinearValue=function(st){return this.gradient(st)},ct}(P),C=E,p=function(it){(0,T.__extends)(ct,it);function ct(st){var Ot=it.call(this,st)||this;return Ot.type="opacity",Ot.names=["opacity"],Ot}return ct}(P),b=p,x=function(it){(0,T.__extends)(ct,it);function ct(st){var Ot=it.call(this,st)||this;return Ot.names=["x","y"],Ot.type="position",Ot}return ct.prototype.mapping=function(st,Ot){var Dt=this.scales,Ht=Dt[0],N=Dt[1];return(0,g.isNil)(st)||(0,g.isNil)(Ot)?[]:[(0,g.isArray)(st)?st.map(function(W){return Ht.scale(W)}):Ht.scale(st),(0,g.isArray)(Ot)?Ot.map(function(W){return N.scale(W)}):N.scale(Ot)]},ct}(P),w=x,m=function(it){(0,T.__extends)(ct,it);function ct(st){var Ot=it.call(this,st)||this;return Ot.type="shape",Ot.names=["shape"],Ot}return ct.prototype.getLinearValue=function(st){var Ot=Math.round((this.values.length-1)*st);return this.values[Ot]},ct}(P),M=m,L=function(it){(0,T.__extends)(ct,it);function ct(st){var Ot=it.call(this,st)||this;return Ot.type="size",Ot.names=["size"],Ot}return ct}(P),B=L,D=v(64561),z={},q=function(it){return z[it.toLowerCase()]},K=function(it,ct){if(q(it))throw new Error("Attribute type '"+it+"' existed.");z[it.toLowerCase()]=ct};K("Color",C),K("Opacity",b),K("Position",w),K("Shape",M),K("Size",B)},74839:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(49242),O=function(P,T){return g.isString(T)?T:P.invert(P.scale(T))},I=function(){function P(T){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(T)}return P.prototype.mapping=function(){for(var T=this,A=[],E=0;E<arguments.length;E++)A[E]=arguments[E];var C=A.map(function(p,b){return T._toOriginParam(p,T.scales[b])});return this.callback.apply(this,C)},P.prototype.getLinearValue=function(T){var A=this.values.length-1,E=Math.floor(A*T),C=A*T-E,p=this.values[E],b=E===A?p:this.values[E+1];return p+(b-p)*C},P.prototype.getNames=function(){for(var T=this.scales,A=this.names,E=Math.min(T.length,A.length),C=[],p=0;p<E;p+=1)C.push(A[p]);return C},P.prototype.getFields=function(){return this.scales.map(function(T){return T.field})},P.prototype.getScale=function(T){return this.scales[this.names.indexOf(T)]},P.prototype.defaultCallback=function(){for(var T=this,A=[],E=0;E<arguments.length;E++)A[E]=arguments[E];return A.length===0?this.values:A.map(function(C,p){var b=T.scales[p];return b.type==="identity"?b.values[0]:T._getAttributeValue(b,C)})},P.prototype._parseCfg=function(T){var A=this,E=T.type,C=E===void 0?"base":E,p=T.names,b=p===void 0?[]:p,x=T.scales,w=x===void 0?[]:x,m=T.values,M=m===void 0?[]:m,L=T.callback;this.type=C,this.scales=w,this.values=M,this.names=b,this.callback=function(){for(var B=[],D=0;D<arguments.length;D++)B[D]=arguments[D];if(L){var z=L.apply(void 0,B);if(!g.isNil(z))return[z]}return A.defaultCallback.apply(A,B)}},P.prototype._getAttributeValue=function(T,A){if(T.isCategory&&!this.linear){var E=T.translate(A);return this.values[E%this.values.length]}var C=T.scale(A);return this.getLinearValue(C)},P.prototype._toOriginParam=function(T,A){return A.isLinear?T:g.isArray(T)?T.map(function(E){return O(A,E)}):O(A,T)},P}();S.default=I},24796:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(60153),O=v(74839);S.Attribute=O.default;var I={},P=function(A){return I[A.toLowerCase()]};S.getAttribute=P;var T=function(A,E){if(P(A))throw new Error("Attribute type '"+A+"' existed.");I[A.toLowerCase()]=E};S.registerAttribute=T,g.__exportStar(v(77290),S)},77290:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(64561);S.Scale=g.Scale},55223:function(mt,S,v){"use strict";v.r(S);var g=v(49242),O=/rgba?\(([\s.,0-9]+)\)/,I=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,P=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,T=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,A=function(D){return/^[r,R,L,l]{1}[\s]*\(/.test(D)},E=function(){var D=document.createElement("i");return D.title="Web Colour Picker",D.style.display="none",document.body.appendChild(D),D},C=function(D,z,q,K){return D[K]+(z[K]-D[K])*q};function p(D){return"#"+x(D[0])+x(D[1])+x(D[2])}var b=function(D){return[parseInt(D.substr(1,2),16),parseInt(D.substr(3,2),16),parseInt(D.substr(5,2),16)]},x=function(D){var z=Math.round(D).toString(16);return z.length===1?"0"+z:z},w=function(D,z){var q=isNaN(Number(z))||z<0?0:z>1?1:Number(z),K=D.length-1,it=Math.floor(K*q),ct=K*q-it,st=D[it],Ot=it===K?st:D[it+1];return p([C(st,Ot,ct,0),C(st,Ot,ct,1),C(st,Ot,ct,2)])},m,M=function(D){if(D[0]==="#"&&D.length===7)return D;m||(m=E()),m.style.color=D;var z=document.defaultView.getComputedStyle(m,"").getPropertyValue("color"),q=O.exec(z),K=q[1].split(/\s*,\s*/).map(function(it){return Number(it)});return z=p(K),z},L=function(D){var z=(0,g.isString)(D)?D.split("-"):D,q=(0,g.map)(z,function(K){return b(K.indexOf("#")===-1?M(K):K)});return function(K){return w(q,K)}},B=function(D){if(A(D)){var z,q=void 0;if(D[0]==="l"){var K=I.exec(D),it=+K[1]+90;q=K[2],z="linear-gradient("+it+"deg, "}else if(D[0]==="r"){z="radial-gradient(";var K=P.exec(D);q=K[4]}var ct=q.match(T);return(0,g.each)(ct,function(st,Ot){var Dt=st.split(":");z+=Dt[1]+" "+Dt[0]*100+"%",Ot!==ct.length-1&&(z+=", ")}),z+=")",z}return D};S.default={rgb2arr:b,gradient:L,toRGB:(0,g.memoize)(M),toCSSGradient:B}},51441:function(mt,S,v){"use strict";v.r(S),v.d(S,{Annotation:function(){return g},Axis:function(){return A},Component:function(){return ot},Crosshair:function(){return E},Grid:function(){return C},GroupComponent:function(){return nt},HtmlComponent:function(){return Hi},Legend:function(){return p},Scrollbar:function(){return Da},Slider:function(){return ls},Tooltip:function(){return x}});var g={};v.r(g),v.d(g,{Arc:function(){return se},DataMarker:function(){return ze},DataRegion:function(){return fr},Image:function(){return Te},Line:function(){return lr},Region:function(){return Ce},RegionFilter:function(){return Je},Text:function(){return qt}});var O={};v.r(O),v.d(O,{ellipsisHead:function(){return Lr},ellipsisMiddle:function(){return cr},ellipsisTail:function(){return dr},getDefault:function(){return br}});var I={};v.r(I),v.d(I,{equidistance:function(){return Tn},getDefault:function(){return Rn},reserveBoth:function(){return Qn},reserveFirst:function(){return _n},reserveLast:function(){return $n}});var P={};v.r(P),v.d(P,{fixedAngle:function(){return Mi},getDefault:function(){return zn},unfixedAngle:function(){return Gn}});var T={};v.r(T),v.d(T,{autoEllipsis:function(){return O},autoHide:function(){return I},autoRotate:function(){return P}});var A={};v.r(A),v.d(A,{Base:function(){return vr},Circle:function(){return ki},Line:function(){return Ii}});var E={};v.r(E),v.d(E,{Base:function(){return Bi},Circle:function(){return Un},Html:function(){return Mt},Line:function(){return oi}});var C={};v.r(C),v.d(C,{Base:function(){return Ft},Circle:function(){return le},Line:function(){return ye}});var p={};v.r(p),v.d(p,{Base:function(){return Ue},Category:function(){return wr},Continuous:function(){return Tr}});var b={};v.r(b),v.d(b,{CONTAINER_CLASS:function(){return cn},CROSSHAIR_X:function(){return Fi},CROSSHAIR_Y:function(){return Wi},LIST_CLASS:function(){return Xn},LIST_ITEM_CLASS:function(){return qn},MARKER_CLASS:function(){return Vn},NAME_CLASS:function(){return si},TITLE_CLASS:function(){return yn},VALUE_CLASS:function(){return Ai}});var x={};v.r(x),v.d(x,{Html:function(){return Ua}});var w=v(60153),m=v(49242),M=v(66192);function L(Kt,bt,R){var $=new M.default(bt,R);$.target=Kt,$.propagationPath.push(Kt),Kt.emitDelegation(bt,$);for(var vt=Kt.getParent();vt;)vt.emitDelegation(bt,$),$.propagationPath.push(vt),vt=vt.getParent()}var B=v(31506),D=v(31437),z=[1,0,0,0,1,0,0,0,1];function q(Kt,bt,R){if(R===void 0&&(R=z),!bt)return null;var $=B.transform(R,[["t",-Kt.x,-Kt.y],["r",bt],["t",Kt.x,Kt.y]]);return $}function K(Kt,bt){return!Kt.x&&!Kt.y?null:B.transform(bt||z,[["t",Kt.x,Kt.y]])}function it(Kt){var bt=[1,0,0],R=[0,0,0];return vec3.transformMat3(R,bt,Kt),Math.atan2(R[1],R[0])}function ct(Kt,bt){var R=[0,0];return D.transformMat3(R,bt,Kt),R}function st(Kt,bt){var R=ct(Kt,[bt.minX,bt.minY]),$=ct(Kt,[bt.maxX,bt.minY]),vt=ct(Kt,[bt.minX,bt.maxY]),Pt=ct(Kt,[bt.maxX,bt.maxY]),Gt=Math.min(R[0],$[0],vt[0],Pt[0]),Zt=Math.max(R[0],$[0],vt[0],Pt[0]),re=Math.min(R[1],$[1],vt[1],Pt[1]),ie=Math.max(R[1],$[1],vt[1],Pt[1]);return{x:Gt,y:re,minX:Gt,minY:re,maxX:Zt,maxY:ie,width:Zt-Gt,height:ie-re}}function Ot(Kt,bt,R,$){if(bt){var vt=q({x:R,y:$},bt,Kt.getMatrix());Kt.setMatrix(vt)}}function Dt(Kt,bt,R){var $=K({x:bt,y:R});Kt.attr("matrix",$)}function Ht(Kt){var bt=0,R=0,$=0,vt=0;return(0,m.isNumber)(Kt)?bt=R=$=vt=Kt:(0,m.isArray)(Kt)&&(bt=Kt[0],$=(0,m.isNil)(Kt[1])?Kt[0]:Kt[1],vt=(0,m.isNil)(Kt[2])?Kt[0]:Kt[2],R=(0,m.isNil)(Kt[3])?$:Kt[3]),[bt,$,vt,R]}function N(Kt){for(var bt=Kt.childNodes,R=bt.length,$=R-1;$>=0;$--)Kt.removeChild(bt[$])}function W(Kt,bt){return!!Kt.className.match(new RegExp("(\\s|^)"+bt+"(\\s|$)"))}function X(Kt){var bt=Kt.start,R=Kt.end,$=Math.min(bt.x,R.x),vt=Math.min(bt.y,R.y),Pt=Math.max(bt.x,R.x),Gt=Math.max(bt.y,R.y);return{x:$,y:vt,minX:$,minY:vt,maxX:Pt,maxY:Gt,width:Pt-$,height:Gt-vt}}function V(Kt){var bt=Kt.map(function(Zt){return Zt.x}),R=Kt.map(function(Zt){return Zt.y}),$=Math.min.apply(Math,bt),vt=Math.min.apply(Math,R),Pt=Math.max.apply(Math,bt),Gt=Math.max.apply(Math,R);return{x:$,y:vt,minX:$,minY:vt,maxX:Pt,maxY:Gt,width:Pt-$,height:Gt-vt}}function lt(Kt,bt,R,$){return{x:Kt,y:bt,width:R,height:$,minX:Kt,minY:bt,maxX:Kt+R,maxY:bt+$}}function Z(Kt,bt,R){return(1-R)*Kt+bt*R}function U(Kt,bt,R){return{x:Kt.x+Math.cos(R)*bt,y:Kt.y+Math.sin(R)*bt}}function j(Kt,bt){var R=bt.x-Kt.x,$=bt.y-Kt.y;return Math.sqrt(R*R+$*$)}var H=function(Kt){return new Promise(function(bt){setTimeout(bt,Kt)})},f=function(Kt,bt){return[Kt,bt].includes(Infinity)?Math.abs(Kt)===Math.abs(bt):Math.abs(Kt-bt)<Math.pow(Number.EPSILON,.5)};function yt(Kt,bt){var R=Math.max(Kt.minX,bt.minX),$=Math.max(Kt.minY,bt.minY),vt=Math.min(Kt.maxX,bt.maxX),Pt=Math.min(Kt.maxY,bt.maxY);return lt(R,$,vt-R,Pt-$)}function St(Kt,bt){var R=Math.min(Kt.minX,bt.minX),$=Math.min(Kt.minY,bt.minY),vt=Math.max(Kt.maxX,bt.maxX),Pt=Math.max(Kt.maxY,bt.maxY);return lt(R,$,vt-R,Pt-$)}function at(Kt){var bt=Kt.getClip(),R=bt&&bt.getBBox(),$;if(!Kt.isGroup())$=Kt.getBBox();else{var vt=Infinity,Pt=-Infinity,Gt=Infinity,Zt=-Infinity,re=Kt.getChildren();re.length>0?(0,m.each)(re,function(ie){if(ie.get("visible")){if(ie.isGroup()&&ie.get("children").length===0)return!0;var ve=at(ie),be=ie.applyToMatrix([ve.minX,ve.minY,1]),Ie=ie.applyToMatrix([ve.minX,ve.maxY,1]),Ge=ie.applyToMatrix([ve.maxX,ve.minY,1]),rr=ie.applyToMatrix([ve.maxX,ve.maxY,1]),Mr=Math.min(be[0],Ie[0],Ge[0],rr[0]),gr=Math.max(be[0],Ie[0],Ge[0],rr[0]),Vr=Math.min(be[1],Ie[1],Ge[1],rr[1]),Wr=Math.max(be[1],Ie[1],Ge[1],rr[1]);Mr<vt&&(vt=Mr),gr>Pt&&(Pt=gr),Vr<Gt&&(Gt=Vr),Wr>Zt&&(Zt=Wr)}}):(vt=0,Pt=0,Gt=0,Zt=0),$=lt(vt,Gt,Pt-vt,Zt-Gt)}return R?yt($,R):$}function Ct(Kt,bt){if(!(!Kt.getClip()&&!bt.getClip())){var R=bt.getClip();if(!R){Kt.setClip(null);return}var $={type:R.get("type"),attrs:R.attr()};Kt.setClip($)}}function wt(Kt){return Kt+"px"}function At(Kt,bt,R,$){var vt=j(Kt,bt),Pt=$/vt,Gt=0;return R==="start"?Gt=0-Pt:R==="end"&&(Gt=1+Pt),{x:Z(Kt.x,bt.x,Gt),y:Z(Kt.y,bt.y,Gt)}}var _t=v(39014),Lt={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},xt=function(Kt){(0,w.__extends)(bt,Kt);function bt(R){var $=Kt.call(this,R)||this;return $.initCfg(),$}return bt.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},bt.prototype.clear=function(){},bt.prototype.update=function(R){var $=this,vt=this.get("defaultCfg");(0,m.each)(R,function(Pt,Gt){var Zt=$.get(Gt),re=Pt;Zt!==Pt&&((0,m.isObject)(Pt)&&vt[Gt]&&(re=(0,m.deepMix)({},vt[Gt],Pt)),$.set(Gt,re))}),this.updateInner(R),this.afterUpdate(R)},bt.prototype.updateInner=function(R){},bt.prototype.afterUpdate=function(R){(0,m.hasKey)(R,"visible")&&(R.visible?this.show():this.hide()),(0,m.hasKey)(R,"capture")&&this.setCapture(R.capture)},bt.prototype.getLayoutBBox=function(){return this.getBBox()},bt.prototype.getLocationType=function(){return this.get("locationType")},bt.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},bt.prototype.setOffset=function(R,$){this.update({offsetX:R,offsetY:$})},bt.prototype.setLocation=function(R){var $=(0,w.__assign)({},R);this.update($)},bt.prototype.getLocation=function(){var R=this,$={},vt=this.get("locationType"),Pt=Lt[vt];return(0,m.each)(Pt,function(Gt){$[Gt]=R.get(Gt)}),$},bt.prototype.isList=function(){return!1},bt.prototype.isSlider=function(){return!1},bt.prototype.init=function(){},bt.prototype.initCfg=function(){var R=this,$=this.get("defaultCfg");(0,m.each)($,function(vt,Pt){var Gt=R.get(Pt);if((0,m.isObject)(Gt)){var Zt=(0,m.deepMix)({},vt,Gt);R.set(Pt,Zt)}})},bt}(_t.Base),ot=xt,tt="update_status",Q=["visible","tip","delegateObject"],dt=["container","group","shapesMap","isRegister","isUpdating","destroyed"],rt=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},bt.prototype.remove=function(){this.clear();var R=this.get("group");R.remove()},bt.prototype.clear=function(){var R=this.get("group");R.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},bt.prototype.getChildComponentById=function(R){var $=this.getElementById(R),vt=$&&$.get("component");return vt},bt.prototype.getElementById=function(R){return this.get("shapesMap")[R]},bt.prototype.getElementByLocalId=function(R){var $=this.getElementId(R);return this.getElementById($)},bt.prototype.getElementsByName=function(R){var $=[];return(0,m.each)(this.get("shapesMap"),function(vt){vt.get("name")===R&&$.push(vt)}),$},bt.prototype.getContainer=function(){return this.get("container")},bt.prototype.updateInner=function(R){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},bt.prototype.render=function(){var R=this.get("offScreenGroup");R||(R=this.offScreenRender());var $=this.get("group");this.updateElements(R,$),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},bt.prototype.show=function(){var R=this.get("group");R.show(),this.set("visible",!0)},bt.prototype.hide=function(){var R=this.get("group");R.hide(),this.set("visible",!1)},bt.prototype.setCapture=function(R){var $=this.get("group");$.set("capture",R),this.set("capture",R)},bt.prototype.destroy=function(){this.removeEvent(),this.remove(),Kt.prototype.destroy.call(this)},bt.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},bt.prototype.getLayoutBBox=function(){var R=this.get("group"),$=this.getInnerLayoutBBox(),vt=R.getTotalMatrix();return vt&&($=st(vt,$)),$},bt.prototype.on=function(R,$,vt){var Pt=this.get("group");return Pt.on(R,$,vt),this},bt.prototype.off=function(R,$){var vt=this.get("group");return vt&&vt.off(R,$),this},bt.prototype.emit=function(R,$){var vt=this.get("group");vt.emit(R,$)},bt.prototype.init=function(){Kt.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},bt.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},bt.prototype.delegateEmit=function(R,$){var vt=this.get("group");$.target=vt,vt.emit(R,$),L(vt,R,$)},bt.prototype.createOffScreenGroup=function(){var R=this.get("group"),$=R.getGroupBase(),vt=new $({delegateObject:this.getDelegateObject()});return vt},bt.prototype.applyOffset=function(){var R=this.get("offsetX"),$=this.get("offsetY");this.moveElementTo(this.get("group"),{x:R,y:$})},bt.prototype.initGroup=function(){var R=this.get("container");this.set("group",R.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},bt.prototype.offScreenRender=function(){this.clearOffScreenCache();var R=this.createOffScreenGroup();return this.renderInner(R),this.set("offScreenGroup",R),this.set("offScreenBBox",at(R)),R},bt.prototype.addGroup=function(R,$){this.appendDelegateObject(R,$);var vt=R.addGroup($);return this.get("isRegister")&&this.registerElement(vt),vt},bt.prototype.addShape=function(R,$){this.appendDelegateObject(R,$);var vt=R.addShape($);return this.get("isRegister")&&this.registerElement(vt),vt},bt.prototype.addComponent=function(R,$){var vt=$.id,Pt=$.component,Gt=(0,w.__rest)($,["id","component"]),Zt=new Pt((0,w.__assign)((0,w.__assign)({},Gt),{id:vt,container:R,updateAutoRender:this.get("updateAutoRender")}));return Zt.init(),Zt.render(),this.get("isRegister")&&this.registerElement(Zt.get("group")),Zt},bt.prototype.initEvent=function(){},bt.prototype.removeEvent=function(){var R=this.get("group");R.off()},bt.prototype.getElementId=function(R){var $=this.get("id"),vt=this.get("name");return $+"-"+vt+"-"+R},bt.prototype.registerElement=function(R){var $=R.get("id");this.get("shapesMap")[$]=R},bt.prototype.unregisterElement=function(R){var $=R.get("id");delete this.get("shapesMap")[$]},bt.prototype.moveElementTo=function(R,$){var vt=K($);R.attr("matrix",vt)},bt.prototype.addAnimation=function(R,$,vt){var Pt=$.attr("opacity");(0,m.isNil)(Pt)&&(Pt=1),$.attr("opacity",0),$.animate({opacity:Pt},vt)},bt.prototype.removeAnimation=function(R,$,vt){$.animate({opacity:0},vt)},bt.prototype.updateAnimation=function(R,$,vt,Pt){$.animate(vt,Pt)},bt.prototype.updateElements=function(R,$){var vt=this,Pt=this.get("animate"),Gt=this.get("animateOption"),Zt=R.getChildren().slice(0),re;(0,m.each)(Zt,function(ie){var ve=ie.get("id"),be=vt.getElementById(ve),Ie=ie.get("name");if(be)if(ie.get("isComponent")){var Ge=ie.get("component"),rr=be.get("component"),Mr=(0,m.pick)(Ge.cfg,(0,m.difference)((0,m.keys)(Ge.cfg),dt));rr.update(Mr),be.set(tt,"update")}else{var gr=vt.getReplaceAttrs(be,ie);Pt&&Gt.update?vt.updateAnimation(Ie,be,gr,Gt.update):be.attr(gr),ie.isGroup()&&vt.updateElements(ie,be),(0,m.each)(Q,function(Rt){be.set(Rt,ie.get(Rt))}),Ct(be,ie),re=be,be.set(tt,"update")}else{$.add(ie);var Vr=$.getChildren();if(Vr.splice(Vr.length-1,1),re){var Wr=Vr.indexOf(re);Vr.splice(Wr+1,0,ie)}else Vr.unshift(ie);if(vt.registerElement(ie),ie.set(tt,"add"),ie.get("isComponent")){var Ge=ie.get("component");Ge.set("container",$)}else ie.isGroup()&&vt.registerNewGroup(ie);if(re=ie,Pt){var Hr=vt.get("isInit")?Gt.appear:Gt.enter;Hr&&vt.addAnimation(Ie,ie,Hr)}}})},bt.prototype.clearUpdateStatus=function(R){var $=R.getChildren();(0,m.each)($,function(vt){vt.set(tt,null)})},bt.prototype.clearOffScreenCache=function(){var R=this.get("offScreenGroup");R&&R.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},bt.prototype.getDelegateObject=function(){var R,$=this.get("name"),vt=(R={},R[$]=this,R.component=this,R);return vt},bt.prototype.appendDelegateObject=function(R,$){var vt=R.get("delegateObject");$.delegateObject||($.delegateObject={}),(0,m.mix)($.delegateObject,vt)},bt.prototype.getReplaceAttrs=function(R,$){var vt=R.attr(),Pt=$.attr();return(0,m.each)(vt,function(Gt,Zt){Pt[Zt]===void 0&&(Pt[Zt]=void 0)}),Pt},bt.prototype.registerNewGroup=function(R){var $=this,vt=R.getChildren();(0,m.each)(vt,function(Pt){$.registerElement(Pt),Pt.set(tt,"add"),Pt.isGroup()&&$.registerNewGroup(Pt)})},bt.prototype.deleteElements=function(){var R=this,$=this.get("shapesMap"),vt=[];(0,m.each)($,function(Zt,re){!Zt.get(tt)||Zt.destroyed?vt.push([re,Zt]):Zt.set(tt,null)});var Pt=this.get("animate"),Gt=this.get("animateOption");(0,m.each)(vt,function(Zt){var re=Zt[0],ie=Zt[1];if(!ie.destroyed){var ve=ie.get("name");if(Pt&&Gt.leave){var be=(0,m.mix)({callback:function(){R.removeElement(ie)}},Gt.leave);R.removeAnimation(ve,ie,be)}else R.removeElement(ie)}delete $[re]})},bt.prototype.removeElement=function(R){if(R.get("isGroup")){var $=R.get("component");$&&$.destroy()}R.remove()},bt}(ot),nt=rt,pt="\u2026";function It(Kt){for(var bt=0,R=0;R<Kt.length;R++)bt+=Vt(Kt,R);return bt}function Vt(Kt,bt){return Kt.charCodeAt(bt)>0&&Kt.charCodeAt(bt)<128?1:2}function Qt(Kt,bt,R){R===void 0&&(R="tail");var $=Kt.length,vt="";if(R==="tail"){for(var Pt=0,Gt=0;Pt<bt;){var Zt=Vt(Kt,Gt);if(Pt+Zt<=bt)vt+=Kt[Gt],Pt+=Vt(Kt,Gt),Gt++;else break}vt+=pt}else if(R==="head"){for(var Pt=0,Gt=$-1;Pt<bt;){var Zt=Vt(Kt,Gt);if(Pt+Zt<=bt)vt+=Kt[Gt],Pt+=Vt(Kt,Gt),Gt--;else break}vt=pt+vt}else{for(var re="",ie="",Pt=0,ve=0,be=$-1;Pt<bt;){var Ie=Vt(Kt,ve),Ge=!1;Ie+Pt<=bt&&(re+=Kt[ve],ve++,Pt+=Ie,Ge=!0);var rr=Vt(Kt,be);if(rr+Pt<=bt&&(ie=Kt[be]+ie,Pt+=rr,be--,Ge=!0),!Ge)break}vt=re+pt+ie}return vt}var he="\u2026",me=2;function Xt(Kt){var bt=0;return(0,m.each)(Kt,function(R){var $=R.getBBox(),vt=$.width;bt<vt&&(bt=vt)}),bt}function $t(Kt,bt){var R=bt.getCanvasBBox();return Kt?R.width:R.height}function fe(Kt,bt){return Kt.getBBox().width<bt}function Se(Kt,bt,R,$){$===void 0&&($="tail");var vt=bt.attr("text"),Pt=$t(Kt,bt),Gt=It(vt),Zt=!1;if(R<Pt){var re=Math.floor(R/Pt*Gt)-me,ie=void 0;re>=0?ie=Qt(vt,re,$):ie=he,ie&&(bt.attr("text",ie),Zt=!0)}return Zt?bt.set("tip",vt):bt.set("tip",null),Zt}function ke(Kt,bt){var R=bt.x,$=bt.y,vt=bt.content,Pt=bt.style,Gt=bt.id,Zt=bt.name,re=bt.rotate,ie=bt.maxLength,ve=bt.autoEllipsis,be=bt.isVertical,Ie=bt.ellipsisPosition,Ge=bt.background,rr=Kt.addGroup({id:Gt+"-group",name:Zt+"-group",attrs:{x:R,y:$}}),Mr=rr.addShape({type:"text",id:Gt,name:Zt,attrs:(0,w.__assign)({x:0,y:0,text:vt},Pt)}),gr=Ht((0,m.get)(Ge,"padding",0));if(ie&&ve){var Vr=ie-(gr[1]+gr[3]);Se(!be,Mr,Vr,Ie)}if(Ge){var Wr=(0,m.get)(Ge,"style",{}),Hr=Mr.getCanvasBBox(),Rt=Hr.minX,te=Hr.minY,ce=Hr.width,pe=Hr.height,Le=rr.addShape("rect",{id:Gt+"-bg",name:Gt+"-bg",attrs:(0,w.__assign)({x:Rt-gr[3],y:te-gr[0],width:ce+gr[1]+gr[3],height:pe+gr[0]+gr[2]},Wr)});Le.toBack()}Dt(rr,R,$),Ot(rr,re,R,$)}var Oe={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},$e=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:Oe.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:Oe.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:Oe.lineColor,lineWidth:1}}}})},bt.prototype.renderInner=function(R){this.renderLine(R),this.get("text")&&this.renderLabel(R)},bt.prototype.renderLine=function(R){var $=this.get("start"),vt=this.get("end"),Pt=this.get("style");this.addShape(R,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,w.__assign)({x1:$.x,y1:$.y,x2:vt.x,y2:vt.y},Pt)})},bt.prototype.getLabelPoint=function(R,$,vt){var Pt;return vt==="start"?Pt=0:vt==="center"?Pt=.5:(0,m.isString)(vt)&&vt.indexOf("%")!==-1?Pt=parseInt(vt,10)/100:(0,m.isNumber)(vt)?Pt=vt:Pt=1,(Pt>1||Pt<0)&&(Pt=1),{x:Z(R.x,$.x,Pt),y:Z(R.y,$.y,Pt)}},bt.prototype.renderLabel=function(R){var $=this.get("text"),vt=this.get("start"),Pt=this.get("end"),Gt=$.position,Zt=$.content,re=$.style,ie=$.offsetX,ve=$.offsetY,be=$.autoRotate,Ie=$.maxLength,Ge=$.autoEllipsis,rr=$.ellipsisPosition,Mr=$.background,gr=$.isVertical,Vr=gr===void 0?!1:gr,Wr=this.getLabelPoint(vt,Pt,Gt),Hr=Wr.x+ie,Rt=Wr.y+ve,te={id:this.getElementId("line-text"),name:"annotation-line-text",x:Hr,y:Rt,content:Zt,style:re,maxLength:Ie,autoEllipsis:Ge,ellipsisPosition:rr,background:Mr,isVertical:Vr};if(be){var ce=[Pt.x-vt.x,Pt.y-vt.y];te.rotate=Math.atan2(ce[1],ce[0])}ke(R,te)},bt}(nt),lr=$e,zt=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:Oe.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:Oe.fontFamily}}})},bt.prototype.setLocation=function(R){this.set("x",R.x),this.set("y",R.y),this.resetLocation()},bt.prototype.renderInner=function(R){var $=this.getLocation(),vt=$.x,Pt=$.y,Gt=this.get("content"),Zt=this.get("style"),re=this.getElementId("text"),ie=this.get("name")+"-text",ve=this.get("maxLength"),be=this.get("autoEllipsis"),Ie=this.get("isVertical"),Ge=this.get("ellipsisPosition"),rr=this.get("background"),Mr=this.get("rotate"),gr={id:re,name:ie,x:vt,y:Pt,content:Gt,style:Zt,maxLength:ve,autoEllipsis:be,isVertical:Ie,ellipsisPosition:Ge,background:rr,rotate:Mr};ke(R,gr)},bt.prototype.resetLocation=function(){var R=this.getElementByLocalId("text-group");if(R){var $=this.getLocation(),vt=$.x,Pt=$.y,Gt=this.get("rotate");Dt(R,vt,Pt),Ot(R,Gt,vt,Pt)}},bt}(nt),qt=zt,ae=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},bt.prototype.renderInner=function(R){this.renderArc(R)},bt.prototype.getArcPath=function(){var R=this.getLocation(),$=R.center,vt=R.radius,Pt=R.startAngle,Gt=R.endAngle,Zt=U($,vt,Pt),re=U($,vt,Gt),ie=Gt-Pt>Math.PI?1:0,ve=[["M",Zt.x,Zt.y]];if(Gt-Pt==Math.PI*2){var be=U($,vt,Pt+Math.PI);ve.push(["A",vt,vt,0,ie,1,be.x,be.y]),ve.push(["A",vt,vt,0,ie,1,re.x,re.y])}else ve.push(["A",vt,vt,0,ie,1,re.x,re.y]);return ve},bt.prototype.renderArc=function(R){var $=this.getArcPath(),vt=this.get("style");this.addShape(R,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,w.__assign)({path:$},vt)})},bt}(nt),se=ae,ge=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:Oe.regionColor,opacity:.4}}})},bt.prototype.renderInner=function(R){this.renderRegion(R)},bt.prototype.renderRegion=function(R){var $=this.get("start"),vt=this.get("end"),Pt=this.get("style"),Gt=X({start:$,end:vt});this.addShape(R,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,w.__assign)({x:Gt.x,y:Gt.y,width:Gt.width,height:Gt.height},Pt)})},bt}(nt),Ce=ge,Me=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},bt.prototype.renderInner=function(R){this.renderImage(R)},bt.prototype.getImageAttrs=function(){var R=this.get("start"),$=this.get("end"),vt=this.get("style"),Pt=X({start:R,end:$}),Gt=this.get("src");return(0,w.__assign)({x:Pt.x,y:Pt.y,img:Gt,width:Pt.width,height:Pt.height},vt)},bt.prototype.renderImage=function(R){this.addShape(R,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},bt}(nt),Te=Me,xe=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:Oe.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:Oe.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:Oe.fontFamily}}}})},bt.prototype.renderInner=function(R){(0,m.get)(this.get("line"),"display")&&this.renderLine(R),(0,m.get)(this.get("text"),"display")&&this.renderText(R),(0,m.get)(this.get("point"),"display")&&this.renderPoint(R),this.get("autoAdjust")&&this.autoAdjust(R)},bt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},bt.prototype.renderPoint=function(R){var $=this.getShapeAttrs().point;this.addShape(R,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:$})},bt.prototype.renderLine=function(R){var $=this.getShapeAttrs().line;this.addShape(R,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:$})},bt.prototype.renderText=function(R){var $=this.getShapeAttrs().text,vt=$.x,Pt=$.y,Gt=$.text,Zt=(0,w.__rest)($,["x","y","text"]),re=this.get("text"),ie=re.background,ve=re.maxLength,be=re.autoEllipsis,Ie=re.isVertival,Ge=re.ellipsisPosition,rr={x:vt,y:Pt,id:this.getElementId("text"),name:"annotation-text",content:Gt,style:Zt,background:ie,maxLength:ve,autoEllipsis:be,isVertival:Ie,ellipsisPosition:Ge};ke(R,rr)},bt.prototype.autoAdjust=function(R){var $=this.get("direction"),vt=this.get("x"),Pt=this.get("y"),Gt=(0,m.get)(this.get("line"),"length",0),Zt=this.get("coordinateBBox"),re=R.getBBox(),ie=re.minX,ve=re.maxX,be=re.minY,Ie=re.maxY,Ge=R.findById(this.getElementId("text-group")),rr=R.findById(this.getElementId("text")),Mr=R.findById(this.getElementId("line"));if(!!Zt){if(Ge){if(vt+ie<=Zt.minX){var gr=Zt.minX-(vt+ie);Dt(Ge,Ge.attr("x")+gr,Ge.attr("y"))}if(vt+ve>=Zt.maxX){var gr=vt+ve-Zt.maxX;Dt(Ge,Ge.attr("x")-gr,Ge.attr("y"))}}if($==="upward"&&Pt+be<=Zt.minY||$!=="upward"&&Pt+Ie>=Zt.maxY){var Vr=void 0,Wr=void 0;$==="upward"&&Pt+be<=Zt.minY?(Vr="top",Wr=1):(Vr="bottom",Wr=-1),rr.attr("textBaseline",Vr),Mr&&Mr.attr("path",[["M",0,0],["L",0,Gt*Wr]]),Dt(Ge,Ge.attr("x"),(Gt+2)*Wr)}}},bt.prototype.getShapeAttrs=function(){var R=(0,m.get)(this.get("line"),"display"),$=(0,m.get)(this.get("point"),"style",{}),vt=(0,m.get)(this.get("line"),"style",{}),Pt=(0,m.get)(this.get("text"),"style",{}),Gt=this.get("direction"),Zt=R?(0,m.get)(this.get("line"),"length",0):0,re=Gt==="upward"?-1:1;return{point:(0,w.__assign)({x:0,y:0},$),line:(0,w.__assign)({path:[["M",0,0],["L",0,Zt*re]]},vt),text:(0,w.__assign)({x:0,y:(Zt+2)*re,text:(0,m.get)(this.get("text"),"content",""),textBaseline:Gt==="upward"?"bottom":"top"},Pt)}},bt}(nt),ze=xe,je=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:Oe.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:Oe.textColor,fontFamily:Oe.fontFamily}}}})},bt.prototype.renderInner=function(R){var $=(0,m.get)(this.get("region"),"style",{}),vt=(0,m.get)(this.get("text"),"style",{}),Pt=this.get("lineLength")||0,Gt=this.get("points");if(!!Gt.length){var Zt=V(Gt),re=[];re.push(["M",Gt[0].x,Zt.minY-Pt]),Gt.forEach(function(ve){re.push(["L",ve.x,ve.y])}),re.push(["L",Gt[Gt.length-1].x,Gt[Gt.length-1].y-Pt]),this.addShape(R,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,w.__assign)({path:re},$)});var ie=(0,w.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(Zt.minX+Zt.maxX)/2,y:Zt.minY-Pt},this.get("text"));ke(R,ie)}},bt}(nt),fr=je,sr=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},bt.prototype.renderInner=function(R){var $=this,vt=this.get("start"),Pt=this.get("end"),Gt=this.addGroup(R,{id:this.getElementId("region-filter"),capture:!1});(0,m.each)(this.get("shapes"),function(re,ie){var ve=re.get("type"),be=(0,m.clone)(re.attr());$.adjustShapeAttrs(be),$.addShape(Gt,{id:$.getElementId("shape-"+ve+"-"+ie),capture:!1,type:ve,attrs:be})});var Zt=X({start:vt,end:Pt});Gt.setClip({type:"rect",attrs:{x:Zt.minX,y:Zt.minY,width:Zt.width,height:Zt.height}})},bt.prototype.adjustShapeAttrs=function(R){var $=this.get("color");R.fill&&(R.fill=R.fillStyle=$),R.stroke=R.strokeStyle=$},bt}(nt),Je=sr;function Ne(Kt,bt,R){var $=bt+"Style",vt=null;return(0,m.each)(R,function(Pt,Gt){Kt[Gt]&&Pt[$]&&(vt||(vt={}),(0,m.mix)(vt,Pt[$]))}),vt}var xr=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:Oe.lineColor}},tickLine:{style:{lineWidth:1,stroke:Oe.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:Oe.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:Oe.textColor,textBaseline:"middle",fontFamily:Oe.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:Oe.textColor,textBaseline:"middle",fontFamily:Oe.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:Oe.uncheckedColor}}}}})},bt.prototype.renderInner=function(R){this.get("line")&&this.drawLine(R),this.drawTicks(R),this.get("title")&&this.drawTitle(R)},bt.prototype.isList=function(){return!0},bt.prototype.getItems=function(){return this.get("ticks")},bt.prototype.setItems=function(R){this.update({ticks:R})},bt.prototype.updateItem=function(R,$){(0,m.mix)(R,$),this.clear(),this.render()},bt.prototype.clearItems=function(){var R=this.getElementByLocalId("label-group");R&&R.clear()},bt.prototype.setItemState=function(R,$,vt){R[$]=vt,this.updateTickStates(R)},bt.prototype.hasState=function(R,$){return!!R[$]},bt.prototype.getItemStates=function(R){var $=this.get("tickStates"),vt=[];return(0,m.each)($,function(Pt,Gt){R[Gt]&&vt.push(Gt)}),vt},bt.prototype.clearItemsState=function(R){var $=this,vt=this.getItemsByState(R);(0,m.each)(vt,function(Pt){$.setItemState(Pt,R,!1)})},bt.prototype.getItemsByState=function(R){var $=this,vt=this.getItems();return(0,m.filter)(vt,function(Pt){return $.hasState(Pt,R)})},bt.prototype.getSidePoint=function(R,$){var vt=this,Pt=vt.getSideVector($,R);return{x:R.x+Pt[0],y:R.y+Pt[1]}},bt.prototype.getTextAnchor=function(R){var $;return(0,m.isNumberEqual)(R[0],0)?$="center":R[0]>0?$="start":R[0]<0&&($="end"),$},bt.prototype.processOverlap=function(R){},bt.prototype.drawLine=function(R){var $=this.getLinePath(),vt=this.get("line");this.addShape(R,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,m.mix)({path:$},vt.style)})},bt.prototype.getTickLineItems=function(R){var $=this,vt=[],Pt=this.get("tickLine"),Gt=Pt.alignTick,Zt=Pt.length,re=1,ie=R.length;return ie>=2&&(re=R[1].value-R[0].value),(0,m.each)(R,function(ve){var be=ve.point;Gt||(be=$.getTickPoint(ve.value-re/2));var Ie=$.getSidePoint(be,Zt);vt.push({startPoint:be,tickValue:ve.value,endPoint:Ie,tickId:ve.id,id:"tickline-"+ve.id})}),vt},bt.prototype.getSubTickLineItems=function(R){var $=[],vt=this.get("subTickLine"),Pt=vt.count,Gt=R.length;if(Gt>=2)for(var Zt=0;Zt<Gt-1;Zt++)for(var re=R[Zt],ie=R[Zt+1],ve=0;ve<Pt;ve++){var be=(ve+1)/(Pt+1),Ie=(1-be)*re.tickValue+be*ie.tickValue,Ge=this.getTickPoint(Ie),rr=this.getSidePoint(Ge,vt.length);$.push({startPoint:Ge,endPoint:rr,tickValue:Ie,id:"sub-"+re.id+"-"+ve})}return $},bt.prototype.getTickLineAttrs=function(R,$){var vt=this.get($).style,Pt=R.startPoint,Gt=R.endPoint,Zt=(0,m.mix)({x1:Pt.x,y1:Pt.y,x2:Gt.x,y2:Gt.y},vt);return Zt},bt.prototype.drawTick=function(R,$,vt){this.addShape($,{type:"line",id:this.getElementId(R.id),name:"axis-"+vt,attrs:this.getTickLineAttrs(R,vt)})},bt.prototype.drawTickLines=function(R){var $=this,vt=this.get("ticks"),Pt=this.get("subTickLine"),Gt=this.getTickLineItems(vt),Zt=this.addGroup(R,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),re=this.get("tickLine");if((0,m.each)(Gt,function(ve){if(re.displayWithLabel){var be=$.getElementId("label-"+ve.tickId);R.findById(be)&&$.drawTick(ve,Zt,"tickLine")}else $.drawTick(ve,Zt,"tickLine")}),Pt){var ie=this.getSubTickLineItems(Gt);(0,m.each)(ie,function(ve){$.drawTick(ve,Zt,"subTickLine")})}},bt.prototype.processTicks=function(){var R=this,$=this.get("ticks");(0,m.each)($,function(vt){vt.point=R.getTickPoint(vt.value),(0,m.isNil)(vt.id)&&(vt.id=vt.name)})},bt.prototype.drawTicks=function(R){var $=this;this.processTicks(),this.get("label")&&this.drawLabels(R),this.get("tickLine")&&this.drawTickLines(R);var vt=this.get("ticks");(0,m.each)(vt,function(Pt){$.applyTickStates(Pt,R)})},bt.prototype.getLabelAttrs=function(R,$){var vt=this.get("label"),Pt=vt.offset,Gt=vt.style,Zt=vt.rotate,re=vt.formatter,ie=this.getSidePoint(R.point,Pt),ve=this.getSideVector(Pt,ie),be=re?re(R.name,R,$):R.name,Ie=(0,m.mix)({x:ie.x,y:ie.y,text:be,textAlign:this.getTextAnchor(ve)},Gt);return Zt&&(Ie.matrix=q(ie,Zt)),Ie},bt.prototype.drawLabels=function(R){var $=this,vt=this.get("ticks"),Pt=this.addGroup(R,{name:"axis-label-group",id:this.getElementId("label-group")});(0,m.each)(vt,function(Gt,Zt){$.addShape(Pt,{type:"text",name:"axis-label",id:$.getElementId("label-"+Gt.id),attrs:$.getLabelAttrs(Gt,Zt),delegateObject:{tick:Gt,item:Gt,index:Zt}})}),this.processOverlap(Pt)},bt.prototype.getTitleAttrs=function(){var R=this.get("title"),$=R.style,vt=R.position,Pt=R.offset,Gt=R.spacing,Zt=Gt===void 0?0:Gt,re=R.autoRotate,ie=$.fontSize,ve=.5;vt==="start"?ve=0:vt==="end"&&(ve=1);var be=this.getTickPoint(ve),Ie=this.getSidePoint(be,Pt||Zt+ie/2),Ge=(0,m.mix)({x:Ie.x,y:Ie.y,text:R.text},$),rr=R.rotate,Mr=rr;if((0,m.isNil)(rr)&&re){var gr=this.getAxisVector(be),Vr=[1,0];Mr=B.angleTo(gr,Vr,!0)}if(Mr){var Wr=q(Ie,Mr);Ge.matrix=Wr}return Ge},bt.prototype.drawTitle=function(R){this.addShape(R,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},bt.prototype.applyTickStates=function(R,$){var vt=this.getItemStates(R);if(vt.length){var Pt=this.get("tickStates"),Gt=this.getElementId("label-"+R.id),Zt=$.findById(Gt);if(Zt){var re=Ne(R,"label",Pt);re&&Zt.attr(re)}var ie=this.getElementId("tickline-"+R.id),ve=$.findById(ie);if(ve){var be=Ne(R,"tickLine",Pt);be&&ve.attr(be)}}},bt.prototype.updateTickStates=function(R){var $=this.getItemStates(R),vt=this.get("tickStates"),Pt=this.get("label"),Gt=this.getElementByLocalId("label-"+R.id),Zt=this.get("tickLine"),re=this.getElementByLocalId("tickline-"+R.id);if($.length){if(Gt){var ie=Ne(R,"label",vt);ie&&Gt.attr(ie)}if(re){var ve=Ne(R,"tickLine",vt);ve&&re.attr(ve)}}else Gt&&Gt.attr(Pt.style),re&&re.attr(Zt.style)},bt}(nt),vr=xr;function Ze(Kt,bt,R,$){var vt=bt.getChildren(),Pt=!1;return(0,m.each)(vt,function(Gt){var Zt=Se(Kt,Gt,R,$);Pt=Pt||Zt}),Pt}function br(){return dr}function Lr(Kt,bt,R){return Ze(Kt,bt,R,"head")}function dr(Kt,bt,R){return Ze(Kt,bt,R,"tail")}function cr(Kt,bt,R){return Ze(Kt,bt,R,"middle")}function Yr(Kt){var bt=Kt.attr("matrix");return bt&&bt[0]!==1}function Or(Kt,bt,R,$,vt){vt===void 0&&(vt=!1);var Pt=!1;if(Kt)Pt=Math.abs(R.y-$.y)<R.height;else if(bt){var Gt=vt?$.height:R.height;Pt=Math.abs(R.x-$.x)<Gt}else{var Zt=vt?$.width:R.width;Pt=Math.abs(R.x-$.x)<Zt}return Pt}function fn(Kt,bt,R){var $=bt.getChildren().slice();if(!$.length)return!1;var vt=!1;R&&$.reverse();for(var Pt=$.length,Gt=$[0],Zt=Yr(Gt),re=Gt.getBBox(),ie=1;ie<Pt;ie++){var ve=$[ie],be=ve.getBBox(),Ie=Or(Kt,Zt,re,be,R);Ie?(ve.hide(),vt=!0):re=be}return vt}function Rn(){return Tn}function _n(Kt,bt){return fn(Kt,bt,!1)}function $n(Kt,bt){return fn(Kt,bt,!0)}function Qn(Kt,bt){var R=bt.getChildren().slice();if(R.length<=2)return!1;for(var $=!1,vt=R.length,Pt=R[0],Gt=R[vt-1],Zt=Yr(Pt),re=Pt.getBBox(),ie=Pt,ve=1;ve<vt-1;ve++){var be=R[ve],Ie=be.getBBox(),Ge=Or(Kt,Zt,re,Ie);Ge?(be.hide(),$=!0):(re=Ie,ie=be)}var rr=Gt.getBBox(),Mr=Or(Kt,Zt,re,rr);return Mr&&(ie.hide(),$=!0),$}function Tn(Kt,bt){var R=bt.getChildren().slice();if(R.length<2)return!1;var $=!1,vt=R[0],Pt=vt.getBBox(),Gt=R[1],Zt=Yr(vt),re=R.length,ie=0;if(Kt){var ve=Math.abs(Gt.attr("y")-vt.attr("y"));ie=Pt.height/ve}else if(Zt){var ve=Math.abs(Gt.attr("x")-vt.attr("x"));ie=Pt.width/ve}else{var be=Xt(R),ve=Math.abs(Gt.attr("x")-vt.attr("x"));ie=be/ve}if(ie>1){ie=Math.ceil(ie);for(var Ie=0;Ie<re;Ie++)Ie%ie!=0&&(R[Ie].hide(),$=!0)}return $}function gi(Kt,bt){(0,m.each)(Kt,function(R){var $=R.attr("x"),vt=R.attr("y"),Pt=q({x:$,y:vt},bt);R.attr("matrix",Pt)})}function Kr(Kt,bt,R,$){var vt=bt.getChildren();if(!vt.length||!Kt&&vt.length<2)return!1;var Pt=Xt(vt),Gt=!1;if(Kt)Gt=!!R&&Pt>R;else{var Zt=Math.abs(vt[1].attr("x")-vt[0].attr("x"));Gt=Pt>Zt}if(Gt){var re=$(R,Pt);gi(vt,re)}return Gt}function zn(){return Mi}function Mi(Kt,bt,R){return Kr(Kt,bt,R,function(){return Kt?Oe.verticalAxisRotate:Oe.horizontalAxisRotate})}function Gn(Kt,bt,R){return Kr(Kt,bt,R,function($,vt){if(!$)return Kt?Oe.verticalAxisRotate:Oe.horizontalAxisRotate;if(Kt)return-Math.acos($/vt);var Pt=0;return $>vt?Pt=Math.PI/4:(Pt=Math.asin($/vt),Pt>Math.PI/4&&(Pt=Math.PI/4)),Pt})}var Oi=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{type:"line",locationType:"region",start:null,end:null})},bt.prototype.getLinePath=function(){var R=this.get("start"),$=this.get("end"),vt=[];return vt.push(["M",R.x,R.y]),vt.push(["L",$.x,$.y]),vt},bt.prototype.getInnerLayoutBBox=function(){var R=this.get("start"),$=this.get("end"),vt=Kt.prototype.getInnerLayoutBBox.call(this),Pt=Math.min(R.x,$.x,vt.x),Gt=Math.min(R.y,$.y,vt.y),Zt=Math.max(R.x,$.x,vt.maxX),re=Math.max(R.y,$.y,vt.maxY);return{x:Pt,y:Gt,minX:Pt,minY:Gt,maxX:Zt,maxY:re,width:Zt-Pt,height:re-Gt}},bt.prototype.isVertical=function(){var R=this.get("start"),$=this.get("end");return(0,m.isNumberEqual)(R.x,$.x)},bt.prototype.isHorizontal=function(){var R=this.get("start"),$=this.get("end");return(0,m.isNumberEqual)(R.y,$.y)},bt.prototype.getTickPoint=function(R){var $=this,vt=$.get("start"),Pt=$.get("end"),Gt=Pt.x-vt.x,Zt=Pt.y-vt.y;return{x:vt.x+Gt*R,y:vt.y+Zt*R}},bt.prototype.getSideVector=function(R){var $=this.getAxisVector(),vt=D.normalize([0,0],$),Pt=this.get("verticalFactor"),Gt=[vt[1],vt[0]*-1];return D.scale([0,0],Gt,R*Pt)},bt.prototype.getAxisVector=function(){var R=this.get("start"),$=this.get("end");return[$.x-R.x,$.y-R.y]},bt.prototype.processOverlap=function(R){var $=this,vt=this.isVertical(),Pt=this.isHorizontal();if(!(!vt&&!Pt)){var Gt=this.get("label"),Zt=this.get("title"),re=this.get("verticalLimitLength"),ie=Gt.offset,ve=re,be=0,Ie=0;Zt&&(be=Zt.style.fontSize,Ie=Zt.spacing),ve&&(ve=ve-ie-Ie-be);var Ge=this.get("overlapOrder");if((0,m.each)(Ge,function(gr){Gt[gr]&&$.autoProcessOverlap(gr,Gt[gr],R,ve)}),Zt){var rr=R.getBBox(),Mr=vt?rr.width:rr.height;(0,m.isNil)(Zt.offset)&&(Zt.offset=ie+Mr+Ie+be/2)}}},bt.prototype.autoProcessOverlap=function(R,$,vt,Pt){var Gt=this,Zt=this.isVertical(),re=!1,ie=T[R];if($===!0?re=ie.getDefault()(Zt,vt,Pt):(0,m.isFunction)($)?re=$(Zt,vt,Pt):ie[$]&&(re=ie[$](Zt,vt,Pt)),R==="autoRotate"){if(re){var ve=vt.getChildren(),be=this.get("verticalFactor");(0,m.each)(ve,function(Ge){var rr=Ge.attr("textAlign");if(rr==="center"){var Mr=be>0?"end":"start";Ge.attr("textAlign",Mr)}})}}else if(R==="autoHide"){var Ie=vt.getChildren().slice(0);(0,m.each)(Ie,function(Ge){Ge.get("visible")||(Gt.get("isRegister")&&Gt.unregisterElement(Ge),Ge.remove())})}},bt}(vr),Ii=Oi,Ar=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},bt.prototype.getLinePath=function(){var R=this.get("center"),$=R.x,vt=R.y,Pt=this.get("radius"),Gt=Pt,Zt=this.get("startAngle"),re=this.get("endAngle"),ie=[];if(Math.abs(re-Zt)===Math.PI*2)ie=[["M",$,vt-Gt],["A",Pt,Gt,0,1,1,$,vt+Gt],["A",Pt,Gt,0,1,1,$,vt-Gt],["Z"]];else{var ve=this.getCirclePoint(Zt),be=this.getCirclePoint(re),Ie=Math.abs(re-Zt)>Math.PI?1:0,Ge=Zt>re?0:1;ie=[["M",$,vt],["L",ve.x,ve.y],["A",Pt,Gt,0,Ie,Ge,be.x,be.y],["L",$,vt]]}return ie},bt.prototype.getTickPoint=function(R){var $=this.get("startAngle"),vt=this.get("endAngle"),Pt=$+(vt-$)*R;return this.getCirclePoint(Pt)},bt.prototype.getSideVector=function(R,$){var vt=this.get("center"),Pt=[$.x-vt.x,$.y-vt.y],Gt=this.get("verticalFactor"),Zt=D.length(Pt);return D.scale(Pt,Pt,Gt*R/Zt),Pt},bt.prototype.getAxisVector=function(R){var $=this.get("center"),vt=[R.x-$.x,R.y-$.y];return[vt[1],-1*vt[0]]},bt.prototype.getCirclePoint=function(R,$){var vt=this.get("center");return $=$||this.get("radius"),{x:vt.x+Math.cos(R)*$,y:vt.y+Math.sin(R)*$}},bt}(vr),ki=Ar,Vi=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:Oe.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:Oe.textColor,textAlign:"center",textBaseline:"middle",fontFamily:Oe.fontFamily}},textBackground:{padding:5,style:{stroke:Oe.lineColor}}}})},bt.prototype.renderInner=function(R){this.get("line")&&this.renderLine(R),this.get("text")&&(this.renderText(R),this.renderBackground(R))},bt.prototype.renderText=function(R){var $=this.get("text"),vt=$.style,Pt=$.autoRotate,Gt=$.content;if(!(0,m.isNil)(Gt)){var Zt=this.getTextPoint(),re=null;if(Pt){var ie=this.getRotateAngle();re=q(Zt,ie)}this.addShape(R,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,w.__assign)((0,w.__assign)((0,w.__assign)({},Zt),{text:Gt,matrix:re}),vt)})}},bt.prototype.renderLine=function(R){var $=this.getLinePath(),vt=this.get("line"),Pt=vt.style;this.addShape(R,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,w.__assign)({path:$},Pt)})},bt.prototype.renderBackground=function(R){var $=this.getElementId("text"),vt=R.findById($),Pt=this.get("textBackground");if(Pt&&vt){var Gt=vt.getBBox(),Zt=Ht(Pt.padding),re=Pt.style,ie=this.addShape(R,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,w.__assign)({x:Gt.x-Zt[3],y:Gt.y-Zt[0],width:Gt.width+Zt[1]+Zt[3],height:Gt.height+Zt[0]+Zt[2],matrix:vt.attr("matrix")},re)});ie.toBack()}},bt}(nt),Bi=Vi,dn=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{type:"line",locationType:"region",start:null,end:null})},bt.prototype.getRotateAngle=function(){var R=this.getLocation(),$=R.start,vt=R.end,Pt=this.get("text").position,Gt=Math.atan2(vt.y-$.y,vt.x-$.x),Zt=Pt==="start"?Gt-Math.PI/2:Gt+Math.PI/2;return Zt},bt.prototype.getTextPoint=function(){var R=this.getLocation(),$=R.start,vt=R.end,Pt=this.get("text"),Gt=Pt.position,Zt=Pt.offset;return At($,vt,Gt,Zt)},bt.prototype.getLinePath=function(){var R=this.getLocation(),$=R.start,vt=R.end;return[["M",$.x,$.y],["L",vt.x,vt.y]]},bt}(Bi),oi=dn,Di=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},bt.prototype.getRotateAngle=function(){var R=this.getLocation(),$=R.startAngle,vt=R.endAngle,Pt=this.get("text").position,Gt=Pt==="start"?$+Math.PI/2:vt-Math.PI/2;return Gt},bt.prototype.getTextPoint=function(){var R=this.get("text"),$=R.position,vt=R.offset,Pt=this.getLocation(),Gt=Pt.center,Zt=Pt.radius,re=Pt.startAngle,ie=Pt.endAngle,ve=$==="start"?re:ie,be=this.getRotateAngle()-Math.PI,Ie=U(Gt,Zt,ve),Ge=Math.cos(be)*vt,rr=Math.sin(be)*vt;return{x:Ie.x+Ge,y:Ie.y+rr}},bt.prototype.getLinePath=function(){var R=this.getLocation(),$=R.center,vt=R.radius,Pt=R.startAngle,Gt=R.endAngle,Zt=null;if(Gt-Pt==Math.PI*2){var re=$.x,ie=$.y;Zt=[["M",re,ie-vt],["A",vt,vt,0,1,1,re,ie+vt],["A",vt,vt,0,1,1,re,ie-vt],["Z"]]}else{var ve=U($,vt,Pt),be=U($,vt,Gt),Ie=Math.abs(Gt-Pt)>Math.PI?1:0,Ge=Pt>Gt?0:1;Zt=[["M",ve.x,ve.y],["A",vt,vt,0,Ie,Ge,be.x,be.y]]}return Zt},bt}(Bi),Un=Di,Jn=v(6056),hn=v(45442),Ei=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},bt.prototype.getContainer=function(){return this.get("container")},bt.prototype.show=function(){var R=this.get("container");R.style.display="",this.set("visible",!0)},bt.prototype.hide=function(){var R=this.get("container");R.style.display="none",this.set("visible",!1)},bt.prototype.setCapture=function(R){var $=this.getContainer(),vt=R?"auto":"none";$.style.pointerEvents=vt,this.set("capture",R)},bt.prototype.getBBox=function(){var R=this.getContainer(),$=parseFloat(R.style.left)||0,vt=parseFloat(R.style.top)||0;return lt($,vt,R.clientWidth,R.clientHeight)},bt.prototype.clear=function(){var R=this.get("container");N(R)},bt.prototype.destroy=function(){this.removeEvent(),this.removeDom(),Kt.prototype.destroy.call(this)},bt.prototype.init=function(){Kt.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},bt.prototype.initCapture=function(){this.setCapture(this.get("capture"))},bt.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},bt.prototype.initDom=function(){},bt.prototype.initContainer=function(){var R=this.get("container");if((0,m.isNil)(R)){R=this.createDom();var $=this.get("parent");(0,m.isString)($)&&($=document.getElementById($),this.set("parent",$)),$.appendChild(R),this.set("container",R)}else(0,m.isString)(R)&&(R=document.getElementById(R),this.set("container",R));this.get("parent")||this.set("parent",R.parentNode)},bt.prototype.resetStyles=function(){var R=this.get("domStyles"),$=this.get("defaultStyles");R?R=(0,m.deepMix)({},$,R):R=$,this.set("domStyles",R)},bt.prototype.applyStyles=function(){var R=this.get("domStyles");if(!!R){var $=this.getContainer();this.applyChildrenStyles($,R);var vt=this.get("containerClassName");if(vt&&W($,vt)){var Pt=R[vt];(0,hn.Z)($,Pt)}}},bt.prototype.applyChildrenStyles=function(R,$){(0,m.each)($,function(vt,Pt){var Gt=R.getElementsByClassName(Pt);(0,m.each)(Gt,function(Zt){(0,hn.Z)(Zt,vt)})})},bt.prototype.applyStyle=function(R,$){var vt=this.get("domStyles");(0,hn.Z)($,vt[R])},bt.prototype.createDom=function(){var R=this.get("containerTpl");return(0,Jn.Z)(R)},bt.prototype.initEvent=function(){},bt.prototype.removeDom=function(){var R=this.get("container");R&&R.parentNode.removeChild(R)},bt.prototype.removeEvent=function(){},bt.prototype.updateInner=function(R){(0,m.hasKey)(R,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},bt.prototype.resetPosition=function(){},bt}(ot),Hi=Ei,Nt="g2-crosshair",kt=Nt+"-line",gt=Nt+"-text",Et,et=(Et={},Et[""+Nt]={position:"relative"},Et[""+kt]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Et[""+gt]={position:"absolute",color:Oe.textColor,fontFamily:Oe.fontFamily},Et),ht=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Nt+'"></div>',crosshairTpl:'<div class="'+kt+'"></div>',textTpl:'<span class="'+gt+'">{content}</span>',domStyles:null,containerClassName:Nt,defaultStyles:et,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},bt.prototype.render=function(){this.resetText(),this.resetPosition()},bt.prototype.initCrossHair=function(){var R=this.getContainer(),$=this.get("crosshairTpl"),vt=(0,Jn.Z)($);R.appendChild(vt),this.applyStyle(kt,vt),this.set("crosshairEl",vt)},bt.prototype.getTextPoint=function(){var R=this.getLocation(),$=R.start,vt=R.end,Pt=this.get("text"),Gt=Pt.position,Zt=Pt.offset;return At($,vt,Gt,Zt)},bt.prototype.resetText=function(){var R=this.get("text"),$=this.get("textEl");if(R){var vt=R.content;if(!$){var Pt=this.getContainer(),Gt=(0,m.substitute)(this.get("textTpl"),R);$=(0,Jn.Z)(Gt),Pt.appendChild($),this.applyStyle(gt,$),this.set("textEl",$)}$.innerHTML=vt}else $&&$.remove()},bt.prototype.isVertical=function(R,$){return R.x===$.x},bt.prototype.resetPosition=function(){var R=this.get("crosshairEl");R||(this.initCrossHair(),R=this.get("crosshairEl"));var $=this.get("start"),vt=this.get("end"),Pt=Math.min($.x,vt.x),Gt=Math.min($.y,vt.y);this.isVertical($,vt)?(0,hn.Z)(R,{width:"1px",height:wt(Math.abs(vt.y-$.y))}):(0,hn.Z)(R,{height:"1px",width:wt(Math.abs(vt.x-$.x))}),(0,hn.Z)(R,{top:wt(Gt),left:wt(Pt)}),this.alignText()},bt.prototype.alignText=function(){var R=this.get("textEl");if(R){var $=this.get("text").align,vt=R.clientWidth,Pt=this.getTextPoint();switch($){case"center":Pt.x=Pt.x-vt/2;break;case"right":Pt.x=Pt.x-vt;case"left":break}(0,hn.Z)(R,{top:wt(Pt.y),left:wt(Pt.x)})}},bt.prototype.updateInner=function(R){(0,m.hasKey)(R,"text")&&this.resetText(),Kt.prototype.updateInner.call(this,R)},bt}(Hi),Mt=ht,Bt=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:Oe.lineColor}}}})},bt.prototype.getLineType=function(){var R=this.get("line")||this.get("defaultCfg").line;return R.type},bt.prototype.renderInner=function(R){this.drawGrid(R)},bt.prototype.getAlternatePath=function(R,$){var vt=this.getGridPath(R),Pt=$.slice(0).reverse(),Gt=this.getGridPath(Pt,!0),Zt=this.get("closed");return Zt?vt=vt.concat(Gt):(Gt[0][0]="L",vt=vt.concat(Gt),vt.push(["Z"])),vt},bt.prototype.getPathStyle=function(){return this.get("line").style},bt.prototype.drawGrid=function(R){var $=this,vt=this.get("line"),Pt=this.get("items"),Gt=this.get("alternateColor"),Zt=null;(0,m.each)(Pt,function(re,ie){var ve=re.id||ie;if(vt){var be=$.getPathStyle(),Ie=$.getElementId("line-"+ve),Ge=$.getGridPath(re.points);$.addShape(R,{type:"path",name:"grid-line",id:Ie,attrs:(0,m.mix)({path:Ge},be)})}if(Gt&&ie>0){var rr=$.getElementId("region-"+ve),Mr=ie%2==0;if((0,m.isString)(Gt))Mr&&$.drawAlternateRegion(rr,R,Zt.points,re.points,Gt);else{var gr=Mr?Gt[1]:Gt[0];$.drawAlternateRegion(rr,R,Zt.points,re.points,gr)}}Zt=re})},bt.prototype.drawAlternateRegion=function(R,$,vt,Pt,Gt){var Zt=this.getAlternatePath(vt,Pt);this.addShape($,{type:"path",id:R,name:"grid-region",attrs:{path:Zt,fill:Gt}})},bt}(nt),Ft=Bt;function jt(Kt,bt,R,$){var vt=R-Kt,Pt=$-bt;return Math.sqrt(vt*vt+Pt*Pt)}var ne=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{type:"circle",center:null,closed:!0})},bt.prototype.getGridPath=function(R,$){var vt=this.getLineType(),Pt=this.get("closed"),Gt=[];if(R.length)if(vt==="circle"){var Zt=this.get("center"),re=R[0],ie=jt(Zt.x,Zt.y,re.x,re.y),ve=$?0:1;Pt?(Gt.push(["M",Zt.x,Zt.y-ie]),Gt.push(["A",ie,ie,0,0,ve,Zt.x,Zt.y+ie]),Gt.push(["A",ie,ie,0,0,ve,Zt.x,Zt.y-ie]),Gt.push(["Z"])):(0,m.each)(R,function(be,Ie){Ie===0?Gt.push(["M",be.x,be.y]):Gt.push(["A",ie,ie,0,0,ve,be.x,be.y])})}else(0,m.each)(R,function(be,Ie){Ie===0?Gt.push(["M",be.x,be.y]):Gt.push(["L",be.x,be.y])}),Pt&&Gt.push(["Z"]);return Gt},bt}(Ft),le=ne,Ae=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{type:"line"})},bt.prototype.getGridPath=function(R){var $=[];return(0,m.each)(R,function(vt,Pt){Pt===0?$.push(["M",vt.x,vt.y]):$.push(["L",vt.x,vt.y])}),$},bt}(Ft),ye=Ae,de=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},bt.prototype.getLayoutBBox=function(){var R=Kt.prototype.getLayoutBBox.call(this),$=this.get("x"),vt=this.get("y"),Pt=this.get("offsetX"),Gt=this.get("offsetY"),Zt=this.get("maxWidth"),re=this.get("maxHeight"),ie=$+Pt,ve=vt+Gt,be=R.maxX-ie,Ie=R.maxY-ve;return Zt&&(be=Math.min(be,Zt)),re&&(Ie=Math.min(Ie,re)),lt(ie,ve,be,Ie)},bt.prototype.setLocation=function(R){this.set("x",R.x),this.set("y",R.y),this.resetLocation()},bt.prototype.resetLocation=function(){var R=this.get("x"),$=this.get("y"),vt=this.get("offsetX"),Pt=this.get("offsetY");this.moveElementTo(this.get("group"),{x:R+vt,y:$+Pt})},bt.prototype.applyOffset=function(){this.resetLocation()},bt.prototype.getDrawPoint=function(){return this.get("currentPoint")},bt.prototype.setDrawPoint=function(R){return this.set("currentPoint",R)},bt.prototype.renderInner=function(R){this.resetDraw(),this.get("title")&&this.drawTitle(R),this.drawLegendContent(R),this.get("background")&&this.drawBackground(R)},bt.prototype.drawBackground=function(R){var $=this.get("background"),vt=R.getBBox(),Pt=Ht($.padding),Gt=(0,w.__assign)({x:0,y:0,width:vt.width+Pt[1]+Pt[3],height:vt.height+Pt[0]+Pt[2]},$.style),Zt=this.addShape(R,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:Gt});Zt.toBack()},bt.prototype.drawTitle=function(R){var $=this.get("currentPoint"),vt=this.get("title"),Pt=vt.spacing,Gt=vt.style,Zt=vt.text,re=this.addShape(R,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,w.__assign)({text:Zt,x:$.x,y:$.y},Gt)}),ie=re.getBBox();this.set("currentPoint",{x:$.x,y:ie.maxY+Pt})},bt.prototype.resetDraw=function(){var R=this.get("background"),$={x:0,y:0};if(R){var vt=Ht(R.padding);$.x=vt[3],$.y=vt[0]}this.set("currentPoint",$)},bt}(nt),Ue=de,qe=function(Kt){(0,w.__extends)(bt,Kt);function bt(){var R=Kt!==null&&Kt.apply(this,arguments)||this;return R.currentPageIndex=1,R.totalPagesCnt=1,R.pageWidth=0,R.pageHeight=0,R.startX=0,R.startY=0,R.onNavigationBack=function(){var $=R.getElementByLocalId("item-group");if(R.currentPageIndex>1){R.currentPageIndex-=1,R.updateNavigation();var vt=R.getCurrentNavigationMatrix();R.get("animate")?$.animate({matrix:vt},100):$.attr({matrix:vt})}},R.onNavigationAfter=function(){var $=R.getElementByLocalId("item-group");if(R.currentPageIndex<R.totalPagesCnt){R.currentPageIndex+=1,R.updateNavigation();var vt=R.getCurrentNavigationMatrix();R.get("animate")?$.animate({matrix:vt},100):$.attr({matrix:vt})}},R}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"legend",type:"category",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:Oe.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:Oe.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:Oe.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:Oe.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:Oe.uncheckedColor},markerStyle:{fill:Oe.uncheckedColor,stroke:Oe.uncheckedColor}},inactive:{nameStyle:{fill:Oe.uncheckedColor},markerStyle:{opacity:.2}}}}})},bt.prototype.isList=function(){return!0},bt.prototype.getItems=function(){return this.get("items")},bt.prototype.setItems=function(R){this.update({items:R})},bt.prototype.updateItem=function(R,$){(0,m.mix)(R,$),this.clear(),this.render()},bt.prototype.clearItems=function(){var R=this.getElementByLocalId("item-group");R&&R.clear()},bt.prototype.setItemState=function(R,$,vt){R[$]=vt;var Pt=this.getElementByLocalId("item-"+R.id);if(Pt){var Gt=this.getItems(),Zt=Gt.indexOf(R),re=this.createOffScreenGroup(),ie=this.drawItem(R,Zt,this.getItemHeight(),re);this.updateElements(ie,Pt),this.clearUpdateStatus(Pt)}},bt.prototype.hasState=function(R,$){return!!R[$]},bt.prototype.getItemStates=function(R){var $=this.get("itemStates"),vt=[];return(0,m.each)($,function(Pt,Gt){R[Gt]&&vt.push(Gt)}),vt},bt.prototype.clearItemsState=function(R){var $=this,vt=this.getItemsByState(R);(0,m.each)(vt,function(Pt){$.setItemState(Pt,R,!1)})},bt.prototype.getItemsByState=function(R){var $=this,vt=this.getItems();return(0,m.filter)(vt,function(Pt){return $.hasState(Pt,R)})},bt.prototype.drawLegendContent=function(R){this.processItems(),this.drawItems(R)},bt.prototype.processItems=function(){var R=this.get("items");(0,m.each)(R,function($){$.id||($.id=$.name)})},bt.prototype.drawItems=function(R){var $=this,vt=this.addGroup(R,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),Pt=this.addGroup(vt,{id:this.getElementId("item-group"),name:"legend-item-group"}),Gt=this.getItemHeight(),Zt=this.get("itemWidth"),re=this.get("itemSpacing"),ie=this.get("currentPoint"),ve=ie.x,be=ie.y,Ie=this.get("layout"),Ge=this.get("items"),rr=!1,Mr=0,gr=this.get("maxWidth"),Vr=this.get("maxHeight");(0,m.each)(Ge,function(Wr,Hr){var Rt=$.drawItem(Wr,Hr,Gt,Pt),te=Rt.getBBox(),ce=Zt||te.width;ce>Mr&&(Mr=ce),Ie==="horizontal"?(gr&&gr<ie.x+ce-ve&&(rr=!0,ie.x=ve,ie.y+=Gt),$.moveElementTo(Rt,ie),ie.x+=ce+re):(Vr&&Vr<ie.y+Gt-be&&(rr=!0,ie.x+=Mr+re,ie.y=be,Mr=0),$.moveElementTo(Rt,ie),ie.y+=Gt)}),rr&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=ve,this.startY=be,this.adjustNavigation(R,Pt))},bt.prototype.getItemHeight=function(){var R=this.get("itemHeight");if(!R){var $=this.get("itemName");$&&(R=$.style.fontSize+8)}return R},bt.prototype.drawMarker=function(R,$,vt,Pt){var Gt=(0,w.__assign)((0,w.__assign)((0,w.__assign)({x:0,y:Pt/2},$.style),{symbol:(0,m.get)(vt.marker,"symbol","circle")}),(0,m.get)(vt.marker,"style",{})),Zt=this.addShape(R,{type:"marker",id:this.getElementId("item-"+vt.id+"-marker"),name:"legend-item-marker",attrs:Gt}),re=Zt.getBBox();Zt.attr("x",re.width/2);var ie=Zt.attr(),ve=ie.stroke,be=ie.fill;return ve&&Zt.set("isStroke",!0),be&&Zt.set("isFill",!0),Zt},bt.prototype.drawItemText=function(R,$,vt,Pt,Gt,Zt,re){var ie=vt.formatter,ve=(0,w.__assign)({x:Zt,y:Gt/2,text:ie?ie(Pt[$],Pt,re):Pt[$]},vt.style);return this.addShape(R,{type:"text",id:this.getElementId("item-"+Pt.id+"-"+$),name:"legend-item-"+$,attrs:ve})},bt.prototype.drawItem=function(R,$,vt,Pt){var Gt="item-"+R.id,Zt=this.addGroup(Pt,{name:"legend-item-container",id:this.getElementId("item-container-"+Gt),delegateObject:{item:R,index:$}}),re=this.addGroup(Zt,{name:"legend-item",id:this.getElementId(Gt),delegateObject:{item:R,index:$}}),ie=this.get("marker"),ve=this.get("itemName"),be=this.get("itemValue"),Ie=this.get("itemBackground"),Ge=this.getLimitItemWidth(),rr=0;if(ie){var Mr=this.drawMarker(re,ie,R,vt);rr=Mr.getBBox().maxX+ie.spacing}if(ve){var gr=this.drawItemText(re,"name",ve,R,vt,rr,$);Ge&&Se(!0,gr,(0,m.clamp)(Ge-rr,0,Ge)),rr=gr.getBBox().maxX+ve.spacing}if(be){var Vr=this.drawItemText(re,"value",be,R,vt,rr,$);Ge&&(be.alignRight?(Vr.attr({textAlign:"right",x:Ge}),Se(!0,Vr,(0,m.clamp)(Ge-rr,0,Ge),"head")):Se(!0,Vr,(0,m.clamp)(Ge-rr,0,Ge)))}if(Ie){var Wr=re.getBBox(),Hr=this.addShape(re,{type:"rect",name:"legend-item-background",id:this.getElementId(Gt+"-background"),attrs:(0,w.__assign)({x:0,y:0,width:Wr.width,height:vt},Ie.style)});Hr.toBack()}return this.applyItemStates(R,re),re},bt.prototype.adjustNavigation=function(R,$){var vt=this,Pt=this.startX,Gt=this.startY,Zt=this.get("layout"),re=$.findAll(function(ce){return ce.get("name")==="legend-item"}),ie=this.get("maxWidth"),ve=this.get("maxHeight"),be=this.get("itemWidth"),Ie=this.get("itemSpacing"),Ge=this.getItemHeight(),rr=this.drawNavigation(R,Zt,"00/00",12),Mr=rr.getBBox(),gr={x:Pt,y:Gt},Vr=1,Wr=0,Hr=0,Rt=0;if(Zt==="horizontal")this.pageHeight=Ge,(0,m.each)(re,function(ce){var pe=ce.getBBox(),Le=be||pe.width;(Wr&&Wr<gr.x+Le+Ie||ie<gr.x+Le+Ie+Mr.width)&&(Vr===1&&(Wr=gr.x+Ie,vt.pageWidth=Wr,vt.moveElementTo(rr,{x:ie-Ie-Mr.width-Mr.minX,y:gr.y+Ge/2-Mr.height/2-Mr.minY})),Vr+=1,gr.x=Pt,gr.y+=Ge),vt.moveElementTo(ce,gr),ce.getParent().setClip({type:"rect",attrs:{x:gr.x,y:gr.y,width:Le+Ie,height:Ge}}),gr.x+=Le+Ie});else{(0,m.each)(re,function(ce){var pe=ce.getBBox();pe.width>Hr&&(Hr=pe.width)}),Rt=Hr,Hr+=Ie,ie&&(Hr=Math.min(ie,Hr),Rt=Math.min(ie,Rt)),this.pageWidth=Hr,this.pageHeight=ve-Math.max(Mr.height,Ge);var te=Math.floor(this.pageHeight/Ge);(0,m.each)(re,function(ce,pe){pe!==0&&pe%te==0&&(Vr+=1,gr.x+=Hr,gr.y=Gt),vt.moveElementTo(ce,gr),ce.getParent().setClip({type:"rect",attrs:{x:gr.x,y:gr.y,width:Hr,height:Ge}}),gr.y+=Ge}),this.totalPagesCnt=Vr,this.moveElementTo(rr,{x:Pt+Rt/2-Mr.width/2-Mr.minX,y:ve-Mr.height-Mr.minY})}this.pageHeight&&this.pageWidth&&$.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=Vr,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(rr),$.attr("matrix",this.getCurrentNavigationMatrix())},bt.prototype.drawNavigation=function(R,$,vt,Pt){var Gt={x:0,y:0},Zt=this.addGroup(R,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),re=this.drawArrow(Zt,Gt,"navigation-arrow-left",$==="horizontal"?"up":"left",Pt);re.on("click",this.onNavigationBack);var ie=re.getBBox();Gt.x+=ie.width+2;var ve=this.addShape(Zt,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:Gt.x,y:Gt.y+Pt/2,text:vt,fontSize:12,fill:"#ccc",textBaseline:"middle"}}),be=ve.getBBox();Gt.x+=be.width+2;var Ie=this.drawArrow(Zt,Gt,"navigation-arrow-right",$==="horizontal"?"down":"right",Pt);return Ie.on("click",this.onNavigationAfter),Zt},bt.prototype.updateNavigation=function(R){var $=this.currentPageIndex+"/"+this.totalPagesCnt,vt=R?R.getChildren()[1]:this.getElementByLocalId("navigation-text"),Pt=R?R.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),Gt=R?R.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),Zt=vt.getBBox();vt.attr("text",$);var re=vt.getBBox();vt.attr("x",vt.attr("x")-(re.width-Zt.width)/2),Pt.attr("opacity",this.currentPageIndex===1?.45:1),Pt.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),Gt.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),Gt.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},bt.prototype.drawArrow=function(R,$,vt,Pt,Gt){var Zt=$.x,re=$.y,ie={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},ve=this.addShape(R,{type:"path",id:this.getElementId(vt),name:vt,attrs:{path:[["M",Zt+Gt/2,re],["L",Zt,re+Gt],["L",Zt+Gt,re+Gt],["Z"]],fill:"#000",cursor:"pointer"}});return ve.attr("matrix",q({x:Zt+Gt/2,y:re+Gt/2},ie[Pt])),ve},bt.prototype.getCurrentNavigationMatrix=function(){var R=this,$=R.currentPageIndex,vt=R.pageWidth,Pt=R.pageHeight,Gt=this.get("layout"),Zt=Gt==="horizontal"?{x:0,y:Pt*(1-$)}:{x:vt*(1-$),y:0};return K(Zt)},bt.prototype.applyItemStates=function(R,$){var vt=this.getItemStates(R),Pt=vt.length>0;if(Pt){var Gt=$.getChildren(),Zt=this.get("itemStates");(0,m.each)(Gt,function(re){var ie=re.get("name"),ve=ie.split("-")[2],be=Ne(R,ve,Zt);be&&(re.attr(be),ve==="marker"&&!(re.get("isStroke")&&re.get("isFill"))&&(re.get("isStroke")&&re.attr("fill",null),re.get("isFill")&&re.attr("stroke",null)))})}},bt.prototype.getLimitItemWidth=function(){var R=this.get("itemWidth"),$=this.get("maxItemWidth");return $?R&&($=R<=$?R:$):R&&($=R),$},bt}(Ue),wr=qe,ur=1.4,Ke=.4,We=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:Oe.textColor,textBaseline:"middle",fontFamily:Oe.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:Oe.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},bt.prototype.isSlider=function(){return!0},bt.prototype.getValue=function(){return this.getCurrentValue()},bt.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},bt.prototype.setRange=function(R,$){this.update({min:R,max:$})},bt.prototype.setValue=function(R){var $=this.getValue();this.set("value",R);var vt=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(vt),this.delegateEmit("valuechanged",{originValue:$,value:R})},bt.prototype.initEvent=function(){var R=this.get("group");this.bindSliderEvent(R),this.bindRailEvent(R),this.bindTrackEvent(R)},bt.prototype.drawLegendContent=function(R){this.drawRail(R),this.drawLabels(R),this.fixedElements(R),this.resetTrack(R),this.resetTrackClip(R),this.get("slidable")&&this.resetHandlers(R)},bt.prototype.bindSliderEvent=function(R){this.bindHandlersEvent(R)},bt.prototype.bindHandlersEvent=function(R){var $=this;R.on("legend-handler-min:drag",function(vt){var Pt=$.getValueByCanvasPoint(vt.x,vt.y),Gt=$.getCurrentValue(),Zt=Gt[1];Zt<Pt&&(Zt=Pt),$.setValue([Pt,Zt])}),R.on("legend-handler-max:drag",function(vt){var Pt=$.getValueByCanvasPoint(vt.x,vt.y),Gt=$.getCurrentValue(),Zt=Gt[0];Zt>Pt&&(Zt=Pt),$.setValue([Zt,Pt])})},bt.prototype.bindRailEvent=function(R){},bt.prototype.bindTrackEvent=function(R){var $=this,vt=null;R.on("legend-track:dragstart",function(Pt){vt={x:Pt.x,y:Pt.y}}),R.on("legend-track:drag",function(Pt){if(!!vt){var Gt=$.getValueByCanvasPoint(vt.x,vt.y),Zt=$.getValueByCanvasPoint(Pt.x,Pt.y),re=$.getCurrentValue(),ie=re[1]-re[0],ve=$.getRange(),be=Zt-Gt;be<0?re[0]+be>ve.min?$.setValue([re[0]+be,re[1]+be]):$.setValue([ve.min,ve.min+ie]):be>0&&(be>0&&re[1]+be<ve.max?$.setValue([re[0]+be,re[1]+be]):$.setValue([ve.max-ie,ve.max])),vt={x:Pt.x,y:Pt.y}}}),R.on("legend-track:dragend",function(Pt){vt=null})},bt.prototype.drawLabels=function(R){this.drawLabel("min",R),this.drawLabel("max",R)},bt.prototype.drawLabel=function(R,$){var vt=this.get("label"),Pt=vt.style,Gt=vt.align,Zt=this.get(R),re=this.getLabelAlignAttrs(R,Gt),ie="label-"+R;this.addShape($,{type:"text",id:this.getElementId(ie),name:"legend-label-"+R,attrs:(0,w.__assign)((0,w.__assign)({x:0,y:0,text:Zt},Pt),re)})},bt.prototype.getLabelAlignAttrs=function(R,$){var vt=this.isVertical(),Pt="center",Gt="middle";return vt?(Pt="start",$!=="rail"?R==="min"?Gt="top":Gt="bottom":Gt="top"):$!=="rail"?(Gt="top",R==="min"?Pt="start":Pt="end"):(Pt="start",Gt="middle"),{textAlign:Pt,textBaseline:Gt}},bt.prototype.getRailPath=function(R,$,vt,Pt){var Gt=this.get("rail"),Zt=Gt.size,re=Gt.defaultLength,ie=Gt.type,ve=this.isVertical(),be=re,Ie=vt,Ge=Pt;Ie||(Ie=ve?Zt:be),Ge||(Ge=ve?be:Zt);var rr=[];return ie==="color"?(rr.push(["M",R,$]),rr.push(["L",R+Ie,$]),rr.push(["L",R+Ie,$+Ge]),rr.push(["L",R,$+Ge]),rr.push(["Z"])):(rr.push(["M",R+Ie,$]),rr.push(["L",R+Ie,$+Ge]),rr.push(["L",R,$+Ge]),rr.push(["Z"])),rr},bt.prototype.drawRail=function(R){var $=this.get("rail"),vt=$.style;this.addShape(R,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,w.__assign)({path:this.getRailPath(0,0)},vt)})},bt.prototype.getTrackColor=function(R){var $=R.length;if(!$)return null;if($===1)return R[0];var vt;this.isVertical()?vt="l(90)":vt="l(0)";for(var Pt=0;Pt<$;Pt++){var Gt=Pt/($-1);vt+=" "+Gt+":"+R[Pt]}return vt},bt.prototype.getTrackPath=function(R){var $=this.getRailShape(R),vt=$.attr("path");return(0,m.clone)(vt)},bt.prototype.getClipTrackAttrs=function(R){var $=this.getCurrentValue(),vt=$[0],Pt=$[1],Gt=this.getRailBBox(R),Zt=this.getPointByValue(vt,R),re=this.getPointByValue(Pt,R),ie=this.isVertical(),ve,be,Ie,Ge;return ie?(ve=Gt.minX,be=Zt.y,Ie=Gt.width,Ge=re.y-Zt.y):(ve=Zt.x,be=Gt.minY,Ie=re.x-Zt.x,Ge=Gt.height),{x:ve,y:be,width:Ie,height:Ge}},bt.prototype.getTrackAttrs=function(R){var $=this.get("track"),vt=this.get("colors"),Pt=this.getTrackPath(R);return(0,m.mix)({path:Pt,fill:this.getTrackColor(vt)},$.style)},bt.prototype.resetTrackClip=function(R){var $=R||this.get("group"),vt=this.getElementId("track"),Pt=$.findById(vt),Gt=Pt.getClip(),Zt=this.getClipTrackAttrs(R);Gt?Gt.attr(Zt):Pt.setClip({type:"rect",attrs:Zt})},bt.prototype.resetTrack=function(R){var $=this.getElementId("track"),vt=R.findById($),Pt=this.getTrackAttrs(R);vt?vt.attr(Pt):this.addShape(R,{type:"path",id:$,draggable:this.get("slidable"),name:"legend-track",attrs:Pt})},bt.prototype.getPointByValue=function(R,$){var vt=this.getRange(),Pt=vt.min,Gt=vt.max,Zt=(R-Pt)/(Gt-Pt),re=this.getRailBBox($),ie=this.isVertical(),ve={x:0,y:0};return ie?(ve.x=re.minX+re.width/2,ve.y=Z(re.minY,re.maxY,Zt)):(ve.x=Z(re.minX,re.maxX,Zt),ve.y=re.minY+re.height/2),ve},bt.prototype.getRailShape=function(R){var $=R||this.get("group");return $.findById(this.getElementId("rail"))},bt.prototype.getRailBBox=function(R){var $=this.getRailShape(R),vt=$.getBBox();return vt},bt.prototype.getRailCanvasBBox=function(){var R=this.get("group"),$=R.findById(this.getElementId("rail")),vt=$.getCanvasBBox();return vt},bt.prototype.isVertical=function(){return this.get("layout")==="vertical"},bt.prototype.getValueByCanvasPoint=function(R,$){var vt=this.getRange(),Pt=vt.min,Gt=vt.max,Zt=this.getRailCanvasBBox(),re=this.isVertical(),ie=this.get("step"),ve;re?ve=($-Zt.minY)/Zt.height:ve=(R-Zt.minX)/Zt.width;var be=Z(Pt,Gt,ve);if(ie){var Ie=Math.round((be-Pt)/ie);be=Pt+Ie*ie}return be>Gt&&(be=Gt),be<Pt&&(be=Pt),be},bt.prototype.getCurrentValue=function(){var R=this.get("value");return R||(R=[this.get("min"),this.get("max")]),R},bt.prototype.resetHandlers=function(R){var $=this.getCurrentValue(),vt=$[0],Pt=$[1];this.resetHandler(R,"min",vt),this.resetHandler(R,"max",Pt)},bt.prototype.getHandlerPath=function(R,$){var vt=this.isVertical(),Pt=[],Gt=R.size,Zt=$.x,re=$.y,ie=Gt*ur,ve=Gt/2,be=Gt/6;if(vt){var Ie=Zt+ie*Ke;Pt.push(["M",Zt,re]),Pt.push(["L",Ie,re+ve]),Pt.push(["L",Zt+ie,re+ve]),Pt.push(["L",Zt+ie,re-ve]),Pt.push(["L",Ie,re-ve]),Pt.push(["Z"]),Pt.push(["M",Ie,re+be]),Pt.push(["L",Zt+ie-2,re+be]),Pt.push(["M",Ie,re-be]),Pt.push(["L",Zt+ie-2,re-be])}else{var Ge=re+ie*Ke;Pt.push(["M",Zt,re]),Pt.push(["L",Zt-ve,Ge]),Pt.push(["L",Zt-ve,re+ie]),Pt.push(["L",Zt+ve,re+ie]),Pt.push(["L",Zt+ve,Ge]),Pt.push(["Z"]),Pt.push(["M",Zt-be,Ge]),Pt.push(["L",Zt-be,re+ie-2]),Pt.push(["M",Zt+be,Ge]),Pt.push(["L",Zt+be,re+ie-2])}return Pt},bt.prototype.resetHandler=function(R,$,vt){var Pt=this.getPointByValue(vt,R),Gt=this.get("handler"),Zt=this.getHandlerPath(Gt,Pt),re=this.getElementId("handler-"+$),ie=R.findById(re),ve=this.isVertical();ie?ie.attr("path",Zt):this.addShape(R,{type:"path",name:"legend-handler-"+$,draggable:!0,id:re,attrs:(0,w.__assign)((0,w.__assign)({path:Zt},Gt.style),{cursor:ve?"ns-resize":"ew-resize"})})},bt.prototype.fixedElements=function(R){var $=R.findById(this.getElementId("rail")),vt=R.findById(this.getElementId("label-min")),Pt=R.findById(this.getElementId("label-max")),Gt=this.getDrawPoint();this.isVertical()?this.fixedVertail(vt,Pt,$,Gt):this.fixedHorizontal(vt,Pt,$,Gt)},bt.prototype.fitRailLength=function(R,$,vt,Pt){var Gt=this.isVertical(),Zt=Gt?"height":"width",re=this.get("label"),ie=re.align,ve=re.spacing,be=this.get("max"+(0,m.upperFirst)(Zt));if(be){var Ie=ie==="rail"?vt[Zt]+R[Zt]+$[Zt]+ve*2:vt[Zt],Ge=Ie-be;Ge>0&&this.changeRailLength(Pt,Zt,vt[Zt]-Ge)}},bt.prototype.changeRailLength=function(R,$,vt){var Pt=R.getBBox(),Gt;$==="height"?Gt=this.getRailPath(Pt.x,Pt.y,Pt.width,vt):Gt=this.getRailPath(Pt.x,Pt.y,vt,Pt.height),R.attr("path",Gt)},bt.prototype.changeRailPosition=function(R,$,vt){var Pt=R.getBBox(),Gt=this.getRailPath($,vt,Pt.width,Pt.height);R.attr("path",Gt)},bt.prototype.fixedHorizontal=function(R,$,vt,Pt){var Gt=this.get("label"),Zt=Gt.align,re=Gt.spacing,ie=vt.getBBox(),ve=R.getBBox(),be=$.getBBox(),Ie=ie.height;this.fitRailLength(ve,be,ie,vt),ie=vt.getBBox(),Zt==="rail"?(R.attr({x:Pt.x,y:Pt.y+Ie/2}),this.changeRailPosition(vt,Pt.x+ve.width+re,Pt.y),$.attr({x:Pt.x+ve.width+ie.width+re*2,y:Pt.y+Ie/2})):Zt==="top"?(R.attr({x:Pt.x,y:Pt.y}),$.attr({x:Pt.x+ie.width,y:Pt.y}),this.changeRailPosition(vt,Pt.x,Pt.y+ve.height+re)):(this.changeRailPosition(vt,Pt.x,Pt.y),R.attr({x:Pt.x,y:Pt.y+ie.height+re}),$.attr({x:Pt.x+ie.width,y:Pt.y+ie.height+re}))},bt.prototype.fixedVertail=function(R,$,vt,Pt){var Gt=this.get("label"),Zt=Gt.align,re=Gt.spacing,ie=vt.getBBox(),ve=R.getBBox(),be=$.getBBox();if(this.fitRailLength(ve,be,ie,vt),ie=vt.getBBox(),Zt==="rail")R.attr({x:Pt.x,y:Pt.y}),this.changeRailPosition(vt,Pt.x,Pt.y+ve.height+re),$.attr({x:Pt.x,y:Pt.y+ve.height+ie.height+re*2});else if(Zt==="right")R.attr({x:Pt.x+ie.width+re,y:Pt.y}),this.changeRailPosition(vt,Pt.x,Pt.y),$.attr({x:Pt.x+ie.width+re,y:Pt.y+ie.height});else{var Ie=Math.max(ve.width,be.width);R.attr({x:Pt.x,y:Pt.y}),this.changeRailPosition(vt,Pt.x+Ie+re,Pt.y),$.attr({x:Pt.x,y:Pt.y+ie.height})}},bt}(Ue),Tr=We,Zr=v(55223),cn="g2-tooltip",yn="g2-tooltip-title",Xn="g2-tooltip-list",qn="g2-tooltip-list-item",Vn="g2-tooltip-marker",Ai="g2-tooltip-value",si="g2-tooltip-name",Fi="g2-tooltip-crosshair-x",Wi="g2-tooltip-crosshair-y",Qr,ta=(Qr={},Qr[""+cn]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:Oe.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Qr[""+yn]={marginBottom:"4px"},Qr[""+Xn]={margin:"0px",listStyleType:"none",padding:"0px"},Qr[""+qn]={listStyleType:"none",marginBottom:"4px"},Qr[""+Vn]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Qr[""+Ai]={display:"inline-block",float:"right",marginLeft:"30px"},Qr[""+Fi]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Qr[""+Wi]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Qr);function la(Kt,bt,R,$,vt){var Pt={left:Kt<vt.x,right:Kt+R>vt.x+vt.width,top:bt<vt.y,bottom:bt+$>vt.y+vt.height};return Pt}function Hn(Kt,bt,R,$,vt,Pt){var Gt=Kt,Zt=bt;switch(Pt){case"left":Gt=Kt-$-R,Zt=bt-vt/2;break;case"right":Gt=Kt+R,Zt=bt-vt/2;break;case"top":Gt=Kt-$/2,Zt=bt-vt-R;break;case"bottom":Gt=Kt-$/2,Zt=bt+R;break;default:Gt=Kt+R,Zt=bt-vt-R;break}return{x:Gt,y:Zt}}function ua(Kt,bt,R,$,vt,Pt,Gt){var Zt=Hn(Kt,bt,R,$,vt,Pt);if(Gt){var re=la(Zt.x,Zt.y,$,vt,Gt);Pt==="auto"?(re.right&&(Zt.x=Math.max(0,Kt-$-R)),re.top&&(Zt.y=Math.max(0,bt-vt-R))):Pt==="top"||Pt==="bottom"?(re.left&&(Zt.x=Gt.x),re.right&&(Zt.x=Gt.x+Gt.width-$),Pt==="top"&&re.top&&(Zt.y=bt+R),Pt==="bottom"&&re.bottom&&(Zt.y=bt-vt-R)):(re.top&&(Zt.y=Gt.y),re.bottom&&(Zt.y=Gt.y+Gt.height-vt),Pt==="left"&&re.left&&(Zt.x=Kt+R),Pt==="right"&&re.right&&(Zt.x=Kt-$-R))}return Zt}function yi(Kt,bt){var R=!1;return(0,m.each)(bt,function($){if((0,m.hasKey)(Kt,$))return R=!0,!1}),R}var ji=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+cn+'"><div class="'+yn+'"></div><ul class="'+Xn+'"></ul></div>',itemTpl:'<li class="'+qn+`" data-index={index}>
          <span class="`+Vn+`" style="background:{color}"></span>
          <span class="`+si+`">{name}</span>:
          <span class="`+Ai+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+Fi+'"></div>',yCrosshairTpl:'<div class="'+Wi+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:cn,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:ta})},bt.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},bt.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},bt.prototype.show=function(){var R=this.getContainer();!R||this.destroyed||(this.set("visible",!0),(0,hn.Z)(R,{visibility:"visible"}),this.setCrossHairsVisible(!0))},bt.prototype.hide=function(){var R=this.getContainer();!R||this.destroyed||(this.set("visible",!1),(0,hn.Z)(R,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},bt.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},bt.prototype.setLocation=function(R){this.set("x",R.x),this.set("y",R.y),this.resetPosition()},bt.prototype.setCrossHairsVisible=function(R){var $=R?"":"none",vt=this.get("xCrosshairDom"),Pt=this.get("yCrosshairDom");vt&&(0,hn.Z)(vt,{display:$}),Pt&&(0,hn.Z)(Pt,{display:$})},bt.prototype.initContainer=function(){if(Kt.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var R=this.getHtmlContentNode();this.get("parent").appendChild(R),this.set("container",R),this.resetStyles(),this.applyStyles()}},bt.prototype.updateInner=function(R){this.get("customContent")?this.renderCustomContent():(yi(R,["title","showTitle"])&&this.resetTitle(),(0,m.hasKey)(R,"items")&&this.renderItems()),Kt.prototype.updateInner.call(this,R)},bt.prototype.initDom=function(){this.cacheDoms()},bt.prototype.removeDom=function(){Kt.prototype.removeDom.call(this),this.clearCrosshairs()},bt.prototype.resetPosition=function(){var R=this.get("x"),$=this.get("y"),vt=this.get("offset"),Pt=this.getOffset(),Gt=Pt.offsetX,Zt=Pt.offsetY,re=this.get("position"),ie=this.get("region"),ve=this.getContainer(),be=this.getBBox(),Ie=be.width,Ge=be.height,rr;ie&&(rr=X(ie));var Mr=ua(R,$,vt,Ie,Ge,re,rr);(0,hn.Z)(ve,{left:wt(Mr.x+Gt),top:wt(Mr.y+Zt)}),this.resetCrosshairs()},bt.prototype.renderCustomContent=function(){var R=this.getHtmlContentNode(),$=this.get("parent"),vt=this.get("container");vt&&vt.parentNode===$?$.replaceChild(R,vt):$.appendChild(R),this.set("container",R),this.resetStyles(),this.applyStyles()},bt.prototype.getHtmlContentNode=function(){var R,$=this.get("customContent");if($){var vt=$(this.get("title"),this.get("items"));(0,m.isElement)(vt)?R=vt:R=(0,Jn.Z)(vt)}return R},bt.prototype.cacheDoms=function(){var R=this.getContainer(),$=R.getElementsByClassName(yn)[0],vt=R.getElementsByClassName(Xn)[0];this.set("titleDom",$),this.set("listDom",vt)},bt.prototype.resetTitle=function(){var R=this.get("title"),$=this.get("showTitle");$&&R?this.setTitle(R):this.setTitle("")},bt.prototype.setTitle=function(R){var $=this.get("titleDom");$&&($.innerText=R)},bt.prototype.resetCrosshairs=function(){var R=this.get("crosshairsRegion"),$=this.get("crosshairs");if(!R||!$)this.clearCrosshairs();else{var vt=X(R),Pt=this.get("xCrosshairDom"),Gt=this.get("yCrosshairDom");$==="x"?(this.resetCrosshair("x",vt),Gt&&(Gt.remove(),this.set("yCrosshairDom",null))):$==="y"?(this.resetCrosshair("y",vt),Pt&&(Pt.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",vt),this.resetCrosshair("y",vt)),this.setCrossHairsVisible(this.get("visible"))}},bt.prototype.resetCrosshair=function(R,$){var vt=this.checkCrosshair(R),Pt=this.get(R);R==="x"?(0,hn.Z)(vt,{left:wt(Pt),top:wt($.y),height:wt($.height)}):(0,hn.Z)(vt,{top:wt(Pt),left:wt($.x),width:wt($.width)})},bt.prototype.checkCrosshair=function(R){var $=R+"CrosshairDom",vt=R+"CrosshairTpl",Pt="CROSSHAIR_"+R.toUpperCase(),Gt=b[Pt],Zt=this.get($),re=this.get("parent");return Zt||(Zt=(0,Jn.Z)(this.get(vt)),this.applyStyle(Gt,Zt),re.appendChild(Zt),this.set($,Zt)),Zt},bt.prototype.renderItems=function(){this.clearItemDoms();var R=this.get("items"),$=this.get("itemTpl"),vt=this.get("listDom");vt&&((0,m.each)(R,function(Pt){var Gt=Zr.default.toCSSGradient(Pt.color),Zt=(0,w.__assign)((0,w.__assign)({},Pt),{color:Gt}),re=(0,m.substitute)($,Zt),ie=(0,Jn.Z)(re);vt.appendChild(ie)}),this.applyChildrenStyles(vt,this.get("domStyles")))},bt.prototype.clearItemDoms=function(){this.get("listDom")&&N(this.get("listDom"))},bt.prototype.clearCrosshairs=function(){var R=this.get("xCrosshairDom"),$=this.get("yCrosshairDom");R&&R.remove(),$&&$.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},bt}(Hi),Ua=ji,ka={opacity:0},_i={stroke:"#C5C5C5",strokeOpacity:.85},Ba={fill:"#CACED4",opacity:.85},Ui=v(57350),li=v(64561);function ba(Kt){return(0,m.map)(Kt,function(bt,R){var $=R===0?"M":"L",vt=bt[0],Pt=bt[1];return[$,vt,Pt]})}function ea(Kt){return ba(Kt)}function Za(Kt){if(Kt.length<=2)return ea(Kt);var bt=[];(0,m.each)(Kt,function(Gt){(0,m.isEqual)(Gt,bt.slice(bt.length-2))||bt.push(Gt[0],Gt[1])});var R=(0,Ui.catmullRom2Bezier)(bt,!1),$=(0,m.head)(Kt),vt=$[0],Pt=$[1];return R.unshift(["M",vt,Pt]),R}function wa(Kt,bt,R,$){$===void 0&&($=!0);var vt=new li.Linear({values:Kt}),Pt=new li.Category({values:(0,m.map)(Kt,function(Zt,re){return re})}),Gt=(0,m.map)(Kt,function(Zt,re){return[Pt.scale(re)*bt,R-vt.scale(Zt)*R]});return $?Za(Gt):ea(Gt)}function as(Kt,bt,R){var $=(0,w.__spreadArrays)(Kt);return $.push(["L",bt,0]),$.push(["L",0,R]),$.push(["Z"]),$}var Lo=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:ka,lineStyle:_i,areaStyle:Ba})},bt.prototype.renderInner=function(R){var $=this.cfg,vt=$.width,Pt=$.height,Gt=$.data,Zt=$.smooth,re=$.isArea,ie=$.backgroundStyle,ve=$.lineStyle,be=$.areaStyle;this.addShape(R,{id:this.getElementId("background"),type:"rect",attrs:(0,w.__assign)({x:0,y:0,width:vt,height:Pt},ie)});var Ie=wa(Gt,vt,Pt,Zt);if(this.addShape(R,{id:this.getElementId("line"),type:"path",attrs:(0,w.__assign)({path:Ie},ve)}),re){var Ge=as(Ie,vt,Pt);this.addShape(R,{id:this.getElementId("area"),type:"path",attrs:(0,w.__assign)({path:Ge},be)})}},bt.prototype.applyOffset=function(){var R=this.cfg,$=R.x,vt=R.y;this.moveElementTo(this.get("group"),{x:$,y:vt})},bt}(nt),Vs=null,fo={fill:"#416180",opacity:.05},Oo={fill:"#5B8FF9",opacity:.15,cursor:"move"},Ka=10,mi={width:Ka,height:24},os={textBaseline:"middle",fill:"#000",opacity:.45},ss="sliderchange",Io={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},ho=function(Kt){(0,w.__extends)(bt,Kt);function bt(){return Kt!==null&&Kt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"handler",x:0,y:0,width:10,height:24,style:Io})},bt.prototype.renderInner=function(R){var $=this.cfg,vt=$.width,Pt=$.height,Gt=$.style,Zt=Gt.fill,re=Gt.stroke,ie=Gt.radius,ve=Gt.opacity,be=Gt.cursor;this.addShape(R,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:vt,height:Pt,fill:Zt,stroke:re,radius:ie,opacity:ve,cursor:be}});var Ie=1/3*vt,Ge=2/3*vt,rr=1/4*Pt,Mr=3/4*Pt;this.addShape(R,{id:this.getElementId("line-left"),type:"line",attrs:{x1:Ie,y1:rr,x2:Ie,y2:Mr,stroke:re,cursor:be}}),this.addShape(R,{id:this.getElementId("line-right"),type:"line",attrs:{x1:Ge,y1:rr,x2:Ge,y2:Mr,stroke:re,cursor:be}})},bt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},bt.prototype.initEvent=function(){this.bindEvents()},bt.prototype.bindEvents=function(){var R=this;this.get("group").on("mouseenter",function(){var $=R.get("style").highLightFill;R.getElementByLocalId("background").attr("fill",$),R.draw()}),this.get("group").on("mouseleave",function(){var $=R.get("style").fill;R.getElementByLocalId("background").attr("fill",$),R.draw()})},bt.prototype.draw=function(){var R=this.get("container").get("canvas");R&&R.draw()},bt}(nt),pn=null,ls=function(Kt){(0,w.__extends)(bt,Kt);function bt(){var R=Kt!==null&&Kt.apply(this,arguments)||this;return R.onMouseDown=function($){return function(vt){R.currentTarget=$;var Pt=vt.originalEvent;Pt.stopPropagation(),Pt.preventDefault(),R.prevX=(0,m.get)(Pt,"touches.0.pageX",Pt.pageX),R.prevY=(0,m.get)(Pt,"touches.0.pageY",Pt.pageY);var Gt=R.getContainerDOM();Gt.addEventListener("mousemove",R.onMouseMove),Gt.addEventListener("mouseup",R.onMouseUp),Gt.addEventListener("mouseleave",R.onMouseUp),Gt.addEventListener("touchmove",R.onMouseMove),Gt.addEventListener("touchend",R.onMouseUp),Gt.addEventListener("touchcancel",R.onMouseUp)}},R.onMouseMove=function($){var vt=R.cfg.width,Pt=[R.get("start"),R.get("end")];$.stopPropagation(),$.preventDefault();var Gt=(0,m.get)($,"touches.0.pageX",$.pageX),Zt=(0,m.get)($,"touches.0.pageY",$.pageY),re=Gt-R.prevX,ie=R.adjustOffsetRange(re/vt);R.updateStartEnd(ie),R.updateUI(R.getElementByLocalId("foreground"),R.getElementByLocalId("minText"),R.getElementByLocalId("maxText")),R.prevX=Gt,R.prevY=Zt,R.draw(),R.emit(ss,[R.get("start"),R.get("end")].sort()),R.delegateEmit("valuechanged",{originValue:Pt,value:[R.get("start"),R.get("end")]})},R.onMouseUp=function(){R.currentTarget&&(R.currentTarget=void 0);var $=R.getContainerDOM();$&&($.removeEventListener("mousemove",R.onMouseMove),$.removeEventListener("mouseup",R.onMouseUp),$.removeEventListener("mouseleave",R.onMouseUp),$.removeEventListener("touchmove",R.onMouseMove),$.removeEventListener("touchend",R.onMouseUp),$.removeEventListener("touchcancel",R.onMouseUp))},R}return bt.prototype.setRange=function(R,$){this.set("minLimit",R),this.set("maxLimit",$);var vt=this.get("start"),Pt=this.get("end"),Gt=(0,m.clamp)(vt,R,$),Zt=(0,m.clamp)(Pt,R,$);!this.get("isInit")&&(vt!==Gt||Pt!==Zt)&&this.setValue([Gt,Zt])},bt.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},bt.prototype.setValue=function(R){var $=this.getRange();if((0,m.isArray)(R)&&R.length===2){var vt=[this.get("start"),this.get("end")];this.update({start:(0,m.clamp)(R[0],$.min,$.max),end:(0,m.clamp)(R[1],$.min,$.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:vt,value:R})}},bt.prototype.getValue=function(){return[this.get("start"),this.get("end")]},bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:fo,foregroundStyle:Oo,handlerStyle:mi,textStyle:os}})},bt.prototype.update=function(R){var $=R.start,vt=R.end,Pt=(0,w.__assign)({},R);(0,m.isNil)($)||(Pt.start=(0,m.clamp)($,0,1)),(0,m.isNil)(vt)||(Pt.end=(0,m.clamp)(vt,0,1)),Kt.prototype.update.call(this,Pt),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},bt.prototype.init=function(){this.set("start",(0,m.clamp)(this.get("start"),0,1)),this.set("end",(0,m.clamp)(this.get("end"),0,1)),Kt.prototype.init.call(this)},bt.prototype.renderInner=function(R){var $=this.cfg,vt=$.start,Pt=$.end,Gt=$.width,Zt=$.height,re=$.trendCfg,ie=re===void 0?{}:re,ve=$.minText,be=$.maxText,Ie=$.backgroundStyle,Ge=Ie===void 0?{}:Ie,rr=$.foregroundStyle,Mr=rr===void 0?{}:rr,gr=$.textStyle,Vr=gr===void 0?{}:gr,Wr=$.handlerStyle,Hr=Wr===void 0?{}:Wr,Rt=vt*Gt,te=Pt*Gt;(0,m.size)((0,m.get)(ie,"data"))&&this.addComponent(R,(0,w.__assign)({component:Lo,id:this.getElementId("trend"),x:0,y:0,width:Gt,height:Zt},ie)),this.addShape(R,{id:this.getElementId("background"),type:"rect",attrs:(0,w.__assign)({x:0,y:0,width:Gt,height:Zt},Ge)});var ce=this.addShape(R,{id:this.getElementId("minText"),type:"text",attrs:(0,w.__assign)({y:Zt/2,textAlign:"right",text:ve,silent:!1},Vr)}),pe=this.addShape(R,{id:this.getElementId("maxText"),type:"text",attrs:(0,w.__assign)({y:Zt/2,textAlign:"left",text:be,silent:!1},Vr)}),Le=this.addShape(R,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,w.__assign)({y:0,height:Zt},Mr)}),Qe=(0,m.get)(Hr,"height",24);this.minHandler=this.addComponent(R,(0,w.__assign)({component:ho,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(Zt-Qe)/2,width:Gt,height:Qe,cursor:"ew-resize"},Hr)),this.maxHandler=this.addComponent(R,(0,w.__assign)({component:ho,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(Zt-Qe)/2,width:Gt,height:Qe,cursor:"ew-resize"},Hr)),this.updateUI(Le,ce,pe)},bt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},bt.prototype.initEvent=function(){this.bindEvents()},bt.prototype.updateUI=function(R,$,vt){var Pt=this.cfg,Gt=Pt.start,Zt=Pt.end,re=Pt.width,ie=Pt.minText,ve=Pt.maxText,be=Pt.handlerStyle,Ie=Gt*re,Ge=Zt*re;R.attr("x",Ie),R.attr("width",Ge-Ie);var rr=(0,m.get)(be,"width",Ka);$.attr("text",ie),vt.attr("text",ve);var Mr=this._dodgeText([Ie,Ge],$,vt),gr=Mr[0],Vr=Mr[1];this.minHandler&&(this.minHandler.update({x:Ie-rr/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,m.each)(gr,function(Wr,Hr){return $.attr(Hr,Wr)}),this.maxHandler&&(this.maxHandler.update({x:Ge-rr/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,m.each)(Vr,function(Wr,Hr){return vt.attr(Hr,Wr)})},bt.prototype.bindEvents=function(){var R=this.get("group");R.on("handler-min:mousedown",this.onMouseDown("minHandler")),R.on("handler-min:touchstart",this.onMouseDown("minHandler")),R.on("handler-max:mousedown",this.onMouseDown("maxHandler")),R.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var $=R.findById(this.getElementId("foreground"));$.on("mousedown",this.onMouseDown("foreground")),$.on("touchstart",this.onMouseDown("foreground"))},bt.prototype.adjustOffsetRange=function(R){var $=this.cfg,vt=$.start,Pt=$.end;switch(this.currentTarget){case"minHandler":{var Gt=0-vt,Zt=1-vt;return Math.min(Zt,Math.max(Gt,R))}case"maxHandler":{var Gt=0-Pt,Zt=1-Pt;return Math.min(Zt,Math.max(Gt,R))}case"foreground":{var Gt=0-vt,Zt=1-Pt;return Math.min(Zt,Math.max(Gt,R))}}},bt.prototype.updateStartEnd=function(R){var $=this.cfg,vt=$.start,Pt=$.end;switch(this.currentTarget){case"minHandler":vt+=R;break;case"maxHandler":Pt+=R;break;case"foreground":vt+=R,Pt+=R;break}this.set("start",vt),this.set("end",Pt)},bt.prototype._dodgeText=function(R,$,vt){var Pt,Gt,Zt=this.cfg,re=Zt.handlerStyle,ie=Zt.width,ve=2,be=(0,m.get)(re,"width",Ka),Ie=R[0],Ge=R[1],rr=!1;Ie>Ge&&(Pt=[Ge,Ie],Ie=Pt[0],Ge=Pt[1],Gt=[vt,$],$=Gt[0],vt=Gt[1],rr=!0);var Mr=$.getBBox(),gr=vt.getBBox(),Vr=Mr.width>Ie-ve?{x:Ie+be/2+ve,textAlign:"left"}:{x:Ie-be/2-ve,textAlign:"right"},Wr=gr.width>ie-Ge-ve?{x:Ge-be/2-ve,textAlign:"right"}:{x:Ge+be/2+ve,textAlign:"left"};return rr?[Wr,Vr]:[Vr,Wr]},bt.prototype.draw=function(){var R=this.get("container"),$=R&&R.get("canvas");$&&$.draw()},bt.prototype.getContainerDOM=function(){var R=this.get("container"),$=R&&R.get("canvas");return $&&$.get("container")},bt}(nt),ui=null,vn=v(57817),ko={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},on={default:ko,hover:{thumbColor:"rgba(0,0,0,0.2)"}},Da=function(Kt){(0,w.__extends)(bt,Kt);function bt(){var R=Kt!==null&&Kt.apply(this,arguments)||this;return R.clearEvents=m.noop,R.onStartEvent=function($){return function(vt){R.isMobile=$,vt.originalEvent.preventDefault();var Pt=$?(0,m.get)(vt.originalEvent,"touches.0.clientX"):vt.clientX,Gt=$?(0,m.get)(vt.originalEvent,"touches.0.clientY"):vt.clientY;R.startPos=R.cfg.isHorizontal?Pt:Gt,R.bindLaterEvent()}},R.bindLaterEvent=function(){var $=R.getContainerDOM(),vt=[];R.isMobile?vt=[(0,vn.Z)($,"touchmove",R.onMouseMove),(0,vn.Z)($,"touchend",R.onMouseUp),(0,vn.Z)($,"touchcancel",R.onMouseUp)]:vt=[(0,vn.Z)($,"mousemove",R.onMouseMove),(0,vn.Z)($,"mouseup",R.onMouseUp),(0,vn.Z)($,"mouseleave",R.onMouseUp)],R.clearEvents=function(){vt.forEach(function(Pt){Pt.remove()})}},R.onMouseMove=function($){var vt=R.cfg,Pt=vt.isHorizontal,Gt=vt.thumbOffset;$.preventDefault();var Zt=R.isMobile?(0,m.get)($,"touches.0.clientX"):$.clientX,re=R.isMobile?(0,m.get)($,"touches.0.clientY"):$.clientY,ie=Pt?Zt:re,ve=ie-R.startPos;R.startPos=ie,R.updateThumbOffset(Gt+ve)},R.onMouseUp=function($){$.preventDefault(),R.clearEvents()},R.onTrackClick=function($){var vt=R.cfg,Pt=vt.isHorizontal,Gt=vt.x,Zt=vt.y,re=vt.thumbLen,ie=R.getContainerDOM(),ve=ie.getBoundingClientRect(),be=$.clientX,Ie=$.clientY,Ge=Pt?be-ve.left-Gt-re/2:Ie-ve.top-Zt-re/2,rr=R.validateRange(Ge);R.updateThumbOffset(rr)},R.onThumbMouseOver=function(){var $=R.cfg.theme.hover.thumbColor;R.getElementByLocalId("thumb").attr("stroke",$),R.draw()},R.onThumbMouseOut=function(){var $=R.cfg.theme.default.thumbColor;R.getElementByLocalId("thumb").attr("stroke",$),R.draw()},R}return bt.prototype.setRange=function(R,$){this.set("minLimit",R),this.set("maxLimit",$);var vt=this.getValue(),Pt=(0,m.clamp)(vt,R,$);vt!==Pt&&!this.get("isInit")&&this.setValue(Pt)},bt.prototype.getRange=function(){var R=this.get("minLimit")||0,$=this.get("maxLimit")||1;return{min:R,max:$}},bt.prototype.setValue=function(R){var $=this.getRange(),vt=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,m.clamp)(R,$.min,$.max)}),this.delegateEmit("valuechange",{originalValue:vt,value:this.getValue()})},bt.prototype.getValue=function(){return(0,m.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},bt.prototype.getDefaultCfg=function(){var R=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:on})},bt.prototype.renderInner=function(R){this.renderTrackShape(R),this.renderThumbShape(R)},bt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},bt.prototype.initEvent=function(){this.bindEvents()},bt.prototype.renderTrackShape=function(R){var $=this.cfg,vt=$.trackLen,Pt=$.theme,Gt=Pt===void 0?{default:{}}:Pt,Zt=Gt.default,re=Zt.lineCap,ie=Zt.trackColor,ve=Zt.size,be=this.get("isHorizontal")?{x1:0+ve/2,y1:ve/2,x2:vt-ve/2,y2:ve/2,lineWidth:ve,stroke:ie,lineCap:re}:{x1:ve/2,y1:0+ve/2,x2:ve/2,y2:vt-ve/2,lineWidth:ve,stroke:ie,lineCap:re};return this.addShape(R,{id:this.getElementId("track"),name:"track",type:"line",attrs:be})},bt.prototype.renderThumbShape=function(R){var $=this.cfg,vt=$.thumbOffset,Pt=$.thumbLen,Gt=$.theme,Zt=Gt===void 0?{default:{}}:Gt,re=Zt.default,ie=re.size,ve=re.lineCap,be=re.thumbColor,Ie=this.get("isHorizontal")?{x1:vt+ie/2,y1:ie/2,x2:vt+Pt-ie/2,y2:ie/2,lineWidth:ie,stroke:be,lineCap:ve,cursor:"default"}:{x1:ie/2,y1:vt+ie/2,x2:ie/2,y2:vt+Pt-ie/2,lineWidth:ie,stroke:be,lineCap:ve,cursor:"default"};return this.addShape(R,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:Ie})},bt.prototype.bindEvents=function(){var R=this.get("group");R.on("mousedown",this.onStartEvent(!1)),R.on("mouseup",this.onMouseUp),R.on("touchstart",this.onStartEvent(!0)),R.on("touchend",this.onMouseUp);var $=R.findById(this.getElementId("track"));$.on("click",this.onTrackClick);var vt=R.findById(this.getElementId("thumb"));vt.on("mouseover",this.onThumbMouseOver),vt.on("mouseout",this.onThumbMouseOut)},bt.prototype.getContainerDOM=function(){var R=this.get("container"),$=R&&R.get("canvas");return $&&$.get("container")},bt.prototype.validateRange=function(R){var $=this.cfg,vt=$.thumbLen,Pt=$.trackLen,Gt=R;return R+vt>Pt?Gt=Pt-vt:R+vt<vt&&(Gt=0),Gt},bt.prototype.draw=function(){var R=this.get("container"),$=R&&R.get("canvas");$&&$.draw()},bt.prototype.updateThumbOffset=function(R){var $=this.cfg,vt=$.thumbOffset,Pt=$.isHorizontal,Gt=$.thumbLen,Zt=$.size,re=this.validateRange(R);if(re!==vt){var ie=this.getElementByLocalId("thumb");Pt?ie.attr({x1:re+Zt/2,x2:re+Gt-Zt/2}):ie.attr({y1:re+Zt/2,y2:re+Gt-Zt/2}),this.emitOffsetChange(re)}},bt.prototype.emitOffsetChange=function(R){var $=this.cfg,vt=$.thumbOffset,Pt=$.trackLen,Gt=$.thumbLen;this.cfg.thumbOffset=R,this.emit("scrollchange",{thumbOffset:R,ratio:(0,m.clamp)(R/(Pt-Gt),0,1)}),this.delegateEmit("valuechange",{originalValue:vt,value:R})},bt}(nt)},15110:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(60153),O=v(39014),I=v(49242),P={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},T=function(A){g.__extends(E,A);function E(C){var p=A.call(this,C)||this;return p.initCfg(),p}return E.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},E.prototype.clear=function(){},E.prototype.update=function(C){var p=this,b=this.get("defaultCfg");I.each(C,function(x,w){var m=p.get(w),M=x;m!==x&&(I.isObject(x)&&b[w]&&(M=I.deepMix({},b[w],x)),p.set(w,M))}),this.updateInner(C),this.afterUpdate(C)},E.prototype.updateInner=function(C){},E.prototype.afterUpdate=function(C){I.hasKey(C,"visible")&&(C.visible?this.show():this.hide()),I.hasKey(C,"capture")&&this.setCapture(C.capture)},E.prototype.getLayoutBBox=function(){return this.getBBox()},E.prototype.getLocationType=function(){return this.get("locationType")},E.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},E.prototype.setOffset=function(C,p){this.update({offsetX:C,offsetY:p})},E.prototype.setLocation=function(C){var p=g.__assign({},C);this.update(p)},E.prototype.getLocation=function(){var C=this,p={},b=this.get("locationType"),x=P[b];return I.each(x,function(w){p[w]=C.get(w)}),p},E.prototype.isList=function(){return!1},E.prototype.isSlider=function(){return!1},E.prototype.init=function(){},E.prototype.initCfg=function(){var C=this,p=this.get("defaultCfg");I.each(p,function(b,x){var w=C.get(x);if(I.isObject(w)){var m=I.deepMix({},b,w);C.set(x,m)}})},E}(O.Base);S.default=T},51964:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(60153),O=v(80478),I=v(49242),P=v(11594),T=v(15110),A=function(E){g.__extends(C,E);function C(){return E!==null&&E.apply(this,arguments)||this}return C.prototype.getDefaultCfg=function(){var p=E.prototype.getDefaultCfg.call(this);return g.__assign(g.__assign({},p),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},C.prototype.getContainer=function(){return this.get("container")},C.prototype.show=function(){var p=this.get("container");p.style.display="",this.set("visible",!0)},C.prototype.hide=function(){var p=this.get("container");p.style.display="none",this.set("visible",!1)},C.prototype.setCapture=function(p){var b=this.getContainer(),x=p?"auto":"none";b.style.pointerEvents=x,this.set("capture",p)},C.prototype.getBBox=function(){var p=this.getContainer(),b=parseFloat(p.style.left)||0,x=parseFloat(p.style.top)||0;return P.createBBox(b,x,p.clientWidth,p.clientHeight)},C.prototype.clear=function(){var p=this.get("container");P.clearDom(p)},C.prototype.destroy=function(){this.removeEvent(),this.removeDom(),E.prototype.destroy.call(this)},C.prototype.init=function(){E.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},C.prototype.initCapture=function(){this.setCapture(this.get("capture"))},C.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},C.prototype.initDom=function(){},C.prototype.initContainer=function(){var p=this.get("container");if(I.isNil(p)){p=this.createDom();var b=this.get("parent");I.isString(b)&&(b=document.getElementById(b),this.set("parent",b)),b.appendChild(p),this.set("container",p)}else I.isString(p)&&(p=document.getElementById(p),this.set("container",p));this.get("parent")||this.set("parent",p.parentNode)},C.prototype.resetStyles=function(){var p=this.get("domStyles"),b=this.get("defaultStyles");p?p=I.deepMix({},b,p):p=b,this.set("domStyles",p)},C.prototype.applyStyles=function(){var p=this.get("domStyles");if(!!p){var b=this.getContainer();this.applyChildrenStyles(b,p);var x=this.get("containerClassName");if(x&&P.hasClass(b,x)){var w=p[x];O.modifyCSS(b,w)}}},C.prototype.applyChildrenStyles=function(p,b){I.each(b,function(x,w){var m=p.getElementsByClassName(w);I.each(m,function(M){O.modifyCSS(M,x)})})},C.prototype.applyStyle=function(p,b){var x=this.get("domStyles");O.modifyCSS(b,x[p])},C.prototype.createDom=function(){var p=this.get("containerTpl");return O.createDom(p)},C.prototype.initEvent=function(){},C.prototype.removeDom=function(){var p=this.get("container");p&&p.parentNode.removeChild(p)},C.prototype.removeEvent=function(){},C.prototype.updateInner=function(p){I.hasKey(p,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},C.prototype.resetPosition=function(){},C}(T.default);S.default=A},7755:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CROSSHAIR_Y=S.CROSSHAIR_X=S.NAME_CLASS=S.VALUE_CLASS=S.MARKER_CLASS=S.LIST_ITEM_CLASS=S.LIST_CLASS=S.TITLE_CLASS=S.CONTAINER_CLASS=void 0,S.CONTAINER_CLASS="g2-tooltip",S.TITLE_CLASS="g2-tooltip-title",S.LIST_CLASS="g2-tooltip-list",S.LIST_ITEM_CLASS="g2-tooltip-list-item",S.MARKER_CLASS="g2-tooltip-marker",S.VALUE_CLASS="g2-tooltip-value",S.NAME_CLASS="g2-tooltip-name",S.CROSSHAIR_X="g2-tooltip-crosshair-x",S.CROSSHAIR_Y="g2-tooltip-crosshair-y"},55225:function(mt,S,v){"use strict";var g;Object.defineProperty(S,"__esModule",{value:!0});var O=v(52782),I=v(7755);S.default=(g={},g[""+I.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:O.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},g[""+I.TITLE_CLASS]={marginBottom:"4px"},g[""+I.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},g[""+I.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},g[""+I.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},g[""+I.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},g[""+I.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},g[""+I.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},g)},88373:function(mt,S,v){"use strict";var g;g={value:!0};var O=v(60153),I=v(55223),P=v(80478),T=v(49242),A=v(51964),E=v(11594),C=v(7755),p=v(55225),b=v(51227);function x(m,M){var L=!1;return T.each(M,function(B){if(T.hasKey(m,B))return L=!0,!1}),L}var w=function(m){O.__extends(M,m);function M(){return m!==null&&m.apply(this,arguments)||this}return M.prototype.getDefaultCfg=function(){var L=m.prototype.getDefaultCfg.call(this);return O.__assign(O.__assign({},L),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+C.CONTAINER_CLASS+'"><div class="'+C.TITLE_CLASS+'"></div><ul class="'+C.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+C.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+C.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+C.NAME_CLASS+`">{name}</span>:
          <span class="`+C.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+C.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+C.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:C.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:p.default})},M.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},M.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},M.prototype.show=function(){var L=this.getContainer();!L||this.destroyed||(this.set("visible",!0),P.modifyCSS(L,{visibility:"visible"}),this.setCrossHairsVisible(!0))},M.prototype.hide=function(){var L=this.getContainer();!L||this.destroyed||(this.set("visible",!1),P.modifyCSS(L,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},M.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},M.prototype.setLocation=function(L){this.set("x",L.x),this.set("y",L.y),this.resetPosition()},M.prototype.setCrossHairsVisible=function(L){var B=L?"":"none",D=this.get("xCrosshairDom"),z=this.get("yCrosshairDom");D&&P.modifyCSS(D,{display:B}),z&&P.modifyCSS(z,{display:B})},M.prototype.initContainer=function(){if(m.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var L=this.getHtmlContentNode();this.get("parent").appendChild(L),this.set("container",L),this.resetStyles(),this.applyStyles()}},M.prototype.updateInner=function(L){this.get("customContent")?this.renderCustomContent():(x(L,["title","showTitle"])&&this.resetTitle(),T.hasKey(L,"items")&&this.renderItems()),m.prototype.updateInner.call(this,L)},M.prototype.initDom=function(){this.cacheDoms()},M.prototype.removeDom=function(){m.prototype.removeDom.call(this),this.clearCrosshairs()},M.prototype.resetPosition=function(){var L=this.get("x"),B=this.get("y"),D=this.get("offset"),z=this.getOffset(),q=z.offsetX,K=z.offsetY,it=this.get("position"),ct=this.get("region"),st=this.getContainer(),Ot=this.getBBox(),Dt=Ot.width,Ht=Ot.height,N;ct&&(N=E.regionToBBox(ct));var W=b.getAlignPoint(L,B,D,Dt,Ht,it,N);P.modifyCSS(st,{left:E.toPx(W.x+q),top:E.toPx(W.y+K)}),this.resetCrosshairs()},M.prototype.renderCustomContent=function(){var L=this.getHtmlContentNode(),B=this.get("parent"),D=this.get("container");D&&D.parentNode===B?B.replaceChild(L,D):B.appendChild(L),this.set("container",L),this.resetStyles(),this.applyStyles()},M.prototype.getHtmlContentNode=function(){var L,B=this.get("customContent");if(B){var D=B(this.get("title"),this.get("items"));T.isElement(D)?L=D:L=P.createDom(D)}return L},M.prototype.cacheDoms=function(){var L=this.getContainer(),B=L.getElementsByClassName(C.TITLE_CLASS)[0],D=L.getElementsByClassName(C.LIST_CLASS)[0];this.set("titleDom",B),this.set("listDom",D)},M.prototype.resetTitle=function(){var L=this.get("title"),B=this.get("showTitle");B&&L?this.setTitle(L):this.setTitle("")},M.prototype.setTitle=function(L){var B=this.get("titleDom");B&&(B.innerText=L)},M.prototype.resetCrosshairs=function(){var L=this.get("crosshairsRegion"),B=this.get("crosshairs");if(!L||!B)this.clearCrosshairs();else{var D=E.regionToBBox(L),z=this.get("xCrosshairDom"),q=this.get("yCrosshairDom");B==="x"?(this.resetCrosshair("x",D),q&&(q.remove(),this.set("yCrosshairDom",null))):B==="y"?(this.resetCrosshair("y",D),z&&(z.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",D),this.resetCrosshair("y",D)),this.setCrossHairsVisible(this.get("visible"))}},M.prototype.resetCrosshair=function(L,B){var D=this.checkCrosshair(L),z=this.get(L);L==="x"?P.modifyCSS(D,{left:E.toPx(z),top:E.toPx(B.y),height:E.toPx(B.height)}):P.modifyCSS(D,{top:E.toPx(z),left:E.toPx(B.x),width:E.toPx(B.width)})},M.prototype.checkCrosshair=function(L){var B=L+"CrosshairDom",D=L+"CrosshairTpl",z="CROSSHAIR_"+L.toUpperCase(),q=C[z],K=this.get(B),it=this.get("parent");return K||(K=P.createDom(this.get(D)),this.applyStyle(q,K),it.appendChild(K),this.set(B,K)),K},M.prototype.renderItems=function(){this.clearItemDoms();var L=this.get("items"),B=this.get("itemTpl"),D=this.get("listDom");D&&(T.each(L,function(z){var q=I.default.toCSSGradient(z.color),K=O.__assign(O.__assign({},z),{color:q}),it=T.substitute(B,K),ct=P.createDom(it);D.appendChild(ct)}),this.applyChildrenStyles(D,this.get("domStyles")))},M.prototype.clearItemDoms=function(){this.get("listDom")&&E.clearDom(this.get("listDom"))},M.prototype.clearCrosshairs=function(){var L=this.get("xCrosshairDom"),B=this.get("yCrosshairDom");L&&L.remove(),B&&B.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},M}(A.default);S.Z=w},51227:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getAlignPoint=S.getPointByPosition=S.getOutSides=void 0;function v(I,P,T,A,E){var C={left:I<E.x,right:I+T>E.x+E.width,top:P<E.y,bottom:P+A>E.y+E.height};return C}S.getOutSides=v;function g(I,P,T,A,E,C){var p=I,b=P;switch(C){case"left":p=I-A-T,b=P-E/2;break;case"right":p=I+T,b=P-E/2;break;case"top":p=I-A/2,b=P-E-T;break;case"bottom":p=I-A/2,b=P+T;break;default:p=I+T,b=P-E-T;break}return{x:p,y:b}}S.getPointByPosition=g;function O(I,P,T,A,E,C,p){var b=g(I,P,T,A,E,C);if(p){var x=v(b.x,b.y,A,E,p);C==="auto"?(x.right&&(b.x=Math.max(0,I-A-T)),x.top&&(b.y=Math.max(0,P-E-T))):C==="top"||C==="bottom"?(x.left&&(b.x=p.x),x.right&&(b.x=p.x+p.width-A),C==="top"&&x.top&&(b.y=P+T),C==="bottom"&&x.bottom&&(b.y=P-E-T)):(x.top&&(b.y=p.y),x.bottom&&(b.y=p.y+p.height-E),C==="left"&&x.left&&(b.x=I+T),C==="right"&&x.right&&(b.x=I-A-T))}return b}S.getAlignPoint=O},31207:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.propagationDelegate=void 0;var g=v(66192);function O(I,P,T){var A=new g.default(P,T);A.target=I,A.propagationPath.push(I),I.emitDelegation(P,A);for(var E=I.getParent();E;)E.emitDelegation(P,A),A.propagationPath.push(E),E=E.getParent()}S.propagationDelegate=O},52782:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},11594:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTextPoint=S.toPx=S.updateClip=S.getBBoxWithClip=S.mergeBBox=S.intersectBBox=S.near=S.wait=S.distance=S.getCirclePoint=S.getValueByPercent=S.createBBox=S.pointsToBBox=S.regionToBBox=S.hasClass=S.clearDom=S.formatPadding=void 0;var g=v(49242);function O(D){var z=0,q=0,K=0,it=0;return g.isNumber(D)?z=q=K=it=D:g.isArray(D)&&(z=D[0],K=g.isNil(D[1])?D[0]:D[1],it=g.isNil(D[2])?D[0]:D[2],q=g.isNil(D[3])?K:D[3]),[z,K,it,q]}S.formatPadding=O;function I(D){for(var z=D.childNodes,q=z.length,K=q-1;K>=0;K--)D.removeChild(z[K])}S.clearDom=I;function P(D,z){return!!D.className.match(new RegExp("(\\s|^)"+z+"(\\s|$)"))}S.hasClass=P;function T(D){var z=D.start,q=D.end,K=Math.min(z.x,q.x),it=Math.min(z.y,q.y),ct=Math.max(z.x,q.x),st=Math.max(z.y,q.y);return{x:K,y:it,minX:K,minY:it,maxX:ct,maxY:st,width:ct-K,height:st-it}}S.regionToBBox=T;function A(D){var z=D.map(function(Ot){return Ot.x}),q=D.map(function(Ot){return Ot.y}),K=Math.min.apply(Math,z),it=Math.min.apply(Math,q),ct=Math.max.apply(Math,z),st=Math.max.apply(Math,q);return{x:K,y:it,minX:K,minY:it,maxX:ct,maxY:st,width:ct-K,height:st-it}}S.pointsToBBox=A;function E(D,z,q,K){return{x:D,y:z,width:q,height:K,minX:D,minY:z,maxX:D+q,maxY:z+K}}S.createBBox=E;function C(D,z,q){return(1-q)*D+z*q}S.getValueByPercent=C;function p(D,z,q){return{x:D.x+Math.cos(q)*z,y:D.y+Math.sin(q)*z}}S.getCirclePoint=p;function b(D,z){var q=z.x-D.x,K=z.y-D.y;return Math.sqrt(q*q+K*K)}S.distance=b,S.wait=function(D){return new Promise(function(z){setTimeout(z,D)})},S.near=function(D,z){return[D,z].includes(Infinity)?Math.abs(D)===Math.abs(z):Math.abs(D-z)<Math.pow(Number.EPSILON,.5)};function x(D,z){var q=Math.max(D.minX,z.minX),K=Math.max(D.minY,z.minY),it=Math.min(D.maxX,z.maxX),ct=Math.min(D.maxY,z.maxY);return E(q,K,it-q,ct-K)}S.intersectBBox=x;function w(D,z){var q=Math.min(D.minX,z.minX),K=Math.min(D.minY,z.minY),it=Math.max(D.maxX,z.maxX),ct=Math.max(D.maxY,z.maxY);return E(q,K,it-q,ct-K)}S.mergeBBox=w;function m(D){var z=D.getClip(),q=z&&z.getBBox(),K;if(!D.isGroup())K=D.getBBox();else{var it=Infinity,ct=-Infinity,st=Infinity,Ot=-Infinity,Dt=D.getChildren();Dt.length>0?g.each(Dt,function(Ht){if(Ht.get("visible")){if(Ht.isGroup()&&Ht.get("children").length===0)return!0;var N=m(Ht),W=Ht.applyToMatrix([N.minX,N.minY,1]),X=Ht.applyToMatrix([N.minX,N.maxY,1]),V=Ht.applyToMatrix([N.maxX,N.minY,1]),lt=Ht.applyToMatrix([N.maxX,N.maxY,1]),Z=Math.min(W[0],X[0],V[0],lt[0]),U=Math.max(W[0],X[0],V[0],lt[0]),j=Math.min(W[1],X[1],V[1],lt[1]),H=Math.max(W[1],X[1],V[1],lt[1]);Z<it&&(it=Z),U>ct&&(ct=U),j<st&&(st=j),H>Ot&&(Ot=H)}}):(it=0,ct=0,st=0,Ot=0),K=E(it,st,ct-it,Ot-st)}return q?x(K,q):K}S.getBBoxWithClip=m;function M(D,z){if(!(!D.getClip()&&!z.getClip())){var q=z.getClip();if(!q){D.setClip(null);return}var K={type:q.get("type"),attrs:q.attr()};D.setClip(K)}}S.updateClip=M;function L(D){return D+"px"}S.toPx=L;function B(D,z,q,K){var it=b(D,z),ct=K/it,st=0;return q==="start"?st=0-ct:q==="end"&&(st=1+ct),{x:C(D.x,z.x,st),y:C(D.y,z.y,st)}}S.getTextPoint=B},50782:function(mt,S,v){"use strict";v.r(S),v.d(S,{Coordinate:function(){return Z},getCoordinate:function(){return wt},registerCoordinate:function(){return At}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var g=function(_t,Lt){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xt,ot){xt.__proto__=ot}||function(xt,ot){for(var tt in ot)Object.prototype.hasOwnProperty.call(ot,tt)&&(xt[tt]=ot[tt])},g(_t,Lt)};function O(_t,Lt){if(typeof Lt!="function"&&Lt!==null)throw new TypeError("Class extends value "+String(Lt)+" is not a constructor or null");g(_t,Lt);function xt(){this.constructor=_t}_t.prototype=Lt===null?Object.create(Lt):(xt.prototype=Lt.prototype,new xt)}var I=function(){return I=Object.assign||function(Lt){for(var xt,ot=1,tt=arguments.length;ot<tt;ot++){xt=arguments[ot];for(var Q in xt)Object.prototype.hasOwnProperty.call(xt,Q)&&(Lt[Q]=xt[Q])}return Lt},I.apply(this,arguments)};function P(_t,Lt){var xt={};for(var ot in _t)Object.prototype.hasOwnProperty.call(_t,ot)&&Lt.indexOf(ot)<0&&(xt[ot]=_t[ot]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var tt=0,ot=Object.getOwnPropertySymbols(_t);tt<ot.length;tt++)Lt.indexOf(ot[tt])<0&&Object.prototype.propertyIsEnumerable.call(_t,ot[tt])&&(xt[ot[tt]]=_t[ot[tt]]);return xt}function T(_t,Lt,xt,ot){var tt=arguments.length,Q=tt<3?Lt:ot===null?ot=Object.getOwnPropertyDescriptor(Lt,xt):ot,dt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(_t,Lt,xt,ot);else for(var rt=_t.length-1;rt>=0;rt--)(dt=_t[rt])&&(Q=(tt<3?dt(Q):tt>3?dt(Lt,xt,Q):dt(Lt,xt))||Q);return tt>3&&Q&&Object.defineProperty(Lt,xt,Q),Q}function A(_t,Lt){return function(xt,ot){Lt(xt,ot,_t)}}function E(_t,Lt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_t,Lt)}function C(_t,Lt,xt,ot){function tt(Q){return Q instanceof xt?Q:new xt(function(dt){dt(Q)})}return new(xt||(xt=Promise))(function(Q,dt){function rt(It){try{pt(ot.next(It))}catch(Vt){dt(Vt)}}function nt(It){try{pt(ot.throw(It))}catch(Vt){dt(Vt)}}function pt(It){It.done?Q(It.value):tt(It.value).then(rt,nt)}pt((ot=ot.apply(_t,Lt||[])).next())})}function p(_t,Lt){var xt={label:0,sent:function(){if(Q[0]&1)throw Q[1];return Q[1]},trys:[],ops:[]},ot,tt,Q,dt;return dt={next:rt(0),throw:rt(1),return:rt(2)},typeof Symbol=="function"&&(dt[Symbol.iterator]=function(){return this}),dt;function rt(pt){return function(It){return nt([pt,It])}}function nt(pt){if(ot)throw new TypeError("Generator is already executing.");for(;xt;)try{if(ot=1,tt&&(Q=pt[0]&2?tt.return:pt[0]?tt.throw||((Q=tt.return)&&Q.call(tt),0):tt.next)&&!(Q=Q.call(tt,pt[1])).done)return Q;switch(tt=0,Q&&(pt=[pt[0]&2,Q.value]),pt[0]){case 0:case 1:Q=pt;break;case 4:return xt.label++,{value:pt[1],done:!1};case 5:xt.label++,tt=pt[1],pt=[0];continue;case 7:pt=xt.ops.pop(),xt.trys.pop();continue;default:if(Q=xt.trys,!(Q=Q.length>0&&Q[Q.length-1])&&(pt[0]===6||pt[0]===2)){xt=0;continue}if(pt[0]===3&&(!Q||pt[1]>Q[0]&&pt[1]<Q[3])){xt.label=pt[1];break}if(pt[0]===6&&xt.label<Q[1]){xt.label=Q[1],Q=pt;break}if(Q&&xt.label<Q[2]){xt.label=Q[2],xt.ops.push(pt);break}Q[2]&&xt.ops.pop(),xt.trys.pop();continue}pt=Lt.call(_t,xt)}catch(It){pt=[6,It],tt=0}finally{ot=Q=0}if(pt[0]&5)throw pt[1];return{value:pt[0]?pt[1]:void 0,done:!0}}}var b=Object.create?function(_t,Lt,xt,ot){ot===void 0&&(ot=xt),Object.defineProperty(_t,ot,{enumerable:!0,get:function(){return Lt[xt]}})}:function(_t,Lt,xt,ot){ot===void 0&&(ot=xt),_t[ot]=Lt[xt]};function x(_t,Lt){for(var xt in _t)xt!=="default"&&!Object.prototype.hasOwnProperty.call(Lt,xt)&&b(Lt,_t,xt)}function w(_t){var Lt=typeof Symbol=="function"&&Symbol.iterator,xt=Lt&&_t[Lt],ot=0;if(xt)return xt.call(_t);if(_t&&typeof _t.length=="number")return{next:function(){return _t&&ot>=_t.length&&(_t=void 0),{value:_t&&_t[ot++],done:!_t}}};throw new TypeError(Lt?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(_t,Lt){var xt=typeof Symbol=="function"&&_t[Symbol.iterator];if(!xt)return _t;var ot=xt.call(_t),tt,Q=[],dt;try{for(;(Lt===void 0||Lt-- >0)&&!(tt=ot.next()).done;)Q.push(tt.value)}catch(rt){dt={error:rt}}finally{try{tt&&!tt.done&&(xt=ot.return)&&xt.call(ot)}finally{if(dt)throw dt.error}}return Q}function M(){for(var _t=[],Lt=0;Lt<arguments.length;Lt++)_t=_t.concat(m(arguments[Lt]));return _t}function L(){for(var _t=0,Lt=0,xt=arguments.length;Lt<xt;Lt++)_t+=arguments[Lt].length;for(var ot=Array(_t),tt=0,Lt=0;Lt<xt;Lt++)for(var Q=arguments[Lt],dt=0,rt=Q.length;dt<rt;dt++,tt++)ot[tt]=Q[dt];return ot}function B(_t,Lt,xt){if(xt||arguments.length===2)for(var ot=0,tt=Lt.length,Q;ot<tt;ot++)(Q||!(ot in Lt))&&(Q||(Q=Array.prototype.slice.call(Lt,0,ot)),Q[ot]=Lt[ot]);return _t.concat(Q||Array.prototype.slice.call(Lt))}function D(_t){return this instanceof D?(this.v=_t,this):new D(_t)}function z(_t,Lt,xt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot=xt.apply(_t,Lt||[]),tt,Q=[];return tt={},dt("next"),dt("throw"),dt("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function dt(Qt){ot[Qt]&&(tt[Qt]=function(he){return new Promise(function(me,Xt){Q.push([Qt,he,me,Xt])>1||rt(Qt,he)})})}function rt(Qt,he){try{nt(ot[Qt](he))}catch(me){Vt(Q[0][3],me)}}function nt(Qt){Qt.value instanceof D?Promise.resolve(Qt.value.v).then(pt,It):Vt(Q[0][2],Qt)}function pt(Qt){rt("next",Qt)}function It(Qt){rt("throw",Qt)}function Vt(Qt,he){Qt(he),Q.shift(),Q.length&&rt(Q[0][0],Q[0][1])}}function q(_t){var Lt,xt;return Lt={},ot("next"),ot("throw",function(tt){throw tt}),ot("return"),Lt[Symbol.iterator]=function(){return this},Lt;function ot(tt,Q){Lt[tt]=_t[tt]?function(dt){return(xt=!xt)?{value:D(_t[tt](dt)),done:tt==="return"}:Q?Q(dt):dt}:Q}}function K(_t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Lt=_t[Symbol.asyncIterator],xt;return Lt?Lt.call(_t):(_t=typeof w=="function"?w(_t):_t[Symbol.iterator](),xt={},ot("next"),ot("throw"),ot("return"),xt[Symbol.asyncIterator]=function(){return this},xt);function ot(Q){xt[Q]=_t[Q]&&function(dt){return new Promise(function(rt,nt){dt=_t[Q](dt),tt(rt,nt,dt.done,dt.value)})}}function tt(Q,dt,rt,nt){Promise.resolve(nt).then(function(pt){Q({value:pt,done:rt})},dt)}}function it(_t,Lt){return Object.defineProperty?Object.defineProperty(_t,"raw",{value:Lt}):_t.raw=Lt,_t}var ct=Object.create?function(_t,Lt){Object.defineProperty(_t,"default",{enumerable:!0,value:Lt})}:function(_t,Lt){_t.default=Lt};function st(_t){if(_t&&_t.__esModule)return _t;var Lt={};if(_t!=null)for(var xt in _t)xt!=="default"&&Object.prototype.hasOwnProperty.call(_t,xt)&&b(Lt,_t,xt);return ct(Lt,_t),Lt}function Ot(_t){return _t&&_t.__esModule?_t:{default:_t}}function Dt(_t,Lt,xt,ot){if(xt==="a"&&!ot)throw new TypeError("Private accessor was defined without a getter");if(typeof Lt=="function"?_t!==Lt||!ot:!Lt.has(_t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return xt==="m"?ot:xt==="a"?ot.call(_t):ot?ot.value:Lt.get(_t)}function Ht(_t,Lt,xt,ot,tt){if(ot==="m")throw new TypeError("Private method is not writable");if(ot==="a"&&!tt)throw new TypeError("Private accessor was defined without a setter");if(typeof Lt=="function"?_t!==Lt||!tt:!Lt.has(_t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ot==="a"?tt.call(_t,xt):tt?tt.value=xt:Lt.set(_t,xt),xt}var N=v(77160),W=v(35600),X=v(31506),V=v(49242),lt=function(){function _t(Lt){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var xt=Lt.start,ot=Lt.end,tt=Lt.matrix,Q=tt===void 0?[1,0,0,0,1,0,0,0,1]:tt,dt=Lt.isTransposed,rt=dt===void 0?!1:dt;this.start=xt,this.end=ot,this.matrix=Q,this.originalMatrix=B([],Q),this.isTransposed=rt}return _t.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},_t.prototype.update=function(Lt){(0,V.assign)(this,Lt),this.initial()},_t.prototype.convertDim=function(Lt,xt){var ot,tt=this[xt],Q=tt.start,dt=tt.end;return this.isReflect(xt)&&(ot=[dt,Q],Q=ot[0],dt=ot[1]),Q+Lt*(dt-Q)},_t.prototype.invertDim=function(Lt,xt){var ot,tt=this[xt],Q=tt.start,dt=tt.end;return this.isReflect(xt)&&(ot=[dt,Q],Q=ot[0],dt=ot[1]),(Lt-Q)/(dt-Q)},_t.prototype.applyMatrix=function(Lt,xt,ot){ot===void 0&&(ot=0);var tt=this.matrix,Q=[Lt,xt,ot];return N.transformMat3(Q,Q,tt),Q},_t.prototype.invertMatrix=function(Lt,xt,ot){ot===void 0&&(ot=0);var tt=this.matrix,Q=W.invert([0,0,0,0,0,0,0,0,0],tt),dt=[Lt,xt,ot];return Q&&N.transformMat3(dt,dt,Q),dt},_t.prototype.convert=function(Lt){var xt=this.convertPoint(Lt),ot=xt.x,tt=xt.y,Q=this.applyMatrix(ot,tt,1);return{x:Q[0],y:Q[1]}},_t.prototype.invert=function(Lt){var xt=this.invertMatrix(Lt.x,Lt.y,1);return this.invertPoint({x:xt[0],y:xt[1]})},_t.prototype.rotate=function(Lt){var xt=this.matrix,ot=this.center;return X.leftTranslate(xt,xt,[-ot.x,-ot.y]),X.leftRotate(xt,xt,Lt),X.leftTranslate(xt,xt,[ot.x,ot.y]),this},_t.prototype.reflect=function(Lt){return Lt==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},_t.prototype.scale=function(Lt,xt){var ot=this.matrix,tt=this.center;return X.leftTranslate(ot,ot,[-tt.x,-tt.y]),X.leftScale(ot,ot,[Lt,xt]),X.leftTranslate(ot,ot,[tt.x,tt.y]),this},_t.prototype.translate=function(Lt,xt){var ot=this.matrix;return X.leftTranslate(ot,ot,[Lt,xt]),this},_t.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},_t.prototype.getCenter=function(){return this.center},_t.prototype.getWidth=function(){return this.width},_t.prototype.getHeight=function(){return this.height},_t.prototype.getRadius=function(){return this.radius},_t.prototype.isReflect=function(Lt){return Lt==="x"?this.isReflectX:this.isReflectY},_t.prototype.resetMatrix=function(Lt){this.matrix=Lt||B([],this.originalMatrix)},_t}(),Z=lt,U=function(_t){O(Lt,_t);function Lt(xt){var ot=_t.call(this,xt)||this;return ot.isRect=!0,ot.type="cartesian",ot.initial(),ot}return Lt.prototype.initial=function(){_t.prototype.initial.call(this);var xt=this.start,ot=this.end;this.x={start:xt.x,end:ot.x},this.y={start:xt.y,end:ot.y}},Lt.prototype.convertPoint=function(xt){var ot,tt=xt.x,Q=xt.y;return this.isTransposed&&(ot=[Q,tt],tt=ot[0],Q=ot[1]),{x:this.convertDim(tt,"x"),y:this.convertDim(Q,"y")}},Lt.prototype.invertPoint=function(xt){var ot,tt=this.invertDim(xt.x,"x"),Q=this.invertDim(xt.y,"y");return this.isTransposed&&(ot=[Q,tt],tt=ot[0],Q=ot[1]),{x:tt,y:Q}},Lt}(Z),j=U,H=v(31437),f=function(_t){O(Lt,_t);function Lt(xt){var ot=_t.call(this,xt)||this;ot.isHelix=!0,ot.type="helix";var tt=xt.startAngle,Q=tt===void 0?1.25*Math.PI:tt,dt=xt.endAngle,rt=dt===void 0?7.25*Math.PI:dt,nt=xt.innerRadius,pt=nt===void 0?0:nt,It=xt.radius;return ot.startAngle=Q,ot.endAngle=rt,ot.innerRadius=pt,ot.radius=It,ot.initial(),ot}return Lt.prototype.initial=function(){_t.prototype.initial.call(this);var xt=(this.endAngle-this.startAngle)/(2*Math.PI)+1,ot=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(ot=ot*this.radius),this.d=Math.floor(ot*(1-this.innerRadius)/xt),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*ot,end:this.innerRadius*ot+this.d*.99}},Lt.prototype.convertPoint=function(xt){var ot,tt=xt.x,Q=xt.y;this.isTransposed&&(ot=[Q,tt],tt=ot[0],Q=ot[1]);var dt=this.convertDim(tt,"x"),rt=this.a*dt,nt=this.convertDim(Q,"y");return{x:this.center.x+Math.cos(dt)*(rt+nt),y:this.center.y+Math.sin(dt)*(rt+nt)}},Lt.prototype.invertPoint=function(xt){var ot,tt=this.d+this.y.start,Q=H.subtract([0,0],[xt.x,xt.y],[this.center.x,this.center.y]),dt=X.angleTo(Q,[1,0],!0),rt=dt*this.a;H.length(Q)<rt&&(rt=H.length(Q));var nt=Math.floor((H.length(Q)-rt)/tt);dt=2*nt*Math.PI+dt;var pt=this.a*dt,It=H.length(Q)-pt;It=(0,V.isNumberEqual)(It,0)?0:It;var Vt=this.invertDim(dt,"x"),Qt=this.invertDim(It,"y");return Vt=(0,V.isNumberEqual)(Vt,0)?0:Vt,Qt=(0,V.isNumberEqual)(Qt,0)?0:Qt,this.isTransposed&&(ot=[Qt,Vt],Vt=ot[0],Qt=ot[1]),{x:Vt,y:Qt}},Lt}(Z),yt=f,St=function(_t){O(Lt,_t);function Lt(xt){var ot=_t.call(this,xt)||this;ot.isPolar=!0,ot.type="polar";var tt=xt.startAngle,Q=tt===void 0?-Math.PI/2:tt,dt=xt.endAngle,rt=dt===void 0?Math.PI*3/2:dt,nt=xt.innerRadius,pt=nt===void 0?0:nt,It=xt.radius;return ot.startAngle=Q,ot.endAngle=rt,ot.innerRadius=pt,ot.radius=It,ot.initial(),ot}return Lt.prototype.initial=function(){for(_t.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var xt=this.getOneBox(),ot=xt.maxX-xt.minX,tt=xt.maxY-xt.minY,Q=Math.abs(xt.minX)/ot,dt=Math.abs(xt.minY)/tt,rt;this.height/tt>this.width/ot?(rt=this.width/ot,this.circleCenter={x:this.center.x-(.5-Q)*this.width,y:this.center.y-(.5-dt)*rt*tt}):(rt=this.height/tt,this.circleCenter={x:this.center.x-(.5-Q)*rt*ot,y:this.center.y-(.5-dt)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=rt*this.radius:(this.radius<=0||this.radius>rt)&&(this.polarRadius=rt):this.polarRadius=rt,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},Lt.prototype.getRadius=function(){return this.polarRadius},Lt.prototype.convertPoint=function(xt){var ot,tt=this.getCenter(),Q=xt.x,dt=xt.y;return this.isTransposed&&(ot=[dt,Q],Q=ot[0],dt=ot[1]),Q=this.convertDim(Q,"x"),dt=this.convertDim(dt,"y"),{x:tt.x+Math.cos(Q)*dt,y:tt.y+Math.sin(Q)*dt}},Lt.prototype.invertPoint=function(xt){var ot,tt=this.getCenter(),Q=[xt.x-tt.x,xt.y-tt.y],dt=this,rt=dt.startAngle,nt=dt.endAngle;this.isReflect("x")&&(ot=[nt,rt],rt=ot[0],nt=ot[1]);var pt=[1,0,0,0,1,0,0,0,1];X.leftRotate(pt,pt,rt);var It=[1,0,0];N.transformMat3(It,It,pt);var Vt=[It[0],It[1]],Qt=X.angleTo(Vt,Q,nt<rt);(0,V.isNumberEqual)(Qt,Math.PI*2)&&(Qt=0);var he=H.length(Q),me=Qt/(nt-rt);me=nt-rt>0?me:-me;var Xt=this.invertDim(he,"y"),$t={x:0,y:0};return $t.x=this.isTransposed?Xt:me,$t.y=this.isTransposed?me:Xt,$t},Lt.prototype.getCenter=function(){return this.circleCenter},Lt.prototype.getOneBox=function(){var xt=this.startAngle,ot=this.endAngle;if(Math.abs(ot-xt)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var tt=[0,Math.cos(xt),Math.cos(ot)],Q=[0,Math.sin(xt),Math.sin(ot)],dt=Math.min(xt,ot);dt<Math.max(xt,ot);dt+=Math.PI/18)tt.push(Math.cos(dt)),Q.push(Math.sin(dt));return{minX:Math.min.apply(Math,tt),maxX:Math.max.apply(Math,tt),minY:Math.min.apply(Math,Q),maxY:Math.max.apply(Math,Q)}},Lt}(Z),at=St,Ct={},wt=function(_t){return Ct[_t.toLowerCase()]},At=function(_t,Lt){Ct[_t.toLowerCase()]=Lt};At("rect",j),At("cartesian",j),At("polar",at),At("helix",yt)},57817:function(mt,S,v){"use strict";v.d(S,{Z:function(){return g}});function g(O,I,P){if(O){if(typeof O.addEventListener=="function")return O.addEventListener(I,P,!1),{remove:function(){O.removeEventListener(I,P,!1)}};if(typeof O.attachEvent=="function")return O.attachEvent("on"+I,P),{remove:function(){O.detachEvent("on"+I,P)}}}}},6056:function(mt,S,v){"use strict";v.d(S,{Z:function(){return A}});var g,O,I,P;function T(){g=document.createElement("table"),O=document.createElement("tr"),I=/^\s*<(\w+|!)[^>]*>/,P={tr:document.createElement("tbody"),tbody:g,thead:g,tfoot:g,td:O,th:O,"*":document.createElement("div")}}function A(E){g||T();var C=I.test(E)&&RegExp.$1;(!C||!(C in P))&&(C="*");var p=P[C];E=E.replace(/(^\s*)|(\s*$)/g,""),p.innerHTML=""+E;var b=p.childNodes[0];return p.removeChild(b),b}},10430:function(mt,S,v){"use strict";v.d(S,{Z:function(){return O}});var g=v(99911);function O(I,P){var T=(0,g.Z)(I,"height",P);return T==="auto"&&(T=I.offsetHeight),parseFloat(T)}},79189:function(mt,S,v){"use strict";v.d(S,{Z:function(){return I}});var g=v(99911),O=v(10430);function I(P,T){var A=(0,O.Z)(P,T),E=parseFloat((0,g.Z)(P,"borderTopWidth"))||0,C=parseFloat((0,g.Z)(P,"paddingTop"))||0,p=parseFloat((0,g.Z)(P,"paddingBottom"))||0,b=parseFloat((0,g.Z)(P,"borderBottomWidth"))||0,x=parseFloat((0,g.Z)(P,"marginTop"))||0,w=parseFloat((0,g.Z)(P,"marginBottom"))||0;return A+E+b+C+p+x+w}},89810:function(mt,S,v){"use strict";v.d(S,{Z:function(){return I}});var g=v(99911),O=v(23408);function I(P,T){var A=(0,O.Z)(P,T),E=parseFloat((0,g.Z)(P,"borderLeftWidth"))||0,C=parseFloat((0,g.Z)(P,"paddingLeft"))||0,p=parseFloat((0,g.Z)(P,"paddingRight"))||0,b=parseFloat((0,g.Z)(P,"borderRightWidth"))||0,x=parseFloat((0,g.Z)(P,"marginRight"))||0,w=parseFloat((0,g.Z)(P,"marginLeft"))||0;return A+E+b+C+p+w+x}},99911:function(mt,S,v){"use strict";v.d(S,{Z:function(){return g}});function g(O,I,P){var T;try{T=window.getComputedStyle?window.getComputedStyle(O,null)[I]:O.style[I]}catch(A){}finally{T=T===void 0?P:T}return T}},23408:function(mt,S,v){"use strict";v.d(S,{Z:function(){return O}});var g=v(99911);function O(I,P){var T=(0,g.Z)(I,"width",P);return T==="auto"&&(T=I.offsetWidth),parseFloat(T)}},80478:function(mt,S,v){"use strict";v.r(S),v.d(S,{addEventListener:function(){return g.Z},createDom:function(){return O.Z},getHeight:function(){return I.Z},getOuterHeight:function(){return P.Z},getOuterWidth:function(){return T.Z},getRatio:function(){return A},getStyle:function(){return E.Z},getWidth:function(){return C.Z},modifyCSS:function(){return p.Z}});var g=v(57817),O=v(6056),I=v(10430),P=v(79189),T=v(89810);function A(){return window.devicePixelRatio?window.devicePixelRatio:2}var E=v(99911),C=v(23408),p=v(45442)},45442:function(mt,S,v){"use strict";v.d(S,{Z:function(){return g}});function g(O,I){if(O)for(var P in I)I.hasOwnProperty(P)&&(O.style[P]=I[P]);return O}},73136:function(mt,S){"use strict";var v;v={value:!0};function g(O,I,P){if(O){if(typeof O.addEventListener=="function")return O.addEventListener(I,P,!1),{remove:function(){O.removeEventListener(I,P,!1)}};if(typeof O.attachEvent=="function")return O.attachEvent("on"+I,P),{remove:function(){O.detachEvent("on"+I,P)}}}}S.Z=g},57821:function(mt,S){"use strict";var v;v={value:!0};var g,O,I,P;function T(){g=document.createElement("table"),O=document.createElement("tr"),I=/^\s*<(\w+|!)[^>]*>/,P={tr:document.createElement("tbody"),tbody:g,thead:g,tfoot:g,td:O,th:O,"*":document.createElement("div")}}function A(E){g||T();var C=I.test(E)&&RegExp.$1;(!C||!(C in P))&&(C="*");var p=P[C];E=E.replace(/(^\s*)|(\s*$)/g,""),p.innerHTML=""+E;var b=p.childNodes[0];return p.removeChild(b),b}S.Z=A},1513:function(mt,S){"use strict";var v;v={value:!0};function g(O,I){if(O)for(var P in I)I.hasOwnProperty(P)&&(O.style[P]=I[P]);return O}S.Z=g},90494:function(mt,S,v){"use strict";v.r(S);var g="*",O=function(){function I(){this._events={}}return I.prototype.on=function(P,T,A){return this._events[P]||(this._events[P]=[]),this._events[P].push({callback:T,once:!!A}),this},I.prototype.once=function(P,T){return this.on(P,T,!0),this},I.prototype.emit=function(P){for(var T=this,A=[],E=1;E<arguments.length;E++)A[E-1]=arguments[E];var C=this._events[P]||[],p=this._events[g]||[],b=function(x){for(var w=x.length,m=0;m<w;m++)if(!!x[m]){var M=x[m],L=M.callback,B=M.once;B&&(x.splice(m,1),x.length===0&&delete T._events[P],w--,m--),L.apply(T,A)}};b(C),b(p)},I.prototype.off=function(P,T){if(!P)this._events={};else if(!T)delete this._events[P];else{for(var A=this._events[P]||[],E=A.length,C=0;C<E;C++)A[C].callback===T&&(A.splice(C,1),E--,C--);A.length===0&&delete this._events[P]}return this},I.prototype.getEvents=function(){return this._events},I}();S.default=O},39014:function(mt,S,v){"use strict";v.r(S),v.d(S,{AbstractCanvas:function(){return oi},AbstractGroup:function(){return Un},AbstractShape:function(){return hn},Base:function(){return me},Event:function(){return wt},PathUtil:function(){return g},version:function(){return Hi}});var g={};v.r(g),v.d(g,{catmullRomToBezier:function(){return E},fillPath:function(){return Z},fillPathByDiff:function(){return f},formatPath:function(){return at},intersection:function(){return W},parsePathArray:function(){return L},parsePathString:function(){return A},pathToAbsolute:function(){return p},pathToCurve:function(){return m},rectPath:function(){return it}});var O=v(49242),I=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,P=new RegExp("([a-z])["+I+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+I+"]*,?["+I+"]*)+)","ig"),T=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+I+"]*,?["+I+"]*","ig"),A=function(Nt){if(!Nt)return null;if((0,O.isArray)(Nt))return Nt;var kt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},gt=[];return String(Nt).replace(P,function(Et,et,ht){var Mt=[],Bt=et.toLowerCase();if(ht.replace(T,function(Ft,jt){jt&&Mt.push(+jt)}),Bt==="m"&&Mt.length>2&&(gt.push([et].concat(Mt.splice(0,2))),Bt="l",et=et==="m"?"l":"L"),Bt==="o"&&Mt.length===1&&gt.push([et,Mt[0]]),Bt==="r")gt.push([et].concat(Mt));else for(;Mt.length>=kt[Bt]&&(gt.push([et].concat(Mt.splice(0,kt[Bt]))),!!kt[Bt]););return Nt}),gt},E=function(Nt,kt){for(var gt=[],Et=0,et=Nt.length;et-2*!kt>Et;Et+=2){var ht=[{x:+Nt[Et-2],y:+Nt[Et-1]},{x:+Nt[Et],y:+Nt[Et+1]},{x:+Nt[Et+2],y:+Nt[Et+3]},{x:+Nt[Et+4],y:+Nt[Et+5]}];kt?Et?et-4===Et?ht[3]={x:+Nt[0],y:+Nt[1]}:et-2===Et&&(ht[2]={x:+Nt[0],y:+Nt[1]},ht[3]={x:+Nt[2],y:+Nt[3]}):ht[0]={x:+Nt[et-2],y:+Nt[et-1]}:et-4===Et?ht[3]=ht[2]:Et||(ht[0]={x:+Nt[Et],y:+Nt[Et+1]}),gt.push(["C",(-ht[0].x+6*ht[1].x+ht[2].x)/6,(-ht[0].y+6*ht[1].y+ht[2].y)/6,(ht[1].x+6*ht[2].x-ht[3].x)/6,(ht[1].y+6*ht[2].y-ht[3].y)/6,ht[2].x,ht[2].y])}return gt},C=function(Nt,kt,gt,Et,et){var ht=[];if(et===null&&Et===null&&(Et=gt),Nt=+Nt,kt=+kt,gt=+gt,Et=+Et,et!==null){var Mt=Math.PI/180,Bt=Nt+gt*Math.cos(-Et*Mt),Ft=Nt+gt*Math.cos(-et*Mt),jt=kt+gt*Math.sin(-Et*Mt),ne=kt+gt*Math.sin(-et*Mt);ht=[["M",Bt,jt],["A",gt,gt,0,+(et-Et>180),0,Ft,ne]]}else ht=[["M",Nt,kt],["m",0,-Et],["a",gt,Et,0,1,1,0,2*Et],["a",gt,Et,0,1,1,0,-2*Et],["z"]];return ht},p=function(Nt){if(Nt=A(Nt),!Nt||!Nt.length)return[["M",0,0]];var kt=[],gt=0,Et=0,et=0,ht=0,Mt=0,Bt,Ft;Nt[0][0]==="M"&&(gt=+Nt[0][1],Et=+Nt[0][2],et=gt,ht=Et,Mt++,kt[0]=["M",gt,Et]);for(var jt=Nt.length===3&&Nt[0][0]==="M"&&Nt[1][0].toUpperCase()==="R"&&Nt[2][0].toUpperCase()==="Z",ne=void 0,le=void 0,Ae=Mt,ye=Nt.length;Ae<ye;Ae++){if(kt.push(ne=[]),le=Nt[Ae],Bt=le[0],Bt!==Bt.toUpperCase())switch(ne[0]=Bt.toUpperCase(),ne[0]){case"A":ne[1]=le[1],ne[2]=le[2],ne[3]=le[3],ne[4]=le[4],ne[5]=le[5],ne[6]=+le[6]+gt,ne[7]=+le[7]+Et;break;case"V":ne[1]=+le[1]+Et;break;case"H":ne[1]=+le[1]+gt;break;case"R":Ft=[gt,Et].concat(le.slice(1));for(var de=2,Ue=Ft.length;de<Ue;de++)Ft[de]=+Ft[de]+gt,Ft[++de]=+Ft[de]+Et;kt.pop(),kt=kt.concat(E(Ft,jt));break;case"O":kt.pop(),Ft=C(gt,Et,le[1],le[2]),Ft.push(Ft[0]),kt=kt.concat(Ft);break;case"U":kt.pop(),kt=kt.concat(C(gt,Et,le[1],le[2],le[3])),ne=["U"].concat(kt[kt.length-1].slice(-2));break;case"M":et=+le[1]+gt,ht=+le[2]+Et;break;default:for(var de=1,Ue=le.length;de<Ue;de++)ne[de]=+le[de]+(de%2?gt:Et)}else if(Bt==="R")Ft=[gt,Et].concat(le.slice(1)),kt.pop(),kt=kt.concat(E(Ft,jt)),ne=["R"].concat(le.slice(-2));else if(Bt==="O")kt.pop(),Ft=C(gt,Et,le[1],le[2]),Ft.push(Ft[0]),kt=kt.concat(Ft);else if(Bt==="U")kt.pop(),kt=kt.concat(C(gt,Et,le[1],le[2],le[3])),ne=["U"].concat(kt[kt.length-1].slice(-2));else for(var qe=0,wr=le.length;qe<wr;qe++)ne[qe]=le[qe];if(Bt=Bt.toUpperCase(),Bt!=="O")switch(ne[0]){case"Z":gt=+et,Et=+ht;break;case"H":gt=ne[1];break;case"V":Et=ne[1];break;case"M":et=ne[ne.length-2],ht=ne[ne.length-1];break;default:gt=ne[ne.length-2],Et=ne[ne.length-1]}}return kt},b=function(Nt,kt,gt,Et){return[Nt,kt,gt,Et,gt,Et]},x=function(Nt,kt,gt,Et,et,ht){var Mt=1/3,Bt=2/3;return[Mt*Nt+Bt*gt,Mt*kt+Bt*Et,Mt*et+Bt*gt,Mt*ht+Bt*Et,et,ht]},w=function(Nt,kt,gt,Et,et,ht,Mt,Bt,Ft,jt){gt===Et&&(gt+=1);var ne=Math.PI*120/180,le=Math.PI/180*(+et||0),Ae=[],ye,de,Ue,qe,wr,ur=function(Ui,li,ba){var ea=Ui*Math.cos(ba)-li*Math.sin(ba),Za=Ui*Math.sin(ba)+li*Math.cos(ba);return{x:ea,y:Za}};if(jt)de=jt[0],Ue=jt[1],qe=jt[2],wr=jt[3];else{ye=ur(Nt,kt,-le),Nt=ye.x,kt=ye.y,ye=ur(Bt,Ft,-le),Bt=ye.x,Ft=ye.y,Nt===Bt&&kt===Ft&&(Bt+=1,Ft+=1);var Ke=(Nt-Bt)/2,We=(kt-Ft)/2,Tr=Ke*Ke/(gt*gt)+We*We/(Et*Et);Tr>1&&(Tr=Math.sqrt(Tr),gt=Tr*gt,Et=Tr*Et);var Zr=gt*gt,cn=Et*Et,yn=(ht===Mt?-1:1)*Math.sqrt(Math.abs((Zr*cn-Zr*We*We-cn*Ke*Ke)/(Zr*We*We+cn*Ke*Ke)));qe=yn*gt*We/Et+(Nt+Bt)/2,wr=yn*-Et*Ke/gt+(kt+Ft)/2,de=Math.asin(((kt-wr)/Et).toFixed(9)),Ue=Math.asin(((Ft-wr)/Et).toFixed(9)),de=Nt<qe?Math.PI-de:de,Ue=Bt<qe?Math.PI-Ue:Ue,de<0&&(de=Math.PI*2+de),Ue<0&&(Ue=Math.PI*2+Ue),Mt&&de>Ue&&(de=de-Math.PI*2),!Mt&&Ue>de&&(Ue=Ue-Math.PI*2)}var Xn=Ue-de;if(Math.abs(Xn)>ne){var qn=Ue,Vn=Bt,Ai=Ft;Ue=de+ne*(Mt&&Ue>de?1:-1),Bt=qe+gt*Math.cos(Ue),Ft=wr+Et*Math.sin(Ue),Ae=w(Bt,Ft,gt,Et,et,0,Mt,Vn,Ai,[Ue,qn,qe,wr])}Xn=Ue-de;var si=Math.cos(de),Fi=Math.sin(de),Wi=Math.cos(Ue),Qr=Math.sin(Ue),ta=Math.tan(Xn/4),la=4/3*gt*ta,Hn=4/3*Et*ta,ua=[Nt,kt],yi=[Nt+la*Fi,kt-Hn*si],ji=[Bt+la*Qr,Ft-Hn*Wi],Ua=[Bt,Ft];if(yi[0]=2*ua[0]-yi[0],yi[1]=2*ua[1]-yi[1],jt)return[yi,ji,Ua].concat(Ae);Ae=[yi,ji,Ua].concat(Ae).join().split(",");for(var ka=[],_i=0,Ba=Ae.length;_i<Ba;_i++)ka[_i]=_i%2?ur(Ae[_i-1],Ae[_i],le).y:ur(Ae[_i],Ae[_i+1],le).x;return ka},m=function(Nt,kt){var gt=p(Nt),Et=kt&&p(kt),et={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ht={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Mt=[],Bt=[],Ft="",jt="",ne,le=function(Ke,We,Tr){var Zr,cn;if(!Ke)return["C",We.x,We.y,We.x,We.y,We.x,We.y];switch(!(Ke[0]in{T:1,Q:1})&&(We.qx=We.qy=null),Ke[0]){case"M":We.X=Ke[1],We.Y=Ke[2];break;case"A":Ke=["C"].concat(w.apply(0,[We.x,We.y].concat(Ke.slice(1))));break;case"S":Tr==="C"||Tr==="S"?(Zr=We.x*2-We.bx,cn=We.y*2-We.by):(Zr=We.x,cn=We.y),Ke=["C",Zr,cn].concat(Ke.slice(1));break;case"T":Tr==="Q"||Tr==="T"?(We.qx=We.x*2-We.qx,We.qy=We.y*2-We.qy):(We.qx=We.x,We.qy=We.y),Ke=["C"].concat(x(We.x,We.y,We.qx,We.qy,Ke[1],Ke[2]));break;case"Q":We.qx=Ke[1],We.qy=Ke[2],Ke=["C"].concat(x(We.x,We.y,Ke[1],Ke[2],Ke[3],Ke[4]));break;case"L":Ke=["C"].concat(b(We.x,We.y,Ke[1],Ke[2]));break;case"H":Ke=["C"].concat(b(We.x,We.y,Ke[1],We.y));break;case"V":Ke=["C"].concat(b(We.x,We.y,We.x,Ke[1]));break;case"Z":Ke=["C"].concat(b(We.x,We.y,We.X,We.Y));break;default:break}return Ke},Ae=function(Ke,We){if(Ke[We].length>7){Ke[We].shift();for(var Tr=Ke[We];Tr.length;)Mt[We]="A",Et&&(Bt[We]="A"),Ke.splice(We++,0,["C"].concat(Tr.splice(0,6)));Ke.splice(We,1),ne=Math.max(gt.length,Et&&Et.length||0)}},ye=function(Ke,We,Tr,Zr,cn){Ke&&We&&Ke[cn][0]==="M"&&We[cn][0]!=="M"&&(We.splice(cn,0,["M",Zr.x,Zr.y]),Tr.bx=0,Tr.by=0,Tr.x=Ke[cn][1],Tr.y=Ke[cn][2],ne=Math.max(gt.length,Et&&Et.length||0))};ne=Math.max(gt.length,Et&&Et.length||0);for(var de=0;de<ne;de++){gt[de]&&(Ft=gt[de][0]),Ft!=="C"&&(Mt[de]=Ft,de&&(jt=Mt[de-1])),gt[de]=le(gt[de],et,jt),Mt[de]!=="A"&&Ft==="C"&&(Mt[de]="C"),Ae(gt,de),Et&&(Et[de]&&(Ft=Et[de][0]),Ft!=="C"&&(Bt[de]=Ft,de&&(jt=Bt[de-1])),Et[de]=le(Et[de],ht,jt),Bt[de]!=="A"&&Ft==="C"&&(Bt[de]="C"),Ae(Et,de)),ye(gt,Et,et,ht,de),ye(Et,gt,ht,et,de);var Ue=gt[de],qe=Et&&Et[de],wr=Ue.length,ur=Et&&qe.length;et.x=Ue[wr-2],et.y=Ue[wr-1],et.bx=parseFloat(Ue[wr-4])||et.x,et.by=parseFloat(Ue[wr-3])||et.y,ht.bx=Et&&(parseFloat(qe[ur-4])||ht.x),ht.by=Et&&(parseFloat(qe[ur-3])||ht.y),ht.x=Et&&qe[ur-2],ht.y=Et&&qe[ur-1]}return Et?[gt,Et]:gt},M=/,?([a-z]),?/gi,L=function(Nt){return Nt.join(",").replace(M,"$1")},B=function(Nt,kt,gt,Et,et){var ht=-3*kt+9*gt-9*Et+3*et,Mt=Nt*ht+6*kt-12*gt+6*Et;return Nt*Mt-3*kt+3*gt},D=function(Nt,kt,gt,Et,et,ht,Mt,Bt,Ft){Ft===null&&(Ft=1),Ft=Ft>1?1:Ft<0?0:Ft;for(var jt=Ft/2,ne=12,le=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ae=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ye=0,de=0;de<ne;de++){var Ue=jt*le[de]+jt,qe=B(Ue,Nt,gt,et,Mt),wr=B(Ue,kt,Et,ht,Bt),ur=qe*qe+wr*wr;ye+=Ae[de]*Math.sqrt(ur)}return jt*ye},z=function(Nt,kt,gt,Et,et,ht,Mt,Bt){for(var Ft=[],jt=[[],[]],ne,le,Ae,ye,de=0;de<2;++de){if(de===0?(le=6*Nt-12*gt+6*et,ne=-3*Nt+9*gt-9*et+3*Mt,Ae=3*gt-3*Nt):(le=6*kt-12*Et+6*ht,ne=-3*kt+9*Et-9*ht+3*Bt,Ae=3*Et-3*kt),Math.abs(ne)<1e-12){if(Math.abs(le)<1e-12)continue;ye=-Ae/le,ye>0&&ye<1&&Ft.push(ye);continue}var Ue=le*le-4*Ae*ne,qe=Math.sqrt(Ue);if(!(Ue<0)){var wr=(-le+qe)/(2*ne);wr>0&&wr<1&&Ft.push(wr);var ur=(-le-qe)/(2*ne);ur>0&&ur<1&&Ft.push(ur)}}for(var Ke=Ft.length,We=Ke,Tr;Ke--;)ye=Ft[Ke],Tr=1-ye,jt[0][Ke]=Tr*Tr*Tr*Nt+3*Tr*Tr*ye*gt+3*Tr*ye*ye*et+ye*ye*ye*Mt,jt[1][Ke]=Tr*Tr*Tr*kt+3*Tr*Tr*ye*Et+3*Tr*ye*ye*ht+ye*ye*ye*Bt;return jt[0][We]=Nt,jt[1][We]=kt,jt[0][We+1]=Mt,jt[1][We+1]=Bt,jt[0].length=jt[1].length=We+2,{min:{x:Math.min.apply(0,jt[0]),y:Math.min.apply(0,jt[1])},max:{x:Math.max.apply(0,jt[0]),y:Math.max.apply(0,jt[1])}}},q=function(Nt,kt,gt,Et,et,ht,Mt,Bt){if(!(Math.max(Nt,gt)<Math.min(et,Mt)||Math.min(Nt,gt)>Math.max(et,Mt)||Math.max(kt,Et)<Math.min(ht,Bt)||Math.min(kt,Et)>Math.max(ht,Bt))){var Ft=(Nt*Et-kt*gt)*(et-Mt)-(Nt-gt)*(et*Bt-ht*Mt),jt=(Nt*Et-kt*gt)*(ht-Bt)-(kt-Et)*(et*Bt-ht*Mt),ne=(Nt-gt)*(ht-Bt)-(kt-Et)*(et-Mt);if(!!ne){var le=Ft/ne,Ae=jt/ne,ye=+le.toFixed(2),de=+Ae.toFixed(2);if(!(ye<+Math.min(Nt,gt).toFixed(2)||ye>+Math.max(Nt,gt).toFixed(2)||ye<+Math.min(et,Mt).toFixed(2)||ye>+Math.max(et,Mt).toFixed(2)||de<+Math.min(kt,Et).toFixed(2)||de>+Math.max(kt,Et).toFixed(2)||de<+Math.min(ht,Bt).toFixed(2)||de>+Math.max(ht,Bt).toFixed(2)))return{x:le,y:Ae}}}},K=function(Nt,kt,gt){return kt>=Nt.x&&kt<=Nt.x+Nt.width&&gt>=Nt.y&&gt<=Nt.y+Nt.height},it=function(Nt,kt,gt,Et,et){if(et)return[["M",+Nt+ +et,kt],["l",gt-et*2,0],["a",et,et,0,0,1,et,et],["l",0,Et-et*2],["a",et,et,0,0,1,-et,et],["l",et*2-gt,0],["a",et,et,0,0,1,-et,-et],["l",0,et*2-Et],["a",et,et,0,0,1,et,-et],["z"]];var ht=[["M",Nt,kt],["l",gt,0],["l",0,Et],["l",-gt,0],["z"]];return ht.parsePathArray=L,ht},ct=function(Nt,kt,gt,Et){return Nt===null&&(Nt=kt=gt=Et=0),kt===null&&(kt=Nt.y,gt=Nt.width,Et=Nt.height,Nt=Nt.x),{x:Nt,y:kt,width:gt,w:gt,height:Et,h:Et,x2:Nt+gt,y2:kt+Et,cx:Nt+gt/2,cy:kt+Et/2,r1:Math.min(gt,Et)/2,r2:Math.max(gt,Et)/2,r0:Math.sqrt(gt*gt+Et*Et)/2,path:it(Nt,kt,gt,Et),vb:[Nt,kt,gt,Et].join(" ")}},st=function(Nt,kt){return Nt=ct(Nt),kt=ct(kt),K(kt,Nt.x,Nt.y)||K(kt,Nt.x2,Nt.y)||K(kt,Nt.x,Nt.y2)||K(kt,Nt.x2,Nt.y2)||K(Nt,kt.x,kt.y)||K(Nt,kt.x2,kt.y)||K(Nt,kt.x,kt.y2)||K(Nt,kt.x2,kt.y2)||(Nt.x<kt.x2&&Nt.x>kt.x||kt.x<Nt.x2&&kt.x>Nt.x)&&(Nt.y<kt.y2&&Nt.y>kt.y||kt.y<Nt.y2&&kt.y>Nt.y)},Ot=function(Nt,kt,gt,Et,et,ht,Mt,Bt){(0,O.isArray)(Nt)||(Nt=[Nt,kt,gt,Et,et,ht,Mt,Bt]);var Ft=z.apply(null,Nt);return ct(Ft.min.x,Ft.min.y,Ft.max.x-Ft.min.x,Ft.max.y-Ft.min.y)},Dt=function(Nt,kt,gt,Et,et,ht,Mt,Bt,Ft){var jt=1-Ft,ne=Math.pow(jt,3),le=Math.pow(jt,2),Ae=Ft*Ft,ye=Ae*Ft,de=ne*Nt+le*3*Ft*gt+jt*3*Ft*Ft*et+ye*Mt,Ue=ne*kt+le*3*Ft*Et+jt*3*Ft*Ft*ht+ye*Bt,qe=Nt+2*Ft*(gt-Nt)+Ae*(et-2*gt+Nt),wr=kt+2*Ft*(Et-kt)+Ae*(ht-2*Et+kt),ur=gt+2*Ft*(et-gt)+Ae*(Mt-2*et+gt),Ke=Et+2*Ft*(ht-Et)+Ae*(Bt-2*ht+Et),We=jt*Nt+Ft*gt,Tr=jt*kt+Ft*Et,Zr=jt*et+Ft*Mt,cn=jt*ht+Ft*Bt,yn=90-Math.atan2(qe-ur,wr-Ke)*180/Math.PI;return{x:de,y:Ue,m:{x:qe,y:wr},n:{x:ur,y:Ke},start:{x:We,y:Tr},end:{x:Zr,y:cn},alpha:yn}},Ht=function(Nt,kt,gt){var Et=Ot(Nt),et=Ot(kt);if(!st(Et,et))return gt?0:[];for(var ht=D.apply(0,Nt),Mt=D.apply(0,kt),Bt=~~(ht/8),Ft=~~(Mt/8),jt=[],ne=[],le={},Ae=gt?0:[],ye=0;ye<Bt+1;ye++){var de=Dt.apply(0,Nt.concat(ye/Bt));jt.push({x:de.x,y:de.y,t:ye/Bt})}for(var ye=0;ye<Ft+1;ye++){var de=Dt.apply(0,kt.concat(ye/Ft));ne.push({x:de.x,y:de.y,t:ye/Ft})}for(var ye=0;ye<Bt;ye++)for(var Ue=0;Ue<Ft;Ue++){var qe=jt[ye],wr=jt[ye+1],ur=ne[Ue],Ke=ne[Ue+1],We=Math.abs(wr.x-qe.x)<.001?"y":"x",Tr=Math.abs(Ke.x-ur.x)<.001?"y":"x",Zr=q(qe.x,qe.y,wr.x,wr.y,ur.x,ur.y,Ke.x,Ke.y);if(Zr){if(le[Zr.x.toFixed(4)]===Zr.y.toFixed(4))continue;le[Zr.x.toFixed(4)]=Zr.y.toFixed(4);var cn=qe.t+Math.abs((Zr[We]-qe[We])/(wr[We]-qe[We]))*(wr.t-qe.t),yn=ur.t+Math.abs((Zr[Tr]-ur[Tr])/(Ke[Tr]-ur[Tr]))*(Ke.t-ur.t);cn>=0&&cn<=1&&yn>=0&&yn<=1&&(gt?Ae+=1:Ae.push({x:Zr.x,y:Zr.y,t1:cn,t2:yn}))}}return Ae},N=function(Nt,kt,gt){Nt=m(Nt),kt=m(kt);for(var Et,et,ht,Mt,Bt,Ft,jt,ne,le,Ae,ye=gt?0:[],de=0,Ue=Nt.length;de<Ue;de++){var qe=Nt[de];if(qe[0]==="M")Et=Bt=qe[1],et=Ft=qe[2];else{qe[0]==="C"?(le=[Et,et].concat(qe.slice(1)),Et=le[6],et=le[7]):(le=[Et,et,Et,et,Bt,Ft,Bt,Ft],Et=Bt,et=Ft);for(var wr=0,ur=kt.length;wr<ur;wr++){var Ke=kt[wr];if(Ke[0]==="M")ht=jt=Ke[1],Mt=ne=Ke[2];else{Ke[0]==="C"?(Ae=[ht,Mt].concat(Ke.slice(1)),ht=Ae[6],Mt=Ae[7]):(Ae=[ht,Mt,ht,Mt,jt,ne,jt,ne],ht=jt,Mt=ne);var We=Ht(le,Ae,gt);if(gt)ye+=We;else{for(var Tr=0,Zr=We.length;Tr<Zr;Tr++)We[Tr].segment1=de,We[Tr].segment2=wr,We[Tr].bez1=le,We[Tr].bez2=Ae;ye=ye.concat(We)}}}}}return ye},W=function(Nt,kt){return N(Nt,kt)};function X(Nt,kt){var gt=[],Et=[];function et(ht,Mt){if(ht.length===1)gt.push(ht[0]),Et.push(ht[0]);else{for(var Bt=[],Ft=0;Ft<ht.length-1;Ft++)Ft===0&&gt.push(ht[0]),Ft===ht.length-2&&Et.push(ht[Ft+1]),Bt[Ft]=[(1-Mt)*ht[Ft][0]+Mt*ht[Ft+1][0],(1-Mt)*ht[Ft][1]+Mt*ht[Ft+1][1]];et(Bt,Mt)}}return Nt.length&&et(Nt,kt),{left:gt,right:Et.reverse()}}function V(Nt,kt,gt){var Et=[[Nt[1],Nt[2]]];gt=gt||2;var et=[];kt[0]==="A"?(Et.push(kt[6]),Et.push(kt[7])):kt[0]==="C"?(Et.push([kt[1],kt[2]]),Et.push([kt[3],kt[4]]),Et.push([kt[5],kt[6]])):kt[0]==="S"||kt[0]==="Q"?(Et.push([kt[1],kt[2]]),Et.push([kt[3],kt[4]])):Et.push([kt[1],kt[2]]);for(var ht=Et,Mt=1/gt,Bt=0;Bt<gt-1;Bt++){var Ft=Mt/(1-Mt*Bt),jt=X(ht,Ft);et.push(jt.left),ht=jt.right}et.push(ht);var ne=et.map(function(le){var Ae=[];return le.length===4&&(Ae.push("C"),Ae=Ae.concat(le[2])),le.length>=3&&(le.length===3&&Ae.push("Q"),Ae=Ae.concat(le[1])),le.length===2&&Ae.push("L"),Ae=Ae.concat(le[le.length-1]),Ae});return ne}var lt=function(Nt,kt,gt){if(gt===1)return[[].concat(Nt)];var Et=[];if(kt[0]==="L"||kt[0]==="C"||kt[0]==="Q")Et=Et.concat(V(Nt,kt,gt));else{var et=[].concat(Nt);et[0]==="M"&&(et[0]="L");for(var ht=0;ht<=gt-1;ht++)Et.push(et)}return Et},Z=function(Nt,kt){if(Nt.length===1)return Nt;var gt=Nt.length-1,Et=kt.length-1,et=gt/Et,ht=[];if(Nt.length===1&&Nt[0][0]==="M"){for(var Mt=0;Mt<Et-gt;Mt++)Nt.push(Nt[0]);return Nt}for(var Mt=0;Mt<Et;Mt++){var Bt=Math.floor(et*Mt);ht[Bt]=(ht[Bt]||0)+1}var Ft=ht.reduce(function(jt,ne,le){return le===gt?jt.concat(Nt[gt]):jt.concat(lt(Nt[le],Nt[le+1],ne))},[]);return Ft.unshift(Nt[0]),(kt[Et]==="Z"||kt[Et]==="z")&&Ft.push("Z"),Ft},U=function(Nt,kt){if(Nt.length!==kt.length)return!1;var gt=!0;return(0,O.each)(Nt,function(Et,et){if(Et!==kt[et])return gt=!1,!1}),gt};function j(Nt,kt,gt){var Et=null,et=gt;return kt<et&&(et=kt,Et="add"),Nt<et&&(et=Nt,Et="del"),{type:Et,min:et}}var H=function(Nt,kt){var gt=Nt.length,Et=kt.length,et,ht,Mt=0;if(gt===0||Et===0)return null;for(var Bt=[],Ft=0;Ft<=gt;Ft++)Bt[Ft]=[],Bt[Ft][0]={min:Ft};for(var jt=0;jt<=Et;jt++)Bt[0][jt]={min:jt};for(var Ft=1;Ft<=gt;Ft++){et=Nt[Ft-1];for(var jt=1;jt<=Et;jt++){ht=kt[jt-1],U(et,ht)?Mt=0:Mt=1;var ne=Bt[Ft-1][jt].min+1,le=Bt[Ft][jt-1].min+1,Ae=Bt[Ft-1][jt-1].min+Mt;Bt[Ft][jt]=j(ne,le,Ae)}}return Bt},f=function(Nt,kt){var gt=H(Nt,kt),Et=Nt.length,et=kt.length,ht=[],Mt=1,Bt=1;if(gt[Et][et].min!==Et){for(var Ft=1;Ft<=Et;Ft++){var jt=gt[Ft][Ft].min;Bt=Ft;for(var ne=Mt;ne<=et;ne++)gt[Ft][ne].min<jt&&(jt=gt[Ft][ne].min,Bt=ne);Mt=Bt,gt[Ft][Mt].type&&ht.push({index:Ft-1,type:gt[Ft][Mt].type})}for(var Ft=ht.length-1;Ft>=0;Ft--)Mt=ht[Ft].index,ht[Ft].type==="add"?Nt.splice(Mt,0,[].concat(Nt[Mt])):Nt.splice(Mt,1)}Et=Nt.length;var le=et-Et;if(Et<et)for(var Ft=0;Ft<le;Ft++)Nt[Et-1][0]==="z"||Nt[Et-1][0]==="Z"?Nt.splice(Et-2,0,Nt[Et-2]):Nt.push(Nt[Et-1]),Et+=1;return Nt};function yt(Nt,kt,gt){for(var Et=[].concat(Nt),et,ht=1/(gt+1),Mt=St(kt)[0],Bt=1;Bt<=gt;Bt++)ht*=Bt,et=Math.floor(Nt.length*ht),et===0?Et.unshift([Mt[0]*ht+Nt[et][0]*(1-ht),Mt[1]*ht+Nt[et][1]*(1-ht)]):Et.splice(et,0,[Mt[0]*ht+Nt[et][0]*(1-ht),Mt[1]*ht+Nt[et][1]*(1-ht)]);return Et}function St(Nt){var kt=[];switch(Nt[0]){case"M":kt.push([Nt[1],Nt[2]]);break;case"L":kt.push([Nt[1],Nt[2]]);break;case"A":kt.push([Nt[6],Nt[7]]);break;case"Q":kt.push([Nt[3],Nt[4]]),kt.push([Nt[1],Nt[2]]);break;case"T":kt.push([Nt[1],Nt[2]]);break;case"C":kt.push([Nt[5],Nt[6]]),kt.push([Nt[1],Nt[2]]),kt.push([Nt[3],Nt[4]]);break;case"S":kt.push([Nt[3],Nt[4]]),kt.push([Nt[1],Nt[2]]);break;case"H":kt.push([Nt[1],Nt[1]]);break;case"V":kt.push([Nt[1],Nt[1]]);break;default:}return kt}var at=function(Nt,kt){if(Nt.length<=1)return Nt;for(var gt,Et=0;Et<kt.length;Et++)if(Nt[Et][0]!==kt[Et][0])switch(gt=St(Nt[Et]),kt[Et][0]){case"M":Nt[Et]=["M"].concat(gt[0]);break;case"L":Nt[Et]=["L"].concat(gt[0]);break;case"A":Nt[Et]=[].concat(kt[Et]),Nt[Et][6]=gt[0][0],Nt[Et][7]=gt[0][1];break;case"Q":if(gt.length<2)if(Et>0)gt=yt(gt,Nt[Et-1],1);else{Nt[Et]=kt[Et];break}Nt[Et]=["Q"].concat(gt.reduce(function(et,ht){return et.concat(ht)},[]));break;case"T":Nt[Et]=["T"].concat(gt[0]);break;case"C":if(gt.length<3)if(Et>0)gt=yt(gt,Nt[Et-1],2);else{Nt[Et]=kt[Et];break}Nt[Et]=["C"].concat(gt.reduce(function(et,ht){return et.concat(ht)},[]));break;case"S":if(gt.length<2)if(Et>0)gt=yt(gt,Nt[Et-1],1);else{Nt[Et]=kt[Et];break}Nt[Et]=["S"].concat(gt.reduce(function(et,ht){return et.concat(ht)},[]));break;default:Nt[Et]=kt[Et]}return Nt},Ct=function(){function Nt(kt,gt){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=kt,this.name=kt,this.originalEvent=gt,this.timeStamp=gt.timeStamp}return Nt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Nt.prototype.stopPropagation=function(){this.propagationStopped=!0},Nt.prototype.toString=function(){var kt=this.type;return"[Event (type="+kt+")]"},Nt.prototype.save=function(){},Nt.prototype.restore=function(){},Nt}(),wt=Ct,At=v(60153),_t=v(90494),Lt=v(73890),xt=v(46812),ot=v(21830),tt=v(33643),Q=v(66631),dt=v(66974),rt=v(27154),nt=v(85260);function pt(Nt,kt){var gt=Nt.indexOf(kt);gt!==-1&&Nt.splice(gt,1)}var It=typeof window!="undefined"&&typeof window.document!="undefined";function Vt(Nt,kt){if(Nt.isCanvas())return!0;for(var gt=kt.getParent(),Et=!1;gt;){if(gt===Nt){Et=!0;break}gt=gt.getParent()}return Et}function Qt(Nt){return Nt.cfg.visible&&Nt.cfg.capture}var he=function(Nt){(0,At.__extends)(kt,Nt);function kt(gt){var Et=Nt.call(this)||this;Et.destroyed=!1;var et=Et.getDefaultCfg();return Et.cfg=(0,dt.default)(et,gt),Et}return kt.prototype.getDefaultCfg=function(){return{}},kt.prototype.get=function(gt){return this.cfg[gt]},kt.prototype.set=function(gt,Et){this.cfg[gt]=Et},kt.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},kt}(_t.default),me=he,Xt=v(43631),$t=v(31506);function fe(Nt,kt){var gt=[],Et=Nt[0],et=Nt[1],ht=Nt[2],Mt=Nt[3],Bt=Nt[4],Ft=Nt[5],jt=Nt[6],ne=Nt[7],le=Nt[8],Ae=kt[0],ye=kt[1],de=kt[2],Ue=kt[3],qe=kt[4],wr=kt[5],ur=kt[6],Ke=kt[7],We=kt[8];return gt[0]=Ae*Et+ye*Mt+de*jt,gt[1]=Ae*et+ye*Bt+de*ne,gt[2]=Ae*ht+ye*Ft+de*le,gt[3]=Ue*Et+qe*Mt+wr*jt,gt[4]=Ue*et+qe*Bt+wr*ne,gt[5]=Ue*ht+qe*Ft+wr*le,gt[6]=ur*Et+Ke*Mt+We*jt,gt[7]=ur*et+Ke*Bt+We*ne,gt[8]=ur*ht+Ke*Ft+We*le,gt}function Se(Nt,kt){var gt=[],Et=kt[0],et=kt[1];return gt[0]=Nt[0]*Et+Nt[3]*et+Nt[6],gt[1]=Nt[1]*Et+Nt[4]*et+Nt[7],gt}function ke(Nt){var kt=[],gt=Nt[0],Et=Nt[1],et=Nt[2],ht=Nt[3],Mt=Nt[4],Bt=Nt[5],Ft=Nt[6],jt=Nt[7],ne=Nt[8],le=ne*Mt-Bt*jt,Ae=-ne*ht+Bt*Ft,ye=jt*ht-Mt*Ft,de=gt*le+Et*Ae+et*ye;return de?(de=1/de,kt[0]=le*de,kt[1]=(-ne*Et+et*jt)*de,kt[2]=(Bt*Et-et*Mt)*de,kt[3]=Ae*de,kt[4]=(ne*gt-et*Ft)*de,kt[5]=(-Bt*gt+et*ht)*de,kt[6]=ye*de,kt[7]=(-jt*gt+Et*Ft)*de,kt[8]=(Mt*gt-Et*ht)*de,kt):null}var Oe="matrix",$e=["zIndex","capture","visible","type"],lr=["repeat"],zt=":",qt="*";function ae(Nt){for(var kt=[],gt=0;gt<Nt.length;gt++)(0,O.isArray)(Nt[gt])?kt.push([].concat(Nt[gt])):kt.push(Nt[gt]);return kt}function se(Nt,kt){var gt={},Et=kt.attrs;for(var et in Nt)gt[et]=Et[et];return gt}function ge(Nt,kt){var gt={},Et=kt.attr();return(0,O.each)(Nt,function(et,ht){lr.indexOf(ht)===-1&&!(0,O.isEqual)(Et[ht],et)&&(gt[ht]=et)}),gt}function Ce(Nt,kt){if(kt.onFrame)return Nt;var gt=kt.startTime,Et=kt.delay,et=kt.duration,ht=Object.prototype.hasOwnProperty;return(0,O.each)(Nt,function(Mt){gt+Et<Mt.startTime+Mt.delay+Mt.duration&&et>Mt.delay&&(0,O.each)(kt.toAttrs,function(Bt,Ft){ht.call(Mt.toAttrs,Ft)&&(delete Mt.toAttrs[Ft],delete Mt.fromAttrs[Ft])})}),Nt}var Me=function(Nt){(0,At.__extends)(kt,Nt);function kt(gt){var Et=Nt.call(this,gt)||this;Et.attrs={};var et=Et.getDefaultAttrs();return(0,O.mix)(et,gt.attrs),Et.attrs=et,Et.initAttrs(et),Et.initAnimate(),Et}return kt.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},kt.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},kt.prototype.onCanvasChange=function(gt){},kt.prototype.initAttrs=function(gt){},kt.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},kt.prototype.isGroup=function(){return!1},kt.prototype.getParent=function(){return this.get("parent")},kt.prototype.getCanvas=function(){return this.get("canvas")},kt.prototype.attr=function(){for(var gt,Et=[],et=0;et<arguments.length;et++)Et[et]=arguments[et];var ht=Et[0],Mt=Et[1];if(!ht)return this.attrs;if((0,O.isObject)(ht)){for(var Bt in ht)this.setAttr(Bt,ht[Bt]);return this.afterAttrsChange(ht),this}return Et.length===2?(this.setAttr(ht,Mt),this.afterAttrsChange((gt={},gt[ht]=Mt,gt)),this):this.attrs[ht]},kt.prototype.isClipped=function(gt,Et){var et=this.getClip();return et&&!et.isHit(gt,Et)},kt.prototype.setAttr=function(gt,Et){var et=this.attrs[gt];et!==Et&&(this.attrs[gt]=Et,this.onAttrChange(gt,Et,et))},kt.prototype.onAttrChange=function(gt,Et,et){gt==="matrix"&&this.set("totalMatrix",null)},kt.prototype.afterAttrsChange=function(gt){this.onCanvasChange("attr")},kt.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},kt.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},kt.prototype.setZIndex=function(gt){this.set("zIndex",gt);var Et=this.getParent();return Et&&Et.sort(),this},kt.prototype.toFront=function(){var gt=this.getParent();if(!!gt){var Et=gt.getChildren(),et=this.get("el"),ht=Et.indexOf(this);Et.splice(ht,1),Et.push(this),this.onCanvasChange("zIndex")}},kt.prototype.toBack=function(){var gt=this.getParent();if(!!gt){var Et=gt.getChildren(),et=this.get("el"),ht=Et.indexOf(this);Et.splice(ht,1),Et.unshift(this),this.onCanvasChange("zIndex")}},kt.prototype.remove=function(gt){gt===void 0&&(gt=!0);var Et=this.getParent();Et?(pt(Et.getChildren(),this),Et.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),gt&&this.destroy()},kt.prototype.resetMatrix=function(){this.attr(Oe,this.getDefaultMatrix()),this.onCanvasChange("matrix")},kt.prototype.getMatrix=function(){return this.attr(Oe)},kt.prototype.setMatrix=function(gt){this.attr(Oe,gt),this.onCanvasChange("matrix")},kt.prototype.getTotalMatrix=function(){var gt=this.get("totalMatrix");if(!gt){var Et=this.attr("matrix"),et=this.get("parentMatrix");et&&Et?gt=fe(et,Et):gt=Et||et,this.set("totalMatrix",gt)}return gt},kt.prototype.applyMatrix=function(gt){var Et=this.attr("matrix"),et=null;gt&&Et?et=fe(gt,Et):et=Et||gt,this.set("totalMatrix",et),this.set("parentMatrix",gt)},kt.prototype.getDefaultMatrix=function(){return null},kt.prototype.applyToMatrix=function(gt){var Et=this.attr("matrix");return Et?Se(Et,gt):gt},kt.prototype.invertFromMatrix=function(gt){var Et=this.attr("matrix");if(Et){var et=ke(Et);if(et)return Se(et,gt)}return gt},kt.prototype.setClip=function(gt){var Et=this.getCanvas(),et=null;if(gt){var ht=this.getShapeBase(),Mt=(0,O.upperFirst)(gt.type),Bt=ht[Mt];Bt&&(et=new Bt({type:gt.type,isClipShape:!0,attrs:gt.attrs,canvas:Et}))}return this.set("clipShape",et),this.onCanvasChange("clip"),et},kt.prototype.getClip=function(){var gt=this.cfg.clipShape;return gt||null},kt.prototype.clone=function(){var gt=this,Et=this.attrs,et={};(0,O.each)(Et,function(Bt,Ft){(0,O.isArray)(Et[Ft])?et[Ft]=ae(Et[Ft]):et[Ft]=Et[Ft]});var ht=this.constructor,Mt=new ht({attrs:et});return(0,O.each)($e,function(Bt){Mt.set(Bt,gt.get(Bt))}),Mt},kt.prototype.destroy=function(){var gt=this.destroyed;gt||(this.attrs={},Nt.prototype.destroy.call(this))},kt.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},kt.prototype.animate=function(){for(var gt=[],Et=0;Et<arguments.length;Et++)gt[Et]=arguments[Et];this.set("animating",!0);var et=this.get("timeline");et||(et=this.get("canvas").get("timeline"),this.set("timeline",et));var ht=this.get("animations")||[];et.timer||et.initTimer();var Mt=gt[0],Bt=gt[1],Ft=gt[2],jt=Ft===void 0?"easeLinear":Ft,ne=gt[3],le=ne===void 0?O.noop:ne,Ae=gt[4],ye=Ae===void 0?0:Ae,de,Ue,qe,wr,ur;(0,O.isFunction)(Mt)?(de=Mt,Mt={}):(0,O.isObject)(Mt)&&Mt.onFrame&&(de=Mt.onFrame,Ue=Mt.repeat),(0,O.isObject)(Bt)?(ur=Bt,Bt=ur.duration,jt=ur.easing||"easeLinear",ye=ur.delay||0,Ue=ur.repeat||Ue||!1,le=ur.callback||O.noop,qe=ur.pauseCallback||O.noop,wr=ur.resumeCallback||O.noop):((0,O.isNumber)(le)&&(ye=le,le=null),(0,O.isFunction)(jt)?(le=jt,jt="easeLinear"):jt=jt||"easeLinear");var Ke=ge(Mt,this),We={fromAttrs:se(Ke,this),toAttrs:Ke,duration:Bt,easing:jt,repeat:Ue,callback:le,pauseCallback:qe,resumeCallback:wr,delay:ye,startTime:et.getTime(),id:(0,O.uniqueId)(),onFrame:de,pathFormatted:!1};ht.length>0?ht=Ce(ht,We):et.addAnimator(this),ht.push(We),this.set("animations",ht),this.set("_pause",{isPaused:!1})},kt.prototype.stopAnimate=function(gt){var Et=this;gt===void 0&&(gt=!0);var et=this.get("animations");(0,O.each)(et,function(ht){gt&&(ht.onFrame?Et.attr(ht.onFrame(1)):Et.attr(ht.toAttrs)),ht.callback&&ht.callback()}),this.set("animating",!1),this.set("animations",[])},kt.prototype.pauseAnimate=function(){var gt=this.get("timeline"),Et=this.get("animations"),et=gt.getTime();return(0,O.each)(Et,function(ht){ht._paused=!0,ht._pauseTime=et,ht.pauseCallback&&ht.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:et}),this},kt.prototype.resumeAnimate=function(){var gt=this.get("timeline"),Et=gt.getTime(),et=this.get("animations"),ht=this.get("_pause").pauseTime;return(0,O.each)(et,function(Mt){Mt.startTime=Mt.startTime+(Et-ht),Mt._paused=!1,Mt._pauseTime=null,Mt.resumeCallback&&Mt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",et),this},kt.prototype.emitDelegation=function(gt,Et){var et=this,ht=Et.propagationPath,Mt=this.getEvents(),Bt;gt==="mouseenter"?Bt=Et.fromShape:gt==="mouseleave"&&(Bt=Et.toShape);for(var Ft=function(Ae){var ye=ht[Ae],de=ye.get("name");if(de){if((ye.isGroup()||ye.isCanvas&&ye.isCanvas())&&Bt&&Vt(ye,Bt))return"break";(0,O.isArray)(de)?(0,O.each)(de,function(Ue){et.emitDelegateEvent(ye,Ue,Et)}):jt.emitDelegateEvent(ye,de,Et)}},jt=this,ne=0;ne<ht.length;ne++){var le=Ft(ne);if(le==="break")break}},kt.prototype.emitDelegateEvent=function(gt,Et,et){var ht=this.getEvents(),Mt=Et+zt+et.type;(ht[Mt]||ht[qt])&&(et.name=Mt,et.currentTarget=gt,et.delegateTarget=this,et.delegateObject=gt.get("delegateObject"),this.emit(Mt,et))},kt.prototype.translate=function(gt,Et){gt===void 0&&(gt=0),Et===void 0&&(Et=0);var et=this.getMatrix(),ht=$t.transform(et,[["t",gt,Et]]);return this.setMatrix(ht),this},kt.prototype.move=function(gt,Et){var et=this.attr("x")||0,ht=this.attr("y")||0;return this.translate(gt-et,Et-ht),this},kt.prototype.moveTo=function(gt,Et){return this.move(gt,Et)},kt.prototype.scale=function(gt,Et){var et=this.getMatrix(),ht=$t.transform(et,[["s",gt,Et||gt]]);return this.setMatrix(ht),this},kt.prototype.rotate=function(gt){var Et=this.getMatrix(),et=$t.transform(Et,[["r",gt]]);return this.setMatrix(et),this},kt.prototype.rotateAtStart=function(gt){var Et=this.attr(),et=Et.x,ht=Et.y,Mt=this.getMatrix(),Bt=$t.transform(Mt,[["t",-et,-ht],["r",gt],["t",et,ht]]);return this.setMatrix(Bt),this},kt.prototype.rotateAtPoint=function(gt,Et,et){var ht=this.getMatrix(),Mt=$t.transform(ht,[["t",-gt,-Et],["r",et],["t",gt,Et]]);return this.setMatrix(Mt),this},kt}(me),Te=Me,xe={},ze="_INDEX";function je(Nt){Nt.isGroup()?(Nt.isEntityGroup()||Nt.get("children").length)&&Nt.onCanvasChange("add"):Nt.onCanvasChange("add")}function fr(Nt,kt){if(Nt.set("canvas",kt),Nt.isGroup()){var gt=Nt.get("children");gt.length&&gt.forEach(function(Et){fr(Et,kt)})}}function sr(Nt,kt){if(Nt.set("timeline",kt),Nt.isGroup()){var gt=Nt.get("children");gt.length&&gt.forEach(function(Et){sr(Et,kt)})}}function Je(Nt,kt){var gt=Nt.getChildren();return gt.indexOf(kt)>=0}function Ne(Nt,kt,gt){gt===void 0&&(gt=!0),gt?kt.destroy():(kt.set("parent",null),kt.set("canvas",null)),pt(Nt.getChildren(),kt)}function xr(Nt){return function(kt,gt){var Et=Nt(kt,gt);return Et===0?kt[ze]-gt[ze]:Et}}var vr=function(Nt){(0,At.__extends)(kt,Nt);function kt(){return Nt!==null&&Nt.apply(this,arguments)||this}return kt.prototype.isCanvas=function(){return!1},kt.prototype.getBBox=function(){var gt=Infinity,Et=-Infinity,et=Infinity,ht=-Infinity,Mt=[],Bt=[],Ft=this.getChildren().filter(function(ne){return ne.get("visible")&&(!ne.isGroup()||ne.isGroup()&&ne.getChildren().length>0)});Ft.length>0?((0,rt.default)(Ft,function(ne){var le=ne.getBBox();Mt.push(le.minX,le.maxX),Bt.push(le.minY,le.maxY)}),gt=Math.min.apply(null,Mt),Et=Math.max.apply(null,Mt),et=Math.min.apply(null,Bt),ht=Math.max.apply(null,Bt)):(gt=0,Et=0,et=0,ht=0);var jt={x:gt,y:et,minX:gt,minY:et,maxX:Et,maxY:ht,width:Et-gt,height:ht-et};return jt},kt.prototype.getCanvasBBox=function(){var gt=Infinity,Et=-Infinity,et=Infinity,ht=-Infinity,Mt=[],Bt=[],Ft=this.getChildren().filter(function(ne){return ne.get("visible")&&(!ne.isGroup()||ne.isGroup()&&ne.getChildren().length>0)});Ft.length>0?((0,rt.default)(Ft,function(ne){var le=ne.getCanvasBBox();Mt.push(le.minX,le.maxX),Bt.push(le.minY,le.maxY)}),gt=Math.min.apply(null,Mt),Et=Math.max.apply(null,Mt),et=Math.min.apply(null,Bt),ht=Math.max.apply(null,Bt)):(gt=0,Et=0,et=0,ht=0);var jt={x:gt,y:et,minX:gt,minY:et,maxX:Et,maxY:ht,width:Et-gt,height:ht-et};return jt},kt.prototype.getDefaultCfg=function(){var gt=Nt.prototype.getDefaultCfg.call(this);return gt.children=[],gt},kt.prototype.onAttrChange=function(gt,Et,et){if(Nt.prototype.onAttrChange.call(this,gt,Et,et),gt==="matrix"){var ht=this.getTotalMatrix();this._applyChildrenMarix(ht)}},kt.prototype.applyMatrix=function(gt){var Et=this.getTotalMatrix();Nt.prototype.applyMatrix.call(this,gt);var et=this.getTotalMatrix();et!==Et&&this._applyChildrenMarix(et)},kt.prototype._applyChildrenMarix=function(gt){var Et=this.getChildren();(0,rt.default)(Et,function(et){et.applyMatrix(gt)})},kt.prototype.addShape=function(){for(var gt=[],Et=0;Et<arguments.length;Et++)gt[Et]=arguments[Et];var et=gt[0],ht=gt[1];(0,tt.default)(et)?ht=et:ht.type=et;var Mt=xe[ht.type];Mt||(Mt=(0,nt.default)(ht.type),xe[ht.type]=Mt);var Bt=this.getShapeBase(),Ft=new Bt[Mt](ht);return this.add(Ft),Ft},kt.prototype.addGroup=function(){for(var gt=[],Et=0;Et<arguments.length;Et++)gt[Et]=arguments[Et];var et=gt[0],ht=gt[1],Mt;if((0,xt.default)(et))ht?Mt=new et(ht):Mt=new et({parent:this});else{var Bt=et||{},Ft=this.getGroupBase();Mt=new Ft(Bt)}return this.add(Mt),Mt},kt.prototype.getCanvas=function(){var gt;return this.isCanvas()?gt=this:gt=this.get("canvas"),gt},kt.prototype.getShape=function(gt,Et,et){if(!Qt(this))return null;var ht=this.getChildren(),Mt;if(this.isCanvas())Mt=this._findShape(ht,gt,Et,et);else{var Bt=[gt,Et,1];Bt=this.invertFromMatrix(Bt),this.isClipped(Bt[0],Bt[1])||(Mt=this._findShape(ht,Bt[0],Bt[1],et))}return Mt},kt.prototype._findShape=function(gt,Et,et,ht){for(var Mt=null,Bt=gt.length-1;Bt>=0;Bt--){var Ft=gt[Bt];if(Qt(Ft)&&(Ft.isGroup()?Mt=Ft.getShape(Et,et,ht):Ft.isHit(Et,et)&&(Mt=Ft)),Mt)break}return Mt},kt.prototype.add=function(gt){var Et=this.getCanvas(),et=this.getChildren(),ht=this.get("timeline"),Mt=gt.getParent();Mt&&Ne(Mt,gt,!1),gt.set("parent",this),Et&&fr(gt,Et),ht&&sr(gt,ht),et.push(gt),je(gt),this._applyElementMatrix(gt)},kt.prototype._applyElementMatrix=function(gt){var Et=this.getTotalMatrix();Et&&gt.applyMatrix(Et)},kt.prototype.getChildren=function(){return this.get("children")},kt.prototype.sort=function(){var gt=this.getChildren();(0,rt.default)(gt,function(Et,et){return Et[ze]=et,Et}),gt.sort(xr(function(Et,et){return Et.get("zIndex")-et.get("zIndex")})),this.onCanvasChange("sort")},kt.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var gt=this.getChildren(),Et=gt.length-1;Et>=0;Et--)gt[Et].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},kt.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Nt.prototype.destroy.call(this))},kt.prototype.getFirst=function(){return this.getChildByIndex(0)},kt.prototype.getLast=function(){var gt=this.getChildren();return this.getChildByIndex(gt.length-1)},kt.prototype.getChildByIndex=function(gt){var Et=this.getChildren();return Et[gt]},kt.prototype.getCount=function(){var gt=this.getChildren();return gt.length},kt.prototype.contain=function(gt){var Et=this.getChildren();return Et.indexOf(gt)>-1},kt.prototype.removeChild=function(gt,Et){Et===void 0&&(Et=!0),this.contain(gt)&&gt.remove(Et)},kt.prototype.findAll=function(gt){var Et=[],et=this.getChildren();return(0,rt.default)(et,function(ht){gt(ht)&&Et.push(ht),ht.isGroup()&&(Et=Et.concat(ht.findAll(gt)))}),Et},kt.prototype.find=function(gt){var Et=null,et=this.getChildren();return(0,rt.default)(et,function(ht){if(gt(ht)?Et=ht:ht.isGroup()&&(Et=ht.find(gt)),Et)return!1}),Et},kt.prototype.findById=function(gt){return this.find(function(Et){return Et.get("id")===gt})},kt.prototype.findByClassName=function(gt){return this.find(function(Et){return Et.get("className")===gt})},kt.prototype.findAllByName=function(gt){return this.findAll(function(Et){return Et.get("name")===gt})},kt}(Te),Ze=vr,br=v(35374),Lr=v(13681),dr=v(42800),cr=v(88122),Yr=function(Nt){return["fill","stroke","fillStyle","strokeStyle"].includes(Nt)},Or=function(Nt){return/^[r,R,L,l]{1}[\s]*\(/.test(Nt)},fn=[1,0,0,0,1,0,0,0,1];function Rn(Nt,kt,gt){var Et={},et=kt.fromAttrs,ht=kt.toAttrs;if(!Nt.destroyed){var Mt;for(var Bt in ht)if(!(0,O.isEqual)(et[Bt],ht[Bt]))if(Bt==="path"){var Ft=ht[Bt],jt=et[Bt];Ft.length>jt.length?(Ft=A(ht[Bt]),jt=A(et[Bt]),jt=f(jt,Ft),jt=at(jt,Ft),kt.fromAttrs.path=jt,kt.toAttrs.path=Ft):kt.pathFormatted||(Ft=A(ht[Bt]),jt=A(et[Bt]),jt=at(jt,Ft),kt.fromAttrs.path=jt,kt.toAttrs.path=Ft,kt.pathFormatted=!0),Et[Bt]=[];for(var ne=0;ne<Ft.length;ne++){for(var le=Ft[ne],Ae=jt[ne],ye=[],de=0;de<le.length;de++)(0,O.isNumber)(le[de])&&Ae&&(0,O.isNumber)(Ae[de])?(Mt=(0,dr.Z)(Ae[de],le[de]),ye.push(Mt(gt))):ye.push(le[de]);Et[Bt].push(ye)}}else if(Bt==="matrix"){var Ue=(0,cr.Z)(et[Bt]||fn,ht[Bt]||fn),qe=Ue(gt);Et[Bt]=qe}else Yr(Bt)&&Or(ht[Bt])?Et[Bt]=ht[Bt]:(0,O.isFunction)(ht[Bt])||(Mt=(0,dr.Z)(et[Bt],ht[Bt]),Et[Bt]=Mt(gt));Nt.attr(Et)}}function _n(Nt,kt,gt){var Et=kt.startTime,et=kt.delay;if(gt<Et+et||kt._paused)return!1;var ht,Mt=kt.duration,Bt=kt.easing;if(gt=gt-Et-kt.delay,kt.repeat)ht=gt%Mt/Mt,ht=Lr[Bt](ht);else if(ht=gt/Mt,ht<1)ht=Lr[Bt](ht);else return kt.onFrame?Nt.attr(kt.onFrame(1)):Nt.attr(kt.toAttrs),!0;if(kt.onFrame){var Ft=kt.onFrame(ht);Nt.attr(Ft)}else Rn(Nt,kt,ht);return!1}var $n=function(){function Nt(kt){this.animators=[],this.current=0,this.timer=null,this.canvas=kt}return Nt.prototype.initTimer=function(){var kt=this,gt=!1,Et,et,ht;this.timer=br.HT(function(Mt){if(kt.current=Mt,kt.animators.length>0){for(var Bt=kt.animators.length-1;Bt>=0;Bt--){if(Et=kt.animators[Bt],Et.destroyed){kt.removeAnimator(Bt);continue}if(!Et.isAnimatePaused()){et=Et.get("animations");for(var Ft=et.length-1;Ft>=0;Ft--)ht=et[Ft],gt=_n(Et,ht,Mt),gt&&(et.splice(Ft,1),gt=!1,ht.callback&&ht.callback())}et.length===0&&kt.removeAnimator(Bt)}var jt=kt.canvas.get("autoDraw");jt||kt.canvas.draw()}})},Nt.prototype.addAnimator=function(kt){this.animators.push(kt)},Nt.prototype.removeAnimator=function(kt){this.animators.splice(kt,1)},Nt.prototype.isAnimating=function(){return!!this.animators.length},Nt.prototype.stop=function(){this.timer&&this.timer.stop()},Nt.prototype.stopAllAnimations=function(kt){kt===void 0&&(kt=!0),this.animators.forEach(function(gt){gt.stopAnimate(kt)}),this.animators=[],this.canvas.draw()},Nt.prototype.getTime=function(){return this.current},Nt}(),Qn=$n,Tn=40,gi=0,Kr=":",zn=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Mi(Nt,kt){for(var gt in Nt)if(Nt.hasOwnProperty(gt)&&gt.indexOf(Kr+kt)>=0)return!0;return!1}function Gn(Nt,kt,gt){gt.name=kt,gt.target=Nt,gt.currentTarget=Nt,gt.delegateTarget=Nt,Nt.emit(kt,gt)}function Oi(Nt,kt,gt){if(gt.bubbles){var Et=void 0,et=!1;if(kt==="mouseenter"?(Et=gt.fromShape,et=!0):kt==="mouseleave"&&(et=!0,Et=gt.toShape),Nt.isCanvas()&&et)return;if(Et&&Vt(Nt,Et)){gt.bubbles=!1;return}gt.name=kt,gt.currentTarget=Nt,gt.delegateTarget=Nt,Nt.emit(kt,gt)}}var Ii=function(){function Nt(kt){var gt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(Et){var et=Et.type;gt._triggerEvent(et,Et)},this._onDocumentMove=function(Et){var et=gt.canvas,ht=et.get("el");if(ht!==Et.target&&(gt.dragging||gt.currentShape)){var Mt=gt._getPointInfo(Et);gt.dragging&&gt._emitEvent("drag",Et,Mt,gt.draggingShape)}},this._onDocumentMouseUp=function(Et){var et=gt.canvas,ht=et.get("el");if(ht!==Et.target&&gt.dragging){var Mt=gt._getPointInfo(Et);gt.draggingShape&&gt._emitEvent("drop",Et,Mt,null),gt._emitEvent("dragend",Et,Mt,gt.draggingShape),gt._afterDrag(gt.draggingShape,Mt,Et)}},this.canvas=kt.canvas}return Nt.prototype.init=function(){this._bindEvents()},Nt.prototype._bindEvents=function(){var kt=this,gt=this.canvas.get("el");(0,rt.default)(zn,function(Et){gt.addEventListener(Et,kt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Nt.prototype._clearEvents=function(){var kt=this,gt=this.canvas.get("el");(0,rt.default)(zn,function(Et){gt.removeEventListener(Et,kt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Nt.prototype._getEventObj=function(kt,gt,Et,et,ht,Mt){var Bt=new wt(kt,gt);return Bt.fromShape=ht,Bt.toShape=Mt,Bt.x=Et.x,Bt.y=Et.y,Bt.clientX=Et.clientX,Bt.clientY=Et.clientY,Bt.propagationPath.push(et),Bt},Nt.prototype._getShape=function(kt,gt){return this.canvas.getShape(kt.x,kt.y,gt)},Nt.prototype._getPointInfo=function(kt){var gt=this.canvas,Et=gt.getClientByEvent(kt),et=gt.getPointByEvent(kt);return{x:et.x,y:et.y,clientX:Et.x,clientY:Et.y}},Nt.prototype._triggerEvent=function(kt,gt){var Et=this._getPointInfo(gt),et=this._getShape(Et,gt),ht=this["_on"+kt],Mt=!1;if(ht)ht.call(this,Et,et,gt);else{var Bt=this.currentShape;kt==="mouseenter"||kt==="dragenter"||kt==="mouseover"?(this._emitEvent(kt,gt,Et,null,null,et),et&&this._emitEvent(kt,gt,Et,et,null,et),kt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",gt,Et,null)):kt==="mouseleave"||kt==="dragleave"||kt==="mouseout"?(Mt=!0,Bt&&this._emitEvent(kt,gt,Et,Bt,Bt,null),this._emitEvent(kt,gt,Et,null,Bt,null),kt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",gt,Et,null)):this._emitEvent(kt,gt,Et,et,null,null)}if(Mt||(this.currentShape=et),et&&!et.get("destroyed")){var Ft=this.canvas,jt=Ft.get("el");jt.style.cursor=et.attr("cursor")||Ft.get("cursor")}},Nt.prototype._onmousedown=function(kt,gt,Et){Et.button===gi&&(this.mousedownShape=gt,this.mousedownPoint=kt,this.mousedownTimeStamp=Et.timeStamp),this._emitEvent("mousedown",Et,kt,gt,null,null)},Nt.prototype._emitMouseoverEvents=function(kt,gt,Et,et){var ht=this.canvas.get("el");Et!==et&&(Et&&(this._emitEvent("mouseout",kt,gt,Et,Et,et),this._emitEvent("mouseleave",kt,gt,Et,Et,et),(!et||et.get("destroyed"))&&(ht.style.cursor=this.canvas.get("cursor"))),et&&(this._emitEvent("mouseover",kt,gt,et,Et,et),this._emitEvent("mouseenter",kt,gt,et,Et,et)))},Nt.prototype._emitDragoverEvents=function(kt,gt,Et,et,ht){et?(et!==Et&&(Et&&this._emitEvent("dragleave",kt,gt,Et,Et,et),this._emitEvent("dragenter",kt,gt,et,Et,et)),ht||this._emitEvent("dragover",kt,gt,et)):Et&&this._emitEvent("dragleave",kt,gt,Et,Et,et),ht&&this._emitEvent("dragover",kt,gt,et)},Nt.prototype._afterDrag=function(kt,gt,Et){kt&&(kt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var et=this._getShape(gt,Et);et!==kt&&this._emitMouseoverEvents(Et,gt,kt,et),this.currentShape=et},Nt.prototype._onmouseup=function(kt,gt,Et){if(Et.button===gi){var et=this.draggingShape;this.dragging?(et&&this._emitEvent("drop",Et,kt,gt),this._emitEvent("dragend",Et,kt,et),this._afterDrag(et,kt,Et)):(this._emitEvent("mouseup",Et,kt,gt),gt===this.mousedownShape&&this._emitEvent("click",Et,kt,gt),this.mousedownShape=null,this.mousedownPoint=null)}},Nt.prototype._ondragover=function(kt,gt,Et){Et.preventDefault();var et=this.currentShape;this._emitDragoverEvents(Et,kt,et,gt,!0)},Nt.prototype._onmousemove=function(kt,gt,Et){var et=this.canvas,ht=this.currentShape,Mt=this.draggingShape;if(this.dragging)Mt&&this._emitDragoverEvents(Et,kt,ht,gt,!1),this._emitEvent("drag",Et,kt,Mt);else{var Bt=this.mousedownPoint;if(Bt){var Ft=this.mousedownShape,jt=Et.timeStamp,ne=jt-this.mousedownTimeStamp,le=Bt.clientX-kt.clientX,Ae=Bt.clientY-kt.clientY,ye=le*le+Ae*Ae;ne>120||ye>Tn?Ft&&Ft.get("draggable")?(Mt=this.mousedownShape,Mt.set("capture",!1),this.draggingShape=Mt,this.dragging=!0,this._emitEvent("dragstart",Et,kt,Mt),this.mousedownShape=null,this.mousedownPoint=null):!Ft&&et.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",Et,kt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(Et,kt,ht,gt),this._emitEvent("mousemove",Et,kt,gt)):(this._emitMouseoverEvents(Et,kt,ht,gt),this._emitEvent("mousemove",Et,kt,gt))}else this._emitMouseoverEvents(Et,kt,ht,gt),this._emitEvent("mousemove",Et,kt,gt)}},Nt.prototype._emitEvent=function(kt,gt,Et,et,ht,Mt){var Bt=this._getEventObj(kt,gt,Et,et,ht,Mt);if(et){Bt.shape=et,Gn(et,kt,Bt);for(var Ft=et.getParent();Ft;)Ft.emitDelegation(kt,Bt),Bt.propagationStopped||Oi(Ft,kt,Bt),Bt.propagationPath.push(Ft),Ft=Ft.getParent()}else{var jt=this.canvas;Gn(jt,kt,Bt)}},Nt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Nt}(),Ar=Ii,ki="px",Vi=(0,Xt.detect)(),Bi=Vi&&Vi.name==="firefox",dn=function(Nt){(0,At.__extends)(kt,Nt);function kt(gt){var Et=Nt.call(this,gt)||this;return Et.initContainer(),Et.initDom(),Et.initEvents(),Et.initTimeline(),Et}return kt.prototype.getDefaultCfg=function(){var gt=Nt.prototype.getDefaultCfg.call(this);return gt.cursor="default",gt.supportCSSTransform=!1,gt},kt.prototype.initContainer=function(){var gt=this.get("container");(0,ot.default)(gt)&&(gt=document.getElementById(gt),this.set("container",gt))},kt.prototype.initDom=function(){var gt=this.createDom();this.set("el",gt);var Et=this.get("container");Et.appendChild(gt),this.setDOMSize(this.get("width"),this.get("height"))},kt.prototype.initEvents=function(){var gt=new Ar({canvas:this});gt.init(),this.set("eventController",gt)},kt.prototype.initTimeline=function(){var gt=new Qn(this);this.set("timeline",gt)},kt.prototype.setDOMSize=function(gt,Et){var et=this.get("el");It&&(et.style.width=gt+ki,et.style.height=Et+ki)},kt.prototype.changeSize=function(gt,Et){this.setDOMSize(gt,Et),this.set("width",gt),this.set("height",Et),this.onCanvasChange("changeSize")},kt.prototype.getRenderer=function(){return this.get("renderer")},kt.prototype.getCursor=function(){return this.get("cursor")},kt.prototype.setCursor=function(gt){this.set("cursor",gt);var Et=this.get("el");It&&Et&&(Et.style.cursor=gt)},kt.prototype.getPointByEvent=function(gt){var Et=this.get("supportCSSTransform");if(Et){if(Bi&&!(0,Lt.default)(gt.layerX)&&gt.layerX!==gt.offsetX)return{x:gt.layerX,y:gt.layerY};if(!(0,Lt.default)(gt.offsetX))return{x:gt.offsetX,y:gt.offsetY}}var et=this.getClientByEvent(gt),ht=et.x,Mt=et.y;return this.getPointByClient(ht,Mt)},kt.prototype.getClientByEvent=function(gt){var Et=gt;return gt.touches&&(gt.type==="touchend"?Et=gt.changedTouches[0]:Et=gt.touches[0]),{x:Et.clientX,y:Et.clientY}},kt.prototype.getPointByClient=function(gt,Et){var et=this.get("el"),ht=et.getBoundingClientRect();return{x:gt-ht.left,y:Et-ht.top}},kt.prototype.getClientByPoint=function(gt,Et){var et=this.get("el"),ht=et.getBoundingClientRect();return{x:gt+ht.left,y:Et+ht.top}},kt.prototype.draw=function(){},kt.prototype.removeDom=function(){var gt=this.get("el");gt.parentNode.removeChild(gt)},kt.prototype.clearEvents=function(){var gt=this.get("eventController");gt.destroy()},kt.prototype.isCanvas=function(){return!0},kt.prototype.getParent=function(){return null},kt.prototype.destroy=function(){var gt=this.get("timeline");this.get("destroyed")||(this.clear(),gt&&gt.stop(),this.clearEvents(),this.removeDom(),Nt.prototype.destroy.call(this))},kt}(Ze),oi=dn,Di=function(Nt){(0,At.__extends)(kt,Nt);function kt(){return Nt!==null&&Nt.apply(this,arguments)||this}return kt.prototype.isGroup=function(){return!0},kt.prototype.isEntityGroup=function(){return!1},kt.prototype.clone=function(){for(var gt=Nt.prototype.clone.call(this),Et=this.getChildren(),et=0;et<Et.length;et++){var ht=Et[et];gt.add(ht.clone())}return gt},kt}(Ze),Un=Di,Jn=function(Nt){(0,At.__extends)(kt,Nt);function kt(gt){return Nt.call(this,gt)||this}return kt.prototype._isInBBox=function(gt,Et){var et=this.getBBox();return et.minX<=gt&&et.maxX>=gt&&et.minY<=Et&&et.maxY>=Et},kt.prototype.afterAttrsChange=function(gt){Nt.prototype.afterAttrsChange.call(this,gt),this.clearCacheBBox()},kt.prototype.getBBox=function(){var gt=this.get("bbox");return gt||(gt=this.calculateBBox(),this.set("bbox",gt)),gt},kt.prototype.getCanvasBBox=function(){var gt=this.get("canvasBox");return gt||(gt=this.calculateCanvasBBox(),this.set("canvasBox",gt)),gt},kt.prototype.applyMatrix=function(gt){Nt.prototype.applyMatrix.call(this,gt),this.set("canvasBox",null)},kt.prototype.calculateCanvasBBox=function(){var gt=this.getBBox(),Et=this.getTotalMatrix(),et=gt.minX,ht=gt.minY,Mt=gt.maxX,Bt=gt.maxY;if(Et){var Ft=Se(Et,[gt.minX,gt.minY]),jt=Se(Et,[gt.maxX,gt.minY]),ne=Se(Et,[gt.minX,gt.maxY]),le=Se(Et,[gt.maxX,gt.maxY]);et=Math.min(Ft[0],jt[0],ne[0],le[0]),Mt=Math.max(Ft[0],jt[0],ne[0],le[0]),ht=Math.min(Ft[1],jt[1],ne[1],le[1]),Bt=Math.max(Ft[1],jt[1],ne[1],le[1])}var Ae=this.attrs;if(Ae.shadowColor){var ye=Ae.shadowBlur,de=ye===void 0?0:ye,Ue=Ae.shadowOffsetX,qe=Ue===void 0?0:Ue,wr=Ae.shadowOffsetY,ur=wr===void 0?0:wr,Ke=et-de+qe,We=Mt+de+qe,Tr=ht-de+ur,Zr=Bt+de+ur;et=Math.min(et,Ke),Mt=Math.max(Mt,We),ht=Math.min(ht,Tr),Bt=Math.max(Bt,Zr)}return{x:et,y:ht,minX:et,minY:ht,maxX:Mt,maxY:Bt,width:Mt-et,height:Bt-ht}},kt.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},kt.prototype.isClipShape=function(){return this.get("isClipShape")},kt.prototype.isInShape=function(gt,Et){return!1},kt.prototype.isOnlyHitBox=function(){return!1},kt.prototype.isHit=function(gt,Et){var et=this.get("startArrowShape"),ht=this.get("endArrowShape"),Mt=[gt,Et,1];Mt=this.invertFromMatrix(Mt);var Bt=Mt[0],Ft=Mt[1],jt=this._isInBBox(Bt,Ft);return this.isOnlyHitBox()?jt:!!(jt&&!this.isClipped(Bt,Ft)&&(this.isInShape(Bt,Ft)||et&&et.isHit(Bt,Ft)||ht&&ht.isHit(Bt,Ft)))},kt}(Te),hn=Jn,Ei=v(76062),Hi=Ei.version},40455:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(g){var O=g.attr(),I=O.x,P=O.y,T=O.r;return{x:I-T,y:P-T,width:T*2,height:T*2}}S.default=v},27633:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(g){var O=g.attr(),I=O.x,P=O.y,T=O.rx,A=O.ry;return{x:I-T,y:P-A,width:T*2,height:A*2}}S.default=v},41056:function(mt,S,v){"use strict";var g;g={value:!0};var O=v(28648);S.b=O.getMethod;var I=v(3541),P=v(40455),T=v(10687),A=v(19914),E=v(92933),C=v(89372),p=v(74461),b=v(27633);O.register("rect",I.default),O.register("image",I.default),O.register("circle",P.default),O.register("marker",P.default),O.register("polyline",T.default),O.register("polygon",A.default),O.register("text",E.default),O.register("path",C.default),O.register("line",p.default),O.register("ellipse",b.default)},74461:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(3406);function O(I){var P=I.attr(),T=P.x1,A=P.y1,E=P.x2,C=P.y2,p=Math.min(T,E),b=Math.max(T,E),x=Math.min(A,C),w=Math.max(A,C),m={minX:p,maxX:b,minY:x,maxY:w};return m=g.mergeArrowBBox(I,m),{x:m.minX,y:m.minY,width:m.maxX-m.minX,height:m.maxY-m.minY}}S.default=O},89372:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(2879),O=v(15730),I=v(33418),P=v(49274),T=v(39984),A=v(3406);function E(b,x){for(var w=[],m=[],M=[],L=0;L<b.length;L++){var B=b[L],D=B.currentPoint,z=B.params,q=B.prePoint,K=void 0;switch(B.command){case"Q":K=g.default.box(q[0],q[1],z[1],z[2],z[3],z[4]);break;case"C":K=O.default.box(q[0],q[1],z[1],z[2],z[3],z[4],z[5],z[6]);break;case"A":var it=B.arcParams;K=I.default.box(it.cx,it.cy,it.rx,it.ry,it.xRotation,it.startAngle,it.endAngle);break;default:w.push(D[0]),m.push(D[1]);break}K&&(B.box=K,w.push(K.x,K.x+K.width),m.push(K.y,K.y+K.height)),x&&(B.command==="L"||B.command==="M")&&B.prePoint&&B.nextPoint&&M.push(B)}w=w.filter(function(N){return!Number.isNaN(N)}),m=m.filter(function(N){return!Number.isNaN(N)});var ct=Math.min.apply(null,w),st=Math.min.apply(null,m),Ot=Math.max.apply(null,w),Dt=Math.max.apply(null,m);if(M.length===0)return{x:ct,y:st,width:Ot-ct,height:Dt-st};for(var L=0;L<M.length;L++){var B=M[L],D=B.currentPoint,Ht=void 0;D[0]===ct?(Ht=C(B,x),ct=ct-Ht.xExtra):D[0]===Ot&&(Ht=C(B,x),Ot=Ot+Ht.xExtra),D[1]===st?(Ht=C(B,x),st=st-Ht.yExtra):D[1]===Dt&&(Ht=C(B,x),Dt=Dt+Ht.yExtra)}return{x:ct,y:st,width:Ot-ct,height:Dt-st}}function C(b,x){var w=b.prePoint,m=b.currentPoint,M=b.nextPoint,L=Math.pow(m[0]-w[0],2)+Math.pow(m[1]-w[1],2),B=Math.pow(m[0]-M[0],2)+Math.pow(m[1]-M[1],2),D=Math.pow(w[0]-M[0],2)+Math.pow(w[1]-M[1],2),z=Math.acos((L+B-D)/(2*Math.sqrt(L)*Math.sqrt(B)));if(!z||Math.sin(z)===0||T.default(z,0))return{xExtra:0,yExtra:0};var q=Math.abs(Math.atan2(M[1]-m[1],M[0]-m[0])),K=Math.abs(Math.atan2(M[0]-m[0],M[1]-m[1]));q=q>Math.PI/2?Math.PI-q:q,K=K>Math.PI/2?Math.PI-K:K;var it={xExtra:Math.cos(z/2-q)*(x/2*(1/Math.sin(z/2)))-x/2||0,yExtra:Math.cos(K-z/2)*(x/2*(1/Math.sin(z/2)))-x/2||0};return it}function p(b){var x=b.attr(),w=x.path,m=x.stroke,M=m?x.lineWidth:0,L=b.get("segments")||P.default(w),B=E(L,M),D=B.x,z=B.y,q=B.width,K=B.height,it={minX:D,minY:z,maxX:D+q,maxY:z+K};return it=A.mergeArrowBBox(b,it),{x:it.minX,y:it.minY,width:it.maxX-it.minX,height:it.maxY-it.minY}}S.default=p},19914:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76256);function O(I){for(var P=I.attr(),T=P.points,A=[],E=[],C=0;C<T.length;C++){var p=T[C];A.push(p[0]),E.push(p[1])}return g.getBBoxByArray(A,E)}S.default=O},10687:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76256),O=v(3406);function I(P){for(var T=P.attr(),A=T.points,E=[],C=[],p=0;p<A.length;p++){var b=A[p];E.push(b[0]),C.push(b[1])}var x=g.getBBoxByArray(E,C),w=x.x,m=x.y,M=x.width,L=x.height,B={minX:w,minY:m,maxX:w+M,maxY:m+L};return B=O.mergeArrowBBox(P,B),{x:B.minX,y:B.minY,width:B.maxX-B.minX,height:B.maxY-B.minY}}S.default=I},3541:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(g){var O=g.attr(),I=O.x,P=O.y,T=O.width,A=O.height;return{x:I,y:P,width:T,height:A}}S.default=v},28648:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=new Map;function g(I,P){v.set(I,P)}S.register=g;function O(I){return v.get(I)}S.getMethod=O},92933:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(8914);function O(I){var P=I.attr(),T=P.x,A=P.y,E=P.text,C=P.fontSize,p=P.lineHeight,b=P.font;b||(b=g.assembleFont(P));var x=g.getTextWidth(E,b),w;if(!x)w={x:T,y:A,width:0,height:0};else{var m=P.textAlign,M=P.textBaseline,L=g.getTextHeight(E,C,p),B={x:T,y:A-L};m&&(m==="end"||m==="right"?B.x-=x:m==="center"&&(B.x-=x/2)),M&&(M==="top"?B.y+=L:M==="middle"&&(B.y+=L/2)),w={x:B.x,y:B.y,width:x,height:L}}return w}S.default=O},3406:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(O,I){return!O||!I?O||I:{minX:Math.min(O.minX,I.minX),minY:Math.min(O.minY,I.minY),maxX:Math.max(O.maxX,I.maxX),maxY:Math.max(O.maxY,I.maxY)}}S.mergeBBox=v;function g(O,I){var P=O.get("startArrowShape"),T=O.get("endArrowShape"),A=null,E=null;return P&&(A=P.getCanvasBBox(),I=v(I,A)),T&&(E=T.getCanvasBBox(),I=v(I,E)),I}S.mergeArrowBBox=g},66192:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(){function g(O,I){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=O,this.name=O,this.originalEvent=I,this.timeStamp=I.timeStamp}return g.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},g.prototype.stopPropagation=function(){this.propagationStopped=!0},g.prototype.toString=function(){var O=this.type;return"[Event (type="+O+")]"},g.prototype.save=function(){},g.prototype.restore=function(){},g}();S.default=v},85424:function(mt,S){"use strict";var v;v={value:!0}},4555:function(mt,S){"use strict";Object.defineProperty(S,"X",{value:!0})},6052:function(mt,S){"use strict";var v;v={value:!0};function g(P,T){var A=[],E=P[0],C=P[1],p=P[2],b=P[3],x=P[4],w=P[5],m=P[6],M=P[7],L=P[8],B=T[0],D=T[1],z=T[2],q=T[3],K=T[4],it=T[5],ct=T[6],st=T[7],Ot=T[8];return A[0]=B*E+D*b+z*m,A[1]=B*C+D*x+z*M,A[2]=B*p+D*w+z*L,A[3]=q*E+K*b+it*m,A[4]=q*C+K*x+it*M,A[5]=q*p+K*w+it*L,A[6]=ct*E+st*b+Ot*m,A[7]=ct*C+st*x+Ot*M,A[8]=ct*p+st*w+Ot*L,A}v=g;function O(P,T){var A=[],E=T[0],C=T[1];return A[0]=P[0]*E+P[3]*C+P[6],A[1]=P[1]*E+P[4]*C+P[7],A}S.rG=O;function I(P){var T=[],A=P[0],E=P[1],C=P[2],p=P[3],b=P[4],x=P[5],w=P[6],m=P[7],M=P[8],L=M*b-x*m,B=-M*p+x*w,D=m*p-b*w,z=A*L+E*B+C*D;return z?(z=1/z,T[0]=L*z,T[1]=(-M*E+C*m)*z,T[2]=(x*E-C*b)*z,T[3]=B*z,T[4]=(M*A-C*w)*z,T[5]=(-x*A+C*p)*z,T[6]=D*z,T[7]=(-m*A+E*w)*z,T[8]=(b*A-E*p)*z,T):null}S.U_=I},26632:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=null;function g(){if(!v){var O=document.createElement("canvas");O.width=1,O.height=1,v=O.getContext("2d")}return v}S.getOffScreenContext=g},8914:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(22487),O=v(26632);function I(E,C,p){var b=1;if(g.isString(E)&&(b=E.split(`
`).length),b>1){var x=P(C,p);return C*b+x*(b-1)}return C}S.getTextHeight=I;function P(E,C){return C?C-E:E*.14}S.getLineSpaceing=P;function T(E,C){var p=O.getOffScreenContext(),b=0;if(g.isNil(E)||E==="")return b;if(p.save(),p.font=C,g.isString(E)&&E.includes(`
`)){var x=E.split(`
`);g.each(x,function(w){var m=p.measureText(w).width;b<m&&(b=m)})}else b=p.measureText(E).width;return p.restore(),b}S.getTextWidth=T;function A(E){var C=E.fontSize,p=E.fontFamily,b=E.fontWeight,x=E.fontStyle,w=E.fontVariant;return[x,w,b,C+"px",p].join(" ").trim()}S.assembleFont=A},22487:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function g(w,m){var M=w.indexOf(m);M!==-1&&w.splice(M,1)}S.removeFromArray=g,S.isBrowser=typeof window!="undefined"&&typeof window.document!="undefined";var O=v(73890);S.isNil=O.default;var I=v(46812);S.isFunction=I.default;var P=v(21830);S.isString=P.default;var T=v(33643);S.isObject=T.default;var A=v(66631);S.isArray=A.default;var E=v(66974);S.mix=E.default;var C=v(27154);S.each=C.default;var p=v(85260);S.upperFirst=p.default;function b(w,m){if(w.isCanvas())return!0;for(var M=m.getParent(),L=!1;M;){if(M===w){L=!0;break}M=M.getParent()}return L}S.isParent=b;function x(w){return w.cfg.visible&&w.cfg.capture}S.isAllowCapture=x},76062:function(mt){"use strict";mt.exports=JSON.parse('{"name":"@antv/g-base","version":"0.4.7","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},84909:function(mt,S,v){"use strict";var g;g={value:!0};var O=v(48465);function I(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])}function P(E,C){return I(E)*I(C)?(E[0]*C[0]+E[1]*C[1])/(I(E)*I(C)):1}function T(E,C){return(E[0]*C[1]<E[1]*C[0]?-1:1)*Math.acos(P(E,C))}function A(E,C){var p=C[1],b=C[2],x=O.mod(O.toRadian(C[3]),Math.PI*2),w=C[4],m=C[5],M=E[0],L=E[1],B=C[6],D=C[7],z=Math.cos(x)*(M-B)/2+Math.sin(x)*(L-D)/2,q=-1*Math.sin(x)*(M-B)/2+Math.cos(x)*(L-D)/2,K=z*z/(p*p)+q*q/(b*b);K>1&&(p*=Math.sqrt(K),b*=Math.sqrt(K));var it=p*p*(q*q)+b*b*(z*z),ct=it?Math.sqrt((p*p*(b*b)-it)/it):1;w===m&&(ct*=-1),isNaN(ct)&&(ct=0);var st=b?ct*p*q/b:0,Ot=p?ct*-b*z/p:0,Dt=(M+B)/2+Math.cos(x)*st-Math.sin(x)*Ot,Ht=(L+D)/2+Math.sin(x)*st+Math.cos(x)*Ot,N=[(z-st)/p,(q-Ot)/b],W=[(-1*z-st)/p,(-1*q-Ot)/b],X=T([1,0],N),V=T(N,W);return P(N,W)<=-1&&(V=Math.PI),P(N,W)>=1&&(V=0),m===0&&V>0&&(V=V-2*Math.PI),m===1&&V<0&&(V=V+2*Math.PI),{cx:Dt,cy:Ht,rx:O.isSamePoint(E,[B,D])?0:p,ry:O.isSamePoint(E,[B,D])?0:b,startAngle:X,endAngle:X+V,xRotation:x,arcFlag:w,sweepFlag:m}}S.Z=A},48465:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function g(){return window?window.devicePixelRatio:1}S.getPixelRatio=g;function O(D,z,q,K){var it=D-q,ct=z-K;return Math.sqrt(it*it+ct*ct)}S.distance=O;function I(D,z,q,K,it,ct){return it>=D&&it<=D+q&&ct>=z&&ct<=z+K}S.inBox=I;function P(D,z){return!(z.minX>D.maxX||z.maxX<D.minX||z.minY>D.maxY||z.maxY<D.minY)}S.intersectRect=P;function T(D,z){return!D||!z?D||z:{minX:Math.min(D.minX,z.minX),minY:Math.min(D.minY,z.minY),maxX:Math.max(D.maxX,z.maxX),maxY:Math.max(D.maxY,z.maxY)}}S.mergeRegion=T;function A(D,z){return D[0]===z[0]&&D[1]===z[1]}S.isSamePoint=A;var E=v(73890);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return E.default}});var C=v(21830);Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return C.default}});var p=v(46812);Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return p.default}});var b=v(66631);Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return b.default}});var x=v(27154);Object.defineProperty(S,"each",{enumerable:!0,get:function(){return x.default}});var w=v(9217);Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return w.default}});var m=v(5253);Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return m.default}});var M=v(39984);Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return M.default}});var L=v(98229);Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return L.default}});var B=v(35755);Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return B.default}})},71270:function(mt){"use strict";mt.exports=JSON.parse('{"name":"@antv/g-canvas","version":"0.4.15","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","dist":"webpack --config webpack.config.js --mode production"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"__npminstall_done":false,"gitHead":"9092384bf6b7efd6ec71bbcdec1b801a0079c403"}')},89838:function(mt,S,v){"use strict";v.r(S),v.d(S,{Arc:function(){return yt},Cubic:function(){return Dt},Line:function(){return b},Polygon:function(){return xt},Polyline:function(){return _t},Quad:function(){return q},Util:function(){return g}});var g={};v.r(g),v.d(g,{distance:function(){return P},getBBoxByArray:function(){return A},getBBoxRange:function(){return E},isNumberEqual:function(){return T},piMod:function(){return C}});function O(ot){return Math.min.apply(null,ot)}function I(ot){return Math.max.apply(null,ot)}function P(ot,tt,Q,dt){var rt=ot-Q,nt=tt-dt;return Math.sqrt(rt*rt+nt*nt)}function T(ot,tt){return Math.abs(ot-tt)<.001}function A(ot,tt){var Q=O(ot),dt=O(tt),rt=I(ot),nt=I(tt);return{x:Q,y:dt,width:rt-Q,height:nt-dt}}function E(ot,tt,Q,dt){return{minX:O([ot,Q]),maxX:I([ot,Q]),minY:O([tt,dt]),maxY:I([tt,dt])}}function C(ot){return(ot+Math.PI*2)%(Math.PI*2)}var p=v(31437),b={box:function(ot,tt,Q,dt){return A([ot,Q],[tt,dt])},length:function(ot,tt,Q,dt){return P(ot,tt,Q,dt)},pointAt:function(ot,tt,Q,dt,rt){return{x:(1-rt)*ot+rt*Q,y:(1-rt)*tt+rt*dt}},pointDistance:function(ot,tt,Q,dt,rt,nt){var pt=(Q-ot)*(rt-ot)+(dt-tt)*(nt-tt);if(pt<0)return P(ot,tt,rt,nt);var It=(Q-ot)*(Q-ot)+(dt-tt)*(dt-tt);return pt>It?P(Q,dt,rt,nt):this.pointToLine(ot,tt,Q,dt,rt,nt)},pointToLine:function(ot,tt,Q,dt,rt,nt){var pt=[Q-ot,dt-tt];if(p.exactEquals(pt,[0,0]))return Math.sqrt((rt-ot)*(rt-ot)+(nt-tt)*(nt-tt));var It=[-pt[1],pt[0]];p.normalize(It,It);var Vt=[rt-ot,nt-tt];return Math.abs(p.dot(Vt,It))},tangentAngle:function(ot,tt,Q,dt){return Math.atan2(dt-tt,Q-ot)}},x=1e-4;function w(ot,tt,Q,dt,rt,nt){var pt,It=Infinity,Vt=[Q,dt],Qt=20;nt&&nt>200&&(Qt=nt/10);for(var he=1/Qt,me=he/10,Xt=0;Xt<=Qt;Xt++){var $t=Xt*he,fe=[rt.apply(null,ot.concat([$t])),rt.apply(null,tt.concat([$t]))],Se=P(Vt[0],Vt[1],fe[0],fe[1]);Se<It&&(pt=$t,It=Se)}if(pt===0)return{x:ot[0],y:tt[0]};if(pt===1){var ke=ot.length;return{x:ot[ke-1],y:tt[ke-1]}}It=Infinity;for(var Xt=0;Xt<32&&!(me<x);Xt++){var Oe=pt-me,$e=pt+me,fe=[rt.apply(null,ot.concat([Oe])),rt.apply(null,tt.concat([Oe]))],Se=P(Vt[0],Vt[1],fe[0],fe[1]);if(Oe>=0&&Se<It)pt=Oe,It=Se;else{var lr=[rt.apply(null,ot.concat([$e])),rt.apply(null,tt.concat([$e]))],zt=P(Vt[0],Vt[1],lr[0],lr[1]);$e<=1&&zt<It?(pt=$e,It=zt):me*=.5}}return{x:rt.apply(null,ot.concat([pt])),y:rt.apply(null,tt.concat([pt]))}}function m(ot,tt){for(var Q=0,dt=ot.length,rt=0;rt<dt;rt++){var nt=ot[rt],pt=tt[rt],It=ot[(rt+1)%dt],Vt=tt[(rt+1)%dt];Q+=P(nt,pt,It,Vt)}return Q/2}function M(ot,tt,Q,dt){var rt=1-dt;return rt*rt*ot+2*dt*rt*tt+dt*dt*Q}function L(ot,tt,Q){var dt=ot+Q-2*tt;if(T(dt,0))return[.5];var rt=(ot-tt)/dt;return rt<=1&&rt>=0?[rt]:[]}function B(ot,tt,Q,dt){return 2*(1-dt)*(tt-ot)+2*dt*(Q-tt)}function D(ot,tt,Q,dt,rt,nt,pt){var It=M(ot,Q,rt,pt),Vt=M(tt,dt,nt,pt),Qt=b.pointAt(ot,tt,Q,dt,pt),he=b.pointAt(Q,dt,rt,nt,pt);return[[ot,tt,Qt.x,Qt.y,It,Vt],[It,Vt,he.x,he.y,rt,nt]]}function z(ot,tt,Q,dt,rt,nt,pt){if(pt===0)return(P(ot,tt,Q,dt)+P(Q,dt,rt,nt)+P(ot,tt,rt,nt))/2;var It=D(ot,tt,Q,dt,rt,nt,.5),Vt=It[0],Qt=It[1];return Vt.push(pt-1),Qt.push(pt-1),z.apply(null,Vt)+z.apply(null,Qt)}var q={box:function(ot,tt,Q,dt,rt,nt){var pt=L(ot,Q,rt)[0],It=L(tt,dt,nt)[0],Vt=[ot,rt],Qt=[tt,nt];return pt!==void 0&&Vt.push(M(ot,Q,rt,pt)),It!==void 0&&Qt.push(M(tt,dt,nt,It)),A(Vt,Qt)},length:function(ot,tt,Q,dt,rt,nt){return z(ot,tt,Q,dt,rt,nt,3)},nearestPoint:function(ot,tt,Q,dt,rt,nt,pt,It){return w([ot,Q,rt],[tt,dt,nt],pt,It,M)},pointDistance:function(ot,tt,Q,dt,rt,nt,pt,It){var Vt=this.nearestPoint(ot,tt,Q,dt,rt,nt,pt,It);return P(Vt.x,Vt.y,pt,It)},interpolationAt:M,pointAt:function(ot,tt,Q,dt,rt,nt,pt){return{x:M(ot,Q,rt,pt),y:M(tt,dt,nt,pt)}},divide:function(ot,tt,Q,dt,rt,nt,pt){return D(ot,tt,Q,dt,rt,nt,pt)},tangentAngle:function(ot,tt,Q,dt,rt,nt,pt){var It=B(ot,Q,rt,pt),Vt=B(tt,dt,nt,pt),Qt=Math.atan2(Vt,It);return C(Qt)}};function K(ot,tt,Q,dt,rt){var nt=1-rt;return nt*nt*nt*ot+3*tt*rt*nt*nt+3*Q*rt*rt*nt+dt*rt*rt*rt}function it(ot,tt,Q,dt,rt){var nt=1-rt;return 3*(nt*nt*(tt-ot)+2*nt*rt*(Q-tt)+rt*rt*(dt-Q))}function ct(ot,tt,Q,dt){var rt=-3*ot+9*tt-9*Q+3*dt,nt=6*ot-12*tt+6*Q,pt=3*tt-3*ot,It=[],Vt,Qt,he;if(T(rt,0))T(nt,0)||(Vt=-pt/nt,Vt>=0&&Vt<=1&&It.push(Vt));else{var me=nt*nt-4*rt*pt;T(me,0)?It.push(-nt/(2*rt)):me>0&&(he=Math.sqrt(me),Vt=(-nt+he)/(2*rt),Qt=(-nt-he)/(2*rt),Vt>=0&&Vt<=1&&It.push(Vt),Qt>=0&&Qt<=1&&It.push(Qt))}return It}function st(ot,tt,Q,dt,rt,nt,pt,It,Vt){var Qt=K(ot,Q,rt,pt,Vt),he=K(tt,dt,nt,It,Vt),me=b.pointAt(ot,tt,Q,dt,Vt),Xt=b.pointAt(Q,dt,rt,nt,Vt),$t=b.pointAt(rt,nt,pt,It,Vt),fe=b.pointAt(me.x,me.y,Xt.x,Xt.y,Vt),Se=b.pointAt(Xt.x,Xt.y,$t.x,$t.y,Vt);return[[ot,tt,me.x,me.y,fe.x,fe.y,Qt,he],[Qt,he,Se.x,Se.y,$t.x,$t.y,pt,It]]}function Ot(ot,tt,Q,dt,rt,nt,pt,It,Vt){if(Vt===0)return m([ot,Q,rt,pt],[tt,dt,nt,It]);var Qt=st(ot,tt,Q,dt,rt,nt,pt,It,.5),he=Qt[0],me=Qt[1];return he.push(Vt-1),me.push(Vt-1),Ot.apply(null,he)+Ot.apply(null,me)}var Dt={extrema:ct,box:function(ot,tt,Q,dt,rt,nt,pt,It){for(var Vt=[ot,pt],Qt=[tt,It],he=ct(ot,Q,rt,pt),me=ct(tt,dt,nt,It),Xt=0;Xt<he.length;Xt++)Vt.push(K(ot,Q,rt,pt,he[Xt]));for(var Xt=0;Xt<me.length;Xt++)Qt.push(K(tt,dt,nt,It,me[Xt]));return A(Vt,Qt)},length:function(ot,tt,Q,dt,rt,nt,pt,It){return Ot(ot,tt,Q,dt,rt,nt,pt,It,3)},nearestPoint:function(ot,tt,Q,dt,rt,nt,pt,It,Vt,Qt,he){return w([ot,Q,rt,pt],[tt,dt,nt,It],Vt,Qt,K,he)},pointDistance:function(ot,tt,Q,dt,rt,nt,pt,It,Vt,Qt,he){var me=this.nearestPoint(ot,tt,Q,dt,rt,nt,pt,It,Vt,Qt,he);return P(me.x,me.y,Vt,Qt)},interpolationAt:K,pointAt:function(ot,tt,Q,dt,rt,nt,pt,It,Vt){return{x:K(ot,Q,rt,pt,Vt),y:K(tt,dt,nt,It,Vt)}},divide:function(ot,tt,Q,dt,rt,nt,pt,It,Vt){return st(ot,tt,Q,dt,rt,nt,pt,It,Vt)},tangentAngle:function(ot,tt,Q,dt,rt,nt,pt,It,Vt){var Qt=it(ot,Q,rt,pt,Vt),he=it(tt,dt,nt,It,Vt);return C(Math.atan2(he,Qt))}};function Ht(ot,tt){var Q=Math.abs(ot);return tt>0?Q:Q*-1}var N={box:function(ot,tt,Q,dt){return{x:ot-Q,y:tt-dt,width:Q*2,height:dt*2}},length:function(ot,tt,Q,dt){return Math.PI*(3*(Q+dt)-Math.sqrt((3*Q+dt)*(Q+3*dt)))},nearestPoint:function(ot,tt,Q,dt,rt,nt){var pt=Q,It=dt;if(pt===0||It===0)return{x:ot,y:tt};for(var Vt=rt-ot,Qt=nt-tt,he=Math.abs(Vt),me=Math.abs(Qt),Xt=pt*pt,$t=It*It,fe=Math.PI/4,Se,ke,Oe=0;Oe<4;Oe++){Se=pt*Math.cos(fe),ke=It*Math.sin(fe);var $e=(Xt-$t)*Math.pow(Math.cos(fe),3)/pt,lr=($t-Xt)*Math.pow(Math.sin(fe),3)/It,zt=Se-$e,qt=ke-lr,ae=he-$e,se=me-lr,ge=Math.hypot(qt,zt),Ce=Math.hypot(se,ae),Me=ge*Math.asin((zt*se-qt*ae)/(ge*Ce)),Te=Me/Math.sqrt(Xt+$t-Se*Se-ke*ke);fe+=Te,fe=Math.min(Math.PI/2,Math.max(0,fe))}return{x:ot+Ht(Se,Vt),y:tt+Ht(ke,Qt)}},pointDistance:function(ot,tt,Q,dt,rt,nt){var pt=this.nearestPoint(ot,tt,Q,dt,rt,nt);return P(pt.x,pt.y,rt,nt)},pointAt:function(ot,tt,Q,dt,rt){var nt=2*Math.PI*rt;return{x:ot+Q*Math.cos(nt),y:tt+dt*Math.sin(nt)}},tangentAngle:function(ot,tt,Q,dt,rt){var nt=2*Math.PI*rt,pt=Math.atan2(dt*Math.cos(nt),-Q*Math.sin(nt));return C(pt)}};function W(ot,tt,Q,dt,rt,nt,pt,It){return-1*Q*Math.cos(rt)*Math.sin(It)-dt*Math.sin(rt)*Math.cos(It)}function X(ot,tt,Q,dt,rt,nt,pt,It){return-1*Q*Math.sin(rt)*Math.sin(It)+dt*Math.cos(rt)*Math.cos(It)}function V(ot,tt,Q){return Math.atan(-tt/ot*Math.tan(Q))}function lt(ot,tt,Q){return Math.atan(tt/(ot*Math.tan(Q)))}function Z(ot,tt,Q,dt,rt,nt){return Q*Math.cos(rt)*Math.cos(nt)-dt*Math.sin(rt)*Math.sin(nt)+ot}function U(ot,tt,Q,dt,rt,nt){return Q*Math.sin(rt)*Math.cos(nt)+dt*Math.cos(rt)*Math.sin(nt)+tt}function j(ot,tt,Q,dt){var rt=Math.atan2(dt*ot,Q*tt);return(rt+Math.PI*2)%(Math.PI*2)}function H(ot,tt,Q){return{x:ot*Math.cos(Q),y:tt*Math.sin(Q)}}function f(ot,tt,Q){var dt=Math.cos(Q),rt=Math.sin(Q);return[ot*dt-tt*rt,ot*rt+tt*dt]}var yt={box:function(ot,tt,Q,dt,rt,nt,pt){for(var It=V(Q,dt,rt),Vt=Infinity,Qt=-Infinity,he=[nt,pt],me=-Math.PI*2;me<=Math.PI*2;me+=Math.PI){var Xt=It+me;nt<pt?nt<Xt&&Xt<pt&&he.push(Xt):pt<Xt&&Xt<nt&&he.push(Xt)}for(var me=0;me<he.length;me++){var $t=Z(ot,tt,Q,dt,rt,he[me]);$t<Vt&&(Vt=$t),$t>Qt&&(Qt=$t)}for(var fe=lt(Q,dt,rt),Se=Infinity,ke=-Infinity,Oe=[nt,pt],me=-Math.PI*2;me<=Math.PI*2;me+=Math.PI){var $e=fe+me;nt<pt?nt<$e&&$e<pt&&Oe.push($e):pt<$e&&$e<nt&&Oe.push($e)}for(var me=0;me<Oe.length;me++){var lr=U(ot,tt,Q,dt,rt,Oe[me]);lr<Se&&(Se=lr),lr>ke&&(ke=lr)}return{x:Vt,y:Se,width:Qt-Vt,height:ke-Se}},length:function(ot,tt,Q,dt,rt,nt,pt){},nearestPoint:function(ot,tt,Q,dt,rt,nt,pt,It,Vt){var Qt=f(It-ot,Vt-tt,-rt),he=Qt[0],me=Qt[1],Xt=N.nearestPoint(0,0,Q,dt,he,me),$t=j(Q,dt,Xt.x,Xt.y);$t<nt?Xt=H(Q,dt,nt):$t>pt&&(Xt=H(Q,dt,pt));var fe=f(Xt.x,Xt.y,rt);return{x:fe[0]+ot,y:fe[1]+tt}},pointDistance:function(ot,tt,Q,dt,rt,nt,pt,It,Vt){var Qt=this.nearestPoint(ot,tt,Q,dt,It,Vt);return P(Qt.x,Qt.y,It,Vt)},pointAt:function(ot,tt,Q,dt,rt,nt,pt,It){var Vt=(pt-nt)*It+nt;return{x:Z(ot,tt,Q,dt,rt,Vt),y:U(ot,tt,Q,dt,rt,Vt)}},tangentAngle:function(ot,tt,Q,dt,rt,nt,pt,It){var Vt=(pt-nt)*It+nt,Qt=W(ot,tt,Q,dt,rt,nt,pt,Vt),he=X(ot,tt,Q,dt,rt,nt,pt,Vt);return C(Math.atan2(he,Qt))}};function St(ot){for(var tt=0,Q=[],dt=0;dt<ot.length-1;dt++){var rt=ot[dt],nt=ot[dt+1],pt=P(rt[0],rt[1],nt[0],nt[1]),It={from:rt,to:nt,length:pt};Q.push(It),tt+=pt}return{segments:Q,totalLength:tt}}function at(ot){if(ot.length<2)return 0;for(var tt=0,Q=0;Q<ot.length-1;Q++){var dt=ot[Q],rt=ot[Q+1];tt+=P(dt[0],dt[1],rt[0],rt[1])}return tt}function Ct(ot,tt){if(tt>1||tt<0||ot.length<2)return null;var Q=St(ot),dt=Q.segments,rt=Q.totalLength;if(rt===0)return{x:ot[0][0],y:ot[0][1]};for(var nt=0,pt=null,It=0;It<dt.length;It++){var Vt=dt[It],Qt=Vt.from,he=Vt.to,me=Vt.length/rt;if(tt>=nt&&tt<=nt+me){var Xt=(tt-nt)/me;pt=b.pointAt(Qt[0],Qt[1],he[0],he[1],Xt);break}nt+=me}return pt}function wt(ot,tt){if(tt>1||tt<0||ot.length<2)return 0;for(var Q=St(ot),dt=Q.segments,rt=Q.totalLength,nt=0,pt=0,It=0;It<dt.length;It++){var Vt=dt[It],Qt=Vt.from,he=Vt.to,me=Vt.length/rt;if(tt>=nt&&tt<=nt+me){pt=Math.atan2(he[1]-Qt[1],he[0]-Qt[0]);break}nt+=me}return pt}function At(ot,tt,Q){for(var dt=Infinity,rt=0;rt<ot.length-1;rt++){var nt=ot[rt],pt=ot[rt+1],It=b.pointDistance(nt[0],nt[1],pt[0],pt[1],tt,Q);It<dt&&(dt=It)}return dt}var _t={box:function(ot){for(var tt=[],Q=[],dt=0;dt<ot.length;dt++){var rt=ot[dt];tt.push(rt[0]),Q.push(rt[1])}return A(tt,Q)},length:function(ot){return at(ot)},pointAt:function(ot,tt){return Ct(ot,tt)},pointDistance:function(ot,tt,Q){return At(ot,tt,Q)},tangentAngle:function(ot,tt){return wt(ot,tt)}};function Lt(ot){var tt=ot.slice(0);return ot.length&&tt.push(ot[0]),tt}var xt={box:function(ot){return _t.box(ot)},length:function(ot){return at(Lt(ot))},pointAt:function(ot,tt){return Ct(Lt(ot),tt)},pointDistance:function(ot,tt,Q){return At(Lt(ot),tt,Q)},tangentAngle:function(ot,tt){return wt(Lt(ot),tt)}}},33418:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76256),O=v(55397);function I(w,m,M,L,B,D,z,q){return-1*M*Math.cos(B)*Math.sin(q)-L*Math.sin(B)*Math.cos(q)}function P(w,m,M,L,B,D,z,q){return-1*M*Math.sin(B)*Math.sin(q)+L*Math.cos(B)*Math.cos(q)}function T(w,m,M){return Math.atan(-m/w*Math.tan(M))}function A(w,m,M){return Math.atan(m/(w*Math.tan(M)))}function E(w,m,M,L,B,D){return M*Math.cos(B)*Math.cos(D)-L*Math.sin(B)*Math.sin(D)+w}function C(w,m,M,L,B,D){return M*Math.sin(B)*Math.cos(D)+L*Math.cos(B)*Math.sin(D)+m}function p(w,m,M,L){var B=Math.atan2(L*w,M*m);return(B+Math.PI*2)%(Math.PI*2)}function b(w,m,M){return{x:w*Math.cos(M),y:m*Math.sin(M)}}function x(w,m,M){var L=Math.cos(M),B=Math.sin(M);return[w*L-m*B,w*B+m*L]}S.default={box:function(w,m,M,L,B,D,z){for(var q=T(M,L,B),K=Infinity,it=-Infinity,ct=[D,z],st=-Math.PI*2;st<=Math.PI*2;st+=Math.PI){var Ot=q+st;D<z?D<Ot&&Ot<z&&ct.push(Ot):z<Ot&&Ot<D&&ct.push(Ot)}for(var st=0;st<ct.length;st++){var Dt=E(w,m,M,L,B,ct[st]);Dt<K&&(K=Dt),Dt>it&&(it=Dt)}for(var Ht=A(M,L,B),N=Infinity,W=-Infinity,X=[D,z],st=-Math.PI*2;st<=Math.PI*2;st+=Math.PI){var V=Ht+st;D<z?D<V&&V<z&&X.push(V):z<V&&V<D&&X.push(V)}for(var st=0;st<X.length;st++){var lt=C(w,m,M,L,B,X[st]);lt<N&&(N=lt),lt>W&&(W=lt)}return{x:K,y:N,width:it-K,height:W-N}},length:function(w,m,M,L,B,D,z){},nearestPoint:function(w,m,M,L,B,D,z,q,K){var it=x(q-w,K-m,-B),ct=it[0],st=it[1],Ot=O.default.nearestPoint(0,0,M,L,ct,st),Dt=p(M,L,Ot.x,Ot.y);Dt<D?Ot=b(M,L,D):Dt>z&&(Ot=b(M,L,z));var Ht=x(Ot.x,Ot.y,B);return{x:Ht[0]+w,y:Ht[1]+m}},pointDistance:function(w,m,M,L,B,D,z,q,K){var it=this.nearestPoint(w,m,M,L,q,K);return g.distance(it.x,it.y,q,K)},pointAt:function(w,m,M,L,B,D,z,q){var K=(z-D)*q+D;return{x:E(w,m,M,L,B,K),y:C(w,m,M,L,B,K)}},tangentAngle:function(w,m,M,L,B,D,z,q){var K=(z-D)*q+D,it=I(w,m,M,L,B,D,z,K),ct=P(w,m,M,L,B,D,z,K);return g.piMod(Math.atan2(ct,it))}}},87335:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.snapLength=S.nearestPoint=void 0;var g=v(76256),O=1e-4;function I(T,A,E,C,p,b){var x,w=Infinity,m=[E,C],M=20;b&&b>200&&(M=b/10);for(var L=1/M,B=L/10,D=0;D<=M;D++){var z=D*L,q=[p.apply(null,T.concat([z])),p.apply(null,A.concat([z]))],K=g.distance(m[0],m[1],q[0],q[1]);K<w&&(x=z,w=K)}if(x===0)return{x:T[0],y:A[0]};if(x===1){var it=T.length;return{x:T[it-1],y:A[it-1]}}w=Infinity;for(var D=0;D<32&&!(B<O);D++){var ct=x-B,st=x+B,q=[p.apply(null,T.concat([ct])),p.apply(null,A.concat([ct]))],K=g.distance(m[0],m[1],q[0],q[1]);if(ct>=0&&K<w)x=ct,w=K;else{var Ot=[p.apply(null,T.concat([st])),p.apply(null,A.concat([st]))],Dt=g.distance(m[0],m[1],Ot[0],Ot[1]);st<=1&&Dt<w?(x=st,w=Dt):B*=.5}}return{x:p.apply(null,T.concat([x])),y:p.apply(null,A.concat([x]))}}S.nearestPoint=I;function P(T,A){for(var E=0,C=T.length,p=0;p<C;p++){var b=T[p],x=A[p],w=T[(p+1)%C],m=A[(p+1)%C];E+=g.distance(b,x,w,m)}return E/2}S.snapLength=P},15730:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76256),O=v(23646),I=v(87335);function P(p,b,x,w,m){var M=1-m;return M*M*M*p+3*b*m*M*M+3*x*m*m*M+w*m*m*m}function T(p,b,x,w,m){var M=1-m;return 3*(M*M*(b-p)+2*M*m*(x-b)+m*m*(w-x))}function A(p,b,x,w){var m=-3*p+9*b-9*x+3*w,M=6*p-12*b+6*x,L=3*b-3*p,B=[],D,z,q;if(g.isNumberEqual(m,0))g.isNumberEqual(M,0)||(D=-L/M,D>=0&&D<=1&&B.push(D));else{var K=M*M-4*m*L;g.isNumberEqual(K,0)?B.push(-M/(2*m)):K>0&&(q=Math.sqrt(K),D=(-M+q)/(2*m),z=(-M-q)/(2*m),D>=0&&D<=1&&B.push(D),z>=0&&z<=1&&B.push(z))}return B}function E(p,b,x,w,m,M,L,B,D){var z=P(p,x,m,L,D),q=P(b,w,M,B,D),K=O.default.pointAt(p,b,x,w,D),it=O.default.pointAt(x,w,m,M,D),ct=O.default.pointAt(m,M,L,B,D),st=O.default.pointAt(K.x,K.y,it.x,it.y,D),Ot=O.default.pointAt(it.x,it.y,ct.x,ct.y,D);return[[p,b,K.x,K.y,st.x,st.y,z,q],[z,q,Ot.x,Ot.y,ct.x,ct.y,L,B]]}function C(p,b,x,w,m,M,L,B,D){if(D===0)return I.snapLength([p,x,m,L],[b,w,M,B]);var z=E(p,b,x,w,m,M,L,B,.5),q=z[0],K=z[1];return q.push(D-1),K.push(D-1),C.apply(null,q)+C.apply(null,K)}S.default={extrema:A,box:function(p,b,x,w,m,M,L,B){for(var D=[p,L],z=[b,B],q=A(p,x,m,L),K=A(b,w,M,B),it=0;it<q.length;it++)D.push(P(p,x,m,L,q[it]));for(var it=0;it<K.length;it++)z.push(P(b,w,M,B,K[it]));return g.getBBoxByArray(D,z)},length:function(p,b,x,w,m,M,L,B){return C(p,b,x,w,m,M,L,B,3)},nearestPoint:function(p,b,x,w,m,M,L,B,D,z,q){return I.nearestPoint([p,x,m,L],[b,w,M,B],D,z,P,q)},pointDistance:function(p,b,x,w,m,M,L,B,D,z,q){var K=this.nearestPoint(p,b,x,w,m,M,L,B,D,z,q);return g.distance(K.x,K.y,D,z)},interpolationAt:P,pointAt:function(p,b,x,w,m,M,L,B,D){return{x:P(p,x,m,L,D),y:P(b,w,M,B,D)}},divide:function(p,b,x,w,m,M,L,B,D){return E(p,b,x,w,m,M,L,B,D)},tangentAngle:function(p,b,x,w,m,M,L,B,D){var z=T(p,x,m,L,D),q=T(b,w,M,B,D);return g.piMod(Math.atan2(q,z))}}},55397:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76256);function O(I,P){var T=Math.abs(I);return P>0?T:T*-1}S.default={box:function(I,P,T,A){return{x:I-T,y:P-A,width:T*2,height:A*2}},length:function(I,P,T,A){return Math.PI*(3*(T+A)-Math.sqrt((3*T+A)*(T+3*A)))},nearestPoint:function(I,P,T,A,E,C){var p=T,b=A;if(p===0||b===0)return{x:I,y:P};for(var x=E-I,w=C-P,m=Math.abs(x),M=Math.abs(w),L=p*p,B=b*b,D=Math.PI/4,z,q,K=0;K<4;K++){z=p*Math.cos(D),q=b*Math.sin(D);var it=(L-B)*Math.pow(Math.cos(D),3)/p,ct=(B-L)*Math.pow(Math.sin(D),3)/b,st=z-it,Ot=q-ct,Dt=m-it,Ht=M-ct,N=Math.hypot(Ot,st),W=Math.hypot(Ht,Dt),X=N*Math.asin((st*Ht-Ot*Dt)/(N*W)),V=X/Math.sqrt(L+B-z*z-q*q);D+=V,D=Math.min(Math.PI/2,Math.max(0,D))}return{x:I+O(z,x),y:P+O(q,w)}},pointDistance:function(I,P,T,A,E,C){var p=this.nearestPoint(I,P,T,A,E,C);return g.distance(p.x,p.y,E,C)},pointAt:function(I,P,T,A,E){var C=2*Math.PI*E;return{x:I+T*Math.cos(C),y:P+A*Math.sin(C)}},tangentAngle:function(I,P,T,A,E){var C=2*Math.PI*E,p=Math.atan2(A*Math.cos(C),-T*Math.sin(C));return g.piMod(p)}}},23646:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76256),O=v(31437);S.default={box:function(I,P,T,A){return g.getBBoxByArray([I,T],[P,A])},length:function(I,P,T,A){return g.distance(I,P,T,A)},pointAt:function(I,P,T,A,E){return{x:(1-E)*I+E*T,y:(1-E)*P+E*A}},pointDistance:function(I,P,T,A,E,C){var p=(T-I)*(E-I)+(A-P)*(C-P);if(p<0)return g.distance(I,P,E,C);var b=(T-I)*(T-I)+(A-P)*(A-P);return p>b?g.distance(T,A,E,C):this.pointToLine(I,P,T,A,E,C)},pointToLine:function(I,P,T,A,E,C){var p=[T-I,A-P];if(O.exactEquals(p,[0,0]))return Math.sqrt((E-I)*(E-I)+(C-P)*(C-P));var b=[-p[1],p[0]];O.normalize(b,b);var x=[E-I,C-P];return Math.abs(O.dot(x,b))},tangentAngle:function(I,P,T,A){return Math.atan2(A-P,T-I)}}},65386:function(mt,S,v){"use strict";var g;g={value:!0};var O=v(28171),I=v(76256);S.Z={box:function(P){for(var T=[],A=[],E=0;E<P.length;E++){var C=P[E];T.push(C[0]),A.push(C[1])}return I.getBBoxByArray(T,A)},length:function(P){return O.lengthOfSegment(P)},pointAt:function(P,T){return O.pointAtSegments(P,T)},pointDistance:function(P,T,A){return O.distanceAtSegment(P,T,A)},tangentAngle:function(P,T){return O.angleAtSegments(P,T)}}},2879:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(23646),O=v(76256),I=v(87335);function P(p,b,x,w){var m=1-w;return m*m*p+2*w*m*b+w*w*x}function T(p,b,x){var w=p+x-2*b;if(O.isNumberEqual(w,0))return[.5];var m=(p-b)/w;return m<=1&&m>=0?[m]:[]}function A(p,b,x,w){return 2*(1-w)*(b-p)+2*w*(x-b)}function E(p,b,x,w,m,M,L){var B=P(p,x,m,L),D=P(b,w,M,L),z=g.default.pointAt(p,b,x,w,L),q=g.default.pointAt(x,w,m,M,L);return[[p,b,z.x,z.y,B,D],[B,D,q.x,q.y,m,M]]}function C(p,b,x,w,m,M,L){if(L===0)return(O.distance(p,b,x,w)+O.distance(x,w,m,M)+O.distance(p,b,m,M))/2;var B=E(p,b,x,w,m,M,.5),D=B[0],z=B[1];return D.push(L-1),z.push(L-1),C.apply(null,D)+C.apply(null,z)}S.default={box:function(p,b,x,w,m,M){var L=T(p,x,m)[0],B=T(b,w,M)[0],D=[p,m],z=[b,M];return L!==void 0&&D.push(P(p,x,m,L)),B!==void 0&&z.push(P(b,w,M,B)),O.getBBoxByArray(D,z)},length:function(p,b,x,w,m,M){return C(p,b,x,w,m,M,3)},nearestPoint:function(p,b,x,w,m,M,L,B){return I.nearestPoint([p,x,m],[b,w,M],L,B,P)},pointDistance:function(p,b,x,w,m,M,L,B){var D=this.nearestPoint(p,b,x,w,m,M,L,B);return O.distance(D.x,D.y,L,B)},interpolationAt:P,pointAt:function(p,b,x,w,m,M,L){return{x:P(p,x,m,L),y:P(b,w,M,L)}},divide:function(p,b,x,w,m,M,L){return E(p,b,x,w,m,M,L)},tangentAngle:function(p,b,x,w,m,M,L){var B=A(p,x,m,L),D=A(b,w,M,L),z=Math.atan2(D,B);return O.piMod(z)}}},28171:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.distanceAtSegment=S.angleAtSegments=S.pointAtSegments=S.lengthOfSegment=void 0;var g=v(23646),O=v(76256);function I(C){for(var p=0,b=[],x=0;x<C.length-1;x++){var w=C[x],m=C[x+1],M=O.distance(w[0],w[1],m[0],m[1]),L={from:w,to:m,length:M};b.push(L),p+=M}return{segments:b,totalLength:p}}function P(C){if(C.length<2)return 0;for(var p=0,b=0;b<C.length-1;b++){var x=C[b],w=C[b+1];p+=O.distance(x[0],x[1],w[0],w[1])}return p}S.lengthOfSegment=P;function T(C,p){if(p>1||p<0||C.length<2)return null;var b=I(C),x=b.segments,w=b.totalLength;if(w===0)return{x:C[0][0],y:C[0][1]};for(var m=0,M=null,L=0;L<x.length;L++){var B=x[L],D=B.from,z=B.to,q=B.length/w;if(p>=m&&p<=m+q){var K=(p-m)/q;M=g.default.pointAt(D[0],D[1],z[0],z[1],K);break}m+=q}return M}S.pointAtSegments=T;function A(C,p){if(p>1||p<0||C.length<2)return 0;for(var b=I(C),x=b.segments,w=b.totalLength,m=0,M=0,L=0;L<x.length;L++){var B=x[L],D=B.from,z=B.to,q=B.length/w;if(p>=m&&p<=m+q){M=Math.atan2(z[1]-D[1],z[0]-D[0]);break}m+=q}return M}S.angleAtSegments=A;function E(C,p,b){for(var x=Infinity,w=0;w<C.length-1;w++){var m=C[w],M=C[w+1],L=g.default.pointDistance(m[0],m[1],M[0],M[1],p,b);L<x&&(x=L)}return x}S.distanceAtSegment=E},76256:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.piMod=S.getBBoxRange=S.getBBoxByArray=S.isNumberEqual=S.distance=void 0;function v(E){return Math.min.apply(null,E)}function g(E){return Math.max.apply(null,E)}function O(E,C,p,b){var x=E-p,w=C-b;return Math.sqrt(x*x+w*w)}S.distance=O;function I(E,C){return Math.abs(E-C)<.001}S.isNumberEqual=I;function P(E,C){var p=v(E),b=v(C),x=g(E),w=g(C);return{x:p,y:b,width:x-p,height:w-b}}S.getBBoxByArray=P;function T(E,C,p,b){return{minX:v([E,p]),maxX:g([E,p]),minY:v([C,b]),maxY:g([C,b])}}S.getBBoxRange=T;function A(E){return(E+Math.PI*2)%(Math.PI*2)}S.piMod=A},56463:function(mt,S,v){"use strict";var g=v(34155),O=this&&this.__spreadArrays||function(){for(var B=0,D=0,z=arguments.length;D<z;D++)B+=arguments[D].length;for(var q=Array(B),K=0,D=0;D<z;D++)for(var it=arguments[D],ct=0,st=it.length;ct<st;ct++,K++)q[K]=it[ct];return q};Object.defineProperty(S,"__esModule",{value:!0});var I=function(){function B(D,z,q){this.name=D,this.version=z,this.os=q}return B}();S.BrowserInfo=I;var P=function(){function B(D){this.version=D,this.name="node",this.os=g.platform}return B}();S.NodeInfo=P;var T=function(){function B(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return B}();S.BotInfo=T;var A=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,E=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,C=3,p=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",A]],b=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",E]];function x(B){return B?w(B):typeof navigator!="undefined"?w(navigator.userAgent):M()}S.detect=x;function w(B){var D=B!==""&&p.reduce(function(it,ct){var st=ct[0],Ot=ct[1];if(it)return it;var Dt=Ot.exec(B);return!!Dt&&[st,Dt]},!1);if(!D)return null;var z=D[0],q=D[1];if(z==="searchbot")return new T;var K=q[1]&&q[1].split(/[._]/).slice(0,3);return K?K.length<C&&(K=O(K,L(C-K.length))):K=[],new I(z,K.join("."),m(B))}S.parseUserAgent=w;function m(B){for(var D=0,z=b.length;D<z;D++){var q=b[D],K=q[0],it=q[1],ct=it.test(B);if(ct)return K}return null}S.detectOS=m;function M(){var B=typeof g!="undefined"&&g.version;return B?new P(g.version.slice(1)):null}S.getNodeVersion=M;function L(B){for(var D=[],z=0;z<B;z++)D.push("0");return D}},23231:function(mt){"use strict";mt.exports=JSON.parse('{"name":"@antv/g-svg","version":"0.4.7","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},66002:function(){},92762:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.registerAnimation=S.getAnimation=void 0;var v={};function g(I){return v[I.toLowerCase()]}S.getAnimation=g;function O(I,P){v[I.toLowerCase()]=P}S.registerAnimation=O},27978:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.doGroupAppearAnimate=S.doAnimate=S.getDefaultAnimateCfg=S.DEFAULT_ANIMATE_CFG=void 0;var g=v(60517),O=v(49242),I=v(29583),P=v(92762);S.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var T={interval:function(x){return{enter:{animation:x.isRect?x.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:x.isPolar&&x.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},A={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(x){var w;return x.isRect?w=x.isTransposed?"grow-in-x":"grow-in-y":(w="grow-in-xy",x.isPolar&&x.isTransposed&&(w="wave-in")),{animation:w}},schema:function(x){var w;return x.isRect?w=x.isTransposed?"grow-in-x":"grow-in-y":w="grow-in-xy",{animation:w}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function E(x,w){return{delay:O.isFunction(x.delay)?x.delay(w):x.delay,easing:O.isFunction(x.easing)?x.easing(w):x.easing,duration:O.isFunction(x.duration)?x.duration(w):x.duration,callback:x.callback}}function C(x,w,m){var M=T[x];return M&&(O.isFunction(M)&&(M=M(w)),M=O.deepMix({},S.DEFAULT_ANIMATE_CFG,M),m)?M[m]:M}S.getDefaultAnimateCfg=C;function p(x,w,m){var M=O.get(x.get("origin"),"data",I.FIELD_ORIGIN),L=w.animation,B=E(w,M);if(L){var D=P.getAnimation(L);D&&D(x,B,m)}else x.animate(m.toAttrs,B)}S.doAnimate=p;function b(x,w,m,M,L){if(A[m]){var B=A[m](M),D=P.getAnimation(O.get(B,"animation",""));if(D){var z=g.__assign(g.__assign(g.__assign({},S.DEFAULT_ANIMATE_CFG.appear),B),w);x.stopAnimate(),D(x,z,{coordinate:M,minYPoint:L,toAttrs:null})}}}S.doGroupAppearAnimate=b},29515:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(60517),O=g.__importDefault(v(90494)),I=function(P){g.__extends(T,P);function T(A){var E=P.call(this)||this;E.destroyed=!1;var C=A.visible,p=C===void 0?!0:C;return E.visible=p,E}return T.prototype.show=function(){var A=this.visible;A||this.changeVisible(!0)},T.prototype.hide=function(){var A=this.visible;A&&this.changeVisible(!1)},T.prototype.destroy=function(){this.off(),this.destroyed=!0},T.prototype.changeVisible=function(A){this.visible!==A&&(this.visible=A)},T}(O.default);S.default=I},17916:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Controller=void 0;var g=v(49242),O=function(){function I(P){this.visible=!0,this.components=[],this.view=P}return I.prototype.clear=function(){g.each(this.components,function(P){P.component.destroy()}),this.components=[]},I.prototype.destroy=function(){this.clear()},I.prototype.getComponents=function(){return this.components},I.prototype.changeVisible=function(P){this.visible!==P&&(this.components.forEach(function(T){P?T.component.show():T.component.hide()}),this.visible=P)},I}();S.Controller=O},45687:function(mt,S,v){"use strict";var g;g={value:!0};var O=v(60517),I=v(17916),P=250,T=function(b,x){var w=x.x-b.x,m=x.y-b.y;return Math.abs(w)>Math.abs(m)?w>0?"right":"left":m>0?"down":"up"},A=function(b,x){var w=Math.abs(x.x-b.x),m=Math.abs(x.y-b.y);return Math.sqrt(w*w+m*m)},E=function(b,x){var w=(b.x+x.x)/2,m=(b.y+x.y)/2;return{x:w,y:m}},C=function(b,x){if(!!b){for(var w=[],m=b.length,M=0;M<m;M++){var L=b[M],B=L.clientX,D=L.clientY,z=x.getPointByClient(B,D);w.push(z)}return w}},p=function(b){O.__extends(x,b);function x(w){var m=b.call(this,w)||this;return m.processEvent={},m.touchStart=function(M){var L=C(M.originalEvent.touches,m.canvas);!L||(M.points=L,m.reset(),m.startTime=Date.now(),m.startPoints=L,L.length>1?(m.startDistance=A(L[0],L[1]),m.center=E(L[0],L[1])):m.pressTimeout=setTimeout(function(){var B="press";M.direction="none",m.emitStart(B,M),m.emitEvent(B,M),m.eventType=B},P))},m.touchMove=function(M){var L=C(M.originalEvent.touches,m.canvas);if(!!L){m.clearPressTimeout(),M.points=L;var B=m.startPoints;if(!!B)if(L.length>1){var D=m.startDistance,z=A(L[0],L[1]);M.zoom=z/D,M.center=m.center,m.emitStart("pinch",M),m.emitEvent("pinch",M)}else{var q=L[0].x-B[0].x,K=L[0].y-B[0].y,it=m.direction||T(B[0],L[0]);m.direction=it;var ct=m.getEventType(L);M.direction=it,M.deltaX=q,M.deltaY=K,m.emitStart(ct,M),m.emitEvent(ct,M);var st=m.lastMoveTime,Ot=Date.now();Ot-st>0&&(m.prevMoveTime=st,m.prevMovePoints=m.lastMovePoints,m.lastMoveTime=Ot,m.lastMovePoints=L)}}},m.touchEnd=function(M){m.emitEnd(M);var L=m.lastMoveTime,B=Date.now();if(B-L<100){var D=m.prevMoveTime||m.startTime,z=L-D;if(z>0){var q=m.prevMovePoints||m.startPoints,K=m.lastMovePoints,it=A(q[0],K[0])/z;it>.3&&(M.velocity=it,M.direction=T(q[0],K[0]),m.emitEvent("swipe",M))}}m.reset();var ct=M.touches;ct&&ct.length>0&&m.touchStart(M)},m.canvas=w.getCanvas(),m.delegateEvent(),m.processEvent={},m}return Object.defineProperty(x.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),x.prototype.init=function(){},x.prototype.render=function(){},x.prototype.layout=function(){},x.prototype.update=function(){},x.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},x.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},x.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},x.prototype.emitEvent=function(w,m){var M=this.view;M.emit(w,m)},x.prototype.emitStart=function(w,m){this.isProcess(w)||(this.enable(w),this.emitEvent(w+"start",m))},x.prototype.emitEnd=function(w){var m=this,M=this.processEvent;Object.keys(M).forEach(function(L){m.emitEvent(L+"end",w),delete M[L]})},x.prototype.enable=function(w){this.processEvent[w]=!0},x.prototype.isProcess=function(w){return this.processEvent[w]},x.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},x.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},x.prototype.getEventType=function(w){var m=this,M=m.eventType,L=m.view,B=m.startTime,D=m.startPoints;if(M)return M;var z,q=L.getEvents().pan;if(!q||!q.length)z="press";else{var K=Date.now();K-B>P&&A(D[0],w[0])<10?z="press":z="pan"}return this.eventType=z,z},x}(I.Controller);S.Z=p},64815:function(mt,S,v){"use strict";var g;g={value:!0};var O=v(60517),I=v(49242),P=v(57029),T=v(22514),A=v(42770),E=v(99677),C=v(17916);function p(x){for(var w=[],m=function(L){var B=x[L],D=I.find(w,function(z){return z.color===B.color&&z.name===B.name&&z.value===B.value&&z.title===B.title});D||w.push(B)},M=0;M<x.length;M++)m(M);return w}var b=function(x){O.__extends(w,x);function w(){var m=x!==null&&x.apply(this,arguments)||this;return m.isLocked=!1,m}return Object.defineProperty(w.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),w.prototype.init=function(){},w.prototype.isVisible=function(){var m=this.view.getOptions().tooltip;return m!==!1},w.prototype.render=function(){},w.prototype.showTooltip=function(m){if(this.point=m,!!this.isVisible()){var M=this.view,L=this.getTooltipItems(m);if(!L.length){this.hideTooltip();return}var B=this.getTitle(L),D={x:L[0].x,y:L[0].y};M.emit("tooltip:show",O.__assign({items:L,title:B},m));var z=this.getTooltipCfg(),q=z.follow,K=z.showMarkers,it=z.showCrosshairs,ct=z.showContent,st=z.marker,Ot=this.items,Dt=this.title;if(!I.isEqual(Dt,B)||!I.isEqual(Ot,L)?(M.emit("tooltip:change",O.__assign({items:L,title:B},m)),ct&&(this.tooltip||this.renderTooltip(),this.tooltip.update(I.mix({},z,{items:L,title:B},q?m:{})),this.tooltip.show()),K&&this.renderTooltipMarkers(L,st)):(this.tooltip&&q&&(this.tooltip.update(m),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=L,this.title=B,it){var Ht=I.get(z,["crosshairs","follow"],!1);this.renderCrosshairs(Ht?m:D,z)}}},w.prototype.hideTooltip=function(){var m=this.getTooltipCfg().follow;if(!m){this.point=null;return}var M=this.tooltipMarkersGroup;M&&M.hide();var L=this.xCrosshair,B=this.yCrosshair;L&&L.hide(),B&&B.hide();var D=this.tooltip;D&&D.hide(),this.view.emit("tooltip:hide",{}),this.point=null},w.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},w.prototype.unlockTooltip=function(){this.isLocked=!1;var m=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(m.capture)},w.prototype.isTooltipLocked=function(){return this.isLocked},w.prototype.clear=function(){var m=this,M=m.tooltip,L=m.xCrosshair,B=m.yCrosshair,D=m.tooltipMarkersGroup;M&&(M.hide(),M.clear()),L&&L.clear(),B&&B.clear(),D&&D.clear()},w.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},w.prototype.changeVisible=function(m){if(this.visible!==m){var M=this,L=M.tooltip,B=M.tooltipMarkersGroup,D=M.xCrosshair,z=M.yCrosshair;m?(L&&L.show(),B&&B.show(),D&&D.show(),z&&z.show()):(L&&L.hide(),B&&B.hide(),D&&D.hide(),z&&z.hide()),this.visible=m}},w.prototype.getTooltipItems=function(m){var M=this.findItemsFromView(this.view,m);if(M.length){M=I.flatten(M);for(var L=0,B=M;L<B.length;L++)for(var D=B[L],z=0,q=D;z<q.length;z++){var K=q[z],it=K.mappingData,ct=it.x,st=it.y;K.x=I.isArray(ct)?ct[ct.length-1]:ct,K.y=I.isArray(st)?st[st.length-1]:st}var Ot=this.getTooltipCfg().shared;if(Ot===!1&&M.length>1){for(var Dt=M[0],Ht=Math.abs(m.y-Dt[0].y),N=0,W=M;N<W.length;N++){var X=W[N],V=Math.abs(m.y-X[0].y);V<=Ht&&(Dt=X,Ht=V)}M=[Dt]}return p(I.flatten(M))}return[]},w.prototype.layout=function(){},w.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var m=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:m.get("width"),y:m.get("height")}})}},w.prototype.getTooltipCfg=function(){var m=this.view,M=m.getOptions().tooltip,L=m.getTheme(),B=I.get(L,["components","tooltip"],{}),D=I.isUndefined(I.get(M,"enterable"))?B.enterable:I.get(M,"enterable");return I.deepMix({},B,M,{capture:!!(D||this.isLocked)})},w.prototype.getTitle=function(m){var M=m[0].title||m[0].name;return this.title=M,M},w.prototype.renderTooltip=function(){var m=this.view.getCanvas(),M={start:{x:0,y:0},end:{x:m.get("width"),y:m.get("height")}},L=this.getTooltipCfg(),B=new P.HtmlTooltip(O.__assign(O.__assign({parent:m.get("el").parentNode,region:M},L),{visible:!1,crosshairs:null}));B.init(),this.tooltip=B},w.prototype.renderTooltipMarkers=function(m,M){for(var L=this.getTooltipMarkersGroup(),B=0,D=m;B<D.length;B++){var z=D[B],q=z.x,K=z.y,it=O.__assign(O.__assign({fill:z.color,symbol:"circle",shadowColor:z.color},M),{x:q,y:K});L.addShape("marker",{attrs:it})}},w.prototype.renderCrosshairs=function(m,M){var L=I.get(M,["crosshairs","type"],"x");L==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(m,M)):L==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(m,M)):L==="xy"&&(this.renderXCrosshairs(m,M),this.renderYCrosshairs(m,M))},w.prototype.renderXCrosshairs=function(m,M){var L=this.getViewWithGeometry(this.view).getCoordinate();if(!!T.isPointInCoordinate(L,m)){var B,D;if(L.isRect)L.isTransposed?(B={x:L.start.x,y:m.y},D={x:L.end.x,y:m.y}):(B={x:m.x,y:L.end.y},D={x:m.x,y:L.start.y});else{var z=T.getAngleByPoint(L,m),q=L.getCenter(),K=L.getRadius();D=A.polarToCartesian(q.x,q.y,K,z),B=q}var it=I.deepMix({start:B,end:D,container:this.getTooltipCrosshairsGroup()},I.get(M,"crosshairs",{}),this.getCrosshairsText("x",m,M));delete it.type;var ct=this.xCrosshair;ct?ct.update(it):(ct=new P.Crosshair.Line(it),ct.init()),ct.render(),ct.show(),this.xCrosshair=ct}},w.prototype.renderYCrosshairs=function(m,M){var L=this.getViewWithGeometry(this.view).getCoordinate();if(!!T.isPointInCoordinate(L,m)){var B,D;if(L.isRect){var z=void 0,q=void 0;L.isTransposed?(z={x:m.x,y:L.end.y},q={x:m.x,y:L.start.y}):(z={x:L.start.x,y:m.y},q={x:L.end.x,y:m.y}),B={start:z,end:q},D="Line"}else B={center:L.getCenter(),radius:T.getDistanceToCenter(L,m),startAngle:L.startAngle,endAngle:L.endAngle},D="Circle";B=I.deepMix({container:this.getTooltipCrosshairsGroup()},B,I.get(M,"crosshairs",{}),this.getCrosshairsText("y",m,M)),delete B.type;var K=this.yCrosshair;K?L.isRect&&K.get("type")==="circle"||!L.isRect&&K.get("type")==="line"?(K=new P.Crosshair[D](B),K.init()):K.update(B):(K=new P.Crosshair[D](B),K.init()),K.render(),K.show(),this.yCrosshair=K}},w.prototype.getCrosshairsText=function(m,M,L){var B=I.get(L,["crosshairs","text"]),D=I.get(L,["crosshairs","follow"]),z=this.items;if(B){var q=this.getViewWithGeometry(this.view),K=z[0],it=q.getXScale(),ct=q.getYScales()[0],st=void 0,Ot=void 0;if(D){var Dt=this.view.getCoordinate().invert(M);st=it.invert(Dt.x),Ot=ct.invert(Dt.y)}else st=K.data[it.field],Ot=K.data[ct.field];var Ht=m==="x"?st:Ot;return I.isFunction(B)?B=B(m,Ht,z,M):B.content=Ht,{text:B}}},w.prototype.getGuideGroup=function(){if(!this.guideGroup){var m=this.view.foregroundGroup;this.guideGroup=m.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},w.prototype.getTooltipMarkersGroup=function(){var m=this.tooltipMarkersGroup;return m&&!m.destroyed?(m.clear(),m.show()):(m=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),m.toFront(),this.tooltipMarkersGroup=m),m},w.prototype.getTooltipCrosshairsGroup=function(){var m=this.tooltipCrosshairsGroup;return m||(m=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),m.toBack(),this.tooltipCrosshairsGroup=m),m},w.prototype.getTooltipItemsByHitShape=function(m,M,L){var B=[],D=m.container,z=D.getShape(M.x,M.y);if(z&&z.get("visible")&&z.get("origin")){var q=z.get("origin").mappingData,K=E.getTooltipItems(q,m,L);K.length&&B.push(K)}return B},w.prototype.getTooltipItemsByFindData=function(m,M,L){var B=[],D=m.dataArray;m.sort(D);for(var z=0,q=D;z<q.length;z++){var K=q[z],it=E.findDataByPoint(M,K,m);if(it){var ct=m.getElementId(it),st=m.elementsMap[ct];if(m.type==="heatmap"||st.visible){var Ot=E.getTooltipItems(it,m,L);Ot.length&&B.push(Ot)}}}return B},w.prototype.findItemsFromView=function(m,M){if(m.getOptions().tooltip===!1)return[];for(var L=[],B=m.geometries,D=this.getTooltipCfg(),z=D.shared,q=D.title,K=0,it=B;K<it.length;K++){var ct=it[K];if(ct.visible&&ct.tooltipOption!==!1){var st=ct.type,Ot=void 0;["point","edge","polygon"].includes(st)?Ot=this.getTooltipItemsByHitShape(ct,M,q):["area","line","path","heatmap"].includes(st)?Ot=this.getTooltipItemsByFindData(ct,M,q):z!==!1?Ot=this.getTooltipItemsByFindData(ct,M,q):Ot=this.getTooltipItemsByHitShape(ct,M,q),Ot.length&&L.push(Ot)}}for(var Dt=0,Ht=m.views;Dt<Ht.length;Dt++){var N=Ht[Dt];L=L.concat(this.findItemsFromView(N,M))}return L},w.prototype.getViewWithGeometry=function(m){var M=this;return m.geometries.length?m:I.find(m.views,function(L){return M.getViewWithGeometry(L)})},w}(C.Controller);S.Z=b},29583:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.COMPONENT_MAX_VIEW_PERCENTAGE=S.MIN_CHART_HEIGHT=S.MIN_CHART_WIDTH=S.FIELD_ORIGIN=S.GROUP_ATTRS=S.ELEMENT_STATE=S.PLOT_EVENTS=S.VIEW_LIFE_CIRCLE=S.GROUP_Z_INDEX=S.COMPONENT_TYPE=S.DIRECTION=S.LAYER=void 0;var v;(function(A){A.FORE="fore",A.MID="mid",A.BG="bg"})(v=S.LAYER||(S.LAYER={}));var g;(function(A){A.TOP="top",A.TOP_LEFT="top-left",A.TOP_RIGHT="top-right",A.RIGHT="right",A.RIGHT_TOP="right-top",A.RIGHT_BOTTOM="right-bottom",A.LEFT="left",A.LEFT_TOP="left-top",A.LEFT_BOTTOM="left-bottom",A.BOTTOM="bottom",A.BOTTOM_LEFT="bottom-left",A.BOTTOM_RIGHT="bottom-right",A.RADIUS="radius",A.CIRCLE="circle",A.NONE="none"})(g=S.DIRECTION||(S.DIRECTION={}));var O;(function(A){A.AXIS="axis",A.GRID="grid",A.LEGEND="legend",A.TOOLTIP="tooltip",A.ANNOTATION="annotation",A.OTHER="other"})(O=S.COMPONENT_TYPE||(S.COMPONENT_TYPE={})),S.GROUP_Z_INDEX={FORE:3,MID:2,BG:1};var I;(function(A){A.BEFORE_RENDER="beforerender",A.AFTER_RENDER="afterrender",A.BEFORE_PAINT="beforepaint",A.AFTER_PAINT="afterpaint",A.BEFORE_CHANGE_DATA="beforechangedata",A.AFTER_CHANGE_DATA="afterchangedata",A.BEFORE_CLEAR="beforeclear",A.AFTER_CLEAR="afterclear",A.BEFORE_DESTROY="beforedestroy"})(I=S.VIEW_LIFE_CIRCLE||(S.VIEW_LIFE_CIRCLE={}));var P;(function(A){A.MOUSE_ENTER="plot:mouseenter",A.MOUSE_DOWN="plot:mousedown",A.MOUSE_MOVE="plot:mousemove",A.MOUSE_UP="plot:mouseup",A.MOUSE_LEAVE="plot:mouseleave",A.TOUCH_START="plot:touchstart",A.TOUCH_MOVE="plot:touchmove",A.TOUCH_END="plot:touchend",A.TOUCH_CANCEL="plot:touchcancel",A.CLICK="plot:click",A.DBLCLICK="plot:dblclick",A.CONTEXTMENU="plot:contextmenu",A.LEAVE="plot:leave",A.ENTER="plot:enter"})(P=S.PLOT_EVENTS||(S.PLOT_EVENTS={}));var T;(function(A){A.ACTIVE="active",A.INACTIVE="inactive",A.SELECTED="selected",A.DEFAULT="default"})(T=S.ELEMENT_STATE||(S.ELEMENT_STATE={})),S.GROUP_ATTRS=["color","shape","size"],S.FIELD_ORIGIN="_origin",S.MIN_CHART_WIDTH=1,S.MIN_CHART_HEIGHT=1,S.COMPONENT_MAX_VIEW_PERCENTAGE=.25},57029:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Slider=S.HtmlTooltip=S.ContinuousLegend=S.CategoryLegend=S.CircleGrid=S.LineGrid=S.CircleAxis=S.LineAxis=S.Annotation=S.Crosshair=S.Component=S.GroupComponent=S.HtmlComponent=void 0;var g=v(39014);Object.defineProperty(S,"Event",{enumerable:!0,get:function(){return g.Event}}),Object.defineProperty(S,"AbstractGroup",{enumerable:!0,get:function(){return g.AbstractGroup}}),Object.defineProperty(S,"AbstractShape",{enumerable:!0,get:function(){return g.AbstractShape}});var O=v(28014);Object.defineProperty(S,"registerAdjust",{enumerable:!0,get:function(){return O.registerAdjust}}),Object.defineProperty(S,"getAdjust",{enumerable:!0,get:function(){return O.getAdjust}}),Object.defineProperty(S,"Adjust",{enumerable:!0,get:function(){return O.Adjust}});var I=v(24796);Object.defineProperty(S,"getAttribute",{enumerable:!0,get:function(){return I.getAttribute}}),Object.defineProperty(S,"Attribute",{enumerable:!0,get:function(){return I.Attribute}});var P=v(21392);Object.defineProperty(S,"Color",{enumerable:!0,get:function(){return P.Color}});var T=v(50782);Object.defineProperty(S,"getCoordinate",{enumerable:!0,get:function(){return T.getCoordinate}}),Object.defineProperty(S,"registerCoordinate",{enumerable:!0,get:function(){return T.registerCoordinate}}),Object.defineProperty(S,"Coordinate",{enumerable:!0,get:function(){return T.Coordinate}});var A=v(64561);Object.defineProperty(S,"getScale",{enumerable:!0,get:function(){return A.getScale}}),Object.defineProperty(S,"registerScale",{enumerable:!0,get:function(){return A.registerScale}}),Object.defineProperty(S,"Scale",{enumerable:!0,get:function(){return A.Scale}});var E=v(51441);Object.defineProperty(S,"Annotation",{enumerable:!0,get:function(){return E.Annotation}}),Object.defineProperty(S,"Component",{enumerable:!0,get:function(){return E.Component}}),Object.defineProperty(S,"Crosshair",{enumerable:!0,get:function(){return E.Crosshair}}),Object.defineProperty(S,"GroupComponent",{enumerable:!0,get:function(){return E.GroupComponent}}),Object.defineProperty(S,"HtmlComponent",{enumerable:!0,get:function(){return E.HtmlComponent}}),Object.defineProperty(S,"Slider",{enumerable:!0,get:function(){return E.Slider}});var C=E.Axis.Line,p=E.Axis.Circle;S.LineAxis=C,S.CircleAxis=p;var b=E.Grid.Line,x=E.Grid.Circle;S.LineGrid=b,S.CircleGrid=x;var w=E.Legend.Category,m=E.Legend.Continuous;S.CategoryLegend=w,S.ContinuousLegend=m;var M=E.Tooltip.Html;S.HtmlTooltip=M},38700:function(mt,S,v){"use strict";var g;g={value:!0};var O=v(60517),I=v(49242),P=v(27978),T=O.__importDefault(v(29515)),A=v(42770),E=v(31207),C=function(p){O.__extends(b,p);function b(x){var w=p.call(this,x)||this;w.states=[];var m=x.shapeFactory,M=x.container,L=x.offscreenGroup,B=x.visible,D=B===void 0?!0:B;return w.shapeFactory=m,w.container=M,w.offscreenGroup=L,w.visible=D,w}return b.prototype.draw=function(x,w){w===void 0&&(w=!1),this.model=x,this.data=x.data,this.shapeType=this.getShapeType(x),this.drawShape(x,w),this.visible===!1&&this.changeVisible(!1)},b.prototype.update=function(x){var w=this,m=w.shapeFactory,M=w.shape;if(!!M){this.model=x,this.data=x.data,this.shapeType=this.getShapeType(x),this.setShapeInfo(M,x);var L=this.getOffscreenGroup(),B=m.drawShape(this.shapeType,x,L);B.cfg.data=this.data,B.cfg.origin=x,this.syncShapeStyle(M,B,"",this.getAnimateCfg("update"))}},b.prototype.destroy=function(){var x=this,w=x.shapeFactory,m=x.shape;if(m){var M=this.getAnimateCfg("leave");M?P.doAnimate(m,M,{coordinate:w.coordinate,toAttrs:O.__assign({},m.attr())}):m.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,p.prototype.destroy.call(this)},b.prototype.changeVisible=function(x){p.prototype.changeVisible.call(this,x),x?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(w){w.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(w){w.hide()}))},b.prototype.setState=function(x,w){var m=this,M=this,L=M.states,B=M.shapeFactory,D=M.model,z=M.shape,q=M.shapeType,K=L.indexOf(x);if(w){if(K>-1)return;L.push(x),(x==="active"||x==="selected")&&z.toFront()}else{if(K===-1)return;L.splice(K,1),(x==="active"||x==="selected")&&z.toBack()}var it=B.drawShape(q,D,this.getOffscreenGroup());L.length?L.forEach(function(st){m.syncShapeStyle(z,it,st,null)}):this.syncShapeStyle(z,it,"reset",null),it.remove(!0);var ct={state:x,stateStatus:w,element:this,target:this.container};this.container.emit("statechange",ct),E.propagationDelegate(this.shape,"statechange",ct)},b.prototype.clearStates=function(){var x=this,w=this.states;I.each(w,function(m){x.setState(m,!1)}),this.states=[]},b.prototype.hasState=function(x){return this.states.includes(x)},b.prototype.getStates=function(){return this.states},b.prototype.getData=function(){return this.data},b.prototype.getModel=function(){return this.model},b.prototype.getBBox=function(){var x=this,w=x.shape,m=x.labelShape,M={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return w&&(M=w.getCanvasBBox()),m&&m.forEach(function(L){var B=L.getCanvasBBox();M.x=Math.min(B.x,M.x),M.y=Math.min(B.y,M.y),M.minX=Math.min(B.minX,M.minX),M.minY=Math.min(B.minY,M.minY),M.maxX=Math.max(B.maxX,M.maxX),M.maxY=Math.max(B.maxY,M.maxY)}),M.width=M.maxX-M.minX,M.height=M.maxY-M.minY,M},b.prototype.getStatesStyle=function(){if(!this.statesStyle){var x=this,w=x.shapeType,m=x.geometry,M=x.shapeFactory,L=m.stateOption,B=M.defaultShapeType,D=M.theme[w]||M.theme[B];this.statesStyle=I.deepMix({},D,L)}return this.statesStyle},b.prototype.getStateStyle=function(x,w){var m=this.getStatesStyle(),M=I.get(m,[x,"style"],{}),L=M[w]||M;return I.isFunction(L)?L(this):L},b.prototype.getAnimateCfg=function(x){var w=this.animate;return w?w[x]:null},b.prototype.drawShape=function(x,w){w===void 0&&(w=!1);var m=this,M=m.shapeFactory,L=m.container,B=m.shapeType;if(this.shape=M.drawShape(B,x,L),this.shape){this.setShapeInfo(this.shape,x);var D=this.shape.cfg.name;D?I.isString(D)&&(this.shape.cfg.name=["element",D]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var z=w?"enter":"appear",q=this.getAnimateCfg(z);q&&P.doAnimate(this.shape,q,{coordinate:M.coordinate,toAttrs:O.__assign({},this.shape.attr())})}},b.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var x=this.container.getGroupBase();this.offscreenGroup=new x({})}return this.offscreenGroup},b.prototype.setShapeInfo=function(x,w){var m=this;if(x.cfg.origin=w,x.cfg.element=this,x.isGroup()){var M=x.get("children");M.forEach(function(L){m.setShapeInfo(L,w)})}},b.prototype.syncShapeStyle=function(x,w,m,M,L){if(m===void 0&&(m=""),L===void 0&&(L=0),x.isGroup())for(var B=x.get("children"),D=w.get("children"),z=0;z<B.length;z++)this.syncShapeStyle(B[z],D[z],m,M,L+z);else{if(m&&m!=="reset"){var q=x.get("name");I.isArray(q)&&(q=q[1]);var K=this.getStateStyle(m,q||L);w.attr(K)}var it=A.getReplaceAttrs(x,w);this.animate?M?P.doAnimate(x,M,{coordinate:this.shapeFactory.coordinate,toAttrs:it,shapeModel:this.model}):m?(x.stopAnimate(),x.animate(it,{duration:300})):x.attr(it):x.attr(it)}},b.prototype.getShapeType=function(x){var w=I.get(x,"shape");return I.isArray(w)?w[0]:w},b}(T.default);g=C},75564:function(mt,S,v){"use strict";var g;g={value:!0},S.iV=g=g=void 0;var O=v(60517),I=v(6750),P=v(26485);g=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],g=["cross","tick","plus","hyphen","line"];function T(A,E,C,p,b){var x=P.getStyle(E,b,!b,"r"),w=A.parsePoints(E.points),m=w[0];if(E.isStack)m=w[1];else if(w.length>1){for(var M=C.addGroup(),L=0,B=w;L<B.length;L++){var D=B[L];M.addShape({type:"marker",attrs:O.__assign(O.__assign(O.__assign({},x),{symbol:I.MarkerSymbols[p]||p}),D)})}return M}return C.addShape({type:"marker",attrs:O.__assign(O.__assign(O.__assign({},x),{symbol:I.MarkerSymbols[p]||p}),m)})}S.iV=T},26485:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getStyle=void 0;var g=v(60517),O=v(49242);function I(P,T,A,E){E===void 0&&(E="");var C=P.style,p=C===void 0?{}:C,b=P.defaultStyle,x=P.color,w=P.size,m=g.__assign(g.__assign({},b),p);return x&&(T&&(p.stroke||(m.stroke=x)),A&&(p.fill||(m.fill=x))),E&&O.isNil(p[E])&&!O.isNil(w)&&(m[E]=w),m}S.getStyle=I},36758:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.convertPolarPath=S.convertNormalPath=S.getSplinePath=S.getLinePath=S.catmullRom2bezier=S.smoothBezier=void 0;var g=v(43567),O=v(49242),I=v(22514);function P(m,M){var L=[];if(m.length){L.push(["M",m[0].x,m[0].y]);for(var B=1,D=m.length;B<D;B+=1){var z=m[B];L.push(["L",z.x,z.y])}M&&L.push(["Z"])}return L}function T(m,M){for(var L=[m[0]],B=1,D=m.length;B<D;B=B+2){var z=M.convert({x:m[B],y:m[B+1]});L.push(z.x,z.y)}return L}function A(m,M,L){var B=L.isTransposed,D=L.startAngle,z=L.endAngle,q={x:m[1],y:m[2]},K={x:M[1],y:M[2]},it=[],ct=B?"y":"x",st=Math.abs(K[ct]-q[ct])*(z-D),Ot=K[ct]>=q[ct]?1:0,Dt=st>Math.PI?1:0,Ht=L.convert(K),N=I.getDistanceToCenter(L,Ht);if(N>=.5)if(st===Math.PI*2){var W={x:(K.x+q.x)/2,y:(K.y+q.y)/2},X=L.convert(W);it.push(["A",N,N,0,Dt,Ot,X.x,X.y]),it.push(["A",N,N,0,Dt,Ot,Ht.x,Ht.y])}else it.push(["A",N,N,0,Dt,Ot,Ht.x,Ht.y]);return it}function E(m){O.each(m,function(M,L){var B=M;if(B[0].toLowerCase()==="a"){var D=m[L-1],z=m[L+1];z&&z[0].toLowerCase()==="a"?D&&D[0].toLowerCase()==="l"&&(D[0]="M"):D&&D[0].toLowerCase()==="a"&&z&&z[0].toLowerCase()==="l"&&(z[0]="M")}})}S.smoothBezier=function(m,M,L,B){var D=[],z,q,K=!!B,it,ct;if(K){it=[Infinity,Infinity],ct=[-Infinity,-Infinity];for(var st=0,Ot=m.length;st<Ot;st++){var Dt=m[st];it=g.vec2.min([0,0],it,Dt),ct=g.vec2.max([0,0],ct,Dt)}it=g.vec2.min([0,0],it,B[0]),ct=g.vec2.max([0,0],ct,B[1])}for(var st=0,Ht=m.length;st<Ht;st++){var Dt=m[st];if(L)z=m[st?st-1:Ht-1],q=m[(st+1)%Ht];else if(st===0||st===Ht-1){D.push(Dt);continue}else z=m[st-1],q=m[st+1];var N=[0,0];N=g.vec2.sub(N,q,z),N=g.vec2.scale(N,N,M);var W=g.vec2.distance(Dt,z),X=g.vec2.distance(Dt,q),V=W+X;V!==0&&(W/=V,X/=V);var lt=g.vec2.scale([0,0],N,-W),Z=g.vec2.scale([0,0],N,X),U=g.vec2.add([0,0],Dt,lt),j=g.vec2.add([0,0],Dt,Z);K&&(U=g.vec2.max([0,0],U,it),U=g.vec2.min([0,0],U,ct),j=g.vec2.max([0,0],j,it),j=g.vec2.min([0,0],j,ct)),D.push(U),D.push(j)}return L&&D.push(D.shift()),D};function C(m,M,L){for(var B=!!M,D=[],z=0,q=m.length;z<q;z+=2)D.push([m[z],m[z+1]]);for(var K=S.smoothBezier(D,.4,B,L),it=D.length,ct=[],st,Ot,Dt,z=0;z<it-1;z++)st=K[z*2],Ot=K[z*2+1],Dt=D[z+1],ct.push(["C",st[0],st[1],Ot[0],Ot[1],Dt[0],Dt[1]]);return B&&(st=K[it],Ot=K[it+1],Dt=D[0],ct.push(["C",st[0],st[1],Ot[0],Ot[1],Dt[0],Dt[1]])),ct}S.catmullRom2bezier=C;function p(m,M){return P(m,M)}S.getLinePath=p;function b(m,M,L){var B=[],D=m[0],z=null;if(m.length<=2)return p(m,M);for(var q=0,K=m.length;q<K;q++){var it=m[q];(!z||!(z.x===it.x&&z.y===it.y))&&(B.push(it.x),B.push(it.y),z=it)}var ct=L||[[0,0],[1,1]],st=C(B,M,ct);return st.unshift(["M",D.x,D.y]),st}S.getSplinePath=b;function x(m,M){var L=[];return O.each(M,function(B){var D=B[0];switch(D.toLowerCase()){case"m":case"l":case"c":L.push(T(B,m));break;case"z":default:L.push(B);break}}),L}S.convertNormalPath=x;function w(m,M){var L=[],B,D,z,q;return O.each(M,function(K,it){var ct=K[0];switch(ct.toLowerCase()){case"m":case"c":case"q":L.push(T(K,m));break;case"l":B=M[it-1],D=K,z=m.isTransposed,q=z?B[B.length-2]===D[1]:B[B.length-1]===D[2],q?L=L.concat(A(B,D,m)):L.push(T(K,m));break;case"z":default:L.push(K);break}}),E(L),L}S.convertPolarPath=w},33242:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(49242),O=function(){function I(P,T){this.context=P,this.cfg=T,P.addAction(this)}return I.prototype.applyCfg=function(P){g.assign(this,P)},I.prototype.init=function(){this.applyCfg(this.cfg)},I.prototype.destroy=function(){this.context.removeAction(this),this.context=null},I}();S.default=O},68842:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(60517),O=g.__importDefault(v(33242)),I=function(P){g.__extends(T,P);function T(){return P!==null&&P.apply(this,arguments)||this}return T.prototype.execute=function(){this.callback&&this.callback(this.context)},T.prototype.destroy=function(){P.prototype.destroy.call(this),this.callback=null},T}(O.default);S.default=I},93359:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.createCallbackAction=S.unregisterAction=S.registerAction=S.getActionClass=S.createAction=void 0;var g=v(60517),O=g.__importDefault(v(68842)),I=v(49242),P={};function T(b,x){var w=P[b],m=null;if(w){var M=w.ActionClass,L=w.cfg;m=new M(x,L),m.name=b,m.init()}return m}S.createAction=T;function A(b){var x=P[b];return I.get(x,"ActionClass")}S.getActionClass=A;function E(b,x,w){P[b]={ActionClass:x,cfg:w}}S.registerAction=E;function C(b){delete P[b]}S.unregisterAction=C;function p(b,x){var w=new O.default(x);return w.callback=b,w.name="callback",w}S.createCallbackAction=p},31882:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getScaleByField=S.isInRecords=S.getSiblingPoint=S.getSilbings=S.isInBox=S.getSpline=S.distance=S.getComponents=S.getElementsByPath=S.getIntersectElements=S.intersectRect=S.getElementValue=S.getElementsByState=S.getElementsByField=S.getElements=S.getSiblingMaskElements=S.getMaskedElements=S.isMask=S.isSlider=S.isList=S.isElementChange=S.getDelegationObject=S.getCurrentElement=void 0;var g=v(60517),O=v(49242),I=v(36758),P=v(85800),T=g.__importDefault(v(70146));function A(U,j){var H=U.event,f=H.target,yt=f.getCanvasBBox();return yt.width>=j||yt.height>=j?yt:null}function E(U,j){var H=U.event,f=H.target,yt=f.getCanvasBBox();return yt.width>=j||yt.height>=j?f.attr("path"):null}function C(U){var j=U.event,H,f=j.target;return f&&(H=f.get("element")),H}S.getCurrentElement=C;function p(U){var j=U.event,H=j.target,f;return H&&(f=H.get("delegateObject")),f}S.getDelegationObject=p;function b(U){var j=U.event.gEvent;return!(j&&j.fromShape&&j.toShape&&j.fromShape.get("element")===j.toShape.get("element"))}S.isElementChange=b;function x(U){return U&&U.component&&U.component.isList()}S.isList=x;function w(U){return U&&U.component&&U.component.isSlider()}S.isSlider=w;function m(U){var j=U.event,H=j.target;return H&&H.get("name")==="mask"}S.isMask=m;function M(U,j){var H=U.event.target;if(H.get("type")==="path"){var f=E(U,j);return f?st(U.view,f):void 0}var yt=A(U,j);return yt?it(U.view,yt):null}S.getMaskedElements=M;function L(U,j,H){var f=A(U,H);if(!f)return null;var yt=U.view,St=V(yt,j,{x:f.x,y:f.y}),at=V(yt,j,{x:f.maxX,y:f.maxY}),Ct={minX:St.x,minY:St.y,maxX:at.x,maxY:at.y};return it(j,Ct)}S.getSiblingMaskElements=L;function B(U){var j=U.geometries,H=[];return O.each(j,function(f){var yt=f.elements;H=H.concat(yt)}),U.views&&U.views.length&&O.each(U.views,function(f){H=H.concat(B(f))}),H}S.getElements=B;function D(U,j,H){var f=B(U);return f.filter(function(yt){return q(yt,j)===H})}S.getElementsByField=D;function z(U,j){var H=U.geometries,f=[];return O.each(H,function(yt){var St=yt.getElementsBy(function(at){return at.hasState(j)});f=f.concat(St)}),f}S.getElementsByState=z;function q(U,j){var H=U.getModel(),f=H.data,yt;return O.isArray(f)?yt=f[0][j]:yt=f[j],yt}S.getElementValue=q;function K(U,j){return!(j.minX>U.maxX||j.maxX<U.minX||j.minY>U.maxY||j.maxY<U.minY)}S.intersectRect=K;function it(U,j){var H=B(U),f=[];return O.each(H,function(yt){var St=yt.shape,at=St.getCanvasBBox();K(j,at)&&f.push(yt)}),f}S.getIntersectElements=it;function ct(U){var j=[];return O.each(U,function(H){var f=H[0];if(f!=="A")for(var yt=1;yt<H.length;yt=yt+2)j.push([H[yt],H[yt+1]]);else{var St=H.length;j.push([H[St-2],H[St-1]])}}),j}function st(U,j){var H=B(U),f=ct(j),yt=H.filter(function(St){var at=St.shape,Ct;if(at.get("type")==="path")Ct=ct(at.attr("path"));else{var wt=at.getCanvasBBox();Ct=P.toPoints(wt)}return T.default(f,Ct)});return yt}S.getElementsByPath=st;function Ot(U){return U.getComponents().map(function(j){return j.component})}S.getComponents=Ot;function Dt(U,j){var H=j.x-U.x,f=j.y-U.y;return Math.sqrt(H*H+f*f)}S.distance=Dt;function Ht(U,j){if(U.length<=2)return I.getLinePath(U,!1);var H=U[0],f=[];O.each(U,function(St){f.push(St.x),f.push(St.y)});var yt=I.catmullRom2bezier(f,j,null);return yt.unshift(["M",H.x,H.y]),yt}S.getSpline=Ht;function N(U,j){return U.x<=j.x&&U.maxX>=j.x&&U.y<=j.y&&U.maxY>j.y}S.isInBox=N;function W(U){var j=U.parent,H=null;return j&&(H=j.views.filter(function(f){return f!==U})),H}S.getSilbings=W;function X(U,j){var H=U.getCoordinate();return H.invert(j)}function V(U,j,H){var f=X(U,H);return j.getCoordinate().convert(f)}S.getSiblingPoint=V;function lt(U,j,H,f){var yt=!1;return O.each(U,function(St){if(St[H]===j[H]&&St[f]===j[f])return yt=!0,!1}),yt}S.isInRecords=lt;function Z(U,j){var H=U.getScaleByField(j);return!H&&U.views&&O.each(U.views,function(f){if(H=Z(f,j),H)return!1}),H}S.getScaleByField=Z},43273:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(49242),O=v(31882),I=function(){function P(T){this.actions=[],this.event=null,this.cacheMap={},this.view=T}return P.prototype.cache=function(){for(var T=[],A=0;A<arguments.length;A++)T[A]=arguments[A];if(T.length===1)return this.cacheMap[T[0]];T.length===2&&(this.cacheMap[T[0]]=T[1])},P.prototype.getAction=function(T){return this.actions.find(function(A){return A.name===T})},P.prototype.addAction=function(T){this.actions.push(T)},P.prototype.removeAction=function(T){var A=this.actions,E=this.actions.indexOf(T);E>=0&&A.splice(E,1)},P.prototype.getCurrentPoint=function(){var T=this.event;if(T)if(T.target instanceof HTMLElement){var A=this.view.getCanvas(),E=A.getPointByClient(T.clientX,T.clientY);return E}else return{x:T.x,y:T.y};return null},P.prototype.getCurrentShape=function(){return g.get(this.event,["gEvent","shape"])},P.prototype.isInPlot=function(){var T=this.getCurrentPoint();return T?this.view.isPointInPlot(T):!1},P.prototype.isInShape=function(T){var A=this.getCurrentShape();return A?A.get("name")===T:!1},P.prototype.isInComponent=function(T){var A=O.getComponents(this.view),E=this.getCurrentPoint();return E?!!A.find(function(C){var p=C.getBBox();return T?C.get("name")===T&&O.isInBox(p,E):O.isInBox(p,E)}):!1},P.prototype.destroy=function(){this.view=null,this.event=null,g.each(this.actions.slice(),function(T){T.destroy()}),this.actions=null,this.cacheMap=null},P}();S.default=I},61058:function(mt,S,v){"use strict";var g;g={value:!0};var O=v(60517),I=v(49242),P=v(93359),T=O.__importDefault(v(43273)),A=O.__importDefault(v(91513));function E(x,w){var m=x.split(":"),M=m[0],L=w.getAction(M)||P.createAction(M,w);if(!L)throw new Error("There is no action named "+M);var B=m[1];return{action:L,methodName:B}}function C(x){var w=x.action,m=x.methodName;if(w[m])w[m]();else throw new Error("Action("+w.name+") doesn't have a method called "+m)}var p={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},b=function(x){O.__extends(w,x);function w(m,M){var L=x.call(this,m,M)||this;return L.callbackCaches={},L.emitCaches={},L.steps=M,L}return w.prototype.init=function(){this.initContext(),x.prototype.init.call(this)},w.prototype.destroy=function(){x.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},w.prototype.initEvents=function(){var m=this;I.each(this.steps,function(M,L){I.each(M,function(B){var D=m.getActionCallback(L,B);D&&m.bindEvent(B.trigger,D)})})},w.prototype.clearEvents=function(){var m=this;I.each(this.steps,function(M,L){I.each(M,function(B){var D=m.getActionCallback(L,B);D&&m.offEvent(B.trigger,D)})})},w.prototype.initContext=function(){var m=this.view,M=new T.default(m);this.context=M;var L=this.steps;I.each(L,function(B){I.each(B,function(D){if(I.isFunction(D.action))D.actionObject={action:P.createCallbackAction(D.action,M),methodName:"execute"};else if(I.isString(D.action))D.actionObject=E(D.action,M);else if(I.isArray(D.action)){var z=D.action;D.actionObject=[],I.each(z,function(q){D.actionObject.push(E(q,M))})}})})},w.prototype.isAllowStep=function(m){var M=this.currentStepName,L=this.steps;if(M===m||m===p.SHOW_ENABLE)return!0;if(m===p.PROCESSING)return M===p.START;if(m===p.START)return M!==p.PROCESSING;if(m===p.END)return M===p.PROCESSING||M===p.START;if(m===p.ROLLBACK){if(L[p.END])return M===p.END;if(M===p.START)return!0}return!1},w.prototype.isAllowExcute=function(m,M){if(this.isAllowStep(m)){var L=this.getKey(m,M);return M.once&&this.emitCaches[L]?!1:M.isEnable?M.isEnable(this.context):!0}return!1},w.prototype.enterStep=function(m){this.currentStepName=m,this.emitCaches={}},w.prototype.afterExecute=function(m,M){m!==p.SHOW_ENABLE&&this.currentStepName!==m&&this.enterStep(m);var L=this.getKey(m,M);this.emitCaches[L]=!0},w.prototype.getKey=function(m,M){return m+M.trigger+M.action},w.prototype.getActionCallback=function(m,M){var L=this,B=this.context,D=this.callbackCaches,z=M.actionObject;if(M.action&&z){var q=this.getKey(m,M);if(!D[q]){var K=function(it){B.event=it,L.isAllowExcute(m,M)?(I.isArray(z)?I.each(z,function(ct){B.event=it,C(ct)}):(B.event=it,C(z)),L.afterExecute(m,M),M.callback&&(B.event=it,M.callback(B))):B.event=null};M.debounce?D[q]=I.debounce(K,M.debounce.wait,M.debounce.immediate):M.throttle?D[q]=I.throttle(K,M.throttle.wait,{leading:M.throttle.leading,trailing:M.throttle.trailing}):D[q]=K}return D[q]}return null},w.prototype.bindEvent=function(m,M){var L=m.split(":");L[0]==="window"?window.addEventListener(L[1],M):L[0]==="document"?document.addEventListener(L[1],M):this.view.on(m,M)},w.prototype.offEvent=function(m,M){var L=m.split(":");L[0]==="window"?window.removeEventListener(L[1],M):L[0]==="document"?document.removeEventListener(L[1],M):this.view.off(m,M)},w}(A.default);g=b},91513:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(){function g(O,I){this.view=O,this.cfg=I}return g.prototype.init=function(){this.initEvents()},g.prototype.initEvents=function(){},g.prototype.clearEvents=function(){},g.prototype.destroy=function(){this.clearEvents()},g}();S.default=v},85800:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.toPoints=S.getRegionBBox=S.BBox=void 0;var g=v(49242),O=v(29583),I=function(){function T(A,E,C,p){A===void 0&&(A=0),E===void 0&&(E=0),C===void 0&&(C=0),p===void 0&&(p=0),this.x=A,this.y=E,this.height=p,this.width=C}return T.fromRange=function(A,E,C,p){return new T(A,E,C-A,p-E)},Object.defineProperty(T.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),T.prototype.isEqual=function(A){return this.x===A.x&&this.y===A.y&&this.width===A.width&&this.height===A.height},T.prototype.clone=function(){return new T(this.x,this.y,this.width,this.height)},T.prototype.add=function(){for(var A=[],E=0;E<arguments.length;E++)A[E]=arguments[E];var C=this.clone();return g.each(A,function(p){C.x=Math.min(p.x,C.x),C.y=Math.min(p.y,C.y),C.width=Math.max(p.maxX,C.maxX)-C.x,C.height=Math.max(p.maxY,C.maxY)-C.y}),C},T.prototype.merge=function(){for(var A=[],E=0;E<arguments.length;E++)A[E]=arguments[E];var C=this.clone();return g.each(A,function(p){C.x=Math.max(p.x,C.x),C.y=Math.max(p.y,C.y),C.width=Math.min(p.maxX,C.maxX)-C.x,C.height=Math.min(p.maxY,C.maxY)-C.y}),C},T.prototype.cut=function(A,E){var C=A.width,p=A.height;switch(E){case O.DIRECTION.TOP:case O.DIRECTION.TOP_LEFT:case O.DIRECTION.TOP_RIGHT:return T.fromRange(this.minX,this.minY+p,this.maxX,this.maxY);case O.DIRECTION.RIGHT:case O.DIRECTION.RIGHT_TOP:case O.DIRECTION.RIGHT_BOTTOM:return T.fromRange(this.minX,this.minY,this.maxX-C,this.maxY);case O.DIRECTION.BOTTOM:case O.DIRECTION.BOTTOM_LEFT:case O.DIRECTION.BOTTOM_RIGHT:return T.fromRange(this.minX,this.minY,this.maxX,this.maxY-p);case O.DIRECTION.LEFT:case O.DIRECTION.LEFT_TOP:case O.DIRECTION.LEFT_BOTTOM:return T.fromRange(this.minX+C,this.minY,this.maxX,this.maxY);default:return this}},T.prototype.shrink=function(A){var E=A[0],C=A[1],p=A[2],b=A[3];return new T(this.x+b,this.y+E,this.width-b-C,this.height-E-p)},T.prototype.exceed=function(A){return[Math.max(-this.minY+A.minY,0),Math.max(this.maxX-A.maxX,0),Math.max(this.maxY-A.maxY,0),Math.max(-this.minX+A.minX,0)]},T.prototype.size=function(){return this.width*this.height},T}();S.BBox=I,S.getRegionBBox=function(T,A){var E=A.start,C=A.end;return new I(T.x+T.width*E.x,T.y+T.height*E.y,T.width*Math.abs(C.x-E.x),T.height*Math.abs(C.y-E.y))};function P(T){return[[T.minX,T.minY],[T.maxX,T.minY],[T.maxX,T.maxY],[T.minX,T.maxY]]}S.toPoints=P},22514:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getCoordinateClipCfg=S.getAngleByPoint=S.isPointInCoordinate=S.getDistanceToCenter=S.isFullCircle=S.getXDimensionLength=void 0;var g=v(42770),O=v(86630);function I(p){if(p.isPolar&&!p.isTransposed)return(p.endAngle-p.startAngle)*p.getRadius();var b=p.convert({x:0,y:0}),x=p.convert({x:1,y:0});return Math.sqrt(Math.pow(x.x-b.x,2)+Math.pow(x.y-b.y,2))}S.getXDimensionLength=I;function P(p){if(p.isPolar){var b=p.startAngle,x=p.endAngle;return x-b==Math.PI*2}return!1}S.isFullCircle=P;function T(p,b){var x=p.getCenter();return Math.sqrt(Math.pow(b.x-x.x,2)+Math.pow(b.y-x.y,2))}S.getDistanceToCenter=T;function A(p,b){var x=!1;if(p)if(p.type==="theta"){var w=p.start,m=p.end;x=O.isBetween(b.x,w.x,m.x)&&O.isBetween(b.y,w.y,m.y)}else{var M=p.invert(b);x=O.isBetween(M.x,0,1)&&O.isBetween(M.y,0,1)}return x}S.isPointInCoordinate=A;function E(p,b){var x=p.getCenter();return Math.atan2(b.y-x.y,b.x-x.x)}S.getAngleByPoint=E;function C(p,b){b===void 0&&(b=0);var x=p.start,w=p.end,m=p.getWidth(),M=p.getHeight();if(p.isPolar){var L=p.startAngle,B=p.endAngle,D=p.getCenter(),z=p.getRadius();return{type:"path",startState:{path:g.getSectorPath(D.x,D.y,z+b,L,L)},endState:function(K){var it=(B-L)*K+L,ct=g.getSectorPath(D.x,D.y,z+b,L,it);return{path:ct}},attrs:{path:g.getSectorPath(D.x,D.y,z+b,L,B)}}}var q;return p.isTransposed?q={height:M+b*2}:q={width:m+b*2},{type:"rect",startState:{x:x.x-b,y:w.y-b,width:p.isTransposed?m+b*2:0,height:p.isTransposed?0:M+b*2},endState:q,attrs:{x:x.x-b,y:w.y-b,width:m+b*2,height:M+b*2}}}S.getCoordinateClipCfg=C},42770:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getReplaceAttrs=S.getPolygonCentroid=S.getAngle=S.getArcPath=S.getSectorPath=S.polarToCartesian=void 0;var g=v(49242);function O(p){if(g.isEmpty(p))return null;var b=p[0].x,x=p[0].x,w=p[0].y,m=p[0].y;return g.each(p,function(M){b=b>M.x?M.x:b,x=x<M.x?M.x:x,w=w>M.y?M.y:w,m=m<M.y?M.y:m}),{minX:b,maxX:x,minY:w,maxY:m,centerX:(b+x)/2,centerY:(w+m)/2}}function I(p,b,x,w){return{x:p+x*Math.cos(w),y:b+x*Math.sin(w)}}S.polarToCartesian=I;function P(p,b,x,w,m,M){M===void 0&&(M=0);var L=I(p,b,x,w),B=I(p,b,x,m),D=I(p,b,M,w),z=I(p,b,M,m);if(m-w==Math.PI*2){var q=I(p,b,x,w+Math.PI),K=I(p,b,M,w+Math.PI),it=[["M",L.x,L.y],["A",x,x,0,1,1,q.x,q.y],["A",x,x,0,1,1,B.x,B.y],["M",D.x,D.y]];return M&&(it.push(["A",M,M,0,1,0,K.x,K.y]),it.push(["A",M,M,0,1,0,z.x,z.y])),it.push(["M",L.x,L.y]),it.push(["Z"]),it}var ct=m-w<=Math.PI?0:1,st=[["M",L.x,L.y],["A",x,x,0,ct,1,B.x,B.y],["L",z.x,z.y]];return M&&st.push(["A",M,M,0,ct,0,D.x,D.y]),st.push(["L",L.x,L.y]),st.push(["Z"]),st}S.getSectorPath=P;function T(p,b,x,w,m){var M=I(p,b,x,w),L=I(p,b,x,m);if(g.isNumberEqual(m-w,Math.PI*2)){var B=I(p,b,x,w+Math.PI);return[["M",M.x,M.y],["A",x,x,0,1,1,B.x,B.y],["A",x,x,0,1,1,M.x,M.y],["A",x,x,0,1,0,B.x,B.y],["A",x,x,0,1,0,M.x,M.y],["Z"]]}var D=m-w<=Math.PI?0:1;return[["M",M.x,M.y],["A",x,x,0,D,1,L.x,L.y]]}S.getArcPath=T;function A(p,b){var x=p.points,w=O(x),m,M,L=b.startAngle,B=b.endAngle,D=B-L;return b.isTransposed?(m=w.maxY*D,M=w.minY*D):(m=w.maxX*D,M=w.minX*D),m+=L,M+=L,{startAngle:M,endAngle:m}}S.getAngle=A;function E(p,b){if(g.isNumber(p)&&g.isNumber(b))return[p,b];for(var x=-1,w=0,m=0,M,L=p.length-1,B,D=0;++x<p.length;)M=L,L=x,D+=B=p[M]*b[L]-p[L]*b[M],w+=(p[M]+p[L])*B,m+=(b[M]+b[L])*B;return D*=3,[w/D,m/D]}S.getPolygonCentroid=E;function C(p,b){var x=p.attr(),w=b.attr();return g.each(x,function(m,M){w[M]===void 0&&(w[M]=void 0)}),w}S.getReplaceAttrs=C},86630:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.uniq=S.omit=S.padEnd=S.isBetween=void 0;var g=v(49242);function O(A,E,C){var p=Math.min(E,C),b=Math.max(E,C);return A>=p&&A<=b}S.isBetween=O;function I(A,E,C){if(g.isString(A))return A.padEnd(E,C);if(g.isArray(A)){var p=A.length;if(p<E)for(var b=E-p,x=0;x<b;x++)A.push(C)}return A}S.padEnd=I;function P(A,E){return E.forEach(function(C){delete A[C]}),A}S.omit=P;function T(A,E,C){E===void 0&&(E=[]),C===void 0&&(C={});for(var p=0,b=A;p<b.length;p++){var x=b[p];C[x]||(E.push(x),C[x]=!0)}return E}S.uniq=T},6750:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MarkerSymbols=void 0,S.MarkerSymbols={hexagon:function(v,g,O){var I=O/2*Math.sqrt(3);return[["M",v,g-O],["L",v+I,g-O/2],["L",v+I,g+O/2],["L",v,g+O],["L",v-I,g+O/2],["L",v-I,g-O/2],["Z"]]},bowtie:function(v,g,O){var I=O-1.5;return[["M",v-O,g-I],["L",v+O,g+I],["L",v+O,g-I],["L",v-O,g+I],["Z"]]},cross:function(v,g,O){return[["M",v-O,g-O],["L",v+O,g+O],["M",v+O,g-O],["L",v-O,g+O]]},tick:function(v,g,O){return[["M",v-O/2,g-O],["L",v+O/2,g-O],["M",v,g-O],["L",v,g+O],["M",v-O/2,g+O],["L",v+O/2,g+O]]},plus:function(v,g,O){return[["M",v-O,g],["L",v+O,g],["M",v,g-O],["L",v,g+O]]},hyphen:function(v,g,O){return[["M",v-O,g],["L",v+O,g]]},line:function(v,g,O){return[["M",v,g-O],["L",v,g+O]]}}},16854:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getName=S.syncScale=S.createScaleByField=void 0;var g=v(60517),O=v(49242),I=v(57029),P=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function T(p){var b="linear";return P.test(p)?b="time":O.isString(p)&&(b="cat"),b}function A(p,b,x){var w=b||[];if(O.isNumber(p)||O.isNil(O.firstValue(w,p))&&O.isEmpty(x)){var m=I.getScale("identity");return new m({field:p.toString(),values:[p]})}var M=O.valuesOfKey(w,p),L=O.get(x,"type",T(M[0])),B=I.getScale(L);return new B(g.__assign({field:p,values:M},x))}S.createScaleByField=A;function E(p,b){if(p.type!=="identity"&&b.type!=="identity"){var x={};for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(x[w]=b[w]);p.change(x)}}S.syncScale=E;function C(p){return p.alias||p.field}S.getName=C},99677:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTooltipItems=S.findDataByPoint=void 0;var g=v(60517),O=v(49242),I=v(29583),P=v(16854);function T(B,D,z){var q=z.translate(B),K=z.translate(D);return O.isNumberEqual(q,K)}function A(B,D){var z=D.coordinate,q=D.getXScale(),K=q.range,it=K[K.length-1],ct=K[0],st=z.invert(B),Ot=st.x;return z.isPolar&&Ot>(1+it)/2&&(Ot=ct),q.translate(q.invert(Ot))}function E(B,D,z){var q=z.coordinate,K=z.getYScale(),it=K.field,ct=q.invert(D),st=K.invert(ct.y),Ot=O.find(B,function(Dt){var Ht=Dt[I.FIELD_ORIGIN];return Ht[it][0]<=st&&Ht[it][1]>=st});return Ot||B[B.length-1]}var C=O.memoize(function(B){if(B.isCategory)return 1;for(var D=B.values,z=D.length,q=B.translate(D[0]),K=q,it=0;it<z;it++){var ct=D[it],st=B.translate(ct);st<q&&(q=st),st>K&&(K=st)}return(K-q)/(z-1)});function p(B,D,z){var q=z;if(!z){var K=D.getAttribute("position"),it=K.getFields();q=it[0]}var ct=D.scales;return ct[q]?ct[q].getText(B[q]):O.hasKey(B,q)?B[q]:q}function b(B){var D=O.values(B.attributes);return O.filter(D,function(z){return O.contains(I.GROUP_ATTRS,z.type)})}function x(B){for(var D=b(B),z,q=0,K=D;q<K.length;q++){var it=K[q],ct=it.getScale(it.type);if(ct&&ct.isLinear){z=ct;break}}var st=B.getXScale(),Ot=B.getYScale();return z||Ot||st}function w(B,D){var z=D.field,q=B[z];if(O.isArray(q)){var K=q.map(function(it){return D.getText(it)});return K.join("-")}return D.getText(q)}function m(B,D){var z,q=D.getGroupScales();if(q.length&&(z=q[0]),z){var K=z.field;return z.getText(B[K])}var it=x(D);return P.getName(it)}function M(B,D,z){if(D.length===0)return null;var q=z.type,K=z.getXScale(),it=z.getYScale(),ct=K.field,st=it.field,Ot=null;if(q==="heatmap"||q==="point"){for(var Dt=z.coordinate,Ht=Dt.invert(B),N=K.invert(Ht.x),W=it.invert(Ht.y),X=Infinity,V=0;V<D.length;V++){var lt=D[V],Z=lt[I.FIELD_ORIGIN],U=Math.pow(Z[ct]-N,2)+Math.pow(Z[st]-W,2);U<X&&(X=U,Ot=lt)}return Ot}var j=D[0],H=D[D.length-1],f=A(B,z),yt=j[I.FIELD_ORIGIN][ct],St=j[I.FIELD_ORIGIN][st],at=H[I.FIELD_ORIGIN][ct],Ct=it.isLinear&&O.isArray(St);if(O.isArray(yt)){for(var V=0;V<D.length;V++){var wt=D[V],Z=wt[I.FIELD_ORIGIN];if(K.translate(Z[ct][0])<=f&&K.translate(Z[ct][1])>=f)if(Ct)O.isArray(Ot)||(Ot=[]),Ot.push(wt);else{Ot=wt;break}}O.isArray(Ot)&&(Ot=E(Ot,B,z))}else{var At=void 0;if(!K.isLinear&&K.type!=="timeCat"){for(var V=0;V<D.length;V++){var wt=D[V],Z=wt[I.FIELD_ORIGIN];if(T(Z[ct],f,K))if(Ct)O.isArray(Ot)||(Ot=[]),Ot.push(wt);else{Ot=wt;break}else K.translate(Z[ct])<=f&&(H=wt,At=D[V+1])}O.isArray(Ot)&&(Ot=E(Ot,B,z))}else{if((f>K.translate(at)||f<K.translate(yt))&&(f>K.max||f<K.min))return null;for(var _t=0,Lt=D.length-1,xt=void 0;_t<=Lt;){xt=Math.floor((_t+Lt)/2);var ot=D[xt][I.FIELD_ORIGIN][ct];if(T(ot,f,K))return D[xt];K.translate(ot)<=K.translate(f)?(_t=xt+1,H=D[xt],At=D[xt+1]):(Lt===0&&(H=D[0]),Lt=xt-1)}}H&&At&&Math.abs(K.translate(H[I.FIELD_ORIGIN][ct])-f)>Math.abs(K.translate(At[I.FIELD_ORIGIN][ct])-f)&&(H=At)}var tt=C(z.getXScale());return!Ot&&Math.abs(K.translate(H[I.FIELD_ORIGIN][ct])-f)<=tt/2&&(Ot=H),Ot}S.findDataByPoint=M;function L(B,D,z){z===void 0&&(z="");var q=B[I.FIELD_ORIGIN],K=p(q,D,z),it=D.tooltipOption,ct=D.theme.defaultColor,st=[],Ot,Dt;function Ht(St,at){if(!O.isNil(at)&&at!==""){var Ct={title:K,data:q,mappingData:B,name:St,value:at,color:B.color||ct,marker:!0};st.push(Ct)}}if(O.isObject(it)){var N=it.fields,W=it.callback;if(W){var X=N.map(function(St){return B[I.FIELD_ORIGIN][St]}),V=W.apply(void 0,X),lt=g.__assign({data:B[I.FIELD_ORIGIN],mappingData:B,title:K,color:B.color||ct,marker:!0},V);st.push(lt)}else for(var Z=D.scales,U=0,j=N;U<j.length;U++){var H=j[U];if(!O.isNil(q[H])){var f=Z[H];Ot=P.getName(f),Dt=f.getText(q[H]),Ht(Ot,Dt)}}}else{var yt=x(D);O.isNil(q[yt.field])||(Dt=w(q,yt),Ot=m(q,D),Ht(Ot,Dt))}return st}S.getTooltipItems=L},60517:function(mt,S,v){"use strict";v.r(S),v.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return P},__decorate:function(){return T},__param:function(){return A},__metadata:function(){return E},__awaiter:function(){return C},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return x},__values:function(){return w},__read:function(){return m},__spread:function(){return M},__spreadArrays:function(){return L},__spreadArray:function(){return B},__await:function(){return D},__asyncGenerator:function(){return z},__asyncDelegator:function(){return q},__asyncValues:function(){return K},__makeTemplateObject:function(){return it},__importStar:function(){return st},__importDefault:function(){return Ot},__classPrivateFieldGet:function(){return Dt},__classPrivateFieldSet:function(){return Ht}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var g=function(N,W){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,V){X.__proto__=V}||function(X,V){for(var lt in V)Object.prototype.hasOwnProperty.call(V,lt)&&(X[lt]=V[lt])},g(N,W)};function O(N,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");g(N,W);function X(){this.constructor=N}N.prototype=W===null?Object.create(W):(X.prototype=W.prototype,new X)}var I=function(){return I=Object.assign||function(W){for(var X,V=1,lt=arguments.length;V<lt;V++){X=arguments[V];for(var Z in X)Object.prototype.hasOwnProperty.call(X,Z)&&(W[Z]=X[Z])}return W},I.apply(this,arguments)};function P(N,W){var X={};for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&W.indexOf(V)<0&&(X[V]=N[V]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lt=0,V=Object.getOwnPropertySymbols(N);lt<V.length;lt++)W.indexOf(V[lt])<0&&Object.prototype.propertyIsEnumerable.call(N,V[lt])&&(X[V[lt]]=N[V[lt]]);return X}function T(N,W,X,V){var lt=arguments.length,Z=lt<3?W:V===null?V=Object.getOwnPropertyDescriptor(W,X):V,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(N,W,X,V);else for(var j=N.length-1;j>=0;j--)(U=N[j])&&(Z=(lt<3?U(Z):lt>3?U(W,X,Z):U(W,X))||Z);return lt>3&&Z&&Object.defineProperty(W,X,Z),Z}function A(N,W){return function(X,V){W(X,V,N)}}function E(N,W){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(N,W)}function C(N,W,X,V){function lt(Z){return Z instanceof X?Z:new X(function(U){U(Z)})}return new(X||(X=Promise))(function(Z,U){function j(yt){try{f(V.next(yt))}catch(St){U(St)}}function H(yt){try{f(V.throw(yt))}catch(St){U(St)}}function f(yt){yt.done?Z(yt.value):lt(yt.value).then(j,H)}f((V=V.apply(N,W||[])).next())})}function p(N,W){var X={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},V,lt,Z,U;return U={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function j(f){return function(yt){return H([f,yt])}}function H(f){if(V)throw new TypeError("Generator is already executing.");for(;X;)try{if(V=1,lt&&(Z=f[0]&2?lt.return:f[0]?lt.throw||((Z=lt.return)&&Z.call(lt),0):lt.next)&&!(Z=Z.call(lt,f[1])).done)return Z;switch(lt=0,Z&&(f=[f[0]&2,Z.value]),f[0]){case 0:case 1:Z=f;break;case 4:return X.label++,{value:f[1],done:!1};case 5:X.label++,lt=f[1],f=[0];continue;case 7:f=X.ops.pop(),X.trys.pop();continue;default:if(Z=X.trys,!(Z=Z.length>0&&Z[Z.length-1])&&(f[0]===6||f[0]===2)){X=0;continue}if(f[0]===3&&(!Z||f[1]>Z[0]&&f[1]<Z[3])){X.label=f[1];break}if(f[0]===6&&X.label<Z[1]){X.label=Z[1],Z=f;break}if(Z&&X.label<Z[2]){X.label=Z[2],X.ops.push(f);break}Z[2]&&X.ops.pop(),X.trys.pop();continue}f=W.call(N,X)}catch(yt){f=[6,yt],lt=0}finally{V=Z=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var b=Object.create?function(N,W,X,V){V===void 0&&(V=X),Object.defineProperty(N,V,{enumerable:!0,get:function(){return W[X]}})}:function(N,W,X,V){V===void 0&&(V=X),N[V]=W[X]};function x(N,W){for(var X in N)X!=="default"&&!Object.prototype.hasOwnProperty.call(W,X)&&b(W,N,X)}function w(N){var W=typeof Symbol=="function"&&Symbol.iterator,X=W&&N[W],V=0;if(X)return X.call(N);if(N&&typeof N.length=="number")return{next:function(){return N&&V>=N.length&&(N=void 0),{value:N&&N[V++],done:!N}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(N,W){var X=typeof Symbol=="function"&&N[Symbol.iterator];if(!X)return N;var V=X.call(N),lt,Z=[],U;try{for(;(W===void 0||W-- >0)&&!(lt=V.next()).done;)Z.push(lt.value)}catch(j){U={error:j}}finally{try{lt&&!lt.done&&(X=V.return)&&X.call(V)}finally{if(U)throw U.error}}return Z}function M(){for(var N=[],W=0;W<arguments.length;W++)N=N.concat(m(arguments[W]));return N}function L(){for(var N=0,W=0,X=arguments.length;W<X;W++)N+=arguments[W].length;for(var V=Array(N),lt=0,W=0;W<X;W++)for(var Z=arguments[W],U=0,j=Z.length;U<j;U++,lt++)V[lt]=Z[U];return V}function B(N,W,X){if(X||arguments.length===2)for(var V=0,lt=W.length,Z;V<lt;V++)(Z||!(V in W))&&(Z||(Z=Array.prototype.slice.call(W,0,V)),Z[V]=W[V]);return N.concat(Z||Array.prototype.slice.call(W))}function D(N){return this instanceof D?(this.v=N,this):new D(N)}function z(N,W,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V=X.apply(N,W||[]),lt,Z=[];return lt={},U("next"),U("throw"),U("return"),lt[Symbol.asyncIterator]=function(){return this},lt;function U(at){V[at]&&(lt[at]=function(Ct){return new Promise(function(wt,At){Z.push([at,Ct,wt,At])>1||j(at,Ct)})})}function j(at,Ct){try{H(V[at](Ct))}catch(wt){St(Z[0][3],wt)}}function H(at){at.value instanceof D?Promise.resolve(at.value.v).then(f,yt):St(Z[0][2],at)}function f(at){j("next",at)}function yt(at){j("throw",at)}function St(at,Ct){at(Ct),Z.shift(),Z.length&&j(Z[0][0],Z[0][1])}}function q(N){var W,X;return W={},V("next"),V("throw",function(lt){throw lt}),V("return"),W[Symbol.iterator]=function(){return this},W;function V(lt,Z){W[lt]=N[lt]?function(U){return(X=!X)?{value:D(N[lt](U)),done:lt==="return"}:Z?Z(U):U}:Z}}function K(N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=N[Symbol.asyncIterator],X;return W?W.call(N):(N=typeof w=="function"?w(N):N[Symbol.iterator](),X={},V("next"),V("throw"),V("return"),X[Symbol.asyncIterator]=function(){return this},X);function V(Z){X[Z]=N[Z]&&function(U){return new Promise(function(j,H){U=N[Z](U),lt(j,H,U.done,U.value)})}}function lt(Z,U,j,H){Promise.resolve(H).then(function(f){Z({value:f,done:j})},U)}}function it(N,W){return Object.defineProperty?Object.defineProperty(N,"raw",{value:W}):N.raw=W,N}var ct=Object.create?function(N,W){Object.defineProperty(N,"default",{enumerable:!0,value:W})}:function(N,W){N.default=W};function st(N){if(N&&N.__esModule)return N;var W={};if(N!=null)for(var X in N)X!=="default"&&Object.prototype.hasOwnProperty.call(N,X)&&b(W,N,X);return ct(W,N),W}function Ot(N){return N&&N.__esModule?N:{default:N}}function Dt(N,W,X,V){if(X==="a"&&!V)throw new TypeError("Private accessor was defined without a getter");if(typeof W=="function"?N!==W||!V:!W.has(N))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?V:X==="a"?V.call(N):V?V.value:W.get(N)}function Ht(N,W,X,V,lt){if(V==="m")throw new TypeError("Private method is not writable");if(V==="a"&&!lt)throw new TypeError("Private accessor was defined without a setter");if(typeof W=="function"?N!==W||!lt:!W.has(N))throw new TypeError("Cannot write private member to an object whose class did not declare it");return V==="a"?lt.call(N,X):lt?lt.value=X:W.set(N,X),X}},95365:function(mt,S,v){"use strict";var g=v(37050),O=v(90494),I=v(30219),P=function(T){(0,g.ZT)(A,T);function A(E){var C=T.call(this)||this;C.destroyed=!1;var p=C.getDefaultCfg();return C.cfg=(0,I.CD)(p,E),C}return A.prototype.getDefaultCfg=function(){return{}},A.prototype.get=function(E){return this.cfg[E]},A.prototype.set=function(E,C){this.cfg[E]=C},A.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},A}(O.default);S.Z=P},13658:function(mt,S,v){"use strict";v.d(S,{Z:function(){return Z}});var g=v(37050),O=v(43631),I=v(29598),P=v(30219),T=v(49242),A=v(35374),E=v(13681),C=v(42800),p=v(88122),b=v(24699),x=function(U){return["fill","stroke","fillStyle","strokeStyle"].includes(U)},w=function(U){return/^[r,R,L,l]{1}[\s]*\(/.test(U)},m=[1,0,0,0,1,0,0,0,1];function M(U,j,H){var f={},yt=j.fromAttrs,St=j.toAttrs;if(!U.destroyed){var at;for(var Ct in St)if(!(0,T.isEqual)(yt[Ct],St[Ct]))if(Ct==="path"){var wt=St[Ct],At=yt[Ct];wt.length>At.length?(wt=b.parsePathString(St[Ct]),At=b.parsePathString(yt[Ct]),At=b.fillPathByDiff(At,wt),At=b.formatPath(At,wt),j.fromAttrs.path=At,j.toAttrs.path=wt):j.pathFormatted||(wt=b.parsePathString(St[Ct]),At=b.parsePathString(yt[Ct]),At=b.formatPath(At,wt),j.fromAttrs.path=At,j.toAttrs.path=wt,j.pathFormatted=!0),f[Ct]=[];for(var _t=0;_t<wt.length;_t++){for(var Lt=wt[_t],xt=At[_t],ot=[],tt=0;tt<Lt.length;tt++)(0,T.isNumber)(Lt[tt])&&xt&&(0,T.isNumber)(xt[tt])?(at=(0,C.Z)(xt[tt],Lt[tt]),ot.push(at(H))):ot.push(Lt[tt]);f[Ct].push(ot)}}else if(Ct==="matrix"){var Q=(0,p.Z)(yt[Ct]||m,St[Ct]||m),dt=Q(H);f[Ct]=dt}else x(Ct)&&w(St[Ct])?f[Ct]=St[Ct]:(0,T.isFunction)(St[Ct])||(at=(0,C.Z)(yt[Ct],St[Ct]),f[Ct]=at(H));U.attr(f)}}function L(U,j,H){var f=j.startTime,yt=j.delay;if(H<f+yt||j._paused)return!1;var St,at=j.duration,Ct=j.easing;if(H=H-f-j.delay,j.repeat)St=H%at/at,St=E[Ct](St);else if(St=H/at,St<1)St=E[Ct](St);else return j.onFrame?U.attr(j.onFrame(1)):U.attr(j.toAttrs),!0;if(j.onFrame){var wt=j.onFrame(St);U.attr(wt)}else M(U,j,St);return!1}var B=function(){function U(j){this.animators=[],this.current=0,this.timer=null,this.canvas=j}return U.prototype.initTimer=function(){var j=this,H=!1,f,yt,St;this.timer=A.HT(function(at){if(j.current=at,j.animators.length>0){for(var Ct=j.animators.length-1;Ct>=0;Ct--){if(f=j.animators[Ct],f.destroyed){j.removeAnimator(Ct);continue}if(!f.isAnimatePaused()){yt=f.get("animations");for(var wt=yt.length-1;wt>=0;wt--)St=yt[wt],H=L(f,St,at),H&&(yt.splice(wt,1),H=!1,St.callback&&St.callback())}yt.length===0&&j.removeAnimator(Ct)}var At=j.canvas.get("autoDraw");At||j.canvas.draw()}})},U.prototype.addAnimator=function(j){this.animators.push(j)},U.prototype.removeAnimator=function(j){this.animators.splice(j,1)},U.prototype.isAnimating=function(){return!!this.animators.length},U.prototype.stop=function(){this.timer&&this.timer.stop()},U.prototype.stopAllAnimations=function(j){j===void 0&&(j=!0),this.animators.forEach(function(H){H.stopAnimate(j)}),this.animators=[],this.canvas.draw()},U.prototype.getTime=function(){return this.current},U}(),D=B,z=v(76615),q=40,K=0,it=":",ct=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function st(U,j){for(var H in U)if(U.hasOwnProperty(H)&&H.indexOf(it+j)>=0)return!0;return!1}function Ot(U,j,H){H.name=j,H.target=U,H.currentTarget=U,H.delegateTarget=U,U.emit(j,H)}function Dt(U,j,H){if(H.bubbles){var f=void 0,yt=!1;if(j==="mouseenter"?(f=H.fromShape,yt=!0):j==="mouseleave"&&(yt=!0,f=H.toShape),U.isCanvas()&&yt)return;if(f&&(0,P.UY)(U,f)){H.bubbles=!1;return}H.name=j,H.currentTarget=U,H.delegateTarget=U,U.emit(j,H)}}var Ht=function(){function U(j){var H=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(f){var yt=f.type;H._triggerEvent(yt,f)},this._onDocumentMove=function(f){var yt=H.canvas,St=yt.get("el");if(St!==f.target&&(H.dragging||H.currentShape)){var at=H._getPointInfo(f);H.dragging&&H._emitEvent("drag",f,at,H.draggingShape)}},this._onDocumentMouseUp=function(f){var yt=H.canvas,St=yt.get("el");if(St!==f.target&&H.dragging){var at=H._getPointInfo(f);H.draggingShape&&H._emitEvent("drop",f,at,null),H._emitEvent("dragend",f,at,H.draggingShape),H._afterDrag(H.draggingShape,at,f)}},this.canvas=j.canvas}return U.prototype.init=function(){this._bindEvents()},U.prototype._bindEvents=function(){var j=this,H=this.canvas.get("el");(0,P.S6)(ct,function(f){H.addEventListener(f,j._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},U.prototype._clearEvents=function(){var j=this,H=this.canvas.get("el");(0,P.S6)(ct,function(f){H.removeEventListener(f,j._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},U.prototype._getEventObj=function(j,H,f,yt,St,at){var Ct=new z.Z(j,H);return Ct.fromShape=St,Ct.toShape=at,Ct.x=f.x,Ct.y=f.y,Ct.clientX=f.clientX,Ct.clientY=f.clientY,Ct.propagationPath.push(yt),Ct},U.prototype._getShape=function(j,H){return this.canvas.getShape(j.x,j.y,H)},U.prototype._getPointInfo=function(j){var H=this.canvas,f=H.getClientByEvent(j),yt=H.getPointByEvent(j);return{x:yt.x,y:yt.y,clientX:f.x,clientY:f.y}},U.prototype._triggerEvent=function(j,H){var f=this._getPointInfo(H),yt=this._getShape(f,H),St=this["_on"+j],at=!1;if(St)St.call(this,f,yt,H);else{var Ct=this.currentShape;j==="mouseenter"||j==="dragenter"||j==="mouseover"?(this._emitEvent(j,H,f,null,null,yt),yt&&this._emitEvent(j,H,f,yt,null,yt),j==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",H,f,null)):j==="mouseleave"||j==="dragleave"||j==="mouseout"?(at=!0,Ct&&this._emitEvent(j,H,f,Ct,Ct,null),this._emitEvent(j,H,f,null,Ct,null),j==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",H,f,null)):this._emitEvent(j,H,f,yt,null,null)}if(at||(this.currentShape=yt),yt&&!yt.get("destroyed")){var wt=this.canvas,At=wt.get("el");At.style.cursor=yt.attr("cursor")||wt.get("cursor")}},U.prototype._onmousedown=function(j,H,f){f.button===K&&(this.mousedownShape=H,this.mousedownPoint=j,this.mousedownTimeStamp=f.timeStamp),this._emitEvent("mousedown",f,j,H,null,null)},U.prototype._emitMouseoverEvents=function(j,H,f,yt){var St=this.canvas.get("el");f!==yt&&(f&&(this._emitEvent("mouseout",j,H,f,f,yt),this._emitEvent("mouseleave",j,H,f,f,yt),(!yt||yt.get("destroyed"))&&(St.style.cursor=this.canvas.get("cursor"))),yt&&(this._emitEvent("mouseover",j,H,yt,f,yt),this._emitEvent("mouseenter",j,H,yt,f,yt)))},U.prototype._emitDragoverEvents=function(j,H,f,yt,St){yt?(yt!==f&&(f&&this._emitEvent("dragleave",j,H,f,f,yt),this._emitEvent("dragenter",j,H,yt,f,yt)),St||this._emitEvent("dragover",j,H,yt)):f&&this._emitEvent("dragleave",j,H,f,f,yt),St&&this._emitEvent("dragover",j,H,yt)},U.prototype._afterDrag=function(j,H,f){j&&(j.set("capture",!0),this.draggingShape=null),this.dragging=!1;var yt=this._getShape(H,f);yt!==j&&this._emitMouseoverEvents(f,H,j,yt),this.currentShape=yt},U.prototype._onmouseup=function(j,H,f){if(f.button===K){var yt=this.draggingShape;this.dragging?(yt&&this._emitEvent("drop",f,j,H),this._emitEvent("dragend",f,j,yt),this._afterDrag(yt,j,f)):(this._emitEvent("mouseup",f,j,H),H===this.mousedownShape&&this._emitEvent("click",f,j,H),this.mousedownShape=null,this.mousedownPoint=null)}},U.prototype._ondragover=function(j,H,f){f.preventDefault();var yt=this.currentShape;this._emitDragoverEvents(f,j,yt,H,!0)},U.prototype._onmousemove=function(j,H,f){var yt=this.canvas,St=this.currentShape,at=this.draggingShape;if(this.dragging)at&&this._emitDragoverEvents(f,j,St,H,!1),this._emitEvent("drag",f,j,at);else{var Ct=this.mousedownPoint;if(Ct){var wt=this.mousedownShape,At=f.timeStamp,_t=At-this.mousedownTimeStamp,Lt=Ct.clientX-j.clientX,xt=Ct.clientY-j.clientY,ot=Lt*Lt+xt*xt;_t>120||ot>q?wt&&wt.get("draggable")?(at=this.mousedownShape,at.set("capture",!1),this.draggingShape=at,this.dragging=!0,this._emitEvent("dragstart",f,j,at),this.mousedownShape=null,this.mousedownPoint=null):!wt&&yt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",f,j,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(f,j,St,H),this._emitEvent("mousemove",f,j,H)):(this._emitMouseoverEvents(f,j,St,H),this._emitEvent("mousemove",f,j,H))}else this._emitMouseoverEvents(f,j,St,H),this._emitEvent("mousemove",f,j,H)}},U.prototype._emitEvent=function(j,H,f,yt,St,at){var Ct=this._getEventObj(j,H,f,yt,St,at);if(yt){Ct.shape=yt,Ot(yt,j,Ct);for(var wt=yt.getParent();wt;)wt.emitDelegation(j,Ct),Ct.propagationStopped||Dt(wt,j,Ct),Ct.propagationPath.push(wt),wt=wt.getParent()}else{var At=this.canvas;Ot(At,j,Ct)}},U.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},U}(),N=Ht,W="px",X=(0,O.detect)(),V=X&&X.name==="firefox",lt=function(U){(0,g.ZT)(j,U);function j(H){var f=U.call(this,H)||this;return f.initContainer(),f.initDom(),f.initEvents(),f.initTimeline(),f}return j.prototype.getDefaultCfg=function(){var H=U.prototype.getDefaultCfg.call(this);return H.cursor="default",H.supportCSSTransform=!1,H},j.prototype.initContainer=function(){var H=this.get("container");(0,P.HD)(H)&&(H=document.getElementById(H),this.set("container",H))},j.prototype.initDom=function(){var H=this.createDom();this.set("el",H);var f=this.get("container");f.appendChild(H),this.setDOMSize(this.get("width"),this.get("height"))},j.prototype.initEvents=function(){var H=new N({canvas:this});H.init(),this.set("eventController",H)},j.prototype.initTimeline=function(){var H=new D(this);this.set("timeline",H)},j.prototype.setDOMSize=function(H,f){var yt=this.get("el");P.jU&&(yt.style.width=H+W,yt.style.height=f+W)},j.prototype.changeSize=function(H,f){this.setDOMSize(H,f),this.set("width",H),this.set("height",f),this.onCanvasChange("changeSize")},j.prototype.getRenderer=function(){return this.get("renderer")},j.prototype.getCursor=function(){return this.get("cursor")},j.prototype.setCursor=function(H){this.set("cursor",H);var f=this.get("el");P.jU&&f&&(f.style.cursor=H)},j.prototype.getPointByEvent=function(H){var f=this.get("supportCSSTransform");if(f){if(V&&!(0,P.kK)(H.layerX)&&H.layerX!==H.offsetX)return{x:H.layerX,y:H.layerY};if(!(0,P.kK)(H.offsetX))return{x:H.offsetX,y:H.offsetY}}var yt=this.getClientByEvent(H),St=yt.x,at=yt.y;return this.getPointByClient(St,at)},j.prototype.getClientByEvent=function(H){var f=H;return H.touches&&(H.type==="touchend"?f=H.changedTouches[0]:f=H.touches[0]),{x:f.clientX,y:f.clientY}},j.prototype.getPointByClient=function(H,f){var yt=this.get("el"),St=yt.getBoundingClientRect();return{x:H-St.left,y:f-St.top}},j.prototype.getClientByPoint=function(H,f){var yt=this.get("el"),St=yt.getBoundingClientRect();return{x:H+St.left,y:f+St.top}},j.prototype.draw=function(){},j.prototype.removeDom=function(){var H=this.get("el");H.parentNode.removeChild(H)},j.prototype.clearEvents=function(){var H=this.get("eventController");H.destroy()},j.prototype.isCanvas=function(){return!0},j.prototype.getParent=function(){return null},j.prototype.destroy=function(){var H=this.get("timeline");this.get("destroyed")||(this.clear(),H&&H.stop(),this.clearEvents(),this.removeDom(),U.prototype.destroy.call(this))},j}(I.Z),Z=lt},29598:function(mt,S,v){"use strict";var g=v(37050),O=v(49242),I=v(67229),P=v(30219),T={},A="_INDEX";function E(m,M){if(m.set("canvas",M),m.isGroup()){var L=m.get("children");L.length&&L.forEach(function(B){E(B,M)})}}function C(m,M){if(m.set("timeline",M),m.isGroup()){var L=m.get("children");L.length&&L.forEach(function(B){C(B,M)})}}function p(m,M){var L=m.getChildren();return L.indexOf(M)>=0}function b(m,M,L){L===void 0&&(L=!0),L?M.destroy():(M.set("parent",null),M.set("canvas",null)),(0,P.As)(m.getChildren(),M)}function x(m){return function(M,L){var B=m(M,L);return B===0?M[A]-L[A]:B}}var w=function(m){(0,g.ZT)(M,m);function M(){return m!==null&&m.apply(this,arguments)||this}return M.prototype.isCanvas=function(){return!1},M.prototype.getBBox=function(){var L=Infinity,B=-Infinity,D=Infinity,z=-Infinity,q=[],K=[],it=this.getChildren().filter(function(st){return st.get("visible")&&(!st.isGroup()||st.isGroup()&&st.getChildren().length>0)});it.length>0?((0,P.S6)(it,function(st){var Ot=st.getBBox();q.push(Ot.minX,Ot.maxX),K.push(Ot.minY,Ot.maxY)}),L=(0,O.min)(q),B=(0,O.max)(q),D=(0,O.min)(K),z=(0,O.max)(K)):(L=0,B=0,D=0,z=0);var ct={x:L,y:D,minX:L,minY:D,maxX:B,maxY:z,width:B-L,height:z-D};return ct},M.prototype.getCanvasBBox=function(){var L=Infinity,B=-Infinity,D=Infinity,z=-Infinity,q=[],K=[],it=this.getChildren().filter(function(st){return st.get("visible")&&(!st.isGroup()||st.isGroup()&&st.getChildren().length>0)});it.length>0?((0,P.S6)(it,function(st){var Ot=st.getCanvasBBox();q.push(Ot.minX,Ot.maxX),K.push(Ot.minY,Ot.maxY)}),L=(0,O.min)(q),B=(0,O.max)(q),D=(0,O.min)(K),z=(0,O.max)(K)):(L=0,B=0,D=0,z=0);var ct={x:L,y:D,minX:L,minY:D,maxX:B,maxY:z,width:B-L,height:z-D};return ct},M.prototype.getDefaultCfg=function(){var L=m.prototype.getDefaultCfg.call(this);return L.children=[],L},M.prototype.onAttrChange=function(L,B,D){if(m.prototype.onAttrChange.call(this,L,B,D),L==="matrix"){var z=this.getTotalMatrix();this._applyChildrenMarix(z)}},M.prototype.applyMatrix=function(L){var B=this.getTotalMatrix();m.prototype.applyMatrix.call(this,L);var D=this.getTotalMatrix();D!==B&&this._applyChildrenMarix(D)},M.prototype._applyChildrenMarix=function(L){var B=this.getChildren();(0,P.S6)(B,function(D){D.applyMatrix(L)})},M.prototype.addShape=function(){for(var L=[],B=0;B<arguments.length;B++)L[B]=arguments[B];var D=L[0],z=L[1];(0,P.Kn)(D)?z=D:z.type=D;var q=T[z.type];q||(q=(0,P.jC)(z.type),T[z.type]=q);var K=this.getShapeBase(),it=new K[q](z);return this.add(it),it},M.prototype.addGroup=function(){for(var L=[],B=0;B<arguments.length;B++)L[B]=arguments[B];var D=L[0],z=L[1],q;if((0,P.mf)(D))z?q=new D(z):q=new D({parent:this});else{var K=D||{},it=this.getGroupBase();q=new it(K)}return this.add(q),q},M.prototype.getCanvas=function(){var L;return this.isCanvas()?L=this:L=this.get("canvas"),L},M.prototype.getShape=function(L,B,D){if(!(0,P.pP)(this))return null;var z=this.getChildren(),q;if(this.isCanvas())q=this._findShape(z,L,B,D);else{var K=[L,B,1];K=this.invertFromMatrix(K),this.isClipped(K[0],K[1])||(q=this._findShape(z,K[0],K[1],D))}return q},M.prototype._findShape=function(L,B,D,z){for(var q=null,K=L.length-1;K>=0;K--){var it=L[K];if((0,P.pP)(it)&&(it.isGroup()?q=it.getShape(B,D,z):it.isHit(B,D)&&(q=it)),q)break}return q},M.prototype.add=function(L){var B=this.getCanvas(),D=this.getChildren(),z=this.get("timeline"),q=L.getParent();q&&b(q,L,!1),L.set("parent",this),B&&E(L,B),z&&C(L,z),D.push(L),L.onCanvasChange("add"),this._applyElementMatrix(L)},M.prototype._applyElementMatrix=function(L){var B=this.getTotalMatrix();B&&L.applyMatrix(B)},M.prototype.getChildren=function(){return this.get("children")},M.prototype.sort=function(){var L=this.getChildren();(0,P.S6)(L,function(B,D){return B[A]=D,B}),L.sort(x(function(B,D){return B.get("zIndex")-D.get("zIndex")})),this.onCanvasChange("sort")},M.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var L=this.getChildren(),B=L.length-1;B>=0;B--)L[B].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},M.prototype.destroy=function(){this.get("destroyed")||(this.clear(),m.prototype.destroy.call(this))},M.prototype.getFirst=function(){return this.getChildByIndex(0)},M.prototype.getLast=function(){var L=this.getChildren();return this.getChildByIndex(L.length-1)},M.prototype.getChildByIndex=function(L){var B=this.getChildren();return B[L]},M.prototype.getCount=function(){var L=this.getChildren();return L.length},M.prototype.contain=function(L){var B=this.getChildren();return B.indexOf(L)>-1},M.prototype.removeChild=function(L,B){B===void 0&&(B=!0),this.contain(L)&&L.remove(B)},M.prototype.findAll=function(L){var B=[],D=this.getChildren();return(0,P.S6)(D,function(z){L(z)&&B.push(z),z.isGroup()&&(B=B.concat(z.findAll(L)))}),B},M.prototype.find=function(L){var B=null,D=this.getChildren();return(0,P.S6)(D,function(z){if(L(z)?B=z:z.isGroup()&&(B=z.find(L)),B)return!1}),B},M.prototype.findById=function(L){return this.find(function(B){return B.get("id")===L})},M.prototype.findByClassName=function(L){return this.find(function(B){return B.get("className")===L})},M.prototype.findAllByName=function(L){return this.findAll(function(B){return B.get("name")===L})},M}(I.Z);S.Z=w},67229:function(mt,S,v){"use strict";v.d(S,{Z:function(){return Ht}});var g=v(37050),O=v(49242),I=v(35600);function P(N,W,X){var V=[0,0,0,0,0,0,0,0,0];return I.fromTranslation(V,X),I.multiply(N,V,W)}function T(N,W,X){var V=[0,0,0,0,0,0,0,0,0];return I.fromRotation(V,X),I.multiply(N,V,W)}function A(N,W,X){var V=[0,0,0,0,0,0,0,0,0];return I.fromScaling(V,X),I.multiply(N,V,W)}function E(N,W,X){return I.multiply(N,X,W)}function C(N,W){for(var X=N?[].concat(N):[1,0,0,0,1,0,0,0,1],V=0,lt=W.length;V<lt;V++){var Z=W[V];switch(Z[0]){case"t":P(X,X,[Z[1],Z[2]]);break;case"s":A(X,X,[Z[1],Z[2]]);break;case"r":T(X,X,Z[1]);break;case"m":E(X,X,Z[1]);break;default:break}}return X}function p(N,W){return N[0]*W[1]-W[0]*N[1]}function b(N,W,X){var V=vec2.angle(N,W),lt=p(N,W)>=0;return X?lt?Math.PI*2-V:V:lt?V:Math.PI*2-V}function x(N,W,X){return X?(N[0]=W[1],N[1]=-1*W[0]):(N[0]=-1*W[1],N[1]=W[0]),N}var w=v(30219),m=v(87109),M=v(95365),L=C,B="matrix",D=["zIndex","capture","visible","type"],z=["repeat"],q=":",K="*";function it(N){for(var W=[],X=0;X<N.length;X++)(0,O.isArray)(N[X])?W.push([].concat(N[X])):W.push(N[X]);return W}function ct(N,W){var X={},V=W.attrs;for(var lt in N)X[lt]=V[lt];return X}function st(N,W){var X={},V=W.attr();return(0,O.each)(N,function(lt,Z){z.indexOf(Z)===-1&&!(0,O.isEqual)(V[Z],lt)&&(X[Z]=lt)}),X}function Ot(N,W){if(W.onFrame)return N;var X=W.startTime,V=W.delay,lt=W.duration,Z=Object.prototype.hasOwnProperty;return(0,O.each)(N,function(U){X+V<U.startTime+U.delay+U.duration&&lt>U.delay&&(0,O.each)(W.toAttrs,function(j,H){Z.call(U.toAttrs,H)&&(delete U.toAttrs[H],delete U.fromAttrs[H])})}),N}var Dt=function(N){(0,g.ZT)(W,N);function W(X){var V=N.call(this,X)||this;V.attrs={};var lt=V.getDefaultAttrs();return(0,O.mix)(lt,X.attrs),V.attrs=lt,V.initAttrs(lt),V.initAnimate(),V}return W.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},W.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},W.prototype.onCanvasChange=function(X){},W.prototype.initAttrs=function(X){},W.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},W.prototype.isGroup=function(){return!1},W.prototype.getParent=function(){return this.get("parent")},W.prototype.getCanvas=function(){return this.get("canvas")},W.prototype.attr=function(){for(var X,V=[],lt=0;lt<arguments.length;lt++)V[lt]=arguments[lt];var Z=V[0],U=V[1];if(!Z)return this.attrs;if((0,O.isObject)(Z)){for(var j in Z)this.setAttr(j,Z[j]);return this.afterAttrsChange(Z),this}return V.length===2?(this.setAttr(Z,U),this.afterAttrsChange((X={},X[Z]=U,X)),this):this.attrs[Z]},W.prototype.isClipped=function(X,V){var lt=this.getClip();return lt&&!lt.isHit(X,V)},W.prototype.setAttr=function(X,V){var lt=this.attrs[X];lt!==V&&(this.attrs[X]=V,this.onAttrChange(X,V,lt))},W.prototype.onAttrChange=function(X,V,lt){X==="matrix"&&this.set("totalMatrix",null)},W.prototype.afterAttrsChange=function(X){if(this.cfg.isClipShape){var V=this.cfg.applyTo;V&&V.onCanvasChange("clip")}else this.onCanvasChange("attr")},W.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},W.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},W.prototype.setZIndex=function(X){this.set("zIndex",X);var V=this.getParent();return V&&V.sort(),this},W.prototype.toFront=function(){var X=this.getParent();if(!!X){var V=X.getChildren(),lt=this.get("el"),Z=V.indexOf(this);V.splice(Z,1),V.push(this),this.onCanvasChange("zIndex")}},W.prototype.toBack=function(){var X=this.getParent();if(!!X){var V=X.getChildren(),lt=this.get("el"),Z=V.indexOf(this);V.splice(Z,1),V.unshift(this),this.onCanvasChange("zIndex")}},W.prototype.remove=function(X){X===void 0&&(X=!0);var V=this.getParent();V?((0,w.As)(V.getChildren(),this),V.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),X&&this.destroy()},W.prototype.resetMatrix=function(){this.attr(B,this.getDefaultMatrix()),this.onCanvasChange("matrix")},W.prototype.getMatrix=function(){return this.attr(B)},W.prototype.setMatrix=function(X){this.attr(B,X),this.onCanvasChange("matrix")},W.prototype.getTotalMatrix=function(){var X=this.cfg.totalMatrix;if(!X){var V=this.attr("matrix"),lt=this.cfg.parentMatrix;lt&&V?X=(0,m.xq)(lt,V):X=V||lt,this.set("totalMatrix",X)}return X},W.prototype.applyMatrix=function(X){var V=this.attr("matrix"),lt=null;X&&V?lt=(0,m.xq)(X,V):lt=V||X,this.set("totalMatrix",lt),this.set("parentMatrix",X)},W.prototype.getDefaultMatrix=function(){return null},W.prototype.applyToMatrix=function(X){var V=this.attr("matrix");return V?(0,m.rG)(V,X):X},W.prototype.invertFromMatrix=function(X){var V=this.attr("matrix");if(V){var lt=(0,m.U_)(V);if(lt)return(0,m.rG)(lt,X)}return X},W.prototype.setClip=function(X){var V=this.getCanvas(),lt=null;if(X){var Z=this.getShapeBase(),U=(0,O.upperFirst)(X.type),j=Z[U];j&&(lt=new j({type:X.type,isClipShape:!0,applyTo:this,attrs:X.attrs,canvas:V}))}return this.set("clipShape",lt),this.onCanvasChange("clip"),lt},W.prototype.getClip=function(){var X=this.cfg.clipShape;return X||null},W.prototype.clone=function(){var X=this,V=this.attrs,lt={};(0,O.each)(V,function(j,H){(0,O.isArray)(V[H])?lt[H]=it(V[H]):lt[H]=V[H]});var Z=this.constructor,U=new Z({attrs:lt});return(0,O.each)(D,function(j){U.set(j,X.get(j))}),U},W.prototype.destroy=function(){var X=this.destroyed;X||(this.attrs={},N.prototype.destroy.call(this))},W.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},W.prototype.animate=function(){for(var X=[],V=0;V<arguments.length;V++)X[V]=arguments[V];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var lt=this.get("timeline");lt||(lt=this.get("canvas").get("timeline"),this.set("timeline",lt));var Z=this.get("animations")||[];lt.timer||lt.initTimer();var U=X[0],j=X[1],H=X[2],f=H===void 0?"easeLinear":H,yt=X[3],St=yt===void 0?O.noop:yt,at=X[4],Ct=at===void 0?0:at,wt,At,_t,Lt,xt;(0,O.isFunction)(U)?(wt=U,U={}):(0,O.isObject)(U)&&U.onFrame&&(wt=U.onFrame,At=U.repeat),(0,O.isObject)(j)?(xt=j,j=xt.duration,f=xt.easing||"easeLinear",Ct=xt.delay||0,At=xt.repeat||At||!1,St=xt.callback||O.noop,_t=xt.pauseCallback||O.noop,Lt=xt.resumeCallback||O.noop):((0,O.isNumber)(St)&&(Ct=St,St=null),(0,O.isFunction)(f)?(St=f,f="easeLinear"):f=f||"easeLinear");var ot=st(U,this),tt={fromAttrs:ct(ot,this),toAttrs:ot,duration:j,easing:f,repeat:At,callback:St,pauseCallback:_t,resumeCallback:Lt,delay:Ct,startTime:lt.getTime(),id:(0,O.uniqueId)(),onFrame:wt,pathFormatted:!1};Z.length>0?Z=Ot(Z,tt):lt.addAnimator(this),Z.push(tt),this.set("animations",Z),this.set("_pause",{isPaused:!1})}},W.prototype.stopAnimate=function(X){var V=this;X===void 0&&(X=!0);var lt=this.get("animations");(0,O.each)(lt,function(Z){X&&(Z.onFrame?V.attr(Z.onFrame(1)):V.attr(Z.toAttrs)),Z.callback&&Z.callback()}),this.set("animating",!1),this.set("animations",[])},W.prototype.pauseAnimate=function(){var X=this.get("timeline"),V=this.get("animations"),lt=X.getTime();return(0,O.each)(V,function(Z){Z._paused=!0,Z._pauseTime=lt,Z.pauseCallback&&Z.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:lt}),this},W.prototype.resumeAnimate=function(){var X=this.get("timeline"),V=X.getTime(),lt=this.get("animations"),Z=this.get("_pause").pauseTime;return(0,O.each)(lt,function(U){U.startTime=U.startTime+(V-Z),U._paused=!1,U._pauseTime=null,U.resumeCallback&&U.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",lt),this},W.prototype.emitDelegation=function(X,V){var lt=this,Z=V.propagationPath,U=this.getEvents(),j;X==="mouseenter"?j=V.fromShape:X==="mouseleave"&&(j=V.toShape);for(var H=function(at){var Ct=Z[at],wt=Ct.get("name");if(wt){if((Ct.isGroup()||Ct.isCanvas&&Ct.isCanvas())&&j&&(0,w.UY)(Ct,j))return"break";(0,O.isArray)(wt)?(0,O.each)(wt,function(At){lt.emitDelegateEvent(Ct,At,V)}):f.emitDelegateEvent(Ct,wt,V)}},f=this,yt=0;yt<Z.length;yt++){var St=H(yt);if(St==="break")break}},W.prototype.emitDelegateEvent=function(X,V,lt){var Z=this.getEvents(),U=V+q+lt.type;(Z[U]||Z[K])&&(lt.name=U,lt.currentTarget=X,lt.delegateTarget=this,lt.delegateObject=X.get("delegateObject"),this.emit(U,lt))},W.prototype.translate=function(X,V){X===void 0&&(X=0),V===void 0&&(V=0);var lt=this.getMatrix(),Z=L(lt,[["t",X,V]]);return this.setMatrix(Z),this},W.prototype.move=function(X,V){var lt=this.attr("x")||0,Z=this.attr("y")||0;return this.translate(X-lt,V-Z),this},W.prototype.moveTo=function(X,V){return this.move(X,V)},W.prototype.scale=function(X,V){var lt=this.getMatrix(),Z=L(lt,[["s",X,V||X]]);return this.setMatrix(Z),this},W.prototype.rotate=function(X){var V=this.getMatrix(),lt=L(V,[["r",X]]);return this.setMatrix(lt),this},W.prototype.rotateAtStart=function(X){var V=this.attr(),lt=V.x,Z=V.y,U=this.getMatrix(),j=L(U,[["t",-lt,-Z],["r",X],["t",lt,Z]]);return this.setMatrix(j),this},W.prototype.rotateAtPoint=function(X,V,lt){var Z=this.getMatrix(),U=L(Z,[["t",-X,-V],["r",lt],["t",X,V]]);return this.setMatrix(U),this},W}(M.Z),Ht=Dt},12352:function(mt,S,v){"use strict";var g=v(37050),O=v(29598),I=function(P){(0,g.ZT)(T,P);function T(){return P!==null&&P.apply(this,arguments)||this}return T.prototype.isGroup=function(){return!0},T.prototype.isEntityGroup=function(){return!1},T.prototype.clone=function(){for(var A=P.prototype.clone.call(this),E=this.getChildren(),C=0;C<E.length;C++){var p=E[C];A.add(p.clone())}return A},T}(O.Z);S.Z=I},86544:function(mt,S,v){"use strict";var g=v(37050),O=v(67229),I=v(87109),P=function(T){(0,g.ZT)(A,T);function A(E){return T.call(this,E)||this}return A.prototype._isInBBox=function(E,C){var p=this.getBBox();return p.minX<=E&&p.maxX>=E&&p.minY<=C&&p.maxY>=C},A.prototype.afterAttrsChange=function(E){T.prototype.afterAttrsChange.call(this,E),this.clearCacheBBox()},A.prototype.getBBox=function(){var E=this.cfg.bbox;return E||(E=this.calculateBBox(),this.set("bbox",E)),E},A.prototype.getCanvasBBox=function(){var E=this.cfg.canvasBBox;return E||(E=this.calculateCanvasBBox(),this.set("canvasBBox",E)),E},A.prototype.applyMatrix=function(E){T.prototype.applyMatrix.call(this,E),this.set("canvasBBox",null)},A.prototype.calculateCanvasBBox=function(){var E=this.getBBox(),C=this.getTotalMatrix(),p=E.minX,b=E.minY,x=E.maxX,w=E.maxY;if(C){var m=(0,I.rG)(C,[E.minX,E.minY]),M=(0,I.rG)(C,[E.maxX,E.minY]),L=(0,I.rG)(C,[E.minX,E.maxY]),B=(0,I.rG)(C,[E.maxX,E.maxY]);p=Math.min(m[0],M[0],L[0],B[0]),x=Math.max(m[0],M[0],L[0],B[0]),b=Math.min(m[1],M[1],L[1],B[1]),w=Math.max(m[1],M[1],L[1],B[1])}var D=this.attrs;if(D.shadowColor){var z=D.shadowBlur,q=z===void 0?0:z,K=D.shadowOffsetX,it=K===void 0?0:K,ct=D.shadowOffsetY,st=ct===void 0?0:ct,Ot=p-q+it,Dt=x+q+it,Ht=b-q+st,N=w+q+st;p=Math.min(p,Ot),x=Math.max(x,Dt),b=Math.min(b,Ht),w=Math.max(w,N)}return{x:p,y:b,minX:p,minY:b,maxX:x,maxY:w,width:x-p,height:w-b}},A.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},A.prototype.isClipShape=function(){return this.get("isClipShape")},A.prototype.isInShape=function(E,C){return!1},A.prototype.isOnlyHitBox=function(){return!1},A.prototype.isHit=function(E,C){var p=this.get("startArrowShape"),b=this.get("endArrowShape"),x=[E,C,1];x=this.invertFromMatrix(x);var w=x[0],m=x[1],M=this._isInBBox(w,m);return this.isOnlyHitBox()?M:!!(M&&!this.isClipped(w,m)&&(this.isInShape(w,m)||p&&p.isHit(w,m)||b&&b.isHit(w,m)))},A}(O.Z);S.Z=P},92146:function(mt,S,v){"use strict";v.d(S,{b:function(){return I}});var g=new Map;function O(K,it){g.set(K,it)}function I(K){return g.get(K)}function P(K){var it=K.attr(),ct=it.x,st=it.y,Ot=it.width,Dt=it.height;return{x:ct,y:st,width:Ot,height:Dt}}function T(K){var it=K.attr(),ct=it.x,st=it.y,Ot=it.r;return{x:ct-Ot,y:st-Ot,width:Ot*2,height:Ot*2}}var A=v(89838);function E(K,it){return!K||!it?K||it:{minX:Math.min(K.minX,it.minX),minY:Math.min(K.minY,it.minY),maxX:Math.max(K.maxX,it.maxX),maxY:Math.max(K.maxY,it.maxY)}}function C(K,it){var ct=K.get("startArrowShape"),st=K.get("endArrowShape"),Ot=null,Dt=null;return ct&&(Ot=ct.getCanvasBBox(),it=E(it,Ot)),st&&(Dt=st.getCanvasBBox(),it=E(it,Dt)),it}function p(K){for(var it=K.attr(),ct=it.points,st=[],Ot=[],Dt=0;Dt<ct.length;Dt++){var Ht=ct[Dt];st.push(Ht[0]),Ot.push(Ht[1])}var N=A.Util.getBBoxByArray(st,Ot),W=N.x,X=N.y,V=N.width,lt=N.height,Z={minX:W,minY:X,maxX:W+V,maxY:X+lt};return Z=C(K,Z),{x:Z.minX,y:Z.minY,width:Z.maxX-Z.minX,height:Z.maxY-Z.minY}}function b(K){for(var it=K.attr(),ct=it.points,st=[],Ot=[],Dt=0;Dt<ct.length;Dt++){var Ht=ct[Dt];st.push(Ht[0]),Ot.push(Ht[1])}return A.Util.getBBoxByArray(st,Ot)}var x=v(84723);function w(K){var it=K.attr(),ct=it.x,st=it.y,Ot=it.text,Dt=it.fontSize,Ht=it.lineHeight,N=it.font;N||(N=(0,x.$O)(it));var W=(0,x.mY)(Ot,N),X;if(!W)X={x:ct,y:st,width:0,height:0};else{var V=it.textAlign,lt=it.textBaseline,Z=(0,x.FE)(Ot,Dt,Ht),U={x:ct,y:st-Z};V&&(V==="end"||V==="right"?U.x-=W:V==="center"&&(U.x-=W/2)),lt&&(lt==="top"?U.y+=Z:lt==="middle"&&(U.y+=Z/2)),X={x:U.x,y:U.y,width:W,height:Z}}return X}var m=v(57350),M=v(49242);function L(K,it){for(var ct=[],st=[],Ot=[],Dt=0;Dt<K.length;Dt++){var Ht=K[Dt],N=Ht.currentPoint,W=Ht.params,X=Ht.prePoint,V=void 0;switch(Ht.command){case"Q":V=A.Quad.box(X[0],X[1],W[1],W[2],W[3],W[4]);break;case"C":V=A.Cubic.box(X[0],X[1],W[1],W[2],W[3],W[4],W[5],W[6]);break;case"A":var lt=Ht.arcParams;V=A.Arc.box(lt.cx,lt.cy,lt.rx,lt.ry,lt.xRotation,lt.startAngle,lt.endAngle);break;default:ct.push(N[0]),st.push(N[1]);break}V&&(Ht.box=V,ct.push(V.x,V.x+V.width),st.push(V.y,V.y+V.height)),it&&(Ht.command==="L"||Ht.command==="M")&&Ht.prePoint&&Ht.nextPoint&&Ot.push(Ht)}ct=ct.filter(function(yt){return!Number.isNaN(yt)}),st=st.filter(function(yt){return!Number.isNaN(yt)});var Z=(0,M.min)(ct),U=(0,M.min)(st),j=(0,M.max)(ct),H=(0,M.max)(st);if(Ot.length===0)return{x:Z,y:U,width:j-Z,height:H-U};for(var Dt=0;Dt<Ot.length;Dt++){var Ht=Ot[Dt],N=Ht.currentPoint,f=void 0;N[0]===Z?(f=B(Ht,it),Z=Z-f.xExtra):N[0]===j&&(f=B(Ht,it),j=j+f.xExtra),N[1]===U?(f=B(Ht,it),U=U-f.yExtra):N[1]===H&&(f=B(Ht,it),H=H+f.yExtra)}return{x:Z,y:U,width:j-Z,height:H-U}}function B(K,it){var ct=K.prePoint,st=K.currentPoint,Ot=K.nextPoint,Dt=Math.pow(st[0]-ct[0],2)+Math.pow(st[1]-ct[1],2),Ht=Math.pow(st[0]-Ot[0],2)+Math.pow(st[1]-Ot[1],2),N=Math.pow(ct[0]-Ot[0],2)+Math.pow(ct[1]-Ot[1],2),W=Math.acos((Dt+Ht-N)/(2*Math.sqrt(Dt)*Math.sqrt(Ht)));if(!W||Math.sin(W)===0||(0,M.isNumberEqual)(W,0))return{xExtra:0,yExtra:0};var X=Math.abs(Math.atan2(Ot[1]-st[1],Ot[0]-st[0])),V=Math.abs(Math.atan2(Ot[0]-st[0],Ot[1]-st[1]));X=X>Math.PI/2?Math.PI-X:X,V=V>Math.PI/2?Math.PI-V:V;var lt={xExtra:Math.cos(W/2-X)*(it/2*(1/Math.sin(W/2)))-it/2||0,yExtra:Math.cos(V-W/2)*(it/2*(1/Math.sin(W/2)))-it/2||0};return lt}function D(K){var it=K.attr(),ct=it.path,st=it.stroke,Ot=st?it.lineWidth:0,Dt=K.get("segments")||(0,m.path2Segments)(ct),Ht=L(Dt,Ot),N=Ht.x,W=Ht.y,X=Ht.width,V=Ht.height,lt={minX:N,minY:W,maxX:N+X,maxY:W+V};return lt=C(K,lt),{x:lt.minX,y:lt.minY,width:lt.maxX-lt.minX,height:lt.maxY-lt.minY}}function z(K){var it=K.attr(),ct=it.x1,st=it.y1,Ot=it.x2,Dt=it.y2,Ht=Math.min(ct,Ot),N=Math.max(ct,Ot),W=Math.min(st,Dt),X=Math.max(st,Dt),V={minX:Ht,maxX:N,minY:W,maxY:X};return V=C(K,V),{x:V.minX,y:V.minY,width:V.maxX-V.minX,height:V.maxY-V.minY}}function q(K){var it=K.attr(),ct=it.x,st=it.y,Ot=it.rx,Dt=it.ry;return{x:ct-Ot,y:st-Dt,width:Ot*2,height:Dt*2}}O("rect",P),O("image",P),O("circle",T),O("marker",T),O("polyline",p),O("polygon",b),O("text",w),O("path",D),O("line",z),O("ellipse",q)},76615:function(mt,S){"use strict";var v=function(){function g(O,I){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=O,this.name=O,this.originalEvent=I,this.timeStamp=I.timeStamp}return g.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},g.prototype.stopPropagation=function(){this.propagationStopped=!0},g.prototype.toString=function(){var O=this.type;return"[Event (type="+O+")]"},g.prototype.save=function(){},g.prototype.restore=function(){},g}();S.Z=v},96533:function(mt,S,v){"use strict";v.r(S),v.d(S,{Event:function(){return C.Z},Base:function(){return p.Z},AbstractCanvas:function(){return b.Z},AbstractGroup:function(){return x.Z},AbstractShape:function(){return w.Z},PathUtil:function(){return g},getBBoxMethod:function(){return m.b},getTextHeight:function(){return M.FE},assembleFont:function(){return M.$O},isAllowCapture:function(){return L.pP},multiplyVec2:function(){return B.rG},invert:function(){return B.U_},getOffScreenContext:function(){return D.L},version:function(){return z}});var g=v(24699),O=v(36438),I=v.n(O),P={};for(var T in O)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(T)<0&&(P[T]=function(q){return O[q]}.bind(0,T));v.d(S,P);var A=v(25946),E=v.n(A),P={};for(var T in A)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(T)<0&&(P[T]=function(K){return A[K]}.bind(0,T));v.d(S,P);var C=v(76615),p=v(95365),b=v(13658),x=v(12352),w=v(86544),m=v(92146),M=v(84723),L=v(30219),B=v(87109),D=v(71319),z="0.5.6"},25946:function(){},36438:function(){},87109:function(mt,S,v){"use strict";v.d(S,{xq:function(){return g},rG:function(){return O},U_:function(){return I}});function g(P,T){var A=[],E=P[0],C=P[1],p=P[2],b=P[3],x=P[4],w=P[5],m=P[6],M=P[7],L=P[8],B=T[0],D=T[1],z=T[2],q=T[3],K=T[4],it=T[5],ct=T[6],st=T[7],Ot=T[8];return A[0]=B*E+D*b+z*m,A[1]=B*C+D*x+z*M,A[2]=B*p+D*w+z*L,A[3]=q*E+K*b+it*m,A[4]=q*C+K*x+it*M,A[5]=q*p+K*w+it*L,A[6]=ct*E+st*b+Ot*m,A[7]=ct*C+st*x+Ot*M,A[8]=ct*p+st*w+Ot*L,A}function O(P,T){var A=[],E=T[0],C=T[1];return A[0]=P[0]*E+P[3]*C+P[6],A[1]=P[1]*E+P[4]*C+P[7],A}function I(P){var T=[],A=P[0],E=P[1],C=P[2],p=P[3],b=P[4],x=P[5],w=P[6],m=P[7],M=P[8],L=M*b-x*m,B=-M*p+x*w,D=m*p-b*w,z=A*L+E*B+C*D;return z?(z=1/z,T[0]=L*z,T[1]=(-M*E+C*m)*z,T[2]=(x*E-C*b)*z,T[3]=B*z,T[4]=(M*A-C*w)*z,T[5]=(-x*A+C*p)*z,T[6]=D*z,T[7]=(-m*A+E*w)*z,T[8]=(b*A-E*p)*z,T):null}},71319:function(mt,S,v){"use strict";v.d(S,{L:function(){return O}});var g=null;function O(){if(!g){var I=document.createElement("canvas");I.width=1,I.height=1,g=I.getContext("2d")}return g}},24699:function(mt,S,v){"use strict";v.r(S),v.d(S,{catmullRomToBezier:function(){return A},fillPath:function(){return lt},fillPathByDiff:function(){return H},formatPath:function(){return St},intersection:function(){return N},parsePathArray:function(){return M},parsePathString:function(){return T},pathToAbsolute:function(){return C},pathToCurve:function(){return w},rectPath:function(){return K}});var g=v(49242),O=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+O+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+O+"]*,?["+O+"]*)+)","ig"),P=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+O+"]*,?["+O+"]*","ig"),T=function(at){if(!at)return null;if((0,g.isArray)(at))return at;var Ct={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},wt=[];return String(at).replace(I,function(At,_t,Lt){var xt=[],ot=_t.toLowerCase();if(Lt.replace(P,function(tt,Q){Q&&xt.push(+Q)}),ot==="m"&&xt.length>2&&(wt.push([_t].concat(xt.splice(0,2))),ot="l",_t=_t==="m"?"l":"L"),ot==="o"&&xt.length===1&&wt.push([_t,xt[0]]),ot==="r")wt.push([_t].concat(xt));else for(;xt.length>=Ct[ot]&&(wt.push([_t].concat(xt.splice(0,Ct[ot]))),!!Ct[ot]););return at}),wt},A=function(at,Ct){for(var wt=[],At=0,_t=at.length;_t-2*!Ct>At;At+=2){var Lt=[{x:+at[At-2],y:+at[At-1]},{x:+at[At],y:+at[At+1]},{x:+at[At+2],y:+at[At+3]},{x:+at[At+4],y:+at[At+5]}];Ct?At?_t-4===At?Lt[3]={x:+at[0],y:+at[1]}:_t-2===At&&(Lt[2]={x:+at[0],y:+at[1]},Lt[3]={x:+at[2],y:+at[3]}):Lt[0]={x:+at[_t-2],y:+at[_t-1]}:_t-4===At?Lt[3]=Lt[2]:At||(Lt[0]={x:+at[At],y:+at[At+1]}),wt.push(["C",(-Lt[0].x+6*Lt[1].x+Lt[2].x)/6,(-Lt[0].y+6*Lt[1].y+Lt[2].y)/6,(Lt[1].x+6*Lt[2].x-Lt[3].x)/6,(Lt[1].y+6*Lt[2].y-Lt[3].y)/6,Lt[2].x,Lt[2].y])}return wt},E=function(at,Ct,wt,At,_t){var Lt=[];if(_t===null&&At===null&&(At=wt),at=+at,Ct=+Ct,wt=+wt,At=+At,_t!==null){var xt=Math.PI/180,ot=at+wt*Math.cos(-At*xt),tt=at+wt*Math.cos(-_t*xt),Q=Ct+wt*Math.sin(-At*xt),dt=Ct+wt*Math.sin(-_t*xt);Lt=[["M",ot,Q],["A",wt,wt,0,+(_t-At>180),0,tt,dt]]}else Lt=[["M",at,Ct],["m",0,-At],["a",wt,At,0,1,1,0,2*At],["a",wt,At,0,1,1,0,-2*At],["z"]];return Lt},C=function(at){if(at=T(at),!at||!at.length)return[["M",0,0]];var Ct=[],wt=0,At=0,_t=0,Lt=0,xt=0,ot,tt;at[0][0]==="M"&&(wt=+at[0][1],At=+at[0][2],_t=wt,Lt=At,xt++,Ct[0]=["M",wt,At]);for(var Q=at.length===3&&at[0][0]==="M"&&at[1][0].toUpperCase()==="R"&&at[2][0].toUpperCase()==="Z",dt=void 0,rt=void 0,nt=xt,pt=at.length;nt<pt;nt++){if(Ct.push(dt=[]),rt=at[nt],ot=rt[0],ot!==ot.toUpperCase())switch(dt[0]=ot.toUpperCase(),dt[0]){case"A":dt[1]=rt[1],dt[2]=rt[2],dt[3]=rt[3],dt[4]=rt[4],dt[5]=rt[5],dt[6]=+rt[6]+wt,dt[7]=+rt[7]+At;break;case"V":dt[1]=+rt[1]+At;break;case"H":dt[1]=+rt[1]+wt;break;case"R":tt=[wt,At].concat(rt.slice(1));for(var It=2,Vt=tt.length;It<Vt;It++)tt[It]=+tt[It]+wt,tt[++It]=+tt[It]+At;Ct.pop(),Ct=Ct.concat(A(tt,Q));break;case"O":Ct.pop(),tt=E(wt,At,rt[1],rt[2]),tt.push(tt[0]),Ct=Ct.concat(tt);break;case"U":Ct.pop(),Ct=Ct.concat(E(wt,At,rt[1],rt[2],rt[3])),dt=["U"].concat(Ct[Ct.length-1].slice(-2));break;case"M":_t=+rt[1]+wt,Lt=+rt[2]+At;break;default:for(var It=1,Vt=rt.length;It<Vt;It++)dt[It]=+rt[It]+(It%2?wt:At)}else if(ot==="R")tt=[wt,At].concat(rt.slice(1)),Ct.pop(),Ct=Ct.concat(A(tt,Q)),dt=["R"].concat(rt.slice(-2));else if(ot==="O")Ct.pop(),tt=E(wt,At,rt[1],rt[2]),tt.push(tt[0]),Ct=Ct.concat(tt);else if(ot==="U")Ct.pop(),Ct=Ct.concat(E(wt,At,rt[1],rt[2],rt[3])),dt=["U"].concat(Ct[Ct.length-1].slice(-2));else for(var Qt=0,he=rt.length;Qt<he;Qt++)dt[Qt]=rt[Qt];if(ot=ot.toUpperCase(),ot!=="O")switch(dt[0]){case"Z":wt=+_t,At=+Lt;break;case"H":wt=dt[1];break;case"V":At=dt[1];break;case"M":_t=dt[dt.length-2],Lt=dt[dt.length-1];break;default:wt=dt[dt.length-2],At=dt[dt.length-1]}}return Ct},p=function(at,Ct,wt,At){return[at,Ct,wt,At,wt,At]},b=function(at,Ct,wt,At,_t,Lt){var xt=1/3,ot=2/3;return[xt*at+ot*wt,xt*Ct+ot*At,xt*_t+ot*wt,xt*Lt+ot*At,_t,Lt]},x=function(at,Ct,wt,At,_t,Lt,xt,ot,tt,Q){wt===At&&(wt+=1);var dt=Math.PI*120/180,rt=Math.PI/180*(+_t||0),nt=[],pt,It,Vt,Qt,he,me=function(vr,Ze,br){var Lr=vr*Math.cos(br)-Ze*Math.sin(br),dr=vr*Math.sin(br)+Ze*Math.cos(br);return{x:Lr,y:dr}};if(Q)It=Q[0],Vt=Q[1],Qt=Q[2],he=Q[3];else{pt=me(at,Ct,-rt),at=pt.x,Ct=pt.y,pt=me(ot,tt,-rt),ot=pt.x,tt=pt.y,at===ot&&Ct===tt&&(ot+=1,tt+=1);var Xt=(at-ot)/2,$t=(Ct-tt)/2,fe=Xt*Xt/(wt*wt)+$t*$t/(At*At);fe>1&&(fe=Math.sqrt(fe),wt=fe*wt,At=fe*At);var Se=wt*wt,ke=At*At,Oe=(Lt===xt?-1:1)*Math.sqrt(Math.abs((Se*ke-Se*$t*$t-ke*Xt*Xt)/(Se*$t*$t+ke*Xt*Xt)));Qt=Oe*wt*$t/At+(at+ot)/2,he=Oe*-At*Xt/wt+(Ct+tt)/2,It=Math.asin(((Ct-he)/At).toFixed(9)),Vt=Math.asin(((tt-he)/At).toFixed(9)),It=at<Qt?Math.PI-It:It,Vt=ot<Qt?Math.PI-Vt:Vt,It<0&&(It=Math.PI*2+It),Vt<0&&(Vt=Math.PI*2+Vt),xt&&It>Vt&&(It=It-Math.PI*2),!xt&&Vt>It&&(Vt=Vt-Math.PI*2)}var $e=Vt-It;if(Math.abs($e)>dt){var lr=Vt,zt=ot,qt=tt;Vt=It+dt*(xt&&Vt>It?1:-1),ot=Qt+wt*Math.cos(Vt),tt=he+At*Math.sin(Vt),nt=x(ot,tt,wt,At,_t,0,xt,zt,qt,[Vt,lr,Qt,he])}$e=Vt-It;var ae=Math.cos(It),se=Math.sin(It),ge=Math.cos(Vt),Ce=Math.sin(Vt),Me=Math.tan($e/4),Te=4/3*wt*Me,xe=4/3*At*Me,ze=[at,Ct],je=[at+Te*se,Ct-xe*ae],fr=[ot+Te*Ce,tt-xe*ge],sr=[ot,tt];if(je[0]=2*ze[0]-je[0],je[1]=2*ze[1]-je[1],Q)return[je,fr,sr].concat(nt);nt=[je,fr,sr].concat(nt).join().split(",");for(var Je=[],Ne=0,xr=nt.length;Ne<xr;Ne++)Je[Ne]=Ne%2?me(nt[Ne-1],nt[Ne],rt).y:me(nt[Ne],nt[Ne+1],rt).x;return Je},w=function(at,Ct){var wt=C(at),At=Ct&&C(Ct),_t={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Lt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},xt=[],ot=[],tt="",Q="",dt,rt=function(Xt,$t,fe){var Se,ke;if(!Xt)return["C",$t.x,$t.y,$t.x,$t.y,$t.x,$t.y];switch(!(Xt[0]in{T:1,Q:1})&&($t.qx=$t.qy=null),Xt[0]){case"M":$t.X=Xt[1],$t.Y=Xt[2];break;case"A":Xt=["C"].concat(x.apply(0,[$t.x,$t.y].concat(Xt.slice(1))));break;case"S":fe==="C"||fe==="S"?(Se=$t.x*2-$t.bx,ke=$t.y*2-$t.by):(Se=$t.x,ke=$t.y),Xt=["C",Se,ke].concat(Xt.slice(1));break;case"T":fe==="Q"||fe==="T"?($t.qx=$t.x*2-$t.qx,$t.qy=$t.y*2-$t.qy):($t.qx=$t.x,$t.qy=$t.y),Xt=["C"].concat(b($t.x,$t.y,$t.qx,$t.qy,Xt[1],Xt[2]));break;case"Q":$t.qx=Xt[1],$t.qy=Xt[2],Xt=["C"].concat(b($t.x,$t.y,Xt[1],Xt[2],Xt[3],Xt[4]));break;case"L":Xt=["C"].concat(p($t.x,$t.y,Xt[1],Xt[2]));break;case"H":Xt=["C"].concat(p($t.x,$t.y,Xt[1],$t.y));break;case"V":Xt=["C"].concat(p($t.x,$t.y,$t.x,Xt[1]));break;case"Z":Xt=["C"].concat(p($t.x,$t.y,$t.X,$t.Y));break;default:break}return Xt},nt=function(Xt,$t){if(Xt[$t].length>7){Xt[$t].shift();for(var fe=Xt[$t];fe.length;)xt[$t]="A",At&&(ot[$t]="A"),Xt.splice($t++,0,["C"].concat(fe.splice(0,6)));Xt.splice($t,1),dt=Math.max(wt.length,At&&At.length||0)}},pt=function(Xt,$t,fe,Se,ke){Xt&&$t&&Xt[ke][0]==="M"&&$t[ke][0]!=="M"&&($t.splice(ke,0,["M",Se.x,Se.y]),fe.bx=0,fe.by=0,fe.x=Xt[ke][1],fe.y=Xt[ke][2],dt=Math.max(wt.length,At&&At.length||0))};dt=Math.max(wt.length,At&&At.length||0);for(var It=0;It<dt;It++){wt[It]&&(tt=wt[It][0]),tt!=="C"&&(xt[It]=tt,It&&(Q=xt[It-1])),wt[It]=rt(wt[It],_t,Q),xt[It]!=="A"&&tt==="C"&&(xt[It]="C"),nt(wt,It),At&&(At[It]&&(tt=At[It][0]),tt!=="C"&&(ot[It]=tt,It&&(Q=ot[It-1])),At[It]=rt(At[It],Lt,Q),ot[It]!=="A"&&tt==="C"&&(ot[It]="C"),nt(At,It)),pt(wt,At,_t,Lt,It),pt(At,wt,Lt,_t,It);var Vt=wt[It],Qt=At&&At[It],he=Vt.length,me=At&&Qt.length;_t.x=Vt[he-2],_t.y=Vt[he-1],_t.bx=parseFloat(Vt[he-4])||_t.x,_t.by=parseFloat(Vt[he-3])||_t.y,Lt.bx=At&&(parseFloat(Qt[me-4])||Lt.x),Lt.by=At&&(parseFloat(Qt[me-3])||Lt.y),Lt.x=At&&Qt[me-2],Lt.y=At&&Qt[me-1]}return At?[wt,At]:wt},m=/,?([a-z]),?/gi,M=function(at){return at.join(",").replace(m,"$1")},L=function(at,Ct,wt,At,_t){var Lt=-3*Ct+9*wt-9*At+3*_t,xt=at*Lt+6*Ct-12*wt+6*At;return at*xt-3*Ct+3*wt},B=function(at,Ct,wt,At,_t,Lt,xt,ot,tt){tt===null&&(tt=1),tt=tt>1?1:tt<0?0:tt;for(var Q=tt/2,dt=12,rt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],nt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],pt=0,It=0;It<dt;It++){var Vt=Q*rt[It]+Q,Qt=L(Vt,at,wt,_t,xt),he=L(Vt,Ct,At,Lt,ot),me=Qt*Qt+he*he;pt+=nt[It]*Math.sqrt(me)}return Q*pt},D=function(at,Ct,wt,At,_t,Lt,xt,ot){for(var tt=[],Q=[[],[]],dt,rt,nt,pt,It=0;It<2;++It){if(It===0?(rt=6*at-12*wt+6*_t,dt=-3*at+9*wt-9*_t+3*xt,nt=3*wt-3*at):(rt=6*Ct-12*At+6*Lt,dt=-3*Ct+9*At-9*Lt+3*ot,nt=3*At-3*Ct),Math.abs(dt)<1e-12){if(Math.abs(rt)<1e-12)continue;pt=-nt/rt,pt>0&&pt<1&&tt.push(pt);continue}var Vt=rt*rt-4*nt*dt,Qt=Math.sqrt(Vt);if(!(Vt<0)){var he=(-rt+Qt)/(2*dt);he>0&&he<1&&tt.push(he);var me=(-rt-Qt)/(2*dt);me>0&&me<1&&tt.push(me)}}for(var Xt=tt.length,$t=Xt,fe;Xt--;)pt=tt[Xt],fe=1-pt,Q[0][Xt]=fe*fe*fe*at+3*fe*fe*pt*wt+3*fe*pt*pt*_t+pt*pt*pt*xt,Q[1][Xt]=fe*fe*fe*Ct+3*fe*fe*pt*At+3*fe*pt*pt*Lt+pt*pt*pt*ot;return Q[0][$t]=at,Q[1][$t]=Ct,Q[0][$t+1]=xt,Q[1][$t+1]=ot,Q[0].length=Q[1].length=$t+2,{min:{x:Math.min.apply(0,Q[0]),y:Math.min.apply(0,Q[1])},max:{x:Math.max.apply(0,Q[0]),y:Math.max.apply(0,Q[1])}}},z=function(at,Ct,wt,At,_t,Lt,xt,ot){if(!(Math.max(at,wt)<Math.min(_t,xt)||Math.min(at,wt)>Math.max(_t,xt)||Math.max(Ct,At)<Math.min(Lt,ot)||Math.min(Ct,At)>Math.max(Lt,ot))){var tt=(at*At-Ct*wt)*(_t-xt)-(at-wt)*(_t*ot-Lt*xt),Q=(at*At-Ct*wt)*(Lt-ot)-(Ct-At)*(_t*ot-Lt*xt),dt=(at-wt)*(Lt-ot)-(Ct-At)*(_t-xt);if(!!dt){var rt=tt/dt,nt=Q/dt,pt=+rt.toFixed(2),It=+nt.toFixed(2);if(!(pt<+Math.min(at,wt).toFixed(2)||pt>+Math.max(at,wt).toFixed(2)||pt<+Math.min(_t,xt).toFixed(2)||pt>+Math.max(_t,xt).toFixed(2)||It<+Math.min(Ct,At).toFixed(2)||It>+Math.max(Ct,At).toFixed(2)||It<+Math.min(Lt,ot).toFixed(2)||It>+Math.max(Lt,ot).toFixed(2)))return{x:rt,y:nt}}}},q=function(at,Ct,wt){return Ct>=at.x&&Ct<=at.x+at.width&&wt>=at.y&&wt<=at.y+at.height},K=function(at,Ct,wt,At,_t){if(_t)return[["M",+at+ +_t,Ct],["l",wt-_t*2,0],["a",_t,_t,0,0,1,_t,_t],["l",0,At-_t*2],["a",_t,_t,0,0,1,-_t,_t],["l",_t*2-wt,0],["a",_t,_t,0,0,1,-_t,-_t],["l",0,_t*2-At],["a",_t,_t,0,0,1,_t,-_t],["z"]];var Lt=[["M",at,Ct],["l",wt,0],["l",0,At],["l",-wt,0],["z"]];return Lt.parsePathArray=M,Lt},it=function(at,Ct,wt,At){return at===null&&(at=Ct=wt=At=0),Ct===null&&(Ct=at.y,wt=at.width,At=at.height,at=at.x),{x:at,y:Ct,width:wt,w:wt,height:At,h:At,x2:at+wt,y2:Ct+At,cx:at+wt/2,cy:Ct+At/2,r1:Math.min(wt,At)/2,r2:Math.max(wt,At)/2,r0:Math.sqrt(wt*wt+At*At)/2,path:K(at,Ct,wt,At),vb:[at,Ct,wt,At].join(" ")}},ct=function(at,Ct){return at=it(at),Ct=it(Ct),q(Ct,at.x,at.y)||q(Ct,at.x2,at.y)||q(Ct,at.x,at.y2)||q(Ct,at.x2,at.y2)||q(at,Ct.x,Ct.y)||q(at,Ct.x2,Ct.y)||q(at,Ct.x,Ct.y2)||q(at,Ct.x2,Ct.y2)||(at.x<Ct.x2&&at.x>Ct.x||Ct.x<at.x2&&Ct.x>at.x)&&(at.y<Ct.y2&&at.y>Ct.y||Ct.y<at.y2&&Ct.y>at.y)},st=function(at,Ct,wt,At,_t,Lt,xt,ot){(0,g.isArray)(at)||(at=[at,Ct,wt,At,_t,Lt,xt,ot]);var tt=D.apply(null,at);return it(tt.min.x,tt.min.y,tt.max.x-tt.min.x,tt.max.y-tt.min.y)},Ot=function(at,Ct,wt,At,_t,Lt,xt,ot,tt){var Q=1-tt,dt=Math.pow(Q,3),rt=Math.pow(Q,2),nt=tt*tt,pt=nt*tt,It=dt*at+rt*3*tt*wt+Q*3*tt*tt*_t+pt*xt,Vt=dt*Ct+rt*3*tt*At+Q*3*tt*tt*Lt+pt*ot,Qt=at+2*tt*(wt-at)+nt*(_t-2*wt+at),he=Ct+2*tt*(At-Ct)+nt*(Lt-2*At+Ct),me=wt+2*tt*(_t-wt)+nt*(xt-2*_t+wt),Xt=At+2*tt*(Lt-At)+nt*(ot-2*Lt+At),$t=Q*at+tt*wt,fe=Q*Ct+tt*At,Se=Q*_t+tt*xt,ke=Q*Lt+tt*ot,Oe=90-Math.atan2(Qt-me,he-Xt)*180/Math.PI;return{x:It,y:Vt,m:{x:Qt,y:he},n:{x:me,y:Xt},start:{x:$t,y:fe},end:{x:Se,y:ke},alpha:Oe}},Dt=function(at,Ct,wt){var At=st(at),_t=st(Ct);if(!ct(At,_t))return wt?0:[];for(var Lt=B.apply(0,at),xt=B.apply(0,Ct),ot=~~(Lt/8),tt=~~(xt/8),Q=[],dt=[],rt={},nt=wt?0:[],pt=0;pt<ot+1;pt++){var It=Ot.apply(0,at.concat(pt/ot));Q.push({x:It.x,y:It.y,t:pt/ot})}for(var pt=0;pt<tt+1;pt++){var It=Ot.apply(0,Ct.concat(pt/tt));dt.push({x:It.x,y:It.y,t:pt/tt})}for(var pt=0;pt<ot;pt++)for(var Vt=0;Vt<tt;Vt++){var Qt=Q[pt],he=Q[pt+1],me=dt[Vt],Xt=dt[Vt+1],$t=Math.abs(he.x-Qt.x)<.001?"y":"x",fe=Math.abs(Xt.x-me.x)<.001?"y":"x",Se=z(Qt.x,Qt.y,he.x,he.y,me.x,me.y,Xt.x,Xt.y);if(Se){if(rt[Se.x.toFixed(4)]===Se.y.toFixed(4))continue;rt[Se.x.toFixed(4)]=Se.y.toFixed(4);var ke=Qt.t+Math.abs((Se[$t]-Qt[$t])/(he[$t]-Qt[$t]))*(he.t-Qt.t),Oe=me.t+Math.abs((Se[fe]-me[fe])/(Xt[fe]-me[fe]))*(Xt.t-me.t);ke>=0&&ke<=1&&Oe>=0&&Oe<=1&&(wt?nt+=1:nt.push({x:Se.x,y:Se.y,t1:ke,t2:Oe}))}}return nt},Ht=function(at,Ct,wt){at=w(at),Ct=w(Ct);for(var At,_t,Lt,xt,ot,tt,Q,dt,rt,nt,pt=wt?0:[],It=0,Vt=at.length;It<Vt;It++){var Qt=at[It];if(Qt[0]==="M")At=ot=Qt[1],_t=tt=Qt[2];else{Qt[0]==="C"?(rt=[At,_t].concat(Qt.slice(1)),At=rt[6],_t=rt[7]):(rt=[At,_t,At,_t,ot,tt,ot,tt],At=ot,_t=tt);for(var he=0,me=Ct.length;he<me;he++){var Xt=Ct[he];if(Xt[0]==="M")Lt=Q=Xt[1],xt=dt=Xt[2];else{Xt[0]==="C"?(nt=[Lt,xt].concat(Xt.slice(1)),Lt=nt[6],xt=nt[7]):(nt=[Lt,xt,Lt,xt,Q,dt,Q,dt],Lt=Q,xt=dt);var $t=Dt(rt,nt,wt);if(wt)pt+=$t;else{for(var fe=0,Se=$t.length;fe<Se;fe++)$t[fe].segment1=It,$t[fe].segment2=he,$t[fe].bez1=rt,$t[fe].bez2=nt;pt=pt.concat($t)}}}}}return pt},N=function(at,Ct){return Ht(at,Ct)};function W(at,Ct){var wt=[],At=[];function _t(Lt,xt){if(Lt.length===1)wt.push(Lt[0]),At.push(Lt[0]);else{for(var ot=[],tt=0;tt<Lt.length-1;tt++)tt===0&&wt.push(Lt[0]),tt===Lt.length-2&&At.push(Lt[tt+1]),ot[tt]=[(1-xt)*Lt[tt][0]+xt*Lt[tt+1][0],(1-xt)*Lt[tt][1]+xt*Lt[tt+1][1]];_t(ot,xt)}}return at.length&&_t(at,Ct),{left:wt,right:At.reverse()}}function X(at,Ct,wt){var At=[[at[1],at[2]]];wt=wt||2;var _t=[];Ct[0]==="A"?(At.push(Ct[6]),At.push(Ct[7])):Ct[0]==="C"?(At.push([Ct[1],Ct[2]]),At.push([Ct[3],Ct[4]]),At.push([Ct[5],Ct[6]])):Ct[0]==="S"||Ct[0]==="Q"?(At.push([Ct[1],Ct[2]]),At.push([Ct[3],Ct[4]])):At.push([Ct[1],Ct[2]]);for(var Lt=At,xt=1/wt,ot=0;ot<wt-1;ot++){var tt=xt/(1-xt*ot),Q=W(Lt,tt);_t.push(Q.left),Lt=Q.right}_t.push(Lt);var dt=_t.map(function(rt){var nt=[];return rt.length===4&&(nt.push("C"),nt=nt.concat(rt[2])),rt.length>=3&&(rt.length===3&&nt.push("Q"),nt=nt.concat(rt[1])),rt.length===2&&nt.push("L"),nt=nt.concat(rt[rt.length-1]),nt});return dt}var V=function(at,Ct,wt){if(wt===1)return[[].concat(at)];var At=[];if(Ct[0]==="L"||Ct[0]==="C"||Ct[0]==="Q")At=At.concat(X(at,Ct,wt));else{var _t=[].concat(at);_t[0]==="M"&&(_t[0]="L");for(var Lt=0;Lt<=wt-1;Lt++)At.push(_t)}return At},lt=function(at,Ct){if(at.length===1)return at;var wt=at.length-1,At=Ct.length-1,_t=wt/At,Lt=[];if(at.length===1&&at[0][0]==="M"){for(var xt=0;xt<At-wt;xt++)at.push(at[0]);return at}for(var xt=0;xt<At;xt++){var ot=Math.floor(_t*xt);Lt[ot]=(Lt[ot]||0)+1}var tt=Lt.reduce(function(Q,dt,rt){return rt===wt?Q.concat(at[wt]):Q.concat(V(at[rt],at[rt+1],dt))},[]);return tt.unshift(at[0]),(Ct[At]==="Z"||Ct[At]==="z")&&tt.push("Z"),tt},Z=function(at,Ct){if(at.length!==Ct.length)return!1;var wt=!0;return(0,g.each)(at,function(At,_t){if(At!==Ct[_t])return wt=!1,!1}),wt};function U(at,Ct,wt){var At=null,_t=wt;return Ct<_t&&(_t=Ct,At="add"),at<_t&&(_t=at,At="del"),{type:At,min:_t}}var j=function(at,Ct){var wt=at.length,At=Ct.length,_t,Lt,xt=0;if(wt===0||At===0)return null;for(var ot=[],tt=0;tt<=wt;tt++)ot[tt]=[],ot[tt][0]={min:tt};for(var Q=0;Q<=At;Q++)ot[0][Q]={min:Q};for(var tt=1;tt<=wt;tt++){_t=at[tt-1];for(var Q=1;Q<=At;Q++){Lt=Ct[Q-1],Z(_t,Lt)?xt=0:xt=1;var dt=ot[tt-1][Q].min+1,rt=ot[tt][Q-1].min+1,nt=ot[tt-1][Q-1].min+xt;ot[tt][Q]=U(dt,rt,nt)}}return ot},H=function(at,Ct){var wt=j(at,Ct),At=at.length,_t=Ct.length,Lt=[],xt=1,ot=1;if(wt[At][_t].min!==At){for(var tt=1;tt<=At;tt++){var Q=wt[tt][tt].min;ot=tt;for(var dt=xt;dt<=_t;dt++)wt[tt][dt].min<Q&&(Q=wt[tt][dt].min,ot=dt);xt=ot,wt[tt][xt].type&&Lt.push({index:tt-1,type:wt[tt][xt].type})}for(var tt=Lt.length-1;tt>=0;tt--)xt=Lt[tt].index,Lt[tt].type==="add"?at.splice(xt,0,[].concat(at[xt])):at.splice(xt,1)}At=at.length;var rt=_t-At;if(At<_t)for(var tt=0;tt<rt;tt++)at[At-1][0]==="z"||at[At-1][0]==="Z"?at.splice(At-2,0,at[At-2]):at.push(at[At-1]),At+=1;return at};function f(at,Ct,wt){for(var At=[].concat(at),_t,Lt=1/(wt+1),xt=yt(Ct)[0],ot=1;ot<=wt;ot++)Lt*=ot,_t=Math.floor(at.length*Lt),_t===0?At.unshift([xt[0]*Lt+at[_t][0]*(1-Lt),xt[1]*Lt+at[_t][1]*(1-Lt)]):At.splice(_t,0,[xt[0]*Lt+at[_t][0]*(1-Lt),xt[1]*Lt+at[_t][1]*(1-Lt)]);return At}function yt(at){var Ct=[];switch(at[0]){case"M":Ct.push([at[1],at[2]]);break;case"L":Ct.push([at[1],at[2]]);break;case"A":Ct.push([at[6],at[7]]);break;case"Q":Ct.push([at[3],at[4]]),Ct.push([at[1],at[2]]);break;case"T":Ct.push([at[1],at[2]]);break;case"C":Ct.push([at[5],at[6]]),Ct.push([at[1],at[2]]),Ct.push([at[3],at[4]]);break;case"S":Ct.push([at[3],at[4]]),Ct.push([at[1],at[2]]);break;case"H":Ct.push([at[1],at[1]]);break;case"V":Ct.push([at[1],at[1]]);break;default:}return Ct}var St=function(at,Ct){if(at.length<=1)return at;for(var wt,At=0;At<Ct.length;At++)if(at[At][0]!==Ct[At][0])switch(wt=yt(at[At]),Ct[At][0]){case"M":at[At]=["M"].concat(wt[0]);break;case"L":at[At]=["L"].concat(wt[0]);break;case"A":at[At]=[].concat(Ct[At]),at[At][6]=wt[0][0],at[At][7]=wt[0][1];break;case"Q":if(wt.length<2)if(At>0)wt=f(wt,at[At-1],1);else{at[At]=Ct[At];break}at[At]=["Q"].concat(wt.reduce(function(_t,Lt){return _t.concat(Lt)},[]));break;case"T":at[At]=["T"].concat(wt[0]);break;case"C":if(wt.length<3)if(At>0)wt=f(wt,at[At-1],2);else{at[At]=Ct[At];break}at[At]=["C"].concat(wt.reduce(function(_t,Lt){return _t.concat(Lt)},[]));break;case"S":if(wt.length<2)if(At>0)wt=f(wt,at[At-1],1);else{at[At]=Ct[At];break}at[At]=["S"].concat(wt.reduce(function(_t,Lt){return _t.concat(Lt)},[]));break;default:at[At]=Ct[At]}return at}},84723:function(mt,S,v){"use strict";v.d(S,{FE:function(){return I},mY:function(){return T},$O:function(){return A}});var g=v(30219),O=v(71319);function I(E,C,p){var b=1;if((0,g.HD)(E)&&(b=E.split(`
`).length),b>1){var x=P(C,p);return C*b+x*(b-1)}return C}function P(E,C){return C?C-E:E*.14}function T(E,C){var p=(0,O.L)(),b=0;if((0,g.kK)(E)||E==="")return b;if(p.save(),p.font=C,(0,g.HD)(E)&&E.includes(`
`)){var x=E.split(`
`);(0,g.S6)(x,function(w){var m=p.measureText(w).width;b<m&&(b=m)})}else b=p.measureText(E).width;return p.restore(),b}function A(E){var C=E.fontSize,p=E.fontFamily,b=E.fontWeight,x=E.fontStyle,w=E.fontVariant;return[x,w,b,C+"px",p].join(" ").trim()}},30219:function(mt,S,v){"use strict";v.d(S,{As:function(){return O},jU:function(){return I},kK:function(){return g.isNil},mf:function(){return g.isFunction},HD:function(){return g.isString},Kn:function(){return g.isObject},CD:function(){return g.mix},S6:function(){return g.each},jC:function(){return g.upperFirst},UY:function(){return P},pP:function(){return T}});var g=v(49242);function O(A,E){var C=A.indexOf(E);C!==-1&&A.splice(C,1)}var I=typeof window!="undefined"&&typeof window.document!="undefined";function P(A,E){if(A.isCanvas())return!0;for(var C=E.getParent(),p=!1;C;){if(C===A){p=!0;break}C=C.getParent()}return p}function T(A){return A.cfg.visible&&A.cfg.capture}},21885:function(mt,S){"use strict";var v;v={value:!0};var g=function(){function O(I,P){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=I,this.name=I,this.originalEvent=P,this.timeStamp=P.timeStamp}return O.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},O.prototype.stopPropagation=function(){this.propagationStopped=!0},O.prototype.toString=function(){var I=this.type;return"[Event (type="+I+")]"},O.prototype.save=function(){},O.prototype.restore=function(){},O}();S.Z=g},37050:function(mt,S,v){"use strict";v.d(S,{ZT:function(){return O}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var g=function(N,W){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,V){X.__proto__=V}||function(X,V){for(var lt in V)Object.prototype.hasOwnProperty.call(V,lt)&&(X[lt]=V[lt])},g(N,W)};function O(N,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");g(N,W);function X(){this.constructor=N}N.prototype=W===null?Object.create(W):(X.prototype=W.prototype,new X)}var I=function(){return I=Object.assign||function(W){for(var X,V=1,lt=arguments.length;V<lt;V++){X=arguments[V];for(var Z in X)Object.prototype.hasOwnProperty.call(X,Z)&&(W[Z]=X[Z])}return W},I.apply(this,arguments)};function P(N,W){var X={};for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&W.indexOf(V)<0&&(X[V]=N[V]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lt=0,V=Object.getOwnPropertySymbols(N);lt<V.length;lt++)W.indexOf(V[lt])<0&&Object.prototype.propertyIsEnumerable.call(N,V[lt])&&(X[V[lt]]=N[V[lt]]);return X}function T(N,W,X,V){var lt=arguments.length,Z=lt<3?W:V===null?V=Object.getOwnPropertyDescriptor(W,X):V,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(N,W,X,V);else for(var j=N.length-1;j>=0;j--)(U=N[j])&&(Z=(lt<3?U(Z):lt>3?U(W,X,Z):U(W,X))||Z);return lt>3&&Z&&Object.defineProperty(W,X,Z),Z}function A(N,W){return function(X,V){W(X,V,N)}}function E(N,W){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(N,W)}function C(N,W,X,V){function lt(Z){return Z instanceof X?Z:new X(function(U){U(Z)})}return new(X||(X=Promise))(function(Z,U){function j(yt){try{f(V.next(yt))}catch(St){U(St)}}function H(yt){try{f(V.throw(yt))}catch(St){U(St)}}function f(yt){yt.done?Z(yt.value):lt(yt.value).then(j,H)}f((V=V.apply(N,W||[])).next())})}function p(N,W){var X={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},V,lt,Z,U;return U={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function j(f){return function(yt){return H([f,yt])}}function H(f){if(V)throw new TypeError("Generator is already executing.");for(;X;)try{if(V=1,lt&&(Z=f[0]&2?lt.return:f[0]?lt.throw||((Z=lt.return)&&Z.call(lt),0):lt.next)&&!(Z=Z.call(lt,f[1])).done)return Z;switch(lt=0,Z&&(f=[f[0]&2,Z.value]),f[0]){case 0:case 1:Z=f;break;case 4:return X.label++,{value:f[1],done:!1};case 5:X.label++,lt=f[1],f=[0];continue;case 7:f=X.ops.pop(),X.trys.pop();continue;default:if(Z=X.trys,!(Z=Z.length>0&&Z[Z.length-1])&&(f[0]===6||f[0]===2)){X=0;continue}if(f[0]===3&&(!Z||f[1]>Z[0]&&f[1]<Z[3])){X.label=f[1];break}if(f[0]===6&&X.label<Z[1]){X.label=Z[1],Z=f;break}if(Z&&X.label<Z[2]){X.label=Z[2],X.ops.push(f);break}Z[2]&&X.ops.pop(),X.trys.pop();continue}f=W.call(N,X)}catch(yt){f=[6,yt],lt=0}finally{V=Z=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var b=Object.create?function(N,W,X,V){V===void 0&&(V=X),Object.defineProperty(N,V,{enumerable:!0,get:function(){return W[X]}})}:function(N,W,X,V){V===void 0&&(V=X),N[V]=W[X]};function x(N,W){for(var X in N)X!=="default"&&!Object.prototype.hasOwnProperty.call(W,X)&&b(W,N,X)}function w(N){var W=typeof Symbol=="function"&&Symbol.iterator,X=W&&N[W],V=0;if(X)return X.call(N);if(N&&typeof N.length=="number")return{next:function(){return N&&V>=N.length&&(N=void 0),{value:N&&N[V++],done:!N}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(N,W){var X=typeof Symbol=="function"&&N[Symbol.iterator];if(!X)return N;var V=X.call(N),lt,Z=[],U;try{for(;(W===void 0||W-- >0)&&!(lt=V.next()).done;)Z.push(lt.value)}catch(j){U={error:j}}finally{try{lt&&!lt.done&&(X=V.return)&&X.call(V)}finally{if(U)throw U.error}}return Z}function M(){for(var N=[],W=0;W<arguments.length;W++)N=N.concat(m(arguments[W]));return N}function L(){for(var N=0,W=0,X=arguments.length;W<X;W++)N+=arguments[W].length;for(var V=Array(N),lt=0,W=0;W<X;W++)for(var Z=arguments[W],U=0,j=Z.length;U<j;U++,lt++)V[lt]=Z[U];return V}function B(N,W,X){if(X||arguments.length===2)for(var V=0,lt=W.length,Z;V<lt;V++)(Z||!(V in W))&&(Z||(Z=Array.prototype.slice.call(W,0,V)),Z[V]=W[V]);return N.concat(Z||Array.prototype.slice.call(W))}function D(N){return this instanceof D?(this.v=N,this):new D(N)}function z(N,W,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V=X.apply(N,W||[]),lt,Z=[];return lt={},U("next"),U("throw"),U("return"),lt[Symbol.asyncIterator]=function(){return this},lt;function U(at){V[at]&&(lt[at]=function(Ct){return new Promise(function(wt,At){Z.push([at,Ct,wt,At])>1||j(at,Ct)})})}function j(at,Ct){try{H(V[at](Ct))}catch(wt){St(Z[0][3],wt)}}function H(at){at.value instanceof D?Promise.resolve(at.value.v).then(f,yt):St(Z[0][2],at)}function f(at){j("next",at)}function yt(at){j("throw",at)}function St(at,Ct){at(Ct),Z.shift(),Z.length&&j(Z[0][0],Z[0][1])}}function q(N){var W,X;return W={},V("next"),V("throw",function(lt){throw lt}),V("return"),W[Symbol.iterator]=function(){return this},W;function V(lt,Z){W[lt]=N[lt]?function(U){return(X=!X)?{value:D(N[lt](U)),done:lt==="return"}:Z?Z(U):U}:Z}}function K(N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=N[Symbol.asyncIterator],X;return W?W.call(N):(N=typeof w=="function"?w(N):N[Symbol.iterator](),X={},V("next"),V("throw"),V("return"),X[Symbol.asyncIterator]=function(){return this},X);function V(Z){X[Z]=N[Z]&&function(U){return new Promise(function(j,H){U=N[Z](U),lt(j,H,U.done,U.value)})}}function lt(Z,U,j,H){Promise.resolve(H).then(function(f){Z({value:f,done:j})},U)}}function it(N,W){return Object.defineProperty?Object.defineProperty(N,"raw",{value:W}):N.raw=W,N}var ct=Object.create?function(N,W){Object.defineProperty(N,"default",{enumerable:!0,value:W})}:function(N,W){N.default=W};function st(N){if(N&&N.__esModule)return N;var W={};if(N!=null)for(var X in N)X!=="default"&&Object.prototype.hasOwnProperty.call(N,X)&&b(W,N,X);return ct(W,N),W}function Ot(N){return N&&N.__esModule?N:{default:N}}function Dt(N,W,X,V){if(X==="a"&&!V)throw new TypeError("Private accessor was defined without a getter");if(typeof W=="function"?N!==W||!V:!W.has(N))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?V:X==="a"?V.call(N):V?V.value:W.get(N)}function Ht(N,W,X,V,lt){if(V==="m")throw new TypeError("Private method is not writable");if(V==="a"&&!lt)throw new TypeError("Private accessor was defined without a setter");if(typeof W=="function"?N!==W||!lt:!W.has(N))throw new TypeError("Cannot write private member to an object whose class did not declare it");return V==="a"?lt.call(N,X):lt?lt.value=X:W.set(N,X),X}},19083:function(mt,S,v){"use strict";var g;g={value:!0};var O=v(99519),I=v(96533),P=v(24818),T=v(15483),A=v(73074),E=v(94478),C=v(73906),p=function(b){O.__extends(x,b);function x(){return b!==null&&b.apply(this,arguments)||this}return x.prototype.getDefaultCfg=function(){var w=b.prototype.getDefaultCfg.call(this);return w.renderer="canvas",w.autoDraw=!0,w.localRefresh=!0,w.refreshElements=[],w.clipView=!0,w.quickHit=!1,w},x.prototype.onCanvasChange=function(w){(w==="attr"||w==="sort"||w==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},x.prototype.getShapeBase=function(){return T},x.prototype.getGroupBase=function(){return A.default},x.prototype.getPixelRatio=function(){var w=this.get("pixelRatio")||E.getPixelRatio();return w>=1?Math.ceil(w):1},x.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},x.prototype.createDom=function(){var w=document.createElement("canvas"),m=w.getContext("2d");return this.set("context",m),w},x.prototype.setDOMSize=function(w,m){b.prototype.setDOMSize.call(this,w,m);var M=this.get("context"),L=this.get("el"),B=this.getPixelRatio();L.width=B*w,L.height=B*m,B>1&&M.scale(B,B)},x.prototype.clear=function(){b.prototype.clear.call(this),this._clearFrame();var w=this.get("context"),m=this.get("el");w.clearRect(0,0,m.width,m.height)},x.prototype.getShape=function(w,m){var M;return this.get("quickHit")?M=P.getShape(this,w,m):M=b.prototype.getShape.call(this,w,m,null),M},x.prototype._getRefreshRegion=function(){var w=this.get("refreshElements"),m=this.getViewRange(),M;if(w.length&&w[0]===this)M=m;else if(M=C.getMergedRegion(w),M){M.minX=Math.floor(M.minX),M.minY=Math.floor(M.minY),M.maxX=Math.ceil(M.maxX),M.maxY=Math.ceil(M.maxY),M.maxY+=1;var L=this.get("clipView");L&&(M=C.mergeView(M,m))}return M},x.prototype.refreshElement=function(w){var m=this.get("refreshElements");m.push(w)},x.prototype._clearFrame=function(){var w=this.get("drawFrame");w&&(E.clearAnimationFrame(w),this.set("drawFrame",null),this.set("refreshElements",[]))},x.prototype.draw=function(){var w=this.get("drawFrame");this.get("autoDraw")&&w||this._startDraw()},x.prototype._drawAll=function(){var w=this.get("context"),m=this.get("el"),M=this.getChildren();w.clearRect(0,0,m.width,m.height),C.applyAttrsToContext(w,this),C.drawChildren(w,M),this.set("refreshElements",[])},x.prototype._drawRegion=function(){var w=this.get("context"),m=this.get("refreshElements"),M=this.getChildren(),L=this._getRefreshRegion();L?(w.clearRect(L.minX,L.minY,L.maxX-L.minX,L.maxY-L.minY),w.save(),w.beginPath(),w.rect(L.minX,L.minY,L.maxX-L.minX,L.maxY-L.minY),w.clip(),C.applyAttrsToContext(w,this),C.checkRefresh(this,M,L),C.drawChildren(w,M,L),w.restore()):m.length&&C.clearChanged(m),E.each(m,function(B){B.get("hasChanged")&&B.set("hasChanged",!1)}),this.set("refreshElements",[])},x.prototype._startDraw=function(){var w=this,m=this.get("drawFrame");m||(m=E.requestAnimationFrame(function(){w.get("localRefresh")?w._drawRegion():w._drawAll(),w.set("drawFrame",null)}),this.set("drawFrame",m))},x.prototype.skipDraw=function(){},x.prototype.removeDom=function(){var w=this.get("el");w.width=0,w.height=0,w.parentNode.removeChild(w)},x}(I.AbstractCanvas);S.Z=p},73074:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(99519),O=v(96533),I=v(15483),P=v(73906),T=v(49242),A=v(94478),E=function(C){g.__extends(p,C);function p(){return C!==null&&C.apply(this,arguments)||this}return p.prototype.onCanvasChange=function(b){P.refreshElement(this,b)},p.prototype.getShapeBase=function(){return I},p.prototype.getGroupBase=function(){return p},p.prototype._applyClip=function(b,x){x&&(b.save(),P.applyAttrsToContext(b,x),x.createPath(b),b.restore(),b.clip(),x._afterDraw())},p.prototype.cacheCanvasBBox=function(){var b=this.cfg.children,x=[],w=[];T.each(b,function(K){var it=K.cfg.cacheCanvasBBox;it&&K.cfg.isInView&&(x.push(it.minX,it.maxX),w.push(it.minY,it.maxY))});var m=null;if(x.length){var M=T.min(x),L=T.max(x),B=T.min(w),D=T.max(w);m={minX:M,minY:B,x:M,y:B,maxX:L,maxY:D,width:L-M,height:D-B};var z=this.cfg.canvas;if(z){var q=z.getViewRange();this.set("isInView",A.intersectRect(m,q))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",m)},p.prototype.draw=function(b,x){var w=this.cfg.children,m=x?this.cfg.refresh:!0;w.length&&m&&(b.save(),P.applyAttrsToContext(b,this),this._applyClip(b,this.getClip()),P.drawChildren(b,w,x),b.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},p.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},p}(O.AbstractGroup);S.default=E},74460:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(99519),O=v(96533),I=v(94478),P=v(73906),T=v(96533),A=v(15483),E=v(73074),C=function(p){g.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var x=p.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},x),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},b.prototype.getShapeBase=function(){return A},b.prototype.getGroupBase=function(){return E.default},b.prototype.onCanvasChange=function(x){P.refreshElement(this,x)},b.prototype.calculateBBox=function(){var x=this.get("type"),w=this.getHitLineWidth(),m=T.getBBoxMethod(x),M=m(this),L=w/2,B=M.x-L,D=M.y-L,z=M.x+M.width+L,q=M.y+M.height+L;return{x:B,minX:B,y:D,minY:D,width:M.width+w,height:M.height+w,maxX:z,maxY:q}},b.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},b.prototype.isStroke=function(){return!!this.attrs.stroke},b.prototype._applyClip=function(x,w){w&&(x.save(),P.applyAttrsToContext(x,w),w.createPath(x),x.restore(),x.clip(),w._afterDraw())},b.prototype.draw=function(x,w){var m=this.cfg.clipShape;if(w){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var M=this.getCanvasBBox();if(!I.intersectRect(w,M)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}x.save(),P.applyAttrsToContext(x,this),this._applyClip(x,m),this.drawPath(x),x.restore(),this._afterDraw()},b.prototype.getCanvasViewBox=function(){var x=this.cfg.canvas;return x?x.getViewRange():null},b.prototype.cacheCanvasBBox=function(){var x=this.getCanvasViewBox();if(x){var w=this.getCanvasBBox(),m=I.intersectRect(w,x);this.set("isInView",m),m?this.set("cacheCanvasBBox",w):this.set("cacheCanvasBBox",null)}},b.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},b.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},b.prototype.drawPath=function(x){this.createPath(x),this.strokeAndFill(x),this.afterDrawPath(x)},b.prototype.fill=function(x){x.fill()},b.prototype.stroke=function(x){x.stroke()},b.prototype.strokeAndFill=function(x){var w=this.attrs,m=w.lineWidth,M=w.opacity,L=w.strokeOpacity,B=w.fillOpacity;this.isFill()&&(!I.isNil(B)&&B!==1?(x.globalAlpha=B,this.fill(x),x.globalAlpha=M):this.fill(x)),this.isStroke()&&m>0&&(!I.isNil(L)&&L!==1&&(x.globalAlpha=L),this.stroke(x)),this.afterDrawPath(x)},b.prototype.createPath=function(x){},b.prototype.afterDrawPath=function(x){},b.prototype.isInShape=function(x,w){var m=this.isStroke(),M=this.isFill(),L=this.getHitLineWidth();return this.isInStrokeOrPath(x,w,m,M,L)},b.prototype.isInStrokeOrPath=function(x,w,m,M,L){return!1},b.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var x=this.attrs;return x.lineWidth+x.lineAppendWidth},b}(O.AbstractShape);S.default=C},66778:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(99519),O=v(74460),I=v(94478),P=function(T){g.__extends(A,T);function A(){return T!==null&&T.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var E=T.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},E),{x:0,y:0,r:0})},A.prototype.isInStrokeOrPath=function(E,C,p,b,x){var w=this.attr(),m=w.x,M=w.y,L=w.r,B=x/2,D=I.distance(m,M,E,C);return b&&p?D<=L+B:b?D<=L:p?D>=L-B&&D<=L+B:!1},A.prototype.createPath=function(E){var C=this.attr(),p=C.x,b=C.y,x=C.r;E.beginPath(),E.arc(p,b,x,0,Math.PI*2,!1),E.closePath()},A}(O.default);S.default=P},21421:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(99519),O=v(74460);function I(T,A,E,C){return T/(E*E)+A/(C*C)}var P=function(T){g.__extends(A,T);function A(){return T!==null&&T.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var E=T.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},E),{x:0,y:0,rx:0,ry:0})},A.prototype.isInStrokeOrPath=function(E,C,p,b,x){var w=this.attr(),m=x/2,M=w.x,L=w.y,B=w.rx,D=w.ry,z=(E-M)*(E-M),q=(C-L)*(C-L);return b&&p?I(z,q,B+m,D+m)<=1:b?I(z,q,B,D)<=1:p?I(z,q,B-m,D-m)>=1&&I(z,q,B+m,D+m)<=1:!1},A.prototype.createPath=function(E){var C=this.attr(),p=C.x,b=C.y,x=C.rx,w=C.ry;if(E.beginPath(),E.ellipse)E.ellipse(p,b,x,w,0,0,Math.PI*2,!1);else{var m=x>w?x:w,M=x>w?1:x/w,L=x>w?w/x:1;E.save(),E.translate(p,b),E.scale(M,L),E.arc(0,0,m,0,Math.PI*2),E.restore(),E.closePath()}},A}(O.default);S.default=P},89473:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(99519),O=v(74460),I=v(94478);function P(A){return A instanceof HTMLElement&&I.isString(A.nodeName)&&A.nodeName.toUpperCase()==="CANVAS"}var T=function(A){g.__extends(E,A);function E(){return A!==null&&A.apply(this,arguments)||this}return E.prototype.getDefaultAttrs=function(){var C=A.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},C),{x:0,y:0,width:0,height:0})},E.prototype.initAttrs=function(C){this._setImage(C.img)},E.prototype.isStroke=function(){return!1},E.prototype.isOnlyHitBox=function(){return!0},E.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var C=this.get("canvas");C?C.draw():this.createPath(this.get("context"))}},E.prototype._setImage=function(C){var p=this,b=this.attrs;if(I.isString(C)){var x=new Image;x.onload=function(){if(p.destroyed)return!1;p.attr("img",x),p.set("loading",!1),p._afterLoading();var w=p.get("callback");w&&w.call(p)},x.crossOrigin="Anonymous",x.src=C,this.set("loading",!0)}else C instanceof Image?(b.width||(b.width=C.width),b.height||(b.height=C.height)):P(C)&&(b.width||(b.width=Number(C.getAttribute("width"))),b.height||(b.height,Number(C.getAttribute("height"))))},E.prototype.onAttrChange=function(C,p,b){A.prototype.onAttrChange.call(this,C,p,b),C==="img"&&this._setImage(p)},E.prototype.createPath=function(C){if(this.get("loading")){this.set("toDraw",!0),this.set("context",C);return}var p=this.attr(),b=p.x,x=p.y,w=p.width,m=p.height,M=p.sx,L=p.sy,B=p.swidth,D=p.sheight,z=p.img;(z instanceof Image||P(z))&&(!I.isNil(M)&&!I.isNil(L)&&!I.isNil(B)&&!I.isNil(D)?C.drawImage(z,M,L,B,D,b,x,w,m):C.drawImage(z,b,x,w,m))},E}(O.default);S.default=T},15483:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Text=S.Rect=S.Polyline=S.Polygon=S.Path=S.Marker=S.Line=S.Image=S.Ellipse=S.Circle=S.Base=void 0;var g=v(74460);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return g.default}});var O=v(66778);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return O.default}});var I=v(21421);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return I.default}});var P=v(89473);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return P.default}});var T=v(32766);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return T.default}});var A=v(50796);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return A.default}});var E=v(42489);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return E.default}});var C=v(51567);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return C.default}});var p=v(54423);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return p.default}});var b=v(83095);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return b.default}});var x=v(17860);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return x.default}})},32766:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(99519),O=v(89838),I=v(74460),P=v(63131),T=v(87200),A=function(E){g.__extends(C,E);function C(){return E!==null&&E.apply(this,arguments)||this}return C.prototype.getDefaultAttrs=function(){var p=E.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},C.prototype.initAttrs=function(p){this.setArrow()},C.prototype.onAttrChange=function(p,b,x){E.prototype.onAttrChange.call(this,p,b,x),this.setArrow()},C.prototype.setArrow=function(){var p=this.attr(),b=p.x1,x=p.y1,w=p.x2,m=p.y2,M=p.startArrow,L=p.endArrow;M&&T.addStartArrow(this,p,w,m,b,x),L&&T.addEndArrow(this,p,b,x,w,m)},C.prototype.isInStrokeOrPath=function(p,b,x,w,m){if(!x||!m)return!1;var M=this.attr(),L=M.x1,B=M.y1,D=M.x2,z=M.y2;return P.default(L,B,D,z,m,p,b)},C.prototype.createPath=function(p){var b=this.attr(),x=b.x1,w=b.y1,m=b.x2,M=b.y2,L=b.startArrow,B=b.endArrow,D={dx:0,dy:0},z={dx:0,dy:0};L&&L.d&&(D=T.getShortenOffset(x,w,m,M,b.startArrow.d)),B&&B.d&&(z=T.getShortenOffset(x,w,m,M,b.endArrow.d)),p.beginPath(),p.moveTo(x+D.dx,w+D.dy),p.lineTo(m-z.dx,M-z.dy)},C.prototype.afterDrawPath=function(p){var b=this.get("startArrowShape"),x=this.get("endArrowShape");b&&b.draw(p),x&&x.draw(p)},C.prototype.getTotalLength=function(){var p=this.attr(),b=p.x1,x=p.y1,w=p.x2,m=p.y2;return O.Line.length(b,x,w,m)},C.prototype.getPoint=function(p){var b=this.attr(),x=b.x1,w=b.y1,m=b.x2,M=b.y2;return O.Line.pointAt(x,w,m,M,p)},C}(I.default);S.default=A},50796:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(99519),O=v(49242),I=v(57350),P=v(74460),T=v(94478),A=v(73906),E={circle:function(p,b,x){return[["M",p-x,b],["A",x,x,0,1,0,p+x,b],["A",x,x,0,1,0,p-x,b]]},square:function(p,b,x){return[["M",p-x,b-x],["L",p+x,b-x],["L",p+x,b+x],["L",p-x,b+x],["Z"]]},diamond:function(p,b,x){return[["M",p-x,b],["L",p,b-x],["L",p+x,b],["L",p,b+x],["Z"]]},triangle:function(p,b,x){var w=x*Math.sin(1/3*Math.PI);return[["M",p-x,b+w],["L",p,b-w],["L",p+x,b+w],["Z"]]},"triangle-down":function(p,b,x){var w=x*Math.sin(1/3*Math.PI);return[["M",p-x,b-w],["L",p+x,b-w],["L",p,b+w],["Z"]]}},C=function(p){g.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.initAttrs=function(x){this._resetParamsCache()},b.prototype._resetParamsCache=function(){this.set("paramsCache",{})},b.prototype.onAttrChange=function(x,w,m){p.prototype.onAttrChange.call(this,x,w,m),["symbol","x","y","r","radius"].indexOf(x)!==-1&&this._resetParamsCache()},b.prototype.isOnlyHitBox=function(){return!0},b.prototype._getR=function(x){return O.isNil(x.r)?x.radius:x.r},b.prototype._getPath=function(){var x=this.attr(),w=x.x,m=x.y,M=x.symbol||"circle",L=this._getR(x),B,D;if(T.isFunction(M))B=M,D=B(w,m,L),D=I.path2Absolute(D);else{if(B=b.Symbols[M],!B)return console.warn(M+" marker is not supported."),null;D=B(w,m,L)}return D},b.prototype.createPath=function(x){var w=this._getPath(),m=this.get("paramsCache");A.drawPath(this,x,{path:w},m)},b.Symbols=E,b}(P.default);S.default=C},42489:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(99519),O=v(89838),I=v(49242),P=v(74460),T=v(57350),A=v(73906),E=v(55978),C=v(4043),p=v(32460),b=v(87200);function x(m,M,L){for(var B=!1,D=0;D<m.length;D++){var z=m[D];if(B=C.default(z,M,L),B)break}return B}var w=function(m){g.__extends(M,m);function M(){return m!==null&&m.apply(this,arguments)||this}return M.prototype.getDefaultAttrs=function(){var L=m.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},L),{startArrow:!1,endArrow:!1})},M.prototype.initAttrs=function(L){this._setPathArr(L.path),this.setArrow()},M.prototype.onAttrChange=function(L,B,D){m.prototype.onAttrChange.call(this,L,B,D),L==="path"&&this._setPathArr(B),this.setArrow()},M.prototype._setPathArr=function(L){this.attrs.path=T.path2Absolute(L);var B=p.default.hasArc(L);this.set("hasArc",B),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},M.prototype.getSegments=function(){var L=this.get("segements");return L||(L=T.path2Segments(this.attr("path")),this.set("segments",L)),L},M.prototype.setArrow=function(){var L=this.attr(),B=L.startArrow,D=L.endArrow;if(B){var z=this.getStartTangent();b.addStartArrow(this,L,z[0][0],z[0][1],z[1][0],z[1][1])}if(D){var z=this.getEndTangent();b.addEndArrow(this,L,z[0][0],z[0][1],z[1][0],z[1][1])}},M.prototype.isInStrokeOrPath=function(L,B,D,z,q){var K=this.getSegments(),it=this.get("hasArc"),ct=!1;if(D){var st=this.getTotalLength();ct=p.default.isPointInStroke(K,q,L,B,st)}if(!ct&&z)if(it)ct=E.default(this,L,B);else{var Ot=this.attr("path"),Dt=p.default.extractPolygons(Ot);ct=x(Dt.polygons,L,B)||x(Dt.polylines,L,B)}return ct},M.prototype.createPath=function(L){var B=this.attr(),D=this.get("paramsCache");A.drawPath(this,L,B,D)},M.prototype.afterDrawPath=function(L){var B=this.get("startArrowShape"),D=this.get("endArrowShape");B&&B.draw(L),D&&D.draw(L)},M.prototype.getTotalLength=function(){var L=this.get("totalLength");return I.isNil(L)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):L},M.prototype.getPoint=function(L){var B=this.get("tCache");B||(this._calculateCurve(),this._setTcache(),B=this.get("tCache"));var D,z,q=this.get("curve");if(!B||B.length===0)return q?{x:q[0][1],y:q[0][2]}:null;I.each(B,function(st,Ot){L>=st[0]&&L<=st[1]&&(D=(L-st[0])/(st[1]-st[0]),z=Ot)});var K=q[z];if(I.isNil(K)||I.isNil(z))return null;var it=K.length,ct=q[z+1];return O.Cubic.pointAt(K[it-2],K[it-1],ct[1],ct[2],ct[3],ct[4],ct[5],ct[6],D)},M.prototype._calculateCurve=function(){var L=this.attr().path;this.set("curve",p.default.pathToCurve(L))},M.prototype._setTcache=function(){var L=0,B=0,D=[],z,q,K,it,ct=this.get("curve");if(!!ct){if(I.each(ct,function(st,Ot){K=ct[Ot+1],it=st.length,K&&(L+=O.Cubic.length(st[it-2],st[it-1],K[1],K[2],K[3],K[4],K[5],K[6])||0)}),this.set("totalLength",L),L===0){this.set("tCache",[]);return}I.each(ct,function(st,Ot){K=ct[Ot+1],it=st.length,K&&(z=[],z[0]=B/L,q=O.Cubic.length(st[it-2],st[it-1],K[1],K[2],K[3],K[4],K[5],K[6]),B+=q||0,z[1]=B/L,D.push(z))}),this.set("tCache",D)}},M.prototype.getStartTangent=function(){var L=this.getSegments(),B;if(L.length>1){var D=L[0].currentPoint,z=L[1].currentPoint,q=L[1].startTangent;B=[],q?(B.push([D[0]-q[0],D[1]-q[1]]),B.push([D[0],D[1]])):(B.push([z[0],z[1]]),B.push([D[0],D[1]]))}return B},M.prototype.getEndTangent=function(){var L=this.getSegments(),B=L.length,D;if(B>1){var z=L[B-2].currentPoint,q=L[B-1].currentPoint,K=L[B-1].endTangent;D=[],K?(D.push([q[0]-K[0],q[1]-K[1]]),D.push([q[0],q[1]])):(D.push([z[0],z[1]]),D.push([q[0],q[1]]))}return D},M}(P.default);S.default=w},51567:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(99519),O=v(74460),I=v(70625),P=v(4043),T=function(A){g.__extends(E,A);function E(){return A!==null&&A.apply(this,arguments)||this}return E.prototype.isInStrokeOrPath=function(C,p,b,x,w){var m=this.attr().points,M=!1;return b&&(M=I.default(m,w,C,p,!0)),!M&&x&&(M=P.default(m,C,p)),M},E.prototype.createPath=function(C){var p=this.attr(),b=p.points;if(!(b.length<2)){C.beginPath();for(var x=0;x<b.length;x++){var w=b[x];x===0?C.moveTo(w[0],w[1]):C.lineTo(w[0],w[1])}C.closePath()}},E}(O.default);S.default=T},54423:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(99519),O=v(89838),I=v(89838),P=v(49242),T=v(74460),A=v(70625),E=v(87200),C=function(p){g.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var x=p.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},x),{startArrow:!1,endArrow:!1})},b.prototype.initAttrs=function(x){this.setArrow()},b.prototype.onAttrChange=function(x,w,m){p.prototype.onAttrChange.call(this,x,w,m),this.setArrow(),["points"].indexOf(x)!==-1&&this._resetCache()},b.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},b.prototype.setArrow=function(){var x=this.attr(),w=this.attrs,m=w.points,M=w.startArrow,L=w.endArrow,B=m.length,D=m[0][0],z=m[0][1],q=m[B-1][0],K=m[B-1][1];M&&E.addStartArrow(this,x,m[1][0],m[1][1],D,z),L&&E.addEndArrow(this,x,m[B-2][0],m[B-2][1],q,K)},b.prototype.isFill=function(){return!1},b.prototype.isInStrokeOrPath=function(x,w,m,M,L){if(!m||!L)return!1;var B=this.attr().points;return A.default(B,L,x,w,!1)},b.prototype.isStroke=function(){return!0},b.prototype.createPath=function(x){var w=this.attr(),m=w.points,M=w.startArrow,L=w.endArrow,B=m.length;if(!(m.length<2)){var D=m[0][0],z=m[0][1],q=m[B-1][0],K=m[B-1][1];if(M&&M.d){var it=E.getShortenOffset(D,z,m[1][0],m[1][1],M.d);D+=it.dx,z+=it.dy}if(L&&L.d){var it=E.getShortenOffset(m[B-2][0],m[B-2][1],q,K,L.d);q-=it.dx,K-=it.dy}x.beginPath(),x.moveTo(D,z);for(var ct=0;ct<B-1;ct++){var st=m[ct];x.lineTo(st[0],st[1])}x.lineTo(q,K)}},b.prototype.afterDrawPath=function(x){var w=this.get("startArrowShape"),m=this.get("endArrowShape");w&&w.draw(x),m&&m.draw(x)},b.prototype.getTotalLength=function(){var x=this.attr().points,w=this.get("totalLength");return P.isNil(w)?(this.set("totalLength",I.Polyline.length(x)),this.get("totalLength")):w},b.prototype.getPoint=function(x){var w=this.attr().points,m=this.get("tCache");m||(this._setTcache(),m=this.get("tCache"));var M,L;return P.each(m,function(B,D){x>=B[0]&&x<=B[1]&&(M=(x-B[0])/(B[1]-B[0]),L=D)}),O.Line.pointAt(w[L][0],w[L][1],w[L+1][0],w[L+1][1],M)},b.prototype._setTcache=function(){var x=this.attr().points;if(!(!x||x.length===0)){var w=this.getTotalLength();if(!(w<=0)){var m=0,M=[],L,B;P.each(x,function(D,z){x[z+1]&&(L=[],L[0]=m/w,B=O.Line.length(D[0],D[1],x[z+1][0],x[z+1][1]),m+=B,L[1]=m/w,M.push(L))}),this.set("tCache",M)}}},b.prototype.getStartTangent=function(){var x=this.attr().points,w=[];return w.push([x[1][0],x[1][1]]),w.push([x[0][0],x[0][1]]),w},b.prototype.getEndTangent=function(){var x=this.attr().points,w=x.length-1,m=[];return m.push([x[w-1][0],x[w-1][1]]),m.push([x[w][0],x[w][1]]),m},b}(T.default);S.default=C},83095:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(99519),O=v(74460),I=v(62948),P=v(94478),T=v(47946),A=v(19626),E=v(55978),C=function(p){g.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var x=p.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},x),{x:0,y:0,width:0,height:0,radius:0})},b.prototype.isInStrokeOrPath=function(x,w,m,M,L){var B=this.attr(),D=B.x,z=B.y,q=B.width,K=B.height,it=B.radius;if(it){var st=!1;return m&&(st=A.default(D,z,q,K,it,L,x,w)),!st&&M&&(st=E.default(this,x,w)),st}else{var ct=L/2;if(M&&m)return P.inBox(D-ct,z-ct,q+ct,K+ct,x,w);if(M)return P.inBox(D,z,q,K,x,w);if(m)return T.default(D,z,q,K,L,x,w)}},b.prototype.createPath=function(x){var w=this.attr(),m=w.x,M=w.y,L=w.width,B=w.height,D=w.radius;if(x.beginPath(),D===0)x.rect(m,M,L,B);else{var z=I.parseRadius(D),q=z[0],K=z[1],it=z[2],ct=z[3];x.moveTo(m+q,M),x.lineTo(m+L-K,M),K!==0&&x.arc(m+L-K,M+K,K,-Math.PI/2,0),x.lineTo(m+L,M+B-it),it!==0&&x.arc(m+L-it,M+B-it,it,0,Math.PI/2),x.lineTo(m+ct,M+B),ct!==0&&x.arc(m+ct,M+B-ct,ct,Math.PI/2,Math.PI),x.lineTo(m,M+q),q!==0&&x.arc(m+q,M+q,q,Math.PI,Math.PI*1.5),x.closePath()}},b}(O.default);S.default=C},17860:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(99519),O=v(74460),I=v(94478),P=v(96533),T=function(A){g.__extends(E,A);function E(){return A!==null&&A.apply(this,arguments)||this}return E.prototype.getDefaultAttrs=function(){var C=A.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},C),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},E.prototype.isOnlyHitBox=function(){return!0},E.prototype.initAttrs=function(C){this._assembleFont(),C.text&&this._setText(C.text)},E.prototype._assembleFont=function(){var C=this.attrs;C.font=P.assembleFont(C)},E.prototype._setText=function(C){var p=null;I.isString(C)&&C.indexOf(`
`)!==-1&&(p=C.split(`
`)),this.set("textArr",p)},E.prototype.onAttrChange=function(C,p,b){A.prototype.onAttrChange.call(this,C,p,b),C.startsWith("font")&&this._assembleFont(),C==="text"&&this._setText(p)},E.prototype._getSpaceingY=function(){var C=this.attrs,p=C.lineHeight,b=C.fontSize*1;return p?p-b:b*.14},E.prototype._drawTextArr=function(C,p,b){var x=this.attrs,w=x.textBaseline,m=x.x,M=x.y,L=x.fontSize*1,B=this._getSpaceingY(),D=P.getTextHeight(x.text,x.fontSize,x.lineHeight),z;I.each(p,function(q,K){z=M+K*(B+L)-D+L,w==="middle"&&(z+=D-L-(D-L)/2),w==="top"&&(z+=D-L),I.isNil(q)||(b?C.fillText(q,m,z):C.strokeText(q,m,z))})},E.prototype._drawText=function(C,p){var b=this.attr(),x=b.x,w=b.y,m=this.get("textArr");if(m)this._drawTextArr(C,m,p);else{var M=b.text;I.isNil(M)||(p?C.fillText(M,x,w):C.strokeText(M,x,w))}},E.prototype.strokeAndFill=function(C){var p=this.attrs,b=p.lineWidth,x=p.opacity,w=p.strokeOpacity,m=p.fillOpacity;this.isStroke()&&b>0&&(!I.isNil(w)&&w!==1&&(C.globalAlpha=x),this.stroke(C)),this.isFill()&&(!I.isNil(m)&&m!==1?(C.globalAlpha=m,this.fill(C),C.globalAlpha=x):this.fill(C)),this.afterDrawPath(C)},E.prototype.fill=function(C){this._drawText(C,!0)},E.prototype.stroke=function(C){this._drawText(C,!1)},E}(O.default);S.default=T},56921:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(94478);function O(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function I(A,E){return O(A)*O(E)?(A[0]*E[0]+A[1]*E[1])/(O(A)*O(E)):1}function P(A,E){return(A[0]*E[1]<A[1]*E[0]?-1:1)*Math.acos(I(A,E))}function T(A,E){var C=E[1],p=E[2],b=g.mod(g.toRadian(E[3]),Math.PI*2),x=E[4],w=E[5],m=A[0],M=A[1],L=E[6],B=E[7],D=Math.cos(b)*(m-L)/2+Math.sin(b)*(M-B)/2,z=-1*Math.sin(b)*(m-L)/2+Math.cos(b)*(M-B)/2,q=D*D/(C*C)+z*z/(p*p);q>1&&(C*=Math.sqrt(q),p*=Math.sqrt(q));var K=C*C*(z*z)+p*p*(D*D),it=K?Math.sqrt((C*C*(p*p)-K)/K):1;x===w&&(it*=-1),isNaN(it)&&(it=0);var ct=p?it*C*z/p:0,st=C?it*-p*D/C:0,Ot=(m+L)/2+Math.cos(b)*ct-Math.sin(b)*st,Dt=(M+B)/2+Math.sin(b)*ct+Math.cos(b)*st,Ht=[(D-ct)/C,(z-st)/p],N=[(-1*D-ct)/C,(-1*z-st)/p],W=P([1,0],Ht),X=P(Ht,N);return I(Ht,N)<=-1&&(X=Math.PI),I(Ht,N)>=1&&(X=0),w===0&&X>0&&(X=X-2*Math.PI),w===1&&X<0&&(X=X+2*Math.PI),{cx:Ot,cy:Dt,rx:g.isSamePoint(A,[L,B])?0:C,ry:g.isSamePoint(A,[L,B])?0:p,startAngle:W,endAngle:W+X,xRotation:b,arcFlag:x,sweepFlag:w}}S.default=T},87200:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.addEndArrow=S.addStartArrow=S.getShortenOffset=void 0;var g=v(99519),O=v(15483),I=Math.sin,P=Math.cos,T=Math.atan2,A=Math.PI;function E(w,m,M,L,B,D,z){var q=m.stroke,K=m.lineWidth,it=M-B,ct=L-D,st=T(ct,it),Ot=new O.Path({type:"path",canvas:w.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*P(A/6)+","+10*I(A/6)+" L0,0 L"+10*P(A/6)+",-"+10*I(A/6),stroke:q,lineWidth:K}});Ot.translate(B,D),Ot.rotateAtPoint(B,D,st),w.set(z?"startArrowShape":"endArrowShape",Ot)}function C(w,m,M,L,B,D,z){var q=m.startArrow,K=m.endArrow,it=m.stroke,ct=m.lineWidth,st=z?q:K,Ot=st.d,Dt=st.fill,Ht=st.stroke,N=st.lineWidth,W=g.__rest(st,["d","fill","stroke","lineWidth"]),X=M-B,V=L-D,lt=T(V,X);Ot&&(B=B-P(lt)*Ot,D=D-I(lt)*Ot);var Z=new O.Path({type:"path",canvas:w.get("canvas"),isArrowShape:!0,attrs:g.__assign(g.__assign({},W),{stroke:Ht||it,lineWidth:N||ct,fill:Dt})});Z.translate(B,D),Z.rotateAtPoint(B,D,lt),w.set(z?"startArrowShape":"endArrowShape",Z)}function p(w,m,M,L,B){var D=T(L-m,M-w);return{dx:P(D)*B,dy:I(D)*B}}S.getShortenOffset=p;function b(w,m,M,L,B,D){typeof m.startArrow=="object"?C(w,m,M,L,B,D,!0):m.startArrow?E(w,m,M,L,B,D,!0):w.set("startArrowShape",null)}S.addStartArrow=b;function x(w,m,M,L,B,D){typeof m.endArrow=="object"?C(w,m,M,L,B,D,!1):m.endArrow?E(w,m,M,L,B,D,!1):w.set("startArrowShape",null)}S.addEndArrow=x},73906:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.mergeView=S.getMergedRegion=S.getRefreshRegion=S.refreshElement=S.drawPath=S.clearChanged=S.checkChildrenRefresh=S.checkRefresh=S.drawChildren=S.applyAttrsToContext=void 0;var g=v(49242),O=v(62948),I=v(56921),P=v(94478),T=v(87200),A={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function E(q,K){var it=K.attr();for(var ct in it){var st=it[ct],Ot=A[ct]?A[ct]:ct;Ot==="matrix"&&st?q.transform(st[0],st[1],st[3],st[4],st[6],st[7]):Ot==="lineDash"&&q.setLineDash?g.isArray(st)&&q.setLineDash(st):(Ot==="strokeStyle"||Ot==="fillStyle"?st=O.parseStyle(q,K,st):Ot==="globalAlpha"&&(st=st*q.globalAlpha),q[Ot]=st)}}S.applyAttrsToContext=E;function C(q,K,it){for(var ct=0;ct<K.length;ct++){var st=K[ct];st.cfg.visible?st.draw(q,it):st.skipDraw()}}S.drawChildren=C;function p(q,K,it){var ct=q.get("refreshElements");g.each(ct,function(st){if(st!==q)for(var Ot=st.cfg.parent;Ot&&Ot!==q&&!Ot.cfg.refresh;)Ot.cfg.refresh=!0,Ot=Ot.cfg.parent}),ct[0]===q?w(K,it):b(K,it)}S.checkRefresh=p;function b(q,K){for(var it=0;it<q.length;it++){var ct=q[it];if(ct.cfg.visible)if(ct.cfg.hasChanged)ct.cfg.refresh=!0,ct.isGroup()&&w(ct.cfg.children,K);else if(ct.cfg.refresh)ct.isGroup()&&b(ct.cfg.children,K);else{var st=m(ct,K);ct.cfg.refresh=st,st&&ct.isGroup()&&b(ct.cfg.children,K)}}}S.checkChildrenRefresh=b;function x(q){for(var K=0;K<q.length;K++){var it=q[K];it.cfg.hasChanged=!1,it.isGroup()&&!it.destroyed&&x(it.cfg.children)}}S.clearChanged=x;function w(q,K){for(var it=0;it<q.length;it++){var ct=q[it];ct.cfg.refresh=!0,ct.isGroup()&&w(ct.get("children"),K)}}function m(q,K){var it=q.cfg.cacheCanvasBBox,ct=q.cfg.isInView&&it&&P.intersectRect(it,K);return ct}function M(q,K,it,ct){var st=it.path,Ot=it.startArrow,Dt=it.endArrow;if(!!st){var Ht=[0,0],N=[0,0],W={dx:0,dy:0};K.beginPath();for(var X=0;X<st.length;X++){var V=st[X],lt=V[0];if(X===0&&Ot&&Ot.d){var Z=q.getStartTangent();W=T.getShortenOffset(Z[0][0],Z[0][1],Z[1][0],Z[1][1],Ot.d)}else if(X===st.length-2&&st[X+1][0]==="Z"&&Dt&&Dt.d){var U=st[X+1];if(U[0]==="Z"){var Z=q.getEndTangent();W=T.getShortenOffset(Z[0][0],Z[0][1],Z[1][0],Z[1][1],Dt.d)}}else if(X===st.length-1&&Dt&&Dt.d&&st[0]!=="Z"){var Z=q.getEndTangent();W=T.getShortenOffset(Z[0][0],Z[0][1],Z[1][0],Z[1][1],Dt.d)}var j=W.dx,H=W.dy;switch(lt){case"M":K.moveTo(V[1]-j,V[2]-H),N=[V[1],V[2]];break;case"L":K.lineTo(V[1]-j,V[2]-H);break;case"Q":K.quadraticCurveTo(V[1],V[2],V[3]-j,V[4]-H);break;case"C":K.bezierCurveTo(V[1],V[2],V[3],V[4],V[5]-j,V[6]-H);break;case"A":{var f=void 0;ct?(f=ct[X],f||(f=I.default(Ht,V),ct[X]=f)):f=I.default(Ht,V);var yt=f.cx,St=f.cy,at=f.rx,Ct=f.ry,wt=f.startAngle,At=f.endAngle,_t=f.xRotation,Lt=f.sweepFlag;if(K.ellipse)K.ellipse(yt,St,at,Ct,_t,wt,At,1-Lt);else{var xt=at>Ct?at:Ct,ot=at>Ct?1:at/Ct,tt=at>Ct?Ct/at:1;K.translate(yt,St),K.rotate(_t),K.scale(ot,tt),K.arc(0,0,xt,wt,At,1-Lt),K.scale(1/ot,1/tt),K.rotate(-_t),K.translate(-yt,-St)}break}case"Z":K.closePath();break;default:break}if(lt==="Z")Ht=N;else{var Q=V.length;Ht=[V[Q-2],V[Q-1]]}}}}S.drawPath=M;function L(q,K){var it=q.get("canvas");it&&(K==="remove"&&(q._cacheCanvasBBox=q.get("cacheCanvasBBox")),q.get("hasChanged")||(q.set("hasChanged",!0),q.cfg.parent&&q.cfg.parent.get("hasChanged")||(it.refreshElement(q,K,it),it.get("autoDraw")&&it.draw())))}S.refreshElement=L;function B(q){var K;if(q.destroyed)K=q._cacheCanvasBBox;else{var it=q.get("cacheCanvasBBox"),ct=it&&!!(it.width&&it.height),st=q.getCanvasBBox(),Ot=st&&!!(st.width&&st.height);ct&&Ot?K=P.mergeRegion(it,st):ct?K=it:Ot&&(K=st)}return K}S.getRefreshRegion=B;function D(q){if(!q.length)return null;var K=[],it=[],ct=[],st=[];return g.each(q,function(Ot){var Dt=B(Ot);Dt&&(K.push(Dt.minX),it.push(Dt.minY),ct.push(Dt.maxX),st.push(Dt.maxY))}),{minX:g.min(K),minY:g.min(it),maxX:g.max(ct),maxY:g.max(st)}}S.getMergedRegion=D;function z(q,K){return!q||!K||!P.intersectRect(q,K)?null:{minX:Math.max(q.minX,K.minX),minY:Math.max(q.minY,K.minY),maxX:Math.min(q.maxX,K.maxX),maxY:Math.min(q.maxY,K.maxY)}}S.mergeView=z},24818:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getShape=void 0;var g=v(96533);function O(A,E){if(E){var C=g.invert(E);return g.multiplyVec2(C,A)}return A}function I(A,E,C){var p=A.getTotalMatrix();if(p){var b=O([E,C,1],p),x=b[0],w=b[1];return[x,w]}return[E,C]}function P(A,E,C){if(A.isCanvas&&A.isCanvas())return!0;if(!g.isAllowCapture(A)||A.cfg.isInView===!1)return!1;if(A.cfg.clipShape){var p=I(A,E,C),b=p[0],x=p[1];if(A.isClipped(b,x))return!1}var w=A.cfg.cacheCanvasBBox||A.getCanvasBBox();return E>=w.minX&&E<=w.maxX&&C>=w.minY&&C<=w.maxY}function T(A,E,C){if(!P(A,E,C))return null;for(var p=null,b=A.getChildren(),x=b.length,w=x-1;w>=0;w--){var m=b[w];if(m.isGroup())p=T(m,E,C);else if(P(m,E,C)){var M=m,L=I(m,E,C),B=L[0],D=L[1];M.isInShape(B,D)&&(p=m)}if(p)break}return p}S.getShape=T},55978:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(96533);function O(I,P,T){var A=g.getOffScreenContext();return I.createPath(A),A.isPointInPath(P,T)}S.default=O},4043:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=1e-6;function g(P){return Math.abs(P)<v?0:P<0?-1:1}function O(P,T,A){return(A[0]-P[0])*(T[1]-P[1])==(T[0]-P[0])*(A[1]-P[1])&&Math.min(P[0],T[0])<=A[0]&&A[0]<=Math.max(P[0],T[0])&&Math.min(P[1],T[1])<=A[1]&&A[1]<=Math.max(P[1],T[1])}function I(P,T,A){var E=!1,C=P.length;if(C<=2)return!1;for(var p=0;p<C;p++){var b=P[p],x=P[(p+1)%C];if(O(b,x,[T,A]))return!0;g(b[1]-A)>0!=g(x[1]-A)>0&&g(T-(A-b[1])*(b[0]-x[0])/(b[1]-x[1])-b[0])<0&&(E=!E)}return E}S.default=I},37311:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(94478);function O(I,P,T,A,E,C,p,b){var x=(Math.atan2(b-P,p-I)+Math.PI*2)%(Math.PI*2);if(x<A||x>E)return!1;var w={x:I+T*Math.cos(x),y:P+T*Math.sin(x)};return g.distance(w.x,w.y,p,b)<=C/2}S.default=O},63131:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(89838);function O(I,P,T,A,E,C,p){var b=Math.min(I,T),x=Math.max(I,T),w=Math.min(P,A),m=Math.max(P,A),M=E/2;return C>=b-M&&C<=x+M&&p>=w-M&&p<=m+M?g.Line.pointToLine(I,P,T,A,C,p)<=E/2:!1}S.default=O},70625:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(63131);function O(I,P,T,A,E){var C=I.length;if(C<2)return!1;for(var p=0;p<C-1;p++){var b=I[p][0],x=I[p][1],w=I[p+1][0],m=I[p+1][1];if(g.default(b,x,w,m,P,T,A))return!0}if(E){var M=I[0],L=I[C-1];if(g.default(M[0],M[1],L[0],L[1],P,T,A))return!0}return!1}S.default=O},19626:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(63131),O=v(37311);function I(P,T,A,E,C,p,b,x){var w=p/2;return g.default(P+C,T,P+A-C,T,p,b,x)||g.default(P+A,T+C,P+A,T+E-C,p,b,x)||g.default(P+A-C,T+E,P+C,T+E,p,b,x)||g.default(P,T+E-C,P,T+C,p,b,x)||O.default(P+A-C,T+C,C,1.5*Math.PI,2*Math.PI,p,b,x)||O.default(P+A-C,T+E-C,C,0,.5*Math.PI,p,b,x)||O.default(P+C,T+E-C,C,.5*Math.PI,Math.PI,p,b,x)||O.default(P+C,T+C,C,Math.PI,1.5*Math.PI,p,b,x)}S.default=I},47946:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(94478);function O(I,P,T,A,E,C,p){var b=E/2;return g.inBox(I-b,P-b,T,E,C,p)||g.inBox(I+T-b,P-b,E,A,C,p)||g.inBox(I+b,P+A-b,T,E,C,p)||g.inBox(I-b,P+b,E,A,C,p)}S.default=O},62948:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parseRadius=S.parseStyle=S.parsePattern=S.parseRadialGradient=S.parseLineGradient=void 0;var g=v(94478),O=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,I=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,P=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,T=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function A(w,m){var M=w.match(T);g.each(M,function(L){var B=L.split(":");m.addColorStop(B[0],B[1])})}function E(w,m,M){var L=O.exec(M),B=parseFloat(L[1])%360*(Math.PI/180),D=L[2],z=m.getBBox(),q,K;B>=0&&B<1/2*Math.PI?(q={x:z.minX,y:z.minY},K={x:z.maxX,y:z.maxY}):1/2*Math.PI<=B&&B<Math.PI?(q={x:z.maxX,y:z.minY},K={x:z.minX,y:z.maxY}):Math.PI<=B&&B<3/2*Math.PI?(q={x:z.maxX,y:z.maxY},K={x:z.minX,y:z.minY}):(q={x:z.minX,y:z.maxY},K={x:z.maxX,y:z.minY});var it=Math.tan(B),ct=it*it,st=(K.x-q.x+it*(K.y-q.y))/(ct+1)+q.x,Ot=it*(K.x-q.x+it*(K.y-q.y))/(ct+1)+q.y,Dt=w.createLinearGradient(q.x,q.y,st,Ot);return A(D,Dt),Dt}S.parseLineGradient=E;function C(w,m,M){var L=I.exec(M),B=parseFloat(L[1]),D=parseFloat(L[2]),z=parseFloat(L[3]),q=L[4];if(z===0){var K=q.match(T);return K[K.length-1].split(":")[1]}var it=m.getBBox(),ct=it.maxX-it.minX,st=it.maxY-it.minY,Ot=Math.sqrt(ct*ct+st*st)/2,Dt=w.createRadialGradient(it.minX+ct*B,it.minY+st*D,0,it.minX+ct/2,it.minY+st/2,z*Ot);return A(q,Dt),Dt}S.parseRadialGradient=C;function p(w,m,M){if(m.get("patternSource")&&m.get("patternSource")===M)return m.get("pattern");var L,B,D=P.exec(M),z=D[1],q=D[2];function K(){L=w.createPattern(B,z),m.set("pattern",L),m.set("patternSource",M)}switch(z){case"a":z="repeat";break;case"x":z="repeat-x";break;case"y":z="repeat-y";break;case"n":z="no-repeat";break;default:z="no-repeat"}return B=new Image,q.match(/^data:/i)||(B.crossOrigin="Anonymous"),B.src=q,B.complete?K():(B.onload=K,B.src=B.src),L}S.parsePattern=p;function b(w,m,M){var L=m.getBBox();if(isNaN(L.x)||isNaN(L.y)||isNaN(L.width)||isNaN(L.height))return M;if(g.isString(M)){if(M[1]==="("||M[2]==="("){if(M[0]==="l")return E(w,m,M);if(M[0]==="r")return C(w,m,M);if(M[0]==="p")return p(w,m,M)}return M}if(M instanceof CanvasPattern)return M}S.parseStyle=b;function x(w){var m=0,M=0,L=0,B=0;return g.isArray(w)?w.length===1?m=M=L=B=w[0]:w.length===2?(m=L=w[0],M=B=w[1]):w.length===3?(m=w[0],M=B=w[1],L=w[2]):(m=w[0],M=w[1],L=w[2],B=w[3]):m=M=L=B=w,[m,M,L,B]}S.parseRadius=x},32460:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(99519),O=v(96533),I=v(89838),P=v(89838),T=v(56379),A=v(77160),E=v(94478),C=v(63131),p=v(37311),b=T.ext.transform;function x(M){for(var L=!1,B=M.length,D=0;D<B;D++){var z=M[D],q=z[0];if(q==="C"||q==="A"||q==="Q"){L=!0;break}}return L}function w(M,L,B,D,z){for(var q=!1,K=L/2,it=0;it<M.length;it++){var ct=M[it],st=ct.currentPoint,Ot=ct.params,Dt=ct.prePoint,Ht=ct.box;if(!(Ht&&!E.inBox(Ht.x-K,Ht.y-K,Ht.width+L,Ht.height+L,B,D))){switch(ct.command){case"L":case"Z":q=C.default(Dt[0],Dt[1],st[0],st[1],L,B,D);break;case"Q":var N=I.Quad.pointDistance(Dt[0],Dt[1],Ot[1],Ot[2],Ot[3],Ot[4],B,D);q=N<=L/2;break;case"C":var W=P.Cubic.pointDistance(Dt[0],Dt[1],Ot[1],Ot[2],Ot[3],Ot[4],Ot[5],Ot[6],B,D,z);q=W<=L/2;break;case"A":var X=ct.arcParams,V=X.cx,lt=X.cy,Z=X.rx,U=X.ry,j=X.startAngle,H=X.endAngle,f=X.xRotation,yt=[B,D,1],St=Z>U?Z:U,at=Z>U?1:Z/U,Ct=Z>U?U/Z:1,wt=b(null,[["t",-V,-lt],["r",-f],["s",1/at,1/Ct]]);A.transformMat3(yt,yt,wt),q=p.default(0,0,St,j,H,L,yt[0],yt[1]);break;default:break}if(q)break}}return q}function m(M){for(var L=M.length,B=[],D=[],z=[],q=0;q<L;q++){var K=M[q],it=K[0];it==="M"?(z.length&&(D.push(z),z=[]),z.push([K[1],K[2]])):it==="Z"?z.length&&(B.push(z),z=[]):z.push([K[1],K[2]])}return z.length>0&&D.push(z),{polygons:B,polylines:D}}S.default=g.__assign({hasArc:x,extractPolygons:m,isPointInStroke:w},O.PathUtil)},94478:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.clearAnimationFrame=S.requestAnimationFrame=S.isNumberEqual=S.mod=S.toRadian=S.each=S.isArray=S.isFunction=S.isString=S.isNil=S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function g(){return window?window.devicePixelRatio:1}S.getPixelRatio=g;function O(C,p,b,x){var w=C-b,m=p-x;return Math.sqrt(w*w+m*m)}S.distance=O;function I(C,p,b,x,w,m){return w>=C&&w<=C+b&&m>=p&&m<=p+x}S.inBox=I;function P(C,p){return!(p.minX>C.maxX||p.maxX<C.minX||p.minY>C.maxY||p.maxY<C.minY)}S.intersectRect=P;function T(C,p){return!C||!p?C||p:{minX:Math.min(C.minX,p.minX),minY:Math.min(C.minY,p.minY),maxX:Math.max(C.maxX,p.maxX),maxY:Math.max(C.maxY,p.maxY)}}S.mergeRegion=T;function A(C,p){return C[0]===p[0]&&C[1]===p[1]}S.isSamePoint=A;var E=v(49242);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return E.isNil}}),Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return E.isString}}),Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return E.isFunction}}),Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return E.isArray}}),Object.defineProperty(S,"each",{enumerable:!0,get:function(){return E.each}}),Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return E.toRadian}}),Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return E.mod}}),Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return E.isNumberEqual}}),Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return E.requestAnimationFrame}}),Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return E.clearAnimationFrame}})},56379:function(mt,S,v){"use strict";v.r(S),v.d(S,{ext:function(){return g},mat3:function(){return O},vec2:function(){return I},vec3:function(){return P}});var g={};v.r(g),v.d(g,{angleTo:function(){return x},direction:function(){return b},leftRotate:function(){return A},leftScale:function(){return E},leftTranslate:function(){return T},transform:function(){return p},vertical:function(){return w}});var O=v(35600),I=v(31437),P=v(77160);function T(m,M,L){var B=[0,0,0,0,0,0,0,0,0];return O.fromTranslation(B,L),O.multiply(m,B,M)}function A(m,M,L){var B=[0,0,0,0,0,0,0,0,0];return O.fromRotation(B,L),O.multiply(m,B,M)}function E(m,M,L){var B=[0,0,0,0,0,0,0,0,0];return O.fromScaling(B,L),O.multiply(m,B,M)}function C(m,M,L){return O.multiply(m,L,M)}function p(m,M){for(var L=m?[].concat(m):[1,0,0,0,1,0,0,0,1],B=0,D=M.length;B<D;B++){var z=M[B];switch(z[0]){case"t":T(L,L,[z[1],z[2]]);break;case"s":E(L,L,[z[1],z[2]]);break;case"r":A(L,L,z[1]);break;case"m":C(L,L,z[1]);break;default:break}}return L}function b(m,M){return m[0]*M[1]-M[0]*m[1]}function x(m,M,L){var B=I.angle(m,M),D=b(m,M)>=0;return L?D?Math.PI*2-B:B:D?B:Math.PI*2-B}function w(m,M,L){return L?(m[0]=M[1],m[1]=-1*M[0]):(m[0]=-1*M[1],m[1]=M[0]),m}},99519:function(mt,S,v){"use strict";v.r(S),v.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return P},__decorate:function(){return T},__param:function(){return A},__metadata:function(){return E},__awaiter:function(){return C},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return x},__values:function(){return w},__read:function(){return m},__spread:function(){return M},__spreadArrays:function(){return L},__spreadArray:function(){return B},__await:function(){return D},__asyncGenerator:function(){return z},__asyncDelegator:function(){return q},__asyncValues:function(){return K},__makeTemplateObject:function(){return it},__importStar:function(){return st},__importDefault:function(){return Ot},__classPrivateFieldGet:function(){return Dt},__classPrivateFieldSet:function(){return Ht}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var g=function(N,W){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,V){X.__proto__=V}||function(X,V){for(var lt in V)Object.prototype.hasOwnProperty.call(V,lt)&&(X[lt]=V[lt])},g(N,W)};function O(N,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");g(N,W);function X(){this.constructor=N}N.prototype=W===null?Object.create(W):(X.prototype=W.prototype,new X)}var I=function(){return I=Object.assign||function(W){for(var X,V=1,lt=arguments.length;V<lt;V++){X=arguments[V];for(var Z in X)Object.prototype.hasOwnProperty.call(X,Z)&&(W[Z]=X[Z])}return W},I.apply(this,arguments)};function P(N,W){var X={};for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&W.indexOf(V)<0&&(X[V]=N[V]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lt=0,V=Object.getOwnPropertySymbols(N);lt<V.length;lt++)W.indexOf(V[lt])<0&&Object.prototype.propertyIsEnumerable.call(N,V[lt])&&(X[V[lt]]=N[V[lt]]);return X}function T(N,W,X,V){var lt=arguments.length,Z=lt<3?W:V===null?V=Object.getOwnPropertyDescriptor(W,X):V,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(N,W,X,V);else for(var j=N.length-1;j>=0;j--)(U=N[j])&&(Z=(lt<3?U(Z):lt>3?U(W,X,Z):U(W,X))||Z);return lt>3&&Z&&Object.defineProperty(W,X,Z),Z}function A(N,W){return function(X,V){W(X,V,N)}}function E(N,W){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(N,W)}function C(N,W,X,V){function lt(Z){return Z instanceof X?Z:new X(function(U){U(Z)})}return new(X||(X=Promise))(function(Z,U){function j(yt){try{f(V.next(yt))}catch(St){U(St)}}function H(yt){try{f(V.throw(yt))}catch(St){U(St)}}function f(yt){yt.done?Z(yt.value):lt(yt.value).then(j,H)}f((V=V.apply(N,W||[])).next())})}function p(N,W){var X={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},V,lt,Z,U;return U={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function j(f){return function(yt){return H([f,yt])}}function H(f){if(V)throw new TypeError("Generator is already executing.");for(;X;)try{if(V=1,lt&&(Z=f[0]&2?lt.return:f[0]?lt.throw||((Z=lt.return)&&Z.call(lt),0):lt.next)&&!(Z=Z.call(lt,f[1])).done)return Z;switch(lt=0,Z&&(f=[f[0]&2,Z.value]),f[0]){case 0:case 1:Z=f;break;case 4:return X.label++,{value:f[1],done:!1};case 5:X.label++,lt=f[1],f=[0];continue;case 7:f=X.ops.pop(),X.trys.pop();continue;default:if(Z=X.trys,!(Z=Z.length>0&&Z[Z.length-1])&&(f[0]===6||f[0]===2)){X=0;continue}if(f[0]===3&&(!Z||f[1]>Z[0]&&f[1]<Z[3])){X.label=f[1];break}if(f[0]===6&&X.label<Z[1]){X.label=Z[1],Z=f;break}if(Z&&X.label<Z[2]){X.label=Z[2],X.ops.push(f);break}Z[2]&&X.ops.pop(),X.trys.pop();continue}f=W.call(N,X)}catch(yt){f=[6,yt],lt=0}finally{V=Z=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var b=Object.create?function(N,W,X,V){V===void 0&&(V=X),Object.defineProperty(N,V,{enumerable:!0,get:function(){return W[X]}})}:function(N,W,X,V){V===void 0&&(V=X),N[V]=W[X]};function x(N,W){for(var X in N)X!=="default"&&!Object.prototype.hasOwnProperty.call(W,X)&&b(W,N,X)}function w(N){var W=typeof Symbol=="function"&&Symbol.iterator,X=W&&N[W],V=0;if(X)return X.call(N);if(N&&typeof N.length=="number")return{next:function(){return N&&V>=N.length&&(N=void 0),{value:N&&N[V++],done:!N}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(N,W){var X=typeof Symbol=="function"&&N[Symbol.iterator];if(!X)return N;var V=X.call(N),lt,Z=[],U;try{for(;(W===void 0||W-- >0)&&!(lt=V.next()).done;)Z.push(lt.value)}catch(j){U={error:j}}finally{try{lt&&!lt.done&&(X=V.return)&&X.call(V)}finally{if(U)throw U.error}}return Z}function M(){for(var N=[],W=0;W<arguments.length;W++)N=N.concat(m(arguments[W]));return N}function L(){for(var N=0,W=0,X=arguments.length;W<X;W++)N+=arguments[W].length;for(var V=Array(N),lt=0,W=0;W<X;W++)for(var Z=arguments[W],U=0,j=Z.length;U<j;U++,lt++)V[lt]=Z[U];return V}function B(N,W,X){if(X||arguments.length===2)for(var V=0,lt=W.length,Z;V<lt;V++)(Z||!(V in W))&&(Z||(Z=Array.prototype.slice.call(W,0,V)),Z[V]=W[V]);return N.concat(Z||Array.prototype.slice.call(W))}function D(N){return this instanceof D?(this.v=N,this):new D(N)}function z(N,W,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V=X.apply(N,W||[]),lt,Z=[];return lt={},U("next"),U("throw"),U("return"),lt[Symbol.asyncIterator]=function(){return this},lt;function U(at){V[at]&&(lt[at]=function(Ct){return new Promise(function(wt,At){Z.push([at,Ct,wt,At])>1||j(at,Ct)})})}function j(at,Ct){try{H(V[at](Ct))}catch(wt){St(Z[0][3],wt)}}function H(at){at.value instanceof D?Promise.resolve(at.value.v).then(f,yt):St(Z[0][2],at)}function f(at){j("next",at)}function yt(at){j("throw",at)}function St(at,Ct){at(Ct),Z.shift(),Z.length&&j(Z[0][0],Z[0][1])}}function q(N){var W,X;return W={},V("next"),V("throw",function(lt){throw lt}),V("return"),W[Symbol.iterator]=function(){return this},W;function V(lt,Z){W[lt]=N[lt]?function(U){return(X=!X)?{value:D(N[lt](U)),done:lt==="return"}:Z?Z(U):U}:Z}}function K(N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=N[Symbol.asyncIterator],X;return W?W.call(N):(N=typeof w=="function"?w(N):N[Symbol.iterator](),X={},V("next"),V("throw"),V("return"),X[Symbol.asyncIterator]=function(){return this},X);function V(Z){X[Z]=N[Z]&&function(U){return new Promise(function(j,H){U=N[Z](U),lt(j,H,U.done,U.value)})}}function lt(Z,U,j,H){Promise.resolve(H).then(function(f){Z({value:f,done:j})},U)}}function it(N,W){return Object.defineProperty?Object.defineProperty(N,"raw",{value:W}):N.raw=W,N}var ct=Object.create?function(N,W){Object.defineProperty(N,"default",{enumerable:!0,value:W})}:function(N,W){N.default=W};function st(N){if(N&&N.__esModule)return N;var W={};if(N!=null)for(var X in N)X!=="default"&&Object.prototype.hasOwnProperty.call(N,X)&&b(W,N,X);return ct(W,N),W}function Ot(N){return N&&N.__esModule?N:{default:N}}function Dt(N,W,X,V){if(X==="a"&&!V)throw new TypeError("Private accessor was defined without a getter");if(typeof W=="function"?N!==W||!V:!W.has(N))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?V:X==="a"?V.call(N):V?V.value:W.get(N)}function Ht(N,W,X,V,lt){if(V==="m")throw new TypeError("Private method is not writable");if(V==="a"&&!lt)throw new TypeError("Private accessor was defined without a setter");if(typeof W=="function"?N!==W||!lt:!W.has(N))throw new TypeError("Cannot write private member to an object whose class did not declare it");return V==="a"?lt.call(N,X):lt?lt.value=X:W.set(N,X),X}},19270:function(mt,S,v){"use strict";var g;g={value:!0};var O=v(76789),I=v(96533),P=v(91995),T=v(49171),A=v(84092),E=v(84745),C=v(8198),p=v(36629),b=v(88330),x=function(w){O.__extends(m,w);function m(M){return w.call(this,O.__assign(O.__assign({},M),{autoDraw:!0,renderer:"svg"}))||this}return m.prototype.getShapeBase=function(){return C},m.prototype.getGroupBase=function(){return p.default},m.prototype.getShape=function(M,L,B){var D=B.target||B.srcElement;if(!P.SHAPE_TO_TAGS[D.tagName]){for(var z=D.parentNode;z&&!P.SHAPE_TO_TAGS[z.tagName];)z=z.parentNode;D=z}return this.find(function(q){return q.get("el")===D})},m.prototype.createDom=function(){var M=E.createSVGElement("svg"),L=new b.default(M);return M.setAttribute("width",""+this.get("width")),M.setAttribute("height",""+this.get("height")),this.set("context",L),M},m.prototype.onCanvasChange=function(M){var L=this.get("context"),B=this.get("el");if(M==="sort"){var D=this.get("children");D&&D.length&&E.sortDom(this,function(q,K){return D.indexOf(q)-D.indexOf(K)?1:0})}else if(M==="clear"){if(B){B.innerHTML="";var z=L.el;z.innerHTML="",B.appendChild(z)}}else M==="matrix"?A.setTransform(this):M==="clip"?A.setClip(this,L):M==="changeSize"&&(B.setAttribute("width",""+this.get("width")),B.setAttribute("height",""+this.get("height")))},m.prototype.draw=function(){var M=this.get("context"),L=this.getChildren();A.setClip(this,M),L.length&&T.drawChildren(M,L)},m}(I.AbstractCanvas);S.Z=x},91995:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.EVENTS=S.SVG_ATTR_MAP=S.SHAPE_TO_TAGS=void 0,S.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},S.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},S.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},14232:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(49242),O=v(84745),I=function(){function P(T,A){this.cfg={};var E=O.createSVGElement("marker"),C=g.uniqueId("marker_");E.setAttribute("id",C);var p=O.createSVGElement("path");p.setAttribute("stroke",T.stroke||"none"),p.setAttribute("fill",T.fill||"none"),E.appendChild(p),E.setAttribute("overflow","visible"),E.setAttribute("orient","auto-start-reverse"),this.el=E,this.child=p,this.id=C;var b=T[A==="marker-start"?"startArrow":"endArrow"];return this.stroke=T.stroke||"#000",b===!0?this._setDefaultPath(A,p):(this.cfg=b,this._setMarker(T.lineWidth,p)),this}return P.prototype.match=function(){return!1},P.prototype._setDefaultPath=function(T,A){var E=this.el;A.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),E.setAttribute("refX",""+10*Math.cos(Math.PI/6)),E.setAttribute("refY",""+5)},P.prototype._setMarker=function(T,A){var E=this.el,C=this.cfg.path,p=this.cfg.d;g.isArray(C)&&(C=C.map(function(b){return b.join(" ")}).join("")),A.setAttribute("d",C),E.appendChild(A),p&&E.setAttribute("refX",""+p/T)},P.prototype.update=function(T){var A=this.child;A.attr?A.attr("fill",T):A.setAttribute("fill",T)},P}();S.default=I},32439:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(49242),O=v(84745),I=function(){function P(T){this.type="clip",this.cfg={};var A=O.createSVGElement("clipPath");this.el=A,this.id=g.uniqueId("clip_"),A.id=this.id;var E=T.cfg.el;return A.appendChild(E),this.cfg=T,this}return P.prototype.match=function(){return!1},P.prototype.remove=function(){var T=this.el;T.parentNode.removeChild(T)},P}();S.default=I},90362:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(49242),O=v(84745),I=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,P=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,T=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function A(b){var x=b.match(T);if(!x)return"";var w="";return x.sort(function(m,M){return m=m.split(":"),M=M.split(":"),Number(m[0])-Number(M[0])}),g.each(x,function(m){m=m.split(":"),w+='<stop offset="'+m[0]+'" stop-color="'+m[1]+'"></stop>'}),w}function E(b,x){var w=I.exec(b),m=g.mod(g.toRadian(parseFloat(w[1])),Math.PI*2),M=w[2],L,B;m>=0&&m<.5*Math.PI?(L={x:0,y:0},B={x:1,y:1}):.5*Math.PI<=m&&m<Math.PI?(L={x:1,y:0},B={x:0,y:1}):Math.PI<=m&&m<1.5*Math.PI?(L={x:1,y:1},B={x:0,y:0}):(L={x:0,y:1},B={x:1,y:0});var D=Math.tan(m),z=D*D,q=(B.x-L.x+D*(B.y-L.y))/(z+1)+L.x,K=D*(B.x-L.x+D*(B.y-L.y))/(z+1)+L.y;x.setAttribute("x1",L.x),x.setAttribute("y1",L.y),x.setAttribute("x2",q),x.setAttribute("y2",K),x.innerHTML=A(M)}function C(b,x){var w=P.exec(b),m=parseFloat(w[1]),M=parseFloat(w[2]),L=parseFloat(w[3]),B=w[4];x.setAttribute("cx",m),x.setAttribute("cy",M),x.setAttribute("r",L),x.innerHTML=A(B)}var p=function(){function b(x){this.cfg={};var w=null,m=g.uniqueId("gradient_");return x.toLowerCase()[0]==="l"?(w=O.createSVGElement("linearGradient"),E(x,w)):(w=O.createSVGElement("radialGradient"),C(x,w)),w.setAttribute("id",m),this.el=w,this.id=m,this.cfg=x,this}return b.prototype.match=function(x,w){return this.cfg===w},b}();S.default=p},88330:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(49242),O=v(90362),I=v(50375),P=v(14232),T=v(32439),A=v(99365),E=v(84745),C=function(){function p(b){var x=E.createSVGElement("defs"),w=g.uniqueId("defs_");x.id=w,b.appendChild(x),this.children=[],this.defaultArrow={},this.el=x,this.canvas=b}return p.prototype.find=function(b,x){for(var w=this.children,m=null,M=0;M<w.length;M++)if(w[M].match(b,x)){m=w[M].id;break}return m},p.prototype.findById=function(b){for(var x=this.children,w=null,m=0;m<x.length;m++)if(x[m].id===b){w=x[m];break}return w},p.prototype.add=function(b){this.children.push(b),b.canvas=this.canvas,b.parent=this},p.prototype.getDefaultArrow=function(b,x){var w=b.stroke||b.strokeStyle;if(this.defaultArrow[w])return this.defaultArrow[w].id;var m=new P.default(b,x);return this.defaultArrow[w]=m,this.el.appendChild(m.el),this.add(m),m.id},p.prototype.addGradient=function(b){var x=new O.default(b);return this.el.appendChild(x.el),this.add(x),x.id},p.prototype.addArrow=function(b,x){var w=new P.default(b,x);return this.el.appendChild(w.el),this.add(w),w.id},p.prototype.addShadow=function(b){var x=new I.default(b);return this.el.appendChild(x.el),this.add(x),x.id},p.prototype.addPattern=function(b){var x=new A.default(b);return this.el.appendChild(x.el),this.add(x),x.id},p.prototype.addClip=function(b){var x=new T.default(b);return this.el.appendChild(x.el),this.add(x),x.id},p}();S.default=C},99365:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(49242),O=v(84745),I=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,P=function(){function T(A){this.cfg={};var E=O.createSVGElement("pattern");E.setAttribute("patternUnits","userSpaceOnUse");var C=O.createSVGElement("image");E.appendChild(C);var p=g.uniqueId("pattern_");E.id=p,this.el=E,this.id=p,this.cfg=A;var b=I.exec(A),x=b[2];C.setAttribute("href",x);var w=new Image;x.match(/^data:/i)||(w.crossOrigin="Anonymous"),w.src=x;function m(){E.setAttribute("width",""+w.width),E.setAttribute("height",""+w.height)}return w.complete?m():(w.onload=m,w.src=w.src),this}return T.prototype.match=function(A,E){return this.cfg===E},T}();S.default=P},50375:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(49242),O=v(84745),I={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},P={x:"-40%",y:"-40%",width:"200%",height:"200%"},T=function(){function A(E){this.type="filter",this.cfg={},this.type="filter";var C=O.createSVGElement("filter");return g.each(P,function(p,b){C.setAttribute(b,p)}),this.el=C,this.id=g.uniqueId("filter_"),this.el.id=this.id,this.cfg=E,this._parseShadow(E,C),this}return A.prototype.match=function(E,C){if(this.type!==E)return!1;var p=!0,b=this.cfg;return g.each(Object.keys(b),function(x){if(b[x]!==C[x])return p=!1,!1}),p},A.prototype.update=function(E,C){var p=this.cfg;return p[I[E]]=C,this._parseShadow(p,this.el),this},A.prototype._parseShadow=function(E,C){var p=`<feDropShadow
      dx="`+(E.dx||0)+`"
      dy="`+(E.dy||0)+`"
      stdDeviation="`+(E.blur?E.blur/10:0)+`"
      flood-color="`+(E.color?E.color:"#000")+`"
      flood-opacity="`+(E.opacity?E.opacity:1)+`"
      />`;C.innerHTML=p},A}();S.default=T},36629:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76789),O=v(96533),I=v(49242),P=v(8198),T=v(49171),A=v(84092),E=v(91995),C=v(84745),p=function(b){g.__extends(x,b);function x(){return b!==null&&b.apply(this,arguments)||this}return x.prototype.isEntityGroup=function(){return!0},x.prototype.createDom=function(){var w=C.createSVGElement("g");this.set("el",w);var m=this.getParent();if(m){var M=m.get("el");M||(M=m.createDom(),m.set("el",M)),M.appendChild(w)}return w},x.prototype.afterAttrsChange=function(w){b.prototype.afterAttrsChange.call(this,w);var m=this.get("canvas");if(m&&m.get("autoDraw")){var M=m.get("context");this.createPath(M,w)}},x.prototype.onCanvasChange=function(w){T.refreshElement(this,w)},x.prototype.getShapeBase=function(){return P},x.prototype.getGroupBase=function(){return x},x.prototype.draw=function(w){var m=this.getChildren(),M=this.get("el");this.get("destroyed")?M&&M.parentNode.removeChild(M):(M||this.createDom(),A.setClip(this,w),this.createPath(w),m.length&&T.drawChildren(w,m))},x.prototype.createPath=function(w,m){var M=this.attr(),L=this.get("el");I.each(m||M,function(B,D){E.SVG_ATTR_MAP[D]&&L.setAttribute(E.SVG_ATTR_MAP[D],B)}),A.setTransform(this)},x}(O.AbstractGroup);S.default=p},5666:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76789),O=v(96533),I=v(84092),P=v(84745),T=v(49171),A=v(91995),E=v(8198),C=v(36629),p=v(96533),b=function(x){g.__extends(w,x);function w(){var m=x!==null&&x.apply(this,arguments)||this;return m.type="svg",m.canFill=!1,m.canStroke=!1,m}return w.prototype.getDefaultAttrs=function(){var m=x.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},m),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},w.prototype.afterAttrsChange=function(m){x.prototype.afterAttrsChange.call(this,m);var M=this.get("canvas");if(M&&M.get("autoDraw")){var L=M.get("context");this.draw(L,m)}},w.prototype.getShapeBase=function(){return E},w.prototype.getGroupBase=function(){return C.default},w.prototype.onCanvasChange=function(m){T.refreshElement(this,m)},w.prototype.calculateBBox=function(){var m=this.get("el"),M=null;if(m)M=m.getBBox();else{var L=p.getBBoxMethod(this.get("type"));L&&(M=L(this))}if(M){var B=M.x,D=M.y,z=M.width,q=M.height,K=this.getHitLineWidth(),it=K/2,ct=B-it,st=D-it,Ot=B+z+it,Dt=D+q+it;return{x:ct,y:st,minX:ct,minY:st,maxX:Ot,maxY:Dt,width:z+K,height:q+K}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},w.prototype.isFill=function(){var m=this.attr(),M=m.fill,L=m.fillStyle;return(M||L||this.isClipShape())&&this.canFill},w.prototype.isStroke=function(){var m=this.attr(),M=m.stroke,L=m.strokeStyle;return(M||L)&&this.canStroke},w.prototype.draw=function(m,M){var L=this.get("el");this.get("destroyed")?L&&L.parentNode.removeChild(L):(L||P.createDom(this),I.setClip(this,m),this.createPath(m,M),this.shadow(m,M),this.strokeAndFill(m,M),this.transform(M))},w.prototype.createPath=function(m,M){},w.prototype.strokeAndFill=function(m,M){var L=M||this.attr(),B=L.fill,D=L.fillStyle,z=L.stroke,q=L.strokeStyle,K=L.fillOpacity,it=L.strokeOpacity,ct=L.lineWidth,st=this.get("el");this.canFill&&(M?"fill"in L?this._setColor(m,"fill",B):"fillStyle"in L&&this._setColor(m,"fill",D):this._setColor(m,"fill",B||D),K&&st.setAttribute(A.SVG_ATTR_MAP.fillOpacity,K)),this.canStroke&&ct>0&&(M?"stroke"in L?this._setColor(m,"stroke",z):"strokeStyle"in L&&this._setColor(m,"stroke",q):this._setColor(m,"stroke",z||q),it&&st.setAttribute(A.SVG_ATTR_MAP.strokeOpacity,it),ct&&st.setAttribute(A.SVG_ATTR_MAP.lineWidth,ct))},w.prototype._setColor=function(m,M,L){var B=this.get("el");if(!L){B.setAttribute(A.SVG_ATTR_MAP[M],"none");return}if(L=L.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(L)){var D=m.find("gradient",L);D||(D=m.addGradient(L)),B.setAttribute(A.SVG_ATTR_MAP[M],"url(#"+D+")")}else if(/^[p,P]{1}[\s]*\(/.test(L)){var D=m.find("pattern",L);D||(D=m.addPattern(L)),B.setAttribute(A.SVG_ATTR_MAP[M],"url(#"+D+")")}else B.setAttribute(A.SVG_ATTR_MAP[M],L)},w.prototype.shadow=function(m,M){var L=this.attr(),B=M||L,D=B.shadowOffsetX,z=B.shadowOffsetY,q=B.shadowBlur,K=B.shadowColor;(D||z||q||K)&&I.setShadow(this,m)},w.prototype.transform=function(m){var M=this.attr(),L=(m||M).matrix;L&&I.setTransform(this)},w.prototype.isInShape=function(m,M){return this.isPointInPath(m,M)},w.prototype.isPointInPath=function(m,M){var L=this.get("el"),B=this.get("canvas"),D=B.get("el").getBoundingClientRect(),z=m+D.left,q=M+D.top,K=document.elementFromPoint(z,q);return!!(K&&K.isEqualNode(L))},w.prototype.getHitLineWidth=function(){var m=this.attrs,M=m.lineWidth,L=m.lineAppendWidth;return this.isStroke()?M+L:0},w}(O.AbstractShape);S.default=b},41310:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76789),O=v(49242),I=v(91995),P=v(5666),T=function(A){g.__extends(E,A);function E(){var C=A!==null&&A.apply(this,arguments)||this;return C.type="circle",C.canFill=!0,C.canStroke=!0,C}return E.prototype.getDefaultAttrs=function(){var C=A.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},C),{x:0,y:0,r:0})},E.prototype.createPath=function(C,p){var b=this.attr(),x=this.get("el");O.each(p||b,function(w,m){m==="x"||m==="y"?x.setAttribute("c"+m,w):I.SVG_ATTR_MAP[m]&&x.setAttribute(I.SVG_ATTR_MAP[m],w)})},E}(P.default);S.default=T},88800:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76789),O=v(49242),I=v(91995),P=v(5666),T=function(A){g.__extends(E,A);function E(){var C=A!==null&&A.apply(this,arguments)||this;return C.type="dom",C.canFill=!1,C.canStroke=!1,C}return E.prototype.createPath=function(C,p){var b=this.attr(),x=this.get("el");if(O.each(p||b,function(L,B){I.SVG_ATTR_MAP[B]&&x.setAttribute(I.SVG_ATTR_MAP[B],L)}),typeof b.html=="function"){var w=b.html.call(this,b);if(w instanceof Element||w instanceof HTMLDocument){for(var m=x.childNodes,M=m.length-1;M>=0;M--)x.removeChild(m[M]);x.appendChild(w)}else x.innerHTML=w}else x.innerHTML=b.html},E}(P.default);S.default=T},62927:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76789),O=v(49242),I=v(91995),P=v(5666),T=function(A){g.__extends(E,A);function E(){var C=A!==null&&A.apply(this,arguments)||this;return C.type="ellipse",C.canFill=!0,C.canStroke=!0,C}return E.prototype.getDefaultAttrs=function(){var C=A.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},C),{x:0,y:0,rx:0,ry:0})},E.prototype.createPath=function(C,p){var b=this.attr(),x=this.get("el");O.each(p||b,function(w,m){m==="x"||m==="y"?x.setAttribute("c"+m,w):I.SVG_ATTR_MAP[m]&&x.setAttribute(I.SVG_ATTR_MAP[m],w)})},E}(P.default);S.default=T},78076:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76789),O=v(49242),I=v(91995),P=v(5666),T=function(A){g.__extends(E,A);function E(){var C=A!==null&&A.apply(this,arguments)||this;return C.type="image",C.canFill=!1,C.canStroke=!1,C}return E.prototype.getDefaultAttrs=function(){var C=A.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},C),{x:0,y:0,width:0,height:0})},E.prototype.createPath=function(C,p){var b=this,x=this.attr(),w=this.get("el");O.each(p||x,function(m,M){M==="img"?b._setImage(x.img):I.SVG_ATTR_MAP[M]&&w.setAttribute(I.SVG_ATTR_MAP[M],m)})},E.prototype.setAttr=function(C,p){this.attrs[C]=p,C==="img"&&this._setImage(p)},E.prototype._setImage=function(C){var p=this.attr(),b=this.get("el");if(O.isString(C))b.setAttribute("href",C);else if(C instanceof window.Image)p.width||(b.setAttribute("width",C.width),this.attr("width",C.width)),p.height||(b.setAttribute("height",C.height),this.attr("height",C.height)),b.setAttribute("href",C.src);else if(C instanceof HTMLElement&&O.isString(C.nodeName)&&C.nodeName.toUpperCase()==="CANVAS")b.setAttribute("href",C.toDataURL());else if(C instanceof ImageData){var x=document.createElement("canvas");x.setAttribute("width",""+C.width),x.setAttribute("height",""+C.height),x.getContext("2d").putImageData(C,0,0),p.width||(b.setAttribute("width",""+C.width),this.attr("width",C.width)),p.height||(b.setAttribute("height",""+C.height),this.attr("height",C.height)),b.setAttribute("href",x.toDataURL())}},E}(P.default);S.default=T},8198:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(5666);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return g.default}});var O=v(41310);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return O.default}});var I=v(88800);Object.defineProperty(S,"Dom",{enumerable:!0,get:function(){return I.default}});var P=v(62927);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return P.default}});var T=v(78076);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return T.default}});var A=v(22059);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return A.default}});var E=v(62116);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return E.default}});var C=v(49582);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return C.default}});var p=v(17498);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return p.default}});var b=v(67478);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return b.default}});var x=v(79705);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return x.default}});var w=v(61622);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return w.default}})},22059:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76789),O=v(89838),I=v(49242),P=v(91995),T=v(5666),A=function(E){g.__extends(C,E);function C(){var p=E!==null&&E.apply(this,arguments)||this;return p.type="line",p.canFill=!1,p.canStroke=!0,p}return C.prototype.getDefaultAttrs=function(){var p=E.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},C.prototype.createPath=function(p,b){var x=this.attr(),w=this.get("el");I.each(b||x,function(m,M){if(M==="startArrow"||M==="endArrow")if(m){var L=I.isObject(m)?p.addArrow(x,P.SVG_ATTR_MAP[M]):p.getDefaultArrow(x,P.SVG_ATTR_MAP[M]);w.setAttribute(P.SVG_ATTR_MAP[M],"url(#"+L+")")}else w.removeAttribute(P.SVG_ATTR_MAP[M]);else P.SVG_ATTR_MAP[M]&&w.setAttribute(P.SVG_ATTR_MAP[M],m)})},C.prototype.getTotalLength=function(){var p=this.attr(),b=p.x1,x=p.y1,w=p.x2,m=p.y2;return O.Line.length(b,x,w,m)},C.prototype.getPoint=function(p){var b=this.attr(),x=b.x1,w=b.y1,m=b.x2,M=b.y2;return O.Line.pointAt(x,w,m,M,p)},C}(T.default);S.default=A},62116:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76789),O=v(49242),I=v(5666),P=v(56205),T=function(A){g.__extends(E,A);function E(){var C=A!==null&&A.apply(this,arguments)||this;return C.type="marker",C.canFill=!0,C.canStroke=!0,C}return E.prototype.createPath=function(C){var p=this.get("el");p.setAttribute("d",this._assembleMarker())},E.prototype._assembleMarker=function(){var C=this._getPath();return O.isArray(C)?C.map(function(p){return p.join(" ")}).join(""):C},E.prototype._getPath=function(){var C=this.attr(),p=C.x,b=C.y,x=C.r||C.radius,w=C.symbol||"circle",m;return O.isFunction(w)?m=w:m=P.default.get(w),m?m(p,b,x):(console.warn(m+" symbol is not exist."),null)},E.symbolsFactory=P.default,E}(I.default);S.default=T},56205:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v={circle:function(g,O,I){return[["M",g,O],["m",-I,0],["a",I,I,0,1,0,I*2,0],["a",I,I,0,1,0,-I*2,0]]},square:function(g,O,I){return[["M",g-I,O-I],["L",g+I,O-I],["L",g+I,O+I],["L",g-I,O+I],["Z"]]},diamond:function(g,O,I){return[["M",g-I,O],["L",g,O-I],["L",g+I,O],["L",g,O+I],["Z"]]},triangle:function(g,O,I){var P=I*Math.sin(1/3*Math.PI);return[["M",g-I,O+P],["L",g,O-P],["L",g+I,O+P],["z"]]},triangleDown:function(g,O,I){var P=I*Math.sin(1/3*Math.PI);return[["M",g-I,O-P],["L",g+I,O-P],["L",g,O+P],["Z"]]}};S.default={get:function(g){return v[g]},register:function(g,O){v[g]=O},remove:function(g){delete v[g]},getAll:function(){return v}}},49582:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76789),O=v(49242),I=v(91995),P=v(5666),T=function(A){g.__extends(E,A);function E(){var C=A!==null&&A.apply(this,arguments)||this;return C.type="path",C.canFill=!0,C.canStroke=!0,C}return E.prototype.getDefaultAttrs=function(){var C=A.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},C),{startArrow:!1,endArrow:!1})},E.prototype.createPath=function(C,p){var b=this,x=this.attr(),w=this.get("el");O.each(p||x,function(m,M){if(M==="path"&&O.isArray(m))w.setAttribute("d",b._formatPath(m));else if(M==="startArrow"||M==="endArrow")if(m){var L=O.isObject(m)?C.addArrow(x,I.SVG_ATTR_MAP[M]):C.getDefaultArrow(x,I.SVG_ATTR_MAP[M]);w.setAttribute(I.SVG_ATTR_MAP[M],"url(#"+L+")")}else w.removeAttribute(I.SVG_ATTR_MAP[M]);else I.SVG_ATTR_MAP[M]&&w.setAttribute(I.SVG_ATTR_MAP[M],m)})},E.prototype._formatPath=function(C){var p=C.map(function(b){return b.join(" ")}).join("");return~p.indexOf("NaN")?"":p},E.prototype.getTotalLength=function(){var C=this.get("el");return C?C.getTotalLength():null},E.prototype.getPoint=function(C){var p=this.get("el"),b=this.getTotalLength();if(b===0)return null;var x=p?p.getPointAtLength(C*b):null;return x?{x:x.x,y:x.y}:null},E}(P.default);S.default=T},17498:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76789),O=v(49242),I=v(91995),P=v(5666),T=function(A){g.__extends(E,A);function E(){var C=A!==null&&A.apply(this,arguments)||this;return C.type="polygon",C.canFill=!0,C.canStroke=!0,C}return E.prototype.createPath=function(C,p){var b=this.attr(),x=this.get("el");O.each(p||b,function(w,m){m==="points"&&O.isArray(w)&&w.length>=2?x.setAttribute("points",w.map(function(M){return M[0]+","+M[1]}).join(" ")):I.SVG_ATTR_MAP[m]&&x.setAttribute(I.SVG_ATTR_MAP[m],w)})},E}(P.default);S.default=T},67478:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76789),O=v(89838),I=v(89838),P=v(49242),T=v(91995),A=v(5666),E=function(C){g.__extends(p,C);function p(){var b=C!==null&&C.apply(this,arguments)||this;return b.type="polyline",b.canFill=!0,b.canStroke=!0,b}return p.prototype.getDefaultAttrs=function(){var b=C.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},b),{startArrow:!1,endArrow:!1})},p.prototype.onAttrChange=function(b,x,w){C.prototype.onAttrChange.call(this,b,x,w),["points"].indexOf(b)!==-1&&this._resetCache()},p.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},p.prototype.createPath=function(b,x){var w=this.attr(),m=this.get("el");P.each(x||w,function(M,L){L==="points"&&P.isArray(M)&&M.length>=2?m.setAttribute("points",M.map(function(B){return B[0]+","+B[1]}).join(" ")):T.SVG_ATTR_MAP[L]&&m.setAttribute(T.SVG_ATTR_MAP[L],M)})},p.prototype.getTotalLength=function(){var b=this.attr().points,x=this.get("totalLength");return P.isNil(x)?(this.set("totalLength",O.Polyline.length(b)),this.get("totalLength")):x},p.prototype.getPoint=function(b){var x=this.attr().points,w=this.get("tCache");w||(this._setTcache(),w=this.get("tCache"));var m,M;return P.each(w,function(L,B){b>=L[0]&&b<=L[1]&&(m=(b-L[0])/(L[1]-L[0]),M=B)}),I.Line.pointAt(x[M][0],x[M][1],x[M+1][0],x[M+1][1],m)},p.prototype._setTcache=function(){var b=this.attr().points;if(!(!b||b.length===0)){var x=this.getTotalLength();if(!(x<=0)){var w=0,m=[],M,L;P.each(b,function(B,D){b[D+1]&&(M=[],M[0]=w/x,L=I.Line.length(B[0],B[1],b[D+1][0],b[D+1][1]),w+=L,M[1]=w/x,m.push(M))}),this.set("tCache",m)}}},p.prototype.getStartTangent=function(){var b=this.attr().points,x=[];return x.push([b[1][0],b[1][1]]),x.push([b[0][0],b[0][1]]),x},p.prototype.getEndTangent=function(){var b=this.attr().points,x=b.length-1,w=[];return w.push([b[x-1][0],b[x-1][1]]),w.push([b[x][0],b[x][1]]),w},p}(A.default);S.default=E},79705:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76789),O=v(49242),I=v(5666),P=v(91995),T=v(19544),A=function(E){g.__extends(C,E);function C(){var p=E!==null&&E.apply(this,arguments)||this;return p.type="rect",p.canFill=!0,p.canStroke=!0,p}return C.prototype.getDefaultAttrs=function(){var p=E.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},p),{x:0,y:0,width:0,height:0,radius:0})},C.prototype.createPath=function(p,b){var x=this,w=this.attr(),m=this.get("el"),M=!1,L=["x","y","width","height","radius"];O.each(b||w,function(B,D){L.indexOf(D)!==-1&&!M?(m.setAttribute("d",x._assembleRect(w)),M=!0):L.indexOf(D)===-1&&P.SVG_ATTR_MAP[D]&&m.setAttribute(P.SVG_ATTR_MAP[D],B)})},C.prototype._assembleRect=function(p){var b=p.x,x=p.y,w=p.width,m=p.height,M=p.radius;if(!M)return"M "+b+","+x+" l "+w+",0 l 0,"+m+" l"+-w+" 0 z";var L=T.parseRadius(M);O.isArray(M)?M.length===1?L.r1=L.r2=L.r3=L.r4=M[0]:M.length===2?(L.r1=L.r3=M[0],L.r2=L.r4=M[1]):M.length===3?(L.r1=M[0],L.r2=L.r4=M[1],L.r3=M[2]):(L.r1=M[0],L.r2=M[1],L.r3=M[2],L.r4=M[3]):L.r1=L.r2=L.r3=L.r4=M;var B=[["M "+(b+L.r1)+","+x],["l "+(w-L.r1-L.r2)+",0"],["a "+L.r2+","+L.r2+",0,0,1,"+L.r2+","+L.r2],["l 0,"+(m-L.r2-L.r3)],["a "+L.r3+","+L.r3+",0,0,1,"+-L.r3+","+L.r3],["l "+(L.r3+L.r4-w)+",0"],["a "+L.r4+","+L.r4+",0,0,1,"+-L.r4+","+-L.r4],["l 0,"+(L.r4+L.r1-m)],["a "+L.r1+","+L.r1+",0,0,1,"+L.r1+","+-L.r1],["z"]];return B.join(" ")},C}(I.default);S.default=A},61622:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76789),O=v(49242),I=v(43631),P=v(84092),T=v(91995),A=v(5666),E=.3,C={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},p={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},b={left:"left",start:"left",center:"middle",right:"end",end:"end"},x=function(w){g.__extends(m,w);function m(){var M=w!==null&&w.apply(this,arguments)||this;return M.type="text",M.canFill=!0,M.canStroke=!0,M}return m.prototype.getDefaultAttrs=function(){var M=w.prototype.getDefaultAttrs.call(this);return g.__assign(g.__assign({},M),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},m.prototype.createPath=function(M,L){var B=this,D=this.attr(),z=this.get("el");this._setFont(),O.each(L||D,function(q,K){K==="text"?B._setText(""+q):K==="matrix"&&q?P.setTransform(B):T.SVG_ATTR_MAP[K]&&z.setAttribute(T.SVG_ATTR_MAP[K],q)}),z.setAttribute("paint-order","stroke"),z.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},m.prototype._setFont=function(){var M=this.get("el"),L=this.attr(),B=L.textBaseline,D=L.textAlign,z=I.detect();z&&z.name==="firefox"?M.setAttribute("dominant-baseline",p[B]||"alphabetic"):M.setAttribute("alignment-baseline",C[B]||"baseline"),M.setAttribute("text-anchor",b[D]||"left")},m.prototype._setText=function(M){var L=this.get("el"),B=this.attr(),D=B.x,z=B.textBaseline,q=z===void 0?"bottom":z;if(!M)L.innerHTML="";else if(~M.indexOf(`
`)){var K=M.split(`
`),it=K.length-1,ct="";O.each(K,function(st,Ot){Ot===0?q==="alphabetic"?ct+='<tspan x="'+D+'" dy="'+-it+'em">'+st+"</tspan>":q==="top"?ct+='<tspan x="'+D+'" dy="0.9em">'+st+"</tspan>":q==="middle"?ct+='<tspan x="'+D+'" dy="'+-(it-1)/2+'em">'+st+"</tspan>":q==="bottom"?ct+='<tspan x="'+D+'" dy="-'+(it+E)+'em">'+st+"</tspan>":q==="hanging"&&(ct+='<tspan x="'+D+'" dy="'+(-(it-1)-E)+'em">'+st+"</tspan>"):ct+='<tspan x="'+D+'" dy="1em">'+st+"</tspan>"}),L.innerHTML=ct}else L.innerHTML=M},m}(A.default);S.default=x},84745:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.moveTo=S.sortDom=S.createDom=S.createSVGElement=void 0;var g=v(49242),O=v(91995);function I(E){return document.createElementNS("http://www.w3.org/2000/svg",E)}S.createSVGElement=I;function P(E){var C=O.SHAPE_TO_TAGS[E.type],p=E.getParent();if(!C)throw new Error("the type "+E.type+" is not supported by svg");var b=I(C);if(E.get("id")&&(b.id=E.get("id")),E.set("el",b),E.set("attrs",{}),p){var x=p.get("el");x||(x=p.createDom(),p.set("el",x)),x.appendChild(b)}return b}S.createDom=P;function T(E,C){var p=E.get("el"),b=g.toArray(p.children).sort(C),x=document.createDocumentFragment();b.forEach(function(w){x.appendChild(w)}),p.appendChild(x)}S.sortDom=T;function A(E,C){var p=E.parentNode,b=Array.from(p.childNodes).filter(function(M){return M.nodeType===1&&M.nodeName.toLowerCase()!=="defs"}),x=b[C],w=b.indexOf(E);if(x){if(w>C)p.insertBefore(E,x);else if(w<C){var m=b[C+1];m?p.insertBefore(E,m):p.appendChild(E)}}else p.appendChild(E)}S.moveTo=A},49171:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.refreshElement=S.drawChildren=void 0;var g=v(84092),O=v(84745);function I(T,A){A.forEach(function(E){E.draw(T)})}S.drawChildren=I;function P(T,A){var E=T.get("canvas");if(E&&E.get("autoDraw")){var C=E.get("context"),p=T.getParent(),b=p?p.getChildren():[E],x=T.get("el");if(A==="remove"){var w=T.get("isClipShape");if(w){var m=x&&x.parentNode,M=m&&m.parentNode;m&&M&&M.removeChild(m)}else x&&x.parentNode&&x.parentNode.removeChild(x)}else if(A==="show")x.setAttribute("visibility","visible");else if(A==="hide")x.setAttribute("visibility","hidden");else if(A==="zIndex")O.moveTo(x,b.indexOf(T));else if(A==="sort"){var L=T.get("children");L&&L.length&&O.sortDom(T,function(B,D){return L.indexOf(B)-L.indexOf(D)?1:0})}else A==="clear"?x&&(x.innerHTML=""):A==="matrix"?g.setTransform(T):A==="clip"?g.setClip(T,C):A==="attr"||A==="add"&&T.draw(C)}}S.refreshElement=P},19544:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parsePath=S.parseRadius=void 0;var g=v(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,I=/[^\s,]+/gi;function P(A){var E=0,C=0,p=0,b=0;return g.isArray(A)?A.length===1?E=C=p=b=A[0]:A.length===2?(E=p=A[0],C=b=A[1]):A.length===3?(E=A[0],C=b=A[1],p=A[2]):(E=A[0],C=A[1],p=A[2],b=A[3]):E=C=p=b=A,{r1:E,r2:C,r3:p,r4:b}}S.parseRadius=P;function T(A){if(A=A||[],g.isArray(A))return A;if(g.isString(A))return A=A.match(O),g.each(A,function(E,C){if(E=E.match(I),E[0].length>1){var p=E[0].charAt(0);E.splice(1,0,E[0].substr(1)),E[0]=p}g.each(E,function(b,x){isNaN(b)||(E[x]=+b)}),A[C]=E}),A}S.parsePath=T},84092:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setClip=S.setTransform=S.setShadow=void 0;var g=v(84745);function O(T,A){var E=T.cfg.el,C=T.attr(),p={dx:C.shadowOffsetX,dy:C.shadowOffsetY,blur:C.shadowBlur,color:C.shadowColor};if(!p.dx&&!p.dy&&!p.blur&&!p.color)E.removeAttribute("filter");else{var b=A.find("filter",p);b||(b=A.addShadow(p)),E.setAttribute("filter","url(#"+b+")")}}S.setShadow=O;function I(T){var A=T.attr().matrix;if(A){for(var E=T.cfg.el,C=[],p=0;p<9;p+=3)C.push(A[p]+","+A[p+1]);C=C.join(","),C.indexOf("NaN")===-1?E.setAttribute("transform","matrix("+C+")"):console.warn("invalid matrix:",A)}}S.setTransform=I;function P(T,A){var E=T.getClip(),C=T.get("el");if(!E)C.removeAttribute("clip-path");else if(E&&!C.hasAttribute("clip-path")){g.createDom(E),E.createPath(A);var p=A.addClip(E);C.setAttribute("clip-path","url(#"+p+")")}}S.setClip=P},76789:function(mt,S,v){"use strict";v.r(S),v.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return P},__decorate:function(){return T},__param:function(){return A},__metadata:function(){return E},__awaiter:function(){return C},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return x},__values:function(){return w},__read:function(){return m},__spread:function(){return M},__spreadArrays:function(){return L},__spreadArray:function(){return B},__await:function(){return D},__asyncGenerator:function(){return z},__asyncDelegator:function(){return q},__asyncValues:function(){return K},__makeTemplateObject:function(){return it},__importStar:function(){return st},__importDefault:function(){return Ot},__classPrivateFieldGet:function(){return Dt},__classPrivateFieldSet:function(){return Ht}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var g=function(N,W){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,V){X.__proto__=V}||function(X,V){for(var lt in V)Object.prototype.hasOwnProperty.call(V,lt)&&(X[lt]=V[lt])},g(N,W)};function O(N,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");g(N,W);function X(){this.constructor=N}N.prototype=W===null?Object.create(W):(X.prototype=W.prototype,new X)}var I=function(){return I=Object.assign||function(W){for(var X,V=1,lt=arguments.length;V<lt;V++){X=arguments[V];for(var Z in X)Object.prototype.hasOwnProperty.call(X,Z)&&(W[Z]=X[Z])}return W},I.apply(this,arguments)};function P(N,W){var X={};for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&W.indexOf(V)<0&&(X[V]=N[V]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lt=0,V=Object.getOwnPropertySymbols(N);lt<V.length;lt++)W.indexOf(V[lt])<0&&Object.prototype.propertyIsEnumerable.call(N,V[lt])&&(X[V[lt]]=N[V[lt]]);return X}function T(N,W,X,V){var lt=arguments.length,Z=lt<3?W:V===null?V=Object.getOwnPropertyDescriptor(W,X):V,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(N,W,X,V);else for(var j=N.length-1;j>=0;j--)(U=N[j])&&(Z=(lt<3?U(Z):lt>3?U(W,X,Z):U(W,X))||Z);return lt>3&&Z&&Object.defineProperty(W,X,Z),Z}function A(N,W){return function(X,V){W(X,V,N)}}function E(N,W){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(N,W)}function C(N,W,X,V){function lt(Z){return Z instanceof X?Z:new X(function(U){U(Z)})}return new(X||(X=Promise))(function(Z,U){function j(yt){try{f(V.next(yt))}catch(St){U(St)}}function H(yt){try{f(V.throw(yt))}catch(St){U(St)}}function f(yt){yt.done?Z(yt.value):lt(yt.value).then(j,H)}f((V=V.apply(N,W||[])).next())})}function p(N,W){var X={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},V,lt,Z,U;return U={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function j(f){return function(yt){return H([f,yt])}}function H(f){if(V)throw new TypeError("Generator is already executing.");for(;X;)try{if(V=1,lt&&(Z=f[0]&2?lt.return:f[0]?lt.throw||((Z=lt.return)&&Z.call(lt),0):lt.next)&&!(Z=Z.call(lt,f[1])).done)return Z;switch(lt=0,Z&&(f=[f[0]&2,Z.value]),f[0]){case 0:case 1:Z=f;break;case 4:return X.label++,{value:f[1],done:!1};case 5:X.label++,lt=f[1],f=[0];continue;case 7:f=X.ops.pop(),X.trys.pop();continue;default:if(Z=X.trys,!(Z=Z.length>0&&Z[Z.length-1])&&(f[0]===6||f[0]===2)){X=0;continue}if(f[0]===3&&(!Z||f[1]>Z[0]&&f[1]<Z[3])){X.label=f[1];break}if(f[0]===6&&X.label<Z[1]){X.label=Z[1],Z=f;break}if(Z&&X.label<Z[2]){X.label=Z[2],X.ops.push(f);break}Z[2]&&X.ops.pop(),X.trys.pop();continue}f=W.call(N,X)}catch(yt){f=[6,yt],lt=0}finally{V=Z=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var b=Object.create?function(N,W,X,V){V===void 0&&(V=X),Object.defineProperty(N,V,{enumerable:!0,get:function(){return W[X]}})}:function(N,W,X,V){V===void 0&&(V=X),N[V]=W[X]};function x(N,W){for(var X in N)X!=="default"&&!Object.prototype.hasOwnProperty.call(W,X)&&b(W,N,X)}function w(N){var W=typeof Symbol=="function"&&Symbol.iterator,X=W&&N[W],V=0;if(X)return X.call(N);if(N&&typeof N.length=="number")return{next:function(){return N&&V>=N.length&&(N=void 0),{value:N&&N[V++],done:!N}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(N,W){var X=typeof Symbol=="function"&&N[Symbol.iterator];if(!X)return N;var V=X.call(N),lt,Z=[],U;try{for(;(W===void 0||W-- >0)&&!(lt=V.next()).done;)Z.push(lt.value)}catch(j){U={error:j}}finally{try{lt&&!lt.done&&(X=V.return)&&X.call(V)}finally{if(U)throw U.error}}return Z}function M(){for(var N=[],W=0;W<arguments.length;W++)N=N.concat(m(arguments[W]));return N}function L(){for(var N=0,W=0,X=arguments.length;W<X;W++)N+=arguments[W].length;for(var V=Array(N),lt=0,W=0;W<X;W++)for(var Z=arguments[W],U=0,j=Z.length;U<j;U++,lt++)V[lt]=Z[U];return V}function B(N,W,X){if(X||arguments.length===2)for(var V=0,lt=W.length,Z;V<lt;V++)(Z||!(V in W))&&(Z||(Z=Array.prototype.slice.call(W,0,V)),Z[V]=W[V]);return N.concat(Z||Array.prototype.slice.call(W))}function D(N){return this instanceof D?(this.v=N,this):new D(N)}function z(N,W,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V=X.apply(N,W||[]),lt,Z=[];return lt={},U("next"),U("throw"),U("return"),lt[Symbol.asyncIterator]=function(){return this},lt;function U(at){V[at]&&(lt[at]=function(Ct){return new Promise(function(wt,At){Z.push([at,Ct,wt,At])>1||j(at,Ct)})})}function j(at,Ct){try{H(V[at](Ct))}catch(wt){St(Z[0][3],wt)}}function H(at){at.value instanceof D?Promise.resolve(at.value.v).then(f,yt):St(Z[0][2],at)}function f(at){j("next",at)}function yt(at){j("throw",at)}function St(at,Ct){at(Ct),Z.shift(),Z.length&&j(Z[0][0],Z[0][1])}}function q(N){var W,X;return W={},V("next"),V("throw",function(lt){throw lt}),V("return"),W[Symbol.iterator]=function(){return this},W;function V(lt,Z){W[lt]=N[lt]?function(U){return(X=!X)?{value:D(N[lt](U)),done:lt==="return"}:Z?Z(U):U}:Z}}function K(N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=N[Symbol.asyncIterator],X;return W?W.call(N):(N=typeof w=="function"?w(N):N[Symbol.iterator](),X={},V("next"),V("throw"),V("return"),X[Symbol.asyncIterator]=function(){return this},X);function V(Z){X[Z]=N[Z]&&function(U){return new Promise(function(j,H){U=N[Z](U),lt(j,H,U.done,U.value)})}}function lt(Z,U,j,H){Promise.resolve(H).then(function(f){Z({value:f,done:j})},U)}}function it(N,W){return Object.defineProperty?Object.defineProperty(N,"raw",{value:W}):N.raw=W,N}var ct=Object.create?function(N,W){Object.defineProperty(N,"default",{enumerable:!0,value:W})}:function(N,W){N.default=W};function st(N){if(N&&N.__esModule)return N;var W={};if(N!=null)for(var X in N)X!=="default"&&Object.prototype.hasOwnProperty.call(N,X)&&b(W,N,X);return ct(W,N),W}function Ot(N){return N&&N.__esModule?N:{default:N}}function Dt(N,W,X,V){if(X==="a"&&!V)throw new TypeError("Private accessor was defined without a getter");if(typeof W=="function"?N!==W||!V:!W.has(N))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?V:X==="a"?V.call(N):V?V.value:W.get(N)}function Ht(N,W,X,V,lt){if(V==="m")throw new TypeError("Private method is not writable");if(V==="a"&&!lt)throw new TypeError("Private accessor was defined without a setter");if(typeof W=="function"?N!==W||!lt:!W.has(N))throw new TypeError("Cannot write private member to an object whose class did not declare it");return V==="a"?lt.call(N,X):lt?lt.value=X:W.set(N,X),X}},27549:function(mt,S,v){"use strict";var g;g={value:!0};var O=v(7802);S.wO=O.default;var I=v(89193);g=I.default;var P=v(98543);g=P.default;var T=v(34532);S.vs=T.default},7802:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(31502);g.translate=function(O,I,P){var T=new Array(9);return g.fromTranslation(T,P),g.multiply(O,T,I)},g.rotate=function(O,I,P){var T=new Array(9);return g.fromRotation(T,P),g.multiply(O,T,I)},g.scale=function(O,I,P){var T=new Array(9);return g.fromScaling(T,P),g.multiply(O,T,I)},g.transform=function(O,I){for(var P=[].concat(O),T=0,A=I.length;T<A;T++){var E=I[T];switch(E[0]){case"t":g.translate(P,P,[E[1],E[2]]);break;case"s":g.scale(P,P,[E[1],E[2]]);break;case"r":g.rotate(P,P,E[1]);break;default:break}}return P},S.default=g},34532:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(49242),O=v(7802);S.default=function(I,P){var T=I?g.clone(I):[1,0,0,0,1,0,0,0,1];return g.each(P,function(A){switch(A[0]){case"t":O.default.translate(T,T,[A[1],A[2]]);break;case"s":O.default.scale(T,T,[A[1],A[2]]);break;case"r":O.default.rotate(T,T,A[1]);break;case"m":O.default.multiply(T,T,A[1]);break;default:return!1}}),T}},89193:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(76172),O=v(49242);g.angle=function(I,P){var T=g.dot(I,P)/(g.length(I)*g.length(P));return Math.acos(O.clamp(T,-1,1))},g.direction=function(I,P){return I[0]*P[1]-P[0]*I[1]},g.angleTo=function(I,P,T){var A=g.angle(I,P),E=g.direction(I,P)>=0;return T?E?Math.PI*2-A:A:E?A:Math.PI*2-A},g.vertical=function(I,P,T){return T?(I[0]=P[1],I[1]=-1*P[0]):(I[0]=-1*P[1],I[1]=P[0]),I},S.default=g},98543:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(88395);S.default=g},74988:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setMatrixArrayType=I,S.toRadian=T,S.equals=A;var v=S.EPSILON=1e-6,g=S.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,O=S.RANDOM=Math.random;function I(E){S.ARRAY_TYPE=g=E}var P=Math.PI/180;function T(E){return E*P}function A(E,C){return Math.abs(E-C)<=v*Math.max(1,Math.abs(E),Math.abs(C))}},31502:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.sub=S.mul=void 0,S.create=P,S.fromMat4=T,S.clone=A,S.copy=E,S.fromValues=C,S.set=p,S.identity=b,S.transpose=x,S.invert=w,S.adjoint=m,S.determinant=M,S.multiply=L,S.translate=B,S.rotate=D,S.scale=z,S.fromTranslation=q,S.fromRotation=K,S.fromScaling=it,S.fromMat2d=ct,S.fromQuat=st,S.normalFromMat4=Ot,S.projection=Dt,S.str=Ht,S.frob=N,S.add=W,S.subtract=X,S.multiplyScalar=V,S.multiplyScalarAndAdd=lt,S.exactEquals=Z,S.equals=U;var g=v(74988),O=I(g);function I(f){if(f&&f.__esModule)return f;var yt={};if(f!=null)for(var St in f)Object.prototype.hasOwnProperty.call(f,St)&&(yt[St]=f[St]);return yt.default=f,yt}function P(){var f=new O.ARRAY_TYPE(9);return O.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0),f[0]=1,f[4]=1,f[8]=1,f}function T(f,yt){return f[0]=yt[0],f[1]=yt[1],f[2]=yt[2],f[3]=yt[4],f[4]=yt[5],f[5]=yt[6],f[6]=yt[8],f[7]=yt[9],f[8]=yt[10],f}function A(f){var yt=new O.ARRAY_TYPE(9);return yt[0]=f[0],yt[1]=f[1],yt[2]=f[2],yt[3]=f[3],yt[4]=f[4],yt[5]=f[5],yt[6]=f[6],yt[7]=f[7],yt[8]=f[8],yt}function E(f,yt){return f[0]=yt[0],f[1]=yt[1],f[2]=yt[2],f[3]=yt[3],f[4]=yt[4],f[5]=yt[5],f[6]=yt[6],f[7]=yt[7],f[8]=yt[8],f}function C(f,yt,St,at,Ct,wt,At,_t,Lt){var xt=new O.ARRAY_TYPE(9);return xt[0]=f,xt[1]=yt,xt[2]=St,xt[3]=at,xt[4]=Ct,xt[5]=wt,xt[6]=At,xt[7]=_t,xt[8]=Lt,xt}function p(f,yt,St,at,Ct,wt,At,_t,Lt,xt){return f[0]=yt,f[1]=St,f[2]=at,f[3]=Ct,f[4]=wt,f[5]=At,f[6]=_t,f[7]=Lt,f[8]=xt,f}function b(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function x(f,yt){if(f===yt){var St=yt[1],at=yt[2],Ct=yt[5];f[1]=yt[3],f[2]=yt[6],f[3]=St,f[5]=yt[7],f[6]=at,f[7]=Ct}else f[0]=yt[0],f[1]=yt[3],f[2]=yt[6],f[3]=yt[1],f[4]=yt[4],f[5]=yt[7],f[6]=yt[2],f[7]=yt[5],f[8]=yt[8];return f}function w(f,yt){var St=yt[0],at=yt[1],Ct=yt[2],wt=yt[3],At=yt[4],_t=yt[5],Lt=yt[6],xt=yt[7],ot=yt[8],tt=ot*At-_t*xt,Q=-ot*wt+_t*Lt,dt=xt*wt-At*Lt,rt=St*tt+at*Q+Ct*dt;return rt?(rt=1/rt,f[0]=tt*rt,f[1]=(-ot*at+Ct*xt)*rt,f[2]=(_t*at-Ct*At)*rt,f[3]=Q*rt,f[4]=(ot*St-Ct*Lt)*rt,f[5]=(-_t*St+Ct*wt)*rt,f[6]=dt*rt,f[7]=(-xt*St+at*Lt)*rt,f[8]=(At*St-at*wt)*rt,f):null}function m(f,yt){var St=yt[0],at=yt[1],Ct=yt[2],wt=yt[3],At=yt[4],_t=yt[5],Lt=yt[6],xt=yt[7],ot=yt[8];return f[0]=At*ot-_t*xt,f[1]=Ct*xt-at*ot,f[2]=at*_t-Ct*At,f[3]=_t*Lt-wt*ot,f[4]=St*ot-Ct*Lt,f[5]=Ct*wt-St*_t,f[6]=wt*xt-At*Lt,f[7]=at*Lt-St*xt,f[8]=St*At-at*wt,f}function M(f){var yt=f[0],St=f[1],at=f[2],Ct=f[3],wt=f[4],At=f[5],_t=f[6],Lt=f[7],xt=f[8];return yt*(xt*wt-At*Lt)+St*(-xt*Ct+At*_t)+at*(Lt*Ct-wt*_t)}function L(f,yt,St){var at=yt[0],Ct=yt[1],wt=yt[2],At=yt[3],_t=yt[4],Lt=yt[5],xt=yt[6],ot=yt[7],tt=yt[8],Q=St[0],dt=St[1],rt=St[2],nt=St[3],pt=St[4],It=St[5],Vt=St[6],Qt=St[7],he=St[8];return f[0]=Q*at+dt*At+rt*xt,f[1]=Q*Ct+dt*_t+rt*ot,f[2]=Q*wt+dt*Lt+rt*tt,f[3]=nt*at+pt*At+It*xt,f[4]=nt*Ct+pt*_t+It*ot,f[5]=nt*wt+pt*Lt+It*tt,f[6]=Vt*at+Qt*At+he*xt,f[7]=Vt*Ct+Qt*_t+he*ot,f[8]=Vt*wt+Qt*Lt+he*tt,f}function B(f,yt,St){var at=yt[0],Ct=yt[1],wt=yt[2],At=yt[3],_t=yt[4],Lt=yt[5],xt=yt[6],ot=yt[7],tt=yt[8],Q=St[0],dt=St[1];return f[0]=at,f[1]=Ct,f[2]=wt,f[3]=At,f[4]=_t,f[5]=Lt,f[6]=Q*at+dt*At+xt,f[7]=Q*Ct+dt*_t+ot,f[8]=Q*wt+dt*Lt+tt,f}function D(f,yt,St){var at=yt[0],Ct=yt[1],wt=yt[2],At=yt[3],_t=yt[4],Lt=yt[5],xt=yt[6],ot=yt[7],tt=yt[8],Q=Math.sin(St),dt=Math.cos(St);return f[0]=dt*at+Q*At,f[1]=dt*Ct+Q*_t,f[2]=dt*wt+Q*Lt,f[3]=dt*At-Q*at,f[4]=dt*_t-Q*Ct,f[5]=dt*Lt-Q*wt,f[6]=xt,f[7]=ot,f[8]=tt,f}function z(f,yt,St){var at=St[0],Ct=St[1];return f[0]=at*yt[0],f[1]=at*yt[1],f[2]=at*yt[2],f[3]=Ct*yt[3],f[4]=Ct*yt[4],f[5]=Ct*yt[5],f[6]=yt[6],f[7]=yt[7],f[8]=yt[8],f}function q(f,yt){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=yt[0],f[7]=yt[1],f[8]=1,f}function K(f,yt){var St=Math.sin(yt),at=Math.cos(yt);return f[0]=at,f[1]=St,f[2]=0,f[3]=-St,f[4]=at,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function it(f,yt){return f[0]=yt[0],f[1]=0,f[2]=0,f[3]=0,f[4]=yt[1],f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function ct(f,yt){return f[0]=yt[0],f[1]=yt[1],f[2]=0,f[3]=yt[2],f[4]=yt[3],f[5]=0,f[6]=yt[4],f[7]=yt[5],f[8]=1,f}function st(f,yt){var St=yt[0],at=yt[1],Ct=yt[2],wt=yt[3],At=St+St,_t=at+at,Lt=Ct+Ct,xt=St*At,ot=at*At,tt=at*_t,Q=Ct*At,dt=Ct*_t,rt=Ct*Lt,nt=wt*At,pt=wt*_t,It=wt*Lt;return f[0]=1-tt-rt,f[3]=ot-It,f[6]=Q+pt,f[1]=ot+It,f[4]=1-xt-rt,f[7]=dt-nt,f[2]=Q-pt,f[5]=dt+nt,f[8]=1-xt-tt,f}function Ot(f,yt){var St=yt[0],at=yt[1],Ct=yt[2],wt=yt[3],At=yt[4],_t=yt[5],Lt=yt[6],xt=yt[7],ot=yt[8],tt=yt[9],Q=yt[10],dt=yt[11],rt=yt[12],nt=yt[13],pt=yt[14],It=yt[15],Vt=St*_t-at*At,Qt=St*Lt-Ct*At,he=St*xt-wt*At,me=at*Lt-Ct*_t,Xt=at*xt-wt*_t,$t=Ct*xt-wt*Lt,fe=ot*nt-tt*rt,Se=ot*pt-Q*rt,ke=ot*It-dt*rt,Oe=tt*pt-Q*nt,$e=tt*It-dt*nt,lr=Q*It-dt*pt,zt=Vt*lr-Qt*$e+he*Oe+me*ke-Xt*Se+$t*fe;return zt?(zt=1/zt,f[0]=(_t*lr-Lt*$e+xt*Oe)*zt,f[1]=(Lt*ke-At*lr-xt*Se)*zt,f[2]=(At*$e-_t*ke+xt*fe)*zt,f[3]=(Ct*$e-at*lr-wt*Oe)*zt,f[4]=(St*lr-Ct*ke+wt*Se)*zt,f[5]=(at*ke-St*$e-wt*fe)*zt,f[6]=(nt*$t-pt*Xt+It*me)*zt,f[7]=(pt*he-rt*$t-It*Qt)*zt,f[8]=(rt*Xt-nt*he+It*Vt)*zt,f):null}function Dt(f,yt,St){return f[0]=2/yt,f[1]=0,f[2]=0,f[3]=0,f[4]=-2/St,f[5]=0,f[6]=-1,f[7]=1,f[8]=1,f}function Ht(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"}function N(f){return Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2)+Math.pow(f[2],2)+Math.pow(f[3],2)+Math.pow(f[4],2)+Math.pow(f[5],2)+Math.pow(f[6],2)+Math.pow(f[7],2)+Math.pow(f[8],2))}function W(f,yt,St){return f[0]=yt[0]+St[0],f[1]=yt[1]+St[1],f[2]=yt[2]+St[2],f[3]=yt[3]+St[3],f[4]=yt[4]+St[4],f[5]=yt[5]+St[5],f[6]=yt[6]+St[6],f[7]=yt[7]+St[7],f[8]=yt[8]+St[8],f}function X(f,yt,St){return f[0]=yt[0]-St[0],f[1]=yt[1]-St[1],f[2]=yt[2]-St[2],f[3]=yt[3]-St[3],f[4]=yt[4]-St[4],f[5]=yt[5]-St[5],f[6]=yt[6]-St[6],f[7]=yt[7]-St[7],f[8]=yt[8]-St[8],f}function V(f,yt,St){return f[0]=yt[0]*St,f[1]=yt[1]*St,f[2]=yt[2]*St,f[3]=yt[3]*St,f[4]=yt[4]*St,f[5]=yt[5]*St,f[6]=yt[6]*St,f[7]=yt[7]*St,f[8]=yt[8]*St,f}function lt(f,yt,St,at){return f[0]=yt[0]+St[0]*at,f[1]=yt[1]+St[1]*at,f[2]=yt[2]+St[2]*at,f[3]=yt[3]+St[3]*at,f[4]=yt[4]+St[4]*at,f[5]=yt[5]+St[5]*at,f[6]=yt[6]+St[6]*at,f[7]=yt[7]+St[7]*at,f[8]=yt[8]+St[8]*at,f}function Z(f,yt){return f[0]===yt[0]&&f[1]===yt[1]&&f[2]===yt[2]&&f[3]===yt[3]&&f[4]===yt[4]&&f[5]===yt[5]&&f[6]===yt[6]&&f[7]===yt[7]&&f[8]===yt[8]}function U(f,yt){var St=f[0],at=f[1],Ct=f[2],wt=f[3],At=f[4],_t=f[5],Lt=f[6],xt=f[7],ot=f[8],tt=yt[0],Q=yt[1],dt=yt[2],rt=yt[3],nt=yt[4],pt=yt[5],It=yt[6],Vt=yt[7],Qt=yt[8];return Math.abs(St-tt)<=O.EPSILON*Math.max(1,Math.abs(St),Math.abs(tt))&&Math.abs(at-Q)<=O.EPSILON*Math.max(1,Math.abs(at),Math.abs(Q))&&Math.abs(Ct-dt)<=O.EPSILON*Math.max(1,Math.abs(Ct),Math.abs(dt))&&Math.abs(wt-rt)<=O.EPSILON*Math.max(1,Math.abs(wt),Math.abs(rt))&&Math.abs(At-nt)<=O.EPSILON*Math.max(1,Math.abs(At),Math.abs(nt))&&Math.abs(_t-pt)<=O.EPSILON*Math.max(1,Math.abs(_t),Math.abs(pt))&&Math.abs(Lt-It)<=O.EPSILON*Math.max(1,Math.abs(Lt),Math.abs(It))&&Math.abs(xt-Vt)<=O.EPSILON*Math.max(1,Math.abs(xt),Math.abs(Vt))&&Math.abs(ot-Qt)<=O.EPSILON*Math.max(1,Math.abs(ot),Math.abs(Qt))}var j=S.mul=L,H=S.sub=X},76172:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.sqrDist=S.dist=S.div=S.mul=S.sub=S.len=void 0,S.create=P,S.clone=T,S.fromValues=A,S.copy=E,S.set=C,S.add=p,S.subtract=b,S.multiply=x,S.divide=w,S.ceil=m,S.floor=M,S.min=L,S.max=B,S.round=D,S.scale=z,S.scaleAndAdd=q,S.distance=K,S.squaredDistance=it,S.length=ct,S.squaredLength=st,S.negate=Ot,S.inverse=Dt,S.normalize=Ht,S.dot=N,S.cross=W,S.lerp=X,S.random=V,S.transformMat2=lt,S.transformMat2d=Z,S.transformMat3=U,S.transformMat4=j,S.rotate=H,S.angle=f,S.str=yt,S.exactEquals=St,S.equals=at;var g=v(74988),O=I(g);function I(Q){if(Q&&Q.__esModule)return Q;var dt={};if(Q!=null)for(var rt in Q)Object.prototype.hasOwnProperty.call(Q,rt)&&(dt[rt]=Q[rt]);return dt.default=Q,dt}function P(){var Q=new O.ARRAY_TYPE(2);return O.ARRAY_TYPE!=Float32Array&&(Q[0]=0,Q[1]=0),Q}function T(Q){var dt=new O.ARRAY_TYPE(2);return dt[0]=Q[0],dt[1]=Q[1],dt}function A(Q,dt){var rt=new O.ARRAY_TYPE(2);return rt[0]=Q,rt[1]=dt,rt}function E(Q,dt){return Q[0]=dt[0],Q[1]=dt[1],Q}function C(Q,dt,rt){return Q[0]=dt,Q[1]=rt,Q}function p(Q,dt,rt){return Q[0]=dt[0]+rt[0],Q[1]=dt[1]+rt[1],Q}function b(Q,dt,rt){return Q[0]=dt[0]-rt[0],Q[1]=dt[1]-rt[1],Q}function x(Q,dt,rt){return Q[0]=dt[0]*rt[0],Q[1]=dt[1]*rt[1],Q}function w(Q,dt,rt){return Q[0]=dt[0]/rt[0],Q[1]=dt[1]/rt[1],Q}function m(Q,dt){return Q[0]=Math.ceil(dt[0]),Q[1]=Math.ceil(dt[1]),Q}function M(Q,dt){return Q[0]=Math.floor(dt[0]),Q[1]=Math.floor(dt[1]),Q}function L(Q,dt,rt){return Q[0]=Math.min(dt[0],rt[0]),Q[1]=Math.min(dt[1],rt[1]),Q}function B(Q,dt,rt){return Q[0]=Math.max(dt[0],rt[0]),Q[1]=Math.max(dt[1],rt[1]),Q}function D(Q,dt){return Q[0]=Math.round(dt[0]),Q[1]=Math.round(dt[1]),Q}function z(Q,dt,rt){return Q[0]=dt[0]*rt,Q[1]=dt[1]*rt,Q}function q(Q,dt,rt,nt){return Q[0]=dt[0]+rt[0]*nt,Q[1]=dt[1]+rt[1]*nt,Q}function K(Q,dt){var rt=dt[0]-Q[0],nt=dt[1]-Q[1];return Math.sqrt(rt*rt+nt*nt)}function it(Q,dt){var rt=dt[0]-Q[0],nt=dt[1]-Q[1];return rt*rt+nt*nt}function ct(Q){var dt=Q[0],rt=Q[1];return Math.sqrt(dt*dt+rt*rt)}function st(Q){var dt=Q[0],rt=Q[1];return dt*dt+rt*rt}function Ot(Q,dt){return Q[0]=-dt[0],Q[1]=-dt[1],Q}function Dt(Q,dt){return Q[0]=1/dt[0],Q[1]=1/dt[1],Q}function Ht(Q,dt){var rt=dt[0],nt=dt[1],pt=rt*rt+nt*nt;return pt>0&&(pt=1/Math.sqrt(pt),Q[0]=dt[0]*pt,Q[1]=dt[1]*pt),Q}function N(Q,dt){return Q[0]*dt[0]+Q[1]*dt[1]}function W(Q,dt,rt){var nt=dt[0]*rt[1]-dt[1]*rt[0];return Q[0]=Q[1]=0,Q[2]=nt,Q}function X(Q,dt,rt,nt){var pt=dt[0],It=dt[1];return Q[0]=pt+nt*(rt[0]-pt),Q[1]=It+nt*(rt[1]-It),Q}function V(Q,dt){dt=dt||1;var rt=O.RANDOM()*2*Math.PI;return Q[0]=Math.cos(rt)*dt,Q[1]=Math.sin(rt)*dt,Q}function lt(Q,dt,rt){var nt=dt[0],pt=dt[1];return Q[0]=rt[0]*nt+rt[2]*pt,Q[1]=rt[1]*nt+rt[3]*pt,Q}function Z(Q,dt,rt){var nt=dt[0],pt=dt[1];return Q[0]=rt[0]*nt+rt[2]*pt+rt[4],Q[1]=rt[1]*nt+rt[3]*pt+rt[5],Q}function U(Q,dt,rt){var nt=dt[0],pt=dt[1];return Q[0]=rt[0]*nt+rt[3]*pt+rt[6],Q[1]=rt[1]*nt+rt[4]*pt+rt[7],Q}function j(Q,dt,rt){var nt=dt[0],pt=dt[1];return Q[0]=rt[0]*nt+rt[4]*pt+rt[12],Q[1]=rt[1]*nt+rt[5]*pt+rt[13],Q}function H(Q,dt,rt,nt){var pt=dt[0]-rt[0],It=dt[1]-rt[1],Vt=Math.sin(nt),Qt=Math.cos(nt);return Q[0]=pt*Qt-It*Vt+rt[0],Q[1]=pt*Vt+It*Qt+rt[1],Q}function f(Q,dt){var rt=Q[0],nt=Q[1],pt=dt[0],It=dt[1],Vt=rt*rt+nt*nt;Vt>0&&(Vt=1/Math.sqrt(Vt));var Qt=pt*pt+It*It;Qt>0&&(Qt=1/Math.sqrt(Qt));var he=(rt*pt+nt*It)*Vt*Qt;return he>1?0:he<-1?Math.PI:Math.acos(he)}function yt(Q){return"vec2("+Q[0]+", "+Q[1]+")"}function St(Q,dt){return Q[0]===dt[0]&&Q[1]===dt[1]}function at(Q,dt){var rt=Q[0],nt=Q[1],pt=dt[0],It=dt[1];return Math.abs(rt-pt)<=O.EPSILON*Math.max(1,Math.abs(rt),Math.abs(pt))&&Math.abs(nt-It)<=O.EPSILON*Math.max(1,Math.abs(nt),Math.abs(It))}var Ct=S.len=ct,wt=S.sub=b,At=S.mul=x,_t=S.div=w,Lt=S.dist=K,xt=S.sqrDist=it,ot=S.sqrLen=st,tt=S.forEach=function(){var Q=P();return function(dt,rt,nt,pt,It,Vt){var Qt=void 0,he=void 0;for(rt||(rt=2),nt||(nt=0),pt?he=Math.min(pt*rt+nt,dt.length):he=dt.length,Qt=nt;Qt<he;Qt+=rt)Q[0]=dt[Qt],Q[1]=dt[Qt+1],It(Q,Q,Vt),dt[Qt]=Q[0],dt[Qt+1]=Q[1];return dt}}()},88395:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.len=S.sqrDist=S.dist=S.div=S.mul=S.sub=void 0,S.create=P,S.clone=T,S.length=A,S.fromValues=E,S.copy=C,S.set=p,S.add=b,S.subtract=x,S.multiply=w,S.divide=m,S.ceil=M,S.floor=L,S.min=B,S.max=D,S.round=z,S.scale=q,S.scaleAndAdd=K,S.distance=it,S.squaredDistance=ct,S.squaredLength=st,S.negate=Ot,S.inverse=Dt,S.normalize=Ht,S.dot=N,S.cross=W,S.lerp=X,S.hermite=V,S.bezier=lt,S.random=Z,S.transformMat4=U,S.transformMat3=j,S.transformQuat=H,S.rotateX=f,S.rotateY=yt,S.rotateZ=St,S.angle=at,S.str=Ct,S.exactEquals=wt,S.equals=At;var g=v(74988),O=I(g);function I(nt){if(nt&&nt.__esModule)return nt;var pt={};if(nt!=null)for(var It in nt)Object.prototype.hasOwnProperty.call(nt,It)&&(pt[It]=nt[It]);return pt.default=nt,pt}function P(){var nt=new O.ARRAY_TYPE(3);return O.ARRAY_TYPE!=Float32Array&&(nt[0]=0,nt[1]=0,nt[2]=0),nt}function T(nt){var pt=new O.ARRAY_TYPE(3);return pt[0]=nt[0],pt[1]=nt[1],pt[2]=nt[2],pt}function A(nt){var pt=nt[0],It=nt[1],Vt=nt[2];return Math.sqrt(pt*pt+It*It+Vt*Vt)}function E(nt,pt,It){var Vt=new O.ARRAY_TYPE(3);return Vt[0]=nt,Vt[1]=pt,Vt[2]=It,Vt}function C(nt,pt){return nt[0]=pt[0],nt[1]=pt[1],nt[2]=pt[2],nt}function p(nt,pt,It,Vt){return nt[0]=pt,nt[1]=It,nt[2]=Vt,nt}function b(nt,pt,It){return nt[0]=pt[0]+It[0],nt[1]=pt[1]+It[1],nt[2]=pt[2]+It[2],nt}function x(nt,pt,It){return nt[0]=pt[0]-It[0],nt[1]=pt[1]-It[1],nt[2]=pt[2]-It[2],nt}function w(nt,pt,It){return nt[0]=pt[0]*It[0],nt[1]=pt[1]*It[1],nt[2]=pt[2]*It[2],nt}function m(nt,pt,It){return nt[0]=pt[0]/It[0],nt[1]=pt[1]/It[1],nt[2]=pt[2]/It[2],nt}function M(nt,pt){return nt[0]=Math.ceil(pt[0]),nt[1]=Math.ceil(pt[1]),nt[2]=Math.ceil(pt[2]),nt}function L(nt,pt){return nt[0]=Math.floor(pt[0]),nt[1]=Math.floor(pt[1]),nt[2]=Math.floor(pt[2]),nt}function B(nt,pt,It){return nt[0]=Math.min(pt[0],It[0]),nt[1]=Math.min(pt[1],It[1]),nt[2]=Math.min(pt[2],It[2]),nt}function D(nt,pt,It){return nt[0]=Math.max(pt[0],It[0]),nt[1]=Math.max(pt[1],It[1]),nt[2]=Math.max(pt[2],It[2]),nt}function z(nt,pt){return nt[0]=Math.round(pt[0]),nt[1]=Math.round(pt[1]),nt[2]=Math.round(pt[2]),nt}function q(nt,pt,It){return nt[0]=pt[0]*It,nt[1]=pt[1]*It,nt[2]=pt[2]*It,nt}function K(nt,pt,It,Vt){return nt[0]=pt[0]+It[0]*Vt,nt[1]=pt[1]+It[1]*Vt,nt[2]=pt[2]+It[2]*Vt,nt}function it(nt,pt){var It=pt[0]-nt[0],Vt=pt[1]-nt[1],Qt=pt[2]-nt[2];return Math.sqrt(It*It+Vt*Vt+Qt*Qt)}function ct(nt,pt){var It=pt[0]-nt[0],Vt=pt[1]-nt[1],Qt=pt[2]-nt[2];return It*It+Vt*Vt+Qt*Qt}function st(nt){var pt=nt[0],It=nt[1],Vt=nt[2];return pt*pt+It*It+Vt*Vt}function Ot(nt,pt){return nt[0]=-pt[0],nt[1]=-pt[1],nt[2]=-pt[2],nt}function Dt(nt,pt){return nt[0]=1/pt[0],nt[1]=1/pt[1],nt[2]=1/pt[2],nt}function Ht(nt,pt){var It=pt[0],Vt=pt[1],Qt=pt[2],he=It*It+Vt*Vt+Qt*Qt;return he>0&&(he=1/Math.sqrt(he),nt[0]=pt[0]*he,nt[1]=pt[1]*he,nt[2]=pt[2]*he),nt}function N(nt,pt){return nt[0]*pt[0]+nt[1]*pt[1]+nt[2]*pt[2]}function W(nt,pt,It){var Vt=pt[0],Qt=pt[1],he=pt[2],me=It[0],Xt=It[1],$t=It[2];return nt[0]=Qt*$t-he*Xt,nt[1]=he*me-Vt*$t,nt[2]=Vt*Xt-Qt*me,nt}function X(nt,pt,It,Vt){var Qt=pt[0],he=pt[1],me=pt[2];return nt[0]=Qt+Vt*(It[0]-Qt),nt[1]=he+Vt*(It[1]-he),nt[2]=me+Vt*(It[2]-me),nt}function V(nt,pt,It,Vt,Qt,he){var me=he*he,Xt=me*(2*he-3)+1,$t=me*(he-2)+he,fe=me*(he-1),Se=me*(3-2*he);return nt[0]=pt[0]*Xt+It[0]*$t+Vt[0]*fe+Qt[0]*Se,nt[1]=pt[1]*Xt+It[1]*$t+Vt[1]*fe+Qt[1]*Se,nt[2]=pt[2]*Xt+It[2]*$t+Vt[2]*fe+Qt[2]*Se,nt}function lt(nt,pt,It,Vt,Qt,he){var me=1-he,Xt=me*me,$t=he*he,fe=Xt*me,Se=3*he*Xt,ke=3*$t*me,Oe=$t*he;return nt[0]=pt[0]*fe+It[0]*Se+Vt[0]*ke+Qt[0]*Oe,nt[1]=pt[1]*fe+It[1]*Se+Vt[1]*ke+Qt[1]*Oe,nt[2]=pt[2]*fe+It[2]*Se+Vt[2]*ke+Qt[2]*Oe,nt}function Z(nt,pt){pt=pt||1;var It=O.RANDOM()*2*Math.PI,Vt=O.RANDOM()*2-1,Qt=Math.sqrt(1-Vt*Vt)*pt;return nt[0]=Math.cos(It)*Qt,nt[1]=Math.sin(It)*Qt,nt[2]=Vt*pt,nt}function U(nt,pt,It){var Vt=pt[0],Qt=pt[1],he=pt[2],me=It[3]*Vt+It[7]*Qt+It[11]*he+It[15];return me=me||1,nt[0]=(It[0]*Vt+It[4]*Qt+It[8]*he+It[12])/me,nt[1]=(It[1]*Vt+It[5]*Qt+It[9]*he+It[13])/me,nt[2]=(It[2]*Vt+It[6]*Qt+It[10]*he+It[14])/me,nt}function j(nt,pt,It){var Vt=pt[0],Qt=pt[1],he=pt[2];return nt[0]=Vt*It[0]+Qt*It[3]+he*It[6],nt[1]=Vt*It[1]+Qt*It[4]+he*It[7],nt[2]=Vt*It[2]+Qt*It[5]+he*It[8],nt}function H(nt,pt,It){var Vt=It[0],Qt=It[1],he=It[2],me=It[3],Xt=pt[0],$t=pt[1],fe=pt[2],Se=Qt*fe-he*$t,ke=he*Xt-Vt*fe,Oe=Vt*$t-Qt*Xt,$e=Qt*Oe-he*ke,lr=he*Se-Vt*Oe,zt=Vt*ke-Qt*Se,qt=me*2;return Se*=qt,ke*=qt,Oe*=qt,$e*=2,lr*=2,zt*=2,nt[0]=Xt+Se+$e,nt[1]=$t+ke+lr,nt[2]=fe+Oe+zt,nt}function f(nt,pt,It,Vt){var Qt=[],he=[];return Qt[0]=pt[0]-It[0],Qt[1]=pt[1]-It[1],Qt[2]=pt[2]-It[2],he[0]=Qt[0],he[1]=Qt[1]*Math.cos(Vt)-Qt[2]*Math.sin(Vt),he[2]=Qt[1]*Math.sin(Vt)+Qt[2]*Math.cos(Vt),nt[0]=he[0]+It[0],nt[1]=he[1]+It[1],nt[2]=he[2]+It[2],nt}function yt(nt,pt,It,Vt){var Qt=[],he=[];return Qt[0]=pt[0]-It[0],Qt[1]=pt[1]-It[1],Qt[2]=pt[2]-It[2],he[0]=Qt[2]*Math.sin(Vt)+Qt[0]*Math.cos(Vt),he[1]=Qt[1],he[2]=Qt[2]*Math.cos(Vt)-Qt[0]*Math.sin(Vt),nt[0]=he[0]+It[0],nt[1]=he[1]+It[1],nt[2]=he[2]+It[2],nt}function St(nt,pt,It,Vt){var Qt=[],he=[];return Qt[0]=pt[0]-It[0],Qt[1]=pt[1]-It[1],Qt[2]=pt[2]-It[2],he[0]=Qt[0]*Math.cos(Vt)-Qt[1]*Math.sin(Vt),he[1]=Qt[0]*Math.sin(Vt)+Qt[1]*Math.cos(Vt),he[2]=Qt[2],nt[0]=he[0]+It[0],nt[1]=he[1]+It[1],nt[2]=he[2]+It[2],nt}function at(nt,pt){var It=E(nt[0],nt[1],nt[2]),Vt=E(pt[0],pt[1],pt[2]);Ht(It,It),Ht(Vt,Vt);var Qt=N(It,Vt);return Qt>1?0:Qt<-1?Math.PI:Math.acos(Qt)}function Ct(nt){return"vec3("+nt[0]+", "+nt[1]+", "+nt[2]+")"}function wt(nt,pt){return nt[0]===pt[0]&&nt[1]===pt[1]&&nt[2]===pt[2]}function At(nt,pt){var It=nt[0],Vt=nt[1],Qt=nt[2],he=pt[0],me=pt[1],Xt=pt[2];return Math.abs(It-he)<=O.EPSILON*Math.max(1,Math.abs(It),Math.abs(he))&&Math.abs(Vt-me)<=O.EPSILON*Math.max(1,Math.abs(Vt),Math.abs(me))&&Math.abs(Qt-Xt)<=O.EPSILON*Math.max(1,Math.abs(Qt),Math.abs(Xt))}var _t=S.sub=x,Lt=S.mul=w,xt=S.div=m,ot=S.dist=it,tt=S.sqrDist=ct,Q=S.len=A,dt=S.sqrLen=st,rt=S.forEach=function(){var nt=P();return function(pt,It,Vt,Qt,he,me){var Xt=void 0,$t=void 0;for(It||(It=3),Vt||(Vt=0),Qt?$t=Math.min(Qt*It+Vt,pt.length):$t=pt.length,Xt=Vt;Xt<$t;Xt+=It)nt[0]=pt[Xt],nt[1]=pt[Xt+1],nt[2]=pt[Xt+2],he(nt,nt,me),pt[Xt]=nt[0],pt[Xt+1]=nt[1],pt[Xt+2]=nt[2];return pt}}()},92640:function(mt,S,v){function g(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,p.__proto__=b}var O=v(4905),I=v(90390),P=v(30130),T=v(22965),A=function(p){g(b,p);function b(){return p.apply(this,arguments)||this}var x=b.prototype;return x.execute=function(){var m=this;return P(m.rootNode,m.options,I)},b}(O),E={};function C(p,b){return b=T.assign({},E,b),new A(p,b).execute()}mt.exports=C},34542:function(mt,S,v){function g(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,p.__proto__=b}var O=v(4905),I=v(37133),P=v(30130),T=v(22965),A=function(p){g(b,p);function b(){return p.apply(this,arguments)||this}var x=b.prototype;return x.execute=function(){var m=this;return m.rootNode.width=0,P(m.rootNode,m.options,I)},b}(O),E={};function C(p,b){return b=T.assign({},E,b),new A(p,b).execute()}mt.exports=C},57088:function(mt,S,v){function g(x,w){x.prototype=Object.create(w.prototype),x.prototype.constructor=x,x.__proto__=w}var O=v(4905),I=v(10568),P=v(59286),T=v(22965),A=["LR","RL","H"],E=A[0],C=function(x){g(w,x);function w(){return x.apply(this,arguments)||this}var m=w.prototype;return m.execute=function(){var L=this,B=L.options,D=L.rootNode;B.isHorizontal=!0;var z=B.indent,q=z===void 0?20:z,K=B.dropCap,it=K===void 0?!0:K,ct=B.direction||E;if(ct&&A.indexOf(ct)===-1)throw new TypeError("Invalid direction: "+ct);if(ct===A[0])I(D,q,it);else if(ct===A[1])I(D,q,it),D.right2left();else if(ct===A[2]){var st=P(D,B),Ot=st.left,Dt=st.right;I(Ot,q,it),Ot.right2left(),I(Dt,q,it);var Ht=Ot.getBoundingBox();Dt.translate(Ht.width,0),D.x=Dt.x-D.width/2}return D},w}(O),p={};function b(x,w){return w=T.assign({},p,w),new C(x,w).execute()}mt.exports=b},77201:function(mt,S,v){var g={compactBox:v(92640),dendrogram:v(34542),indented:v(57088),mindmap:v(1355)};mt.exports=g},4905:function(mt,S,v){var g=v(27249),O=function(){function I(T,A){A===void 0&&(A={});var E=this;E.options=A,E.rootNode=g(T,A)}var P=I.prototype;return P.execute=function(){throw new Error("please override this method")},I}();mt.exports=O},37133:function(mt,S,v){var g=v(22965);function O(T,A){T===void 0&&(T=0),A===void 0&&(A=[]);var E=this;E.x=E.y=0,E.leftChild=E.rightChild=null,E.height=0,E.children=A}var I={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function P(T,A,E){E?(A.x=T.x,A.y=T.y):(A.x=T.y,A.y=T.x),T.children.forEach(function(C,p){P(C,A.children[p],E)})}mt.exports=function(T,A){A===void 0&&(A={}),A=g.assign({},I,A);var E=0;function C(m){if(!m)return null;m.width=0,m.depth&&m.depth>E&&(E=m.depth);var M=m.children,L=M.length,B=new O(m.height,[]);return M.forEach(function(D,z){var q=C(D);B.children.push(q),z===0&&(B.leftChild=q),z===L-1&&(B.rightChild=q)}),B.originNode=m,B.isLeaf=m.isLeaf(),B}function p(m){if(m.isLeaf||m.children.length===0)m.drawingDepth=E;else{var M=m.children.map(function(B){return p(B)}),L=Math.min.apply(null,M);m.drawingDepth=L-1}return m.drawingDepth}var b;function x(m){m.x=m.drawingDepth*A.rankSep,m.isLeaf?(m.y=0,b&&(m.y=b.y+b.height+A.nodeSep,m.originNode.parent!==b.originNode.parent&&(m.y+=A.subTreeSep)),b=m):(m.children.forEach(function(M){x(M)}),m.y=(m.leftChild.y+m.rightChild.y)/2)}var w=C(T);return p(w),x(w),P(w,T,A.isHorizontal),T}},30130:function(mt,S,v){var g=v(59286),O=["LR","RL","TB","BT","H","V"],I=["LR","RL","H"],P=function(E){return I.indexOf(E)>-1},T=O[0];mt.exports=function(A,E,C){var p=E.direction||T;if(E.isHorizontal=P(p),p&&O.indexOf(p)===-1)throw new TypeError("Invalid direction: "+p);if(p===O[0])C(A,E);else if(p===O[1])C(A,E),A.right2left();else if(p===O[2])C(A,E);else if(p===O[3])C(A,E),A.bottom2top();else if(p===O[4]||p===O[5]){var b=g(A,E),x=b.left,w=b.right;C(x,E),C(w,E),E.isHorizontal?x.right2left():x.bottom2top(),w.translate(x.x-w.x,x.y-w.y),A.x=x.x,A.y=w.y;var m=A.getBoundingBox();E.isHorizontal?m.top<0&&A.translate(0,-m.top):m.left<0&&A.translate(-m.left,0)}var M=E.fixedRoot;return M===void 0&&(M=!0),M&&A.translate(-(A.x+A.width/2+A.hgap),-(A.y+A.height/2+A.vgap)),A}},27249:function(mt,S,v){var g=v(22965),O=18,I=O*2,P=O,T={getId:function(p){return p.id||p.name},getPreH:function(p){return p.preH||0},getPreV:function(p){return p.preV||0},getHGap:function(p){return p.hgap||P},getVGap:function(p){return p.vgap||P},getChildren:function(p){return p.children},getHeight:function(p){return p.height||I},getWidth:function(p){var b=p.label||" ";return p.width||b.split("").length*O}};function A(C,p){var b=this;if(b.vgap=b.hgap=0,C instanceof A)return C;b.data=C;var x=p.getHGap(C),w=p.getVGap(C);return b.preH=p.getPreH(C),b.preV=p.getPreV(C),b.width=p.getWidth(C),b.height=p.getHeight(C),b.width+=b.preH,b.height+=b.preV,b.id=p.getId(C),b.x=b.y=0,b.depth=0,b.children||(b.children=[]),b.addGap(x,w),b}g.assign(A.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(p,b){var x=this;x.hgap+=p,x.vgap+=b,x.width+=2*p,x.height+=2*b},eachNode:function(p){for(var b=this,x=[b],w;w=x.shift();)p(w),x=w.children.concat(x)},DFTraverse:function(p){this.eachNode(p)},BFTraverse:function(p){for(var b=this,x=[b],w;w=x.shift();)p(w),x=x.concat(w.children)},getBoundingBox:function(){var p={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(b){p.left=Math.min(p.left,b.x),p.top=Math.min(p.top,b.y),p.width=Math.max(p.width,b.x+b.width),p.height=Math.max(p.height,b.y+b.height)}),p},translate:function(p,b){p===void 0&&(p=0),b===void 0&&(b=0),this.eachNode(function(x){x.x+=p,x.y+=b,x.x+=x.preH,x.y+=x.preV})},right2left:function(){var p=this,b=p.getBoundingBox();p.eachNode(function(x){x.x=x.x-(x.x-b.left)*2-x.width}),p.translate(b.width,0)},bottom2top:function(){var p=this,b=p.getBoundingBox();p.eachNode(function(x){x.y=x.y-(x.y-b.top)*2-x.height}),p.translate(0,b.height)}});function E(C,p,b){p===void 0&&(p={}),p=g.assign({},T,p);var x=new A(C,p),w=[x],m;if(!b&&!C.collapsed){for(;m=w.shift();)if(!m.data.collapsed){var M=p.getChildren(m.data),L=M?M.length:0;if(m.children=new Array(L),M&&L)for(var B=0;B<L;B++){var D=new A(M[B],p);m.children[B]=D,w.push(D),D.parent=m,D.depth=m.depth+1}}}return x}mt.exports=E},10568:function(mt){function S(v,g,O,I){var P=typeof O=="function"?O(v):O*v.depth;if(!I)try{if(v.id===v.parent.children[0].id){v.x+=P,v.y=g?g.y:0;return}}catch(T){}v.x+=P,v.y=g?g.y+g.height:0}mt.exports=function(v,g,O){var I=null;v.eachNode(function(P){S(P,I,g,O),I=P})}},24461:function(mt,S,v){var g=v(22965);function O(T,A){var E=0;return T.children.length?T.children.forEach(function(C){E+=O(C,A)}):E=T.height,T._subTreeSep=A.getSubTreeSep(T.data),T.totalHeight=Math.max(T.height,E)+2*T._subTreeSep,T.totalHeight}function I(T){var A=T.children,E=A.length;if(E){A.forEach(function(m){I(m)});var C=A[0],p=A[E-1],b=p.y-C.y+p.height,x=0;if(A.forEach(function(m){x+=m.totalHeight}),b>T.height)T.y=C.y+b/2-T.height/2;else if(A.length!==1||T.height>x){var w=T.y+(T.height-b)/2-C.y;A.forEach(function(m){m.translate(0,w)})}else T.y=(C.y+C.height/2+p.y+p.height/2)/2-T.height/2}}var P={getSubTreeSep:function(){return 0}};mt.exports=function(T,A){A===void 0&&(A={}),A=g.assign({},P,A),T.parent={x:0,width:0,height:0,y:0},T.BFTraverse(function(E){E.x=E.parent.x+E.parent.width}),T.parent=null,O(T,A),T.startY=0,T.y=T.totalHeight/2-T.height/2,T.eachNode(function(E){var C=E.children,p=C.length;if(p){var b=C[0];if(b.startY=E.startY+E._subTreeSep,p===1)b.y=E.y+E.height/2-b.height/2;else{b.y=b.startY+b.totalHeight/2-b.height/2;for(var x=1;x<p;x++){var w=C[x];w.startY=C[x-1].startY+C[x-1].totalHeight,w.y=w.startY+w.totalHeight/2-w.height/2}}}}),I(T)}},90390:function(mt){function S(T,A,E,C){C===void 0&&(C=[]);var p=this;p.w=T||0,p.h=A||0,p.y=E||0,p.x=0,p.c=C||[],p.cs=C.length,p.prelim=0,p.mod=0,p.shift=0,p.change=0,p.tl=null,p.tr=null,p.el=null,p.er=null,p.msel=0,p.mser=0}S.fromNode=function(T,A){if(!T)return null;var E=[];return T.children.forEach(function(C){E.push(S.fromNode(C,A))}),A?new S(T.height,T.width,T.x,E):new S(T.width,T.height,T.y,E)};function v(T,A,E){E?T.y+=A:T.x+=A,T.children.forEach(function(C){v(C,A,E)})}function g(T,A){var E=A?T.y:T.x;return T.children.forEach(function(C){E=Math.min(g(C,A),E)}),E}function O(T,A){var E=g(T,A);v(T,-E,A)}function I(T,A,E){E?A.y=T.x:A.x=T.x,T.c.forEach(function(C,p){I(C,A.children[p],E)})}function P(T,A,E){E===void 0&&(E=0),A?(T.x=E,E+=T.width):(T.y=E,E+=T.height),T.children.forEach(function(C){P(C,A,E)})}mt.exports=function(T,A){A===void 0&&(A={});var E=A.isHorizontal;function C(st){if(st.cs===0){p(st);return}C(st.c[0]);for(var Ot=it(M(st.c[0].el),0,null),Dt=1;Dt<st.cs;++Dt){C(st.c[Dt]);var Ht=M(st.c[Dt].er);b(st,Dt,Ot),Ot=it(Ht,Dt,Ot)}D(st),p(st)}function p(st){st.cs===0?(st.el=st,st.er=st,st.msel=st.mser=0):(st.el=st.c[0].el,st.msel=st.c[0].msel,st.er=st.c[st.cs-1].er,st.mser=st.c[st.cs-1].mser)}function b(st,Ot,Dt){for(var Ht=st.c[Ot-1],N=Ht.mod,W=st.c[Ot],X=W.mod;Ht!==null&&W!==null;){M(Ht)>Dt.low&&(Dt=Dt.nxt);var V=N+Ht.prelim+Ht.w-(X+W.prelim);V>0&&(X+=V,x(st,Ot,Dt.index,V));var lt=M(Ht),Z=M(W);lt<=Z&&(Ht=m(Ht),Ht!==null&&(N+=Ht.mod)),lt>=Z&&(W=w(W),W!==null&&(X+=W.mod))}!Ht&&!!W?L(st,Ot,W,X):!!Ht&&!W&&B(st,Ot,Ht,N)}function x(st,Ot,Dt,Ht){st.c[Ot].mod+=Ht,st.c[Ot].msel+=Ht,st.c[Ot].mser+=Ht,q(st,Ot,Dt,Ht)}function w(st){return st.cs===0?st.tl:st.c[0]}function m(st){return st.cs===0?st.tr:st.c[st.cs-1]}function M(st){return st.y+st.h}function L(st,Ot,Dt,Ht){var N=st.c[0].el;N.tl=Dt;var W=Ht-Dt.mod-st.c[0].msel;N.mod+=W,N.prelim-=W,st.c[0].el=st.c[Ot].el,st.c[0].msel=st.c[Ot].msel}function B(st,Ot,Dt,Ht){var N=st.c[Ot].er;N.tr=Dt;var W=Ht-Dt.mod-st.c[Ot].mser;N.mod+=W,N.prelim-=W,st.c[Ot].er=st.c[Ot-1].er,st.c[Ot].mser=st.c[Ot-1].mser}function D(st){st.prelim=(st.c[0].prelim+st.c[0].mod+st.c[st.cs-1].mod+st.c[st.cs-1].prelim+st.c[st.cs-1].w)/2-st.w/2}function z(st,Ot){Ot+=st.mod,st.x=st.prelim+Ot,K(st);for(var Dt=0;Dt<st.cs;Dt++)z(st.c[Dt],Ot)}function q(st,Ot,Dt,Ht){if(Dt!==Ot-1){var N=Ot-Dt;st.c[Dt+1].shift+=Ht/N,st.c[Ot].shift-=Ht/N,st.c[Ot].change-=Ht-Ht/N}}function K(st){for(var Ot=0,Dt=0,Ht=0;Ht<st.cs;Ht++)Ot+=st.c[Ht].shift,Dt+=Ot+st.c[Ht].change,st.c[Ht].mod+=Dt}function it(st,Ot,Dt){for(;Dt!==null&&st>=Dt.low;)Dt=Dt.nxt;return{low:st,index:Ot,nxt:Dt}}P(T,E);var ct=S.fromNode(T,E);return C(ct),z(ct,0),I(ct,T,E),O(T,E),T}},59286:function(mt,S,v){var g=v(27249);mt.exports=function(O,I){for(var P=g(O.data,I,!0),T=g(O.data,I,!0),A=O.children.length,E=Math.round(A/2),C=I.getSide||function(w,m){return m<E?"right":"left"},p=0;p<A;p++){var b=O.children[p],x=C(b,p);x==="right"?T.children.push(b):P.children.push(b)}return P.eachNode(function(w){w.isRoot()||(w.side="left")}),T.eachNode(function(w){w.isRoot()||(w.side="right")}),{left:P,right:T}}},1355:function(mt,S,v){function g(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,p.__proto__=b}var O=v(4905),I=v(24461),P=v(30130),T=v(22965),A=function(p){g(b,p);function b(){return p.apply(this,arguments)||this}var x=b.prototype;return x.execute=function(){var m=this;return P(m.rootNode,m.options,I)},b}(O),E={};function C(p,b){return b=T.assign({},E,b),new A(p,b).execute()}mt.exports=C},22965:function(mt,S,v){var g=v(49242),O=g.mix;mt.exports={assign:O}},31506:function(mt,S,v){"use strict";v.r(S),v.d(S,{leftTranslate:function(){return I},leftRotate:function(){return P},leftScale:function(){return T},transform:function(){return E},direction:function(){return C},angleTo:function(){return p},vertical:function(){return b}});var g=v(35600),O=v(31437);function I(x,w,m){var M=[0,0,0,0,0,0,0,0,0];return g.fromTranslation(M,m),g.multiply(x,M,w)}function P(x,w,m){var M=[0,0,0,0,0,0,0,0,0];return g.fromRotation(M,m),g.multiply(x,M,w)}function T(x,w,m){var M=[0,0,0,0,0,0,0,0,0];return g.fromScaling(M,m),g.multiply(x,M,w)}function A(x,w,m){return g.multiply(x,m,w)}function E(x,w){for(var m=x?[].concat(x):[1,0,0,0,1,0,0,0,1],M=0,L=w.length;M<L;M++){var B=w[M];switch(B[0]){case"t":I(m,m,[B[1],B[2]]);break;case"s":T(m,m,[B[1],B[2]]);break;case"r":P(m,m,B[1]);break;case"m":A(m,m,B[1]);break;default:break}}return m}function C(x,w){return x[0]*w[1]-w[0]*x[1]}function p(x,w,m){var M=O.angle(x,w),L=C(x,w)>=0;return m?L?Math.PI*2-M:M:L?M:Math.PI*2-M}function b(x,w,m){return m?(x[0]=w[1],x[1]=-1*w[0]):(x[0]=-1*w[1],x[1]=w[0]),x}},43567:function(mt,S,v){"use strict";v.r(S),v.d(S,{mat3:function(){return g},vec2:function(){return O},vec3:function(){return I},ext:function(){return P}});var g=v(35600),O=v(31437),I=v(77160),P=v(31506)},57350:function(mt,S,v){"use strict";v.r(S),v.d(S,{catmullRom2Bezier:function(){return A},fillPath:function(){return b},fillPathByDiff:function(){return m},formatPath:function(){return B},getArcParams:function(){return pt},getLineIntersect:function(){return he},isPointInPolygon:function(){return fe},isPolygonsIntersect:function(){return lr},parsePath:function(){return T},parsePathArray:function(){return tt},parsePathString:function(){return it},path2Absolute:function(){return Ot},path2Curve:function(){return Z},path2Segments:function(){return Vt},pathIntersection:function(){return xt},reactPath:function(){return D}});var g=v(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,I=/[^\s\,]+/ig;function P(zt){var qt=zt||[];if((0,g.isArray)(qt))return qt;if((0,g.isString)(qt))return qt=qt.match(O),(0,g.each)(qt,function(ae,se){if(ae=ae.match(I),ae[0].length>1){var ge=ae[0].charAt(0);ae.splice(1,0,ae[0].substr(1)),ae[0]=ge}(0,g.each)(ae,function(Ce,Me){isNaN(Ce)||(ae[Me]=+Ce)}),qt[se]=ae}),qt}var T=P;function A(zt,qt){for(var ae=[],se=0,ge=zt.length;ge-2*!qt>se;se+=2){var Ce=[{x:+zt[se-2],y:+zt[se-1]},{x:+zt[se],y:+zt[se+1]},{x:+zt[se+2],y:+zt[se+3]},{x:+zt[se+4],y:+zt[se+5]}];qt?se?ge-4===se?Ce[3]={x:+zt[0],y:+zt[1]}:ge-2===se&&(Ce[2]={x:+zt[0],y:+zt[1]},Ce[3]={x:+zt[2],y:+zt[3]}):Ce[0]={x:+zt[ge-2],y:+zt[ge-1]}:ge-4===se?Ce[3]=Ce[2]:se||(Ce[0]={x:+zt[se],y:+zt[se+1]}),ae.push(["C",(-Ce[0].x+6*Ce[1].x+Ce[2].x)/6,(-Ce[0].y+6*Ce[1].y+Ce[2].y)/6,(Ce[1].x+6*Ce[2].x-Ce[3].x)/6,(Ce[1].y+6*Ce[2].y-Ce[3].y)/6,Ce[2].x,Ce[2].y])}return ae}function E(zt,qt){var ae=[],se=[];function ge(Ce,Me){if(Ce.length===1)ae.push(Ce[0]),se.push(Ce[0]);else{for(var Te=[],xe=0;xe<Ce.length-1;xe++)xe===0&&ae.push(Ce[0]),xe===Ce.length-2&&se.push(Ce[xe+1]),Te[xe]=[(1-Me)*Ce[xe][0]+Me*Ce[xe+1][0],(1-Me)*Ce[xe][1]+Me*Ce[xe+1][1]];ge(Te,Me)}}return zt.length&&ge(zt,qt),{left:ae,right:se.reverse()}}function C(zt,qt,ae){var se=[[zt[1],zt[2]]];ae=ae||2;var ge=[];qt[0]==="A"?(se.push(qt[6]),se.push(qt[7])):qt[0]==="C"?(se.push([qt[1],qt[2]]),se.push([qt[3],qt[4]]),se.push([qt[5],qt[6]])):qt[0]==="S"||qt[0]==="Q"?(se.push([qt[1],qt[2]]),se.push([qt[3],qt[4]])):se.push([qt[1],qt[2]]);for(var Ce=se,Me=1/ae,Te=0;Te<ae-1;Te++){var xe=Me/(1-Me*Te),ze=E(Ce,xe);ge.push(ze.left),Ce=ze.right}ge.push(Ce);var je=ge.map(function(fr){var sr=[];return fr.length===4&&(sr.push("C"),sr=sr.concat(fr[2])),fr.length>=3&&(fr.length===3&&sr.push("Q"),sr=sr.concat(fr[1])),fr.length===2&&sr.push("L"),sr=sr.concat(fr[fr.length-1]),sr});return je}function p(zt,qt,ae){if(ae===1)return[[].concat(zt)];var se=[];if(qt[0]==="L"||qt[0]==="C"||qt[0]==="Q")se=se.concat(C(zt,qt,ae));else{var ge=[].concat(zt);ge[0]==="M"&&(ge[0]="L");for(var Ce=0;Ce<=ae-1;Ce++)se.push(ge)}return se}function b(zt,qt){if(zt.length===1)return zt;var ae=zt.length-1,se=qt.length-1,ge=ae/se,Ce=[];if(zt.length===1&&zt[0][0]==="M"){for(var Me=0;Me<se-ae;Me++)zt.push(zt[0]);return zt}for(var Me=0;Me<se;Me++){var Te=Math.floor(ge*Me);Ce[Te]=(Ce[Te]||0)+1}var xe=Ce.reduce(function(ze,je,fr){return fr===ae?ze.concat(zt[ae]):ze.concat(p(zt[fr],zt[fr+1],je))},[]);return xe.unshift(zt[0]),(qt[se]==="Z"||qt[se]==="z")&&xe.push("Z"),xe}function x(zt,qt,ae){var se=null,ge=ae;return qt<ge&&(ge=qt,se="add"),zt<ge&&(ge=zt,se="del"),{type:se,min:ge}}var w=function(zt,qt){var ae=zt.length,se=qt.length,ge,Ce,Me=0;if(ae===0||se===0)return null;for(var Te=[],xe=0;xe<=ae;xe++)Te[xe]=[],Te[xe][0]={min:xe};for(var ze=0;ze<=se;ze++)Te[0][ze]={min:ze};for(var xe=1;xe<=ae;xe++){ge=zt[xe-1];for(var ze=1;ze<=se;ze++){Ce=qt[ze-1],(0,g.isEqual)(ge,Ce)?Me=0:Me=1;var je=Te[xe-1][ze].min+1,fr=Te[xe][ze-1].min+1,sr=Te[xe-1][ze-1].min+Me;Te[xe][ze]=x(je,fr,sr)}}return Te};function m(zt,qt){var ae=w(zt,qt),se=zt.length,ge=qt.length,Ce=[],Me=1,Te=1;if(ae[se][ge]!==se){for(var xe=1;xe<=se;xe++){var ze=ae[xe][xe].min;Te=xe;for(var je=Me;je<=ge;je++)ae[xe][je].min<ze&&(ze=ae[xe][je].min,Te=je);Me=Te,ae[xe][Me].type&&Ce.push({index:xe-1,type:ae[xe][Me].type})}for(var xe=Ce.length-1;xe>=0;xe--)Me=Ce[xe].index,Ce[xe].type==="add"?zt.splice(Me,0,[].concat(zt[Me])):zt.splice(Me,1)}if(se=zt.length,se<ge)for(var xe=0;xe<ge-se;xe++)zt[se-1][0]==="z"||zt[se-1][0]==="Z"?zt.splice(se-2,0,zt[se-2]):zt.push(zt[se-1]);return zt}function M(zt){var qt=[];switch(zt[0]){case"M":qt.push([zt[1],zt[2]]);break;case"L":qt.push([zt[1],zt[2]]);break;case"A":qt.push([zt[6],zt[7]]);break;case"Q":qt.push([zt[3],zt[4]]),qt.push([zt[1],zt[2]]);break;case"T":qt.push([zt[1],zt[2]]);break;case"C":qt.push([zt[5],zt[6]]),qt.push([zt[1],zt[2]]),qt.push([zt[3],zt[4]]);break;case"S":qt.push([zt[3],zt[4]]),qt.push([zt[1],zt[2]]);break;case"H":qt.push([zt[1],zt[1]]);break;case"V":qt.push([zt[1],zt[1]]);break;default:}return qt}function L(zt,qt,ae){for(var se=[].concat(zt),ge,Ce=1/(ae+1),Me=M(qt)[0],Te=1;Te<=ae;Te++)Ce*=Te,ge=Math.floor(zt.length*Ce),ge===0?se.unshift([Me[0]*Ce+zt[ge][0]*(1-Ce),Me[1]*Ce+zt[ge][1]*(1-Ce)]):se.splice(ge,0,[Me[0]*Ce+zt[ge][0]*(1-Ce),Me[1]*Ce+zt[ge][1]*(1-Ce)]);return se}function B(zt,qt){if(zt.length<=1)return zt;for(var ae,se=0;se<qt.length;se++)if(zt[se][0]!==qt[se][0])switch(ae=M(zt[se]),qt[se][0]){case"M":zt[se]=["M"].concat(ae[0]);break;case"L":zt[se]=["L"].concat(ae[0]);break;case"A":zt[se]=[].concat(qt[se]),zt[se][6]=ae[0][0],zt[se][7]=ae[0][1];break;case"Q":if(ae.length<2)if(se>0)ae=L(ae,zt[se-1],1);else{zt[se]=qt[se];break}zt[se]=["Q"].concat(ae.reduce(function(ge,Ce){return ge.concat(Ce)},[]));break;case"T":zt[se]=["T"].concat(ae[0]);break;case"C":if(ae.length<3)if(se>0)ae=L(ae,zt[se-1],2);else{zt[se]=qt[se];break}zt[se]=["C"].concat(ae.reduce(function(ge,Ce){return ge.concat(Ce)},[]));break;case"S":if(ae.length<2)if(se>0)ae=L(ae,zt[se-1],1);else{zt[se]=qt[se];break}zt[se]=["S"].concat(ae.reduce(function(ge,Ce){return ge.concat(Ce)},[]));break;default:zt[se]=qt[se]}return zt}function D(zt,qt,ae,se,ge){return ge?[["M",+zt+ +ge,qt],["l",ae-ge*2,0],["a",ge,ge,0,0,1,ge,ge],["l",0,se-ge*2],["a",ge,ge,0,0,1,-ge,ge],["l",ge*2-ae,0],["a",ge,ge,0,0,1,-ge,-ge],["l",0,ge*2-se],["a",ge,ge,0,0,1,ge,-ge],["z"]]:[["M",zt,qt],["l",ae,0],["l",0,se],["l",-ae,0],["z"]]}var z=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,q=new RegExp("([a-z])["+z+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+z+"]*,?["+z+"]*)+)","ig"),K=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+z+"]*,?["+z+"]*","ig");function it(zt){if(!zt)return null;if((0,g.isArray)(zt))return zt;var qt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ae=[];return String(zt).replace(q,function(se,ge,Ce){var Me=[],Te=ge.toLowerCase();if(Ce.replace(K,function(xe,ze){ze&&Me.push(+ze)}),Te==="m"&&Me.length>2&&(ae.push([ge].concat(Me.splice(0,2))),Te="l",ge=ge==="m"?"l":"L"),Te==="o"&&Me.length===1&&ae.push([ge,Me[0]]),Te==="r")ae.push([ge].concat(Me));else for(;Me.length>=qt[Te]&&(ae.push([ge].concat(Me.splice(0,qt[Te]))),!!qt[Te]););return""}),ae}var ct=/[a-z]/;function st(zt,qt){return[qt[0]+(qt[0]-zt[0]),qt[1]+(qt[1]-zt[1])]}function Ot(zt){var qt=it(zt);if(!qt||!qt.length)return[["M",0,0]];for(var ae=!1,se=0;se<qt.length;se++){var ge=qt[se][0];if(ct.test(ge)||["V","H","T","S"].indexOf(ge)>=0){ae=!0;break}}if(!ae)return qt;var Ce=[],Me=0,Te=0,xe=0,ze=0,je=0,fr,sr,Je=qt[0];(Je[0]==="M"||Je[0]==="m")&&(Me=+Je[1],Te=+Je[2],xe=Me,ze=Te,je++,Ce[0]=["M",Me,Te]);for(var se=je,Ne=qt.length;se<Ne;se++){var xr=qt[se],vr=Ce[se-1],Ze=[],ge=xr[0],br=ge.toUpperCase();if(ge!==br)switch(Ze[0]=br,br){case"A":Ze[1]=xr[1],Ze[2]=xr[2],Ze[3]=xr[3],Ze[4]=xr[4],Ze[5]=xr[5],Ze[6]=+xr[6]+Me,Ze[7]=+xr[7]+Te;break;case"V":Ze[1]=+xr[1]+Te;break;case"H":Ze[1]=+xr[1]+Me;break;case"M":xe=+xr[1]+Me,ze=+xr[2]+Te,Ze[1]=xe,Ze[2]=ze;break;default:for(var Lr=1,dr=xr.length;Lr<dr;Lr++)Ze[Lr]=+xr[Lr]+(Lr%2?Me:Te)}else Ze=qt[se];switch(br){case"Z":Me=+xe,Te=+ze;break;case"H":Me=Ze[1],Ze=["L",Me,Te];break;case"V":Te=Ze[1],Ze=["L",Me,Te];break;case"T":Me=Ze[1],Te=Ze[2];var cr=st([vr[1],vr[2]],[vr[3],vr[4]]);Ze=["Q",cr[0],cr[1],Me,Te];break;case"S":Me=Ze[Ze.length-2],Te=Ze[Ze.length-1];var Yr=vr.length,Or=st([vr[Yr-4],vr[Yr-3]],[vr[Yr-2],vr[Yr-1]]);Ze=["C",Or[0],Or[1],Ze[1],Ze[2],Me,Te];break;case"M":xe=Ze[Ze.length-2],ze=Ze[Ze.length-1];break;default:Me=Ze[Ze.length-2],Te=Ze[Ze.length-1]}Ce.push(Ze)}return Ce}function Dt(zt,qt,ae){var se=zt*Math.cos(ae)-qt*Math.sin(ae),ge=zt*Math.sin(ae)+qt*Math.cos(ae);return{x:se,y:ge}}function Ht(zt,qt,ae,se,ge,Ce,Me,Te,xe,ze){var je=Math.PI*120/180,fr=Math.PI/180*(ge||0),sr=[],Je=zt,Ne=Te,xr=qt,vr=xe,Ze=ae,br=se,Lr,dr,cr,Yr,Or;if(ze){var gi=ze[0],Kr=ze[1],zn=ze[2],Mi=ze[3];dr=gi,cr=Kr,Yr=zn,Or=Mi}else{Lr=Dt(Je,xr,-fr),Je=Lr.x,xr=Lr.y,Lr=Dt(Ne,vr,-fr),Ne=Lr.x,vr=Lr.y;var fn=(Je-Ne)/2,Rn=(xr-vr)/2,_n=fn*fn/(Ze*br)+Math.pow(Rn,2)/Math.pow(br,2);_n>1&&(_n=Math.sqrt(_n),Ze*=_n,br*=_n);var $n=Math.pow(Ze,2),Qn=Math.pow(br,2),Tn=(Ce===Me?-1:1)*Math.sqrt(Math.abs(($n*Qn-$n*Rn*Rn-Qn*fn*fn)/($n*Rn*Rn+Qn*fn*fn)));Yr=Tn*Ze*Rn/br+(Je+Ne)/2,Or=Tn*-br*fn/Ze+(xr+vr)/2,dr=Math.asin(((xr-Or)/br*Math.pow(10,9)>>0)/Math.pow(10,9)),cr=Math.asin(((vr-Or)/br*Math.pow(10,9)>>0)/Math.pow(10,9)),dr=Je<Yr?Math.PI-dr:dr,cr=Ne<Yr?Math.PI-cr:cr,dr<0&&(dr=Math.PI*2+dr),cr<0&&(cr=Math.PI*2+cr),Me&&dr>cr&&(dr-=Math.PI*2),!Me&&cr>dr&&(cr-=Math.PI*2)}var Gn=cr-dr;if(Math.abs(Gn)>je){var Oi=cr,Ii=Ne,Ar=vr;cr=dr+je*(Me&&cr>dr?1:-1),Ne=Yr+Ze*Math.cos(cr),vr=Or+br*Math.sin(cr),sr=Ht(Ne,vr,Ze,br,ge,0,Me,Ii,Ar,[cr,Oi,Yr,Or])}Gn=cr-dr;var ki=Math.cos(dr),Vi=Math.sin(dr),Bi=Math.cos(cr),dn=Math.sin(cr),oi=Math.tan(Gn/4),Di=4/3*Ze*oi,Un=4/3*br*oi,Jn=[Je,xr],hn=[Je+Di*Vi,xr-Un*ki],Ei=[Ne+Di*dn,vr-Un*Bi],Hi=[Ne,vr];return hn[0]=2*Jn[0]-hn[0],hn[1]=2*Jn[1]-hn[1],ze?[hn,Ei,Hi].concat(sr):(sr=[hn,Ei,Hi].concat(sr).join().split(","),sr.map(function(Nt,kt){return kt%2?Dt(sr[kt-1],Nt,fr).y:Dt(Nt,sr[kt+1],fr).x}))}function N(zt,qt,ae,se,ge,Ce){var Me=1/3,Te=2/3;return[Me*zt+Te*ae,Me*qt+Te*se,Me*ge+Te*ae,Me*Ce+Te*se,ge,Ce]}function W(zt,qt,ae,se,ge,Ce,Me,Te,xe){var ze=1-xe;return{x:Math.pow(ze,3)*zt+ze*ze*3*xe*ae+ze*3*xe*xe*ge+Math.pow(xe,3)*Me,y:Math.pow(ze,3)*qt+ze*ze*3*xe*se+ze*3*xe*xe*Ce+Math.pow(xe,3)*Te}}function X(zt,qt,ae){var se=zt[0],ge=zt[1],Ce=qt[0],Me=qt[1];return[se+(Ce-se)*ae,ge+(Me-ge)*ae]}function V(zt,qt,ae,se){var ge=.5,Ce=[zt,qt],Me=[ae,se],Te=X(Ce,Me,ge),xe=X(Me,Te,ge),ze=X(Te,xe,ge),je=X(xe,ze,ge),fr=X(ze,je,ge),sr=W.apply(0,Ce.concat(Te,ze,fr,ge)),Je=W.apply(0,fr.concat(je,xe,Me,0));return[sr.x,sr.y,Je.x,Je.y,ae,se]}function lt(zt,qt){"TQ".indexOf(zt[0])<0&&(qt.qx=null,qt.qy=null);var ae=zt.slice(1),se=ae[0],ge=ae[1];switch(zt[0]){case"M":return qt.x=se,qt.y=ge,zt;case"A":return["C"].concat(Ht.apply(0,[qt.x1,qt.y1].concat(zt.slice(1))));case"Q":return qt.qx=se,qt.qy=ge,["C"].concat(N.apply(0,[qt.x1,qt.y1].concat(zt.slice(1))));case"L":return["C"].concat(V(qt.x1,qt.y1,zt[1],zt[2]));case"Z":return["C"].concat(V(qt.x1,qt.y1,qt.x,qt.y));default:}return zt}function Z(zt){for(var qt=Ot(zt),ae={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},se=[],ge="",Ce=qt.length,Me,Te,xe=0;xe<Ce;xe+=1)qt[xe]&&(ge=qt[xe][0]),se[xe]=ge,qt[xe]=lt(qt[xe],ae),U(qt,se,xe),Ce=qt.length,Me=qt[xe],Te=Me.length,ae.x1=+Me[Te-2],ae.y1=+Me[Te-1],ae.x2=+Me[Te-4]||ae.x1,ae.y2=+Me[Te-3]||ae.y1;return qt}function U(zt,qt,ae){if(zt[ae].length>7){zt[ae].shift();for(var se=zt[ae],ge=ae;se.length;)qt[ae]="A",zt.splice(ge+=1,0,["C"].concat(se.splice(0,6)));zt.splice(ae,1)}}var j=function(zt,qt,ae,se,ge){var Ce=-3*qt+9*ae-9*se+3*ge,Me=zt*Ce+6*qt-12*ae+6*se;return zt*Me-3*qt+3*ae},H=function(zt,qt,ae,se,ge,Ce,Me,Te,xe){xe===null&&(xe=1),xe=xe>1?1:xe<0?0:xe;for(var ze=xe/2,je=12,fr=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],sr=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Je=0,Ne=0;Ne<je;Ne++){var xr=ze*fr[Ne]+ze,vr=j(xr,zt,ae,ge,Me),Ze=j(xr,qt,se,Ce,Te),br=vr*vr+Ze*Ze;Je+=sr[Ne]*Math.sqrt(br)}return ze*Je},f=function(zt,qt,ae,se,ge,Ce,Me,Te){for(var xe=[],ze=[[],[]],je,fr,sr,Je,Ne=0;Ne<2;++Ne){if(Ne===0?(fr=6*zt-12*ae+6*ge,je=-3*zt+9*ae-9*ge+3*Me,sr=3*ae-3*zt):(fr=6*qt-12*se+6*Ce,je=-3*qt+9*se-9*Ce+3*Te,sr=3*se-3*qt),Math.abs(je)<1e-12){if(Math.abs(fr)<1e-12)continue;Je=-sr/fr,Je>0&&Je<1&&xe.push(Je);continue}var xr=fr*fr-4*sr*je,vr=Math.sqrt(xr);if(!(xr<0)){var Ze=(-fr+vr)/(2*je);Ze>0&&Ze<1&&xe.push(Ze);var br=(-fr-vr)/(2*je);br>0&&br<1&&xe.push(br)}}for(var Lr=xe.length,dr=Lr,cr;Lr--;)Je=xe[Lr],cr=1-Je,ze[0][Lr]=cr*cr*cr*zt+3*cr*cr*Je*ae+3*cr*Je*Je*ge+Je*Je*Je*Me,ze[1][Lr]=cr*cr*cr*qt+3*cr*cr*Je*se+3*cr*Je*Je*Ce+Je*Je*Je*Te;return ze[0][dr]=zt,ze[1][dr]=qt,ze[0][dr+1]=Me,ze[1][dr+1]=Te,ze[0].length=ze[1].length=dr+2,{min:{x:Math.min.apply(0,ze[0]),y:Math.min.apply(0,ze[1])},max:{x:Math.max.apply(0,ze[0]),y:Math.max.apply(0,ze[1])}}},yt=function(zt,qt,ae,se,ge,Ce,Me,Te){if(!(Math.max(zt,ae)<Math.min(ge,Me)||Math.min(zt,ae)>Math.max(ge,Me)||Math.max(qt,se)<Math.min(Ce,Te)||Math.min(qt,se)>Math.max(Ce,Te))){var xe=(zt*se-qt*ae)*(ge-Me)-(zt-ae)*(ge*Te-Ce*Me),ze=(zt*se-qt*ae)*(Ce-Te)-(qt-se)*(ge*Te-Ce*Me),je=(zt-ae)*(Ce-Te)-(qt-se)*(ge-Me);if(!!je){var fr=xe/je,sr=ze/je,Je=+fr.toFixed(2),Ne=+sr.toFixed(2);if(!(Je<+Math.min(zt,ae).toFixed(2)||Je>+Math.max(zt,ae).toFixed(2)||Je<+Math.min(ge,Me).toFixed(2)||Je>+Math.max(ge,Me).toFixed(2)||Ne<+Math.min(qt,se).toFixed(2)||Ne>+Math.max(qt,se).toFixed(2)||Ne<+Math.min(Ce,Te).toFixed(2)||Ne>+Math.max(Ce,Te).toFixed(2)))return{x:fr,y:sr}}}},St=function(zt,qt,ae){return qt>=zt.x&&qt<=zt.x+zt.width&&ae>=zt.y&&ae<=zt.y+zt.height},at=function(zt,qt,ae,se){return zt===null&&(zt=qt=ae=se=0),qt===null&&(qt=zt.y,ae=zt.width,se=zt.height,zt=zt.x),{x:zt,y:qt,width:ae,w:ae,height:se,h:se,x2:zt+ae,y2:qt+se,cx:zt+ae/2,cy:qt+se/2,r1:Math.min(ae,se)/2,r2:Math.max(ae,se)/2,r0:Math.sqrt(ae*ae+se*se)/2,path:D(zt,qt,ae,se),vb:[zt,qt,ae,se].join(" ")}},Ct=function(zt,qt){return zt=at(zt),qt=at(qt),St(qt,zt.x,zt.y)||St(qt,zt.x2,zt.y)||St(qt,zt.x,zt.y2)||St(qt,zt.x2,zt.y2)||St(zt,qt.x,qt.y)||St(zt,qt.x2,qt.y)||St(zt,qt.x,qt.y2)||St(zt,qt.x2,qt.y2)||(zt.x<qt.x2&&zt.x>qt.x||qt.x<zt.x2&&qt.x>zt.x)&&(zt.y<qt.y2&&zt.y>qt.y||qt.y<zt.y2&&qt.y>zt.y)},wt=function(zt,qt,ae,se,ge,Ce,Me,Te){(0,g.isArray)(zt)||(zt=[zt,qt,ae,se,ge,Ce,Me,Te]);var xe=f.apply(null,zt);return at(xe.min.x,xe.min.y,xe.max.x-xe.min.x,xe.max.y-xe.min.y)},At=function(zt,qt,ae,se,ge,Ce,Me,Te,xe){var ze=1-xe,je=Math.pow(ze,3),fr=Math.pow(ze,2),sr=xe*xe,Je=sr*xe,Ne=je*zt+fr*3*xe*ae+ze*3*xe*xe*ge+Je*Me,xr=je*qt+fr*3*xe*se+ze*3*xe*xe*Ce+Je*Te,vr=zt+2*xe*(ae-zt)+sr*(ge-2*ae+zt),Ze=qt+2*xe*(se-qt)+sr*(Ce-2*se+qt),br=ae+2*xe*(ge-ae)+sr*(Me-2*ge+ae),Lr=se+2*xe*(Ce-se)+sr*(Te-2*Ce+se),dr=ze*zt+xe*ae,cr=ze*qt+xe*se,Yr=ze*ge+xe*Me,Or=ze*Ce+xe*Te,fn=90-Math.atan2(vr-br,Ze-Lr)*180/Math.PI;return{x:Ne,y:xr,m:{x:vr,y:Ze},n:{x:br,y:Lr},start:{x:dr,y:cr},end:{x:Yr,y:Or},alpha:fn}},_t=function(zt,qt,ae){var se=wt(zt),ge=wt(qt);if(!Ct(se,ge))return ae?0:[];for(var Ce=H.apply(0,zt),Me=H.apply(0,qt),Te=~~(Ce/8),xe=~~(Me/8),ze=[],je=[],fr={},sr=ae?0:[],Je=0;Je<Te+1;Je++){var Ne=At.apply(0,zt.concat(Je/Te));ze.push({x:Ne.x,y:Ne.y,t:Je/Te})}for(var Je=0;Je<xe+1;Je++){var Ne=At.apply(0,qt.concat(Je/xe));je.push({x:Ne.x,y:Ne.y,t:Je/xe})}for(var Je=0;Je<Te;Je++)for(var xr=0;xr<xe;xr++){var vr=ze[Je],Ze=ze[Je+1],br=je[xr],Lr=je[xr+1],dr=Math.abs(Ze.x-vr.x)<.001?"y":"x",cr=Math.abs(Lr.x-br.x)<.001?"y":"x",Yr=yt(vr.x,vr.y,Ze.x,Ze.y,br.x,br.y,Lr.x,Lr.y);if(Yr){if(fr[Yr.x.toFixed(4)]===Yr.y.toFixed(4))continue;fr[Yr.x.toFixed(4)]=Yr.y.toFixed(4);var Or=vr.t+Math.abs((Yr[dr]-vr[dr])/(Ze[dr]-vr[dr]))*(Ze.t-vr.t),fn=br.t+Math.abs((Yr[cr]-br[cr])/(Lr[cr]-br[cr]))*(Lr.t-br.t);Or>=0&&Or<=1&&fn>=0&&fn<=1&&(ae?sr++:sr.push({x:Yr.x,y:Yr.y,t1:Or,t2:fn}))}}return sr},Lt=function(zt,qt,ae){zt=Z(zt),qt=Z(qt);for(var se,ge,Ce,Me,Te,xe,ze,je,fr,sr,Je=ae?0:[],Ne=0,xr=zt.length;Ne<xr;Ne++){var vr=zt[Ne];if(vr[0]==="M")se=Te=vr[1],ge=xe=vr[2];else{vr[0]==="C"?(fr=[se,ge].concat(vr.slice(1)),se=fr[6],ge=fr[7]):(fr=[se,ge,se,ge,Te,xe,Te,xe],se=Te,ge=xe);for(var Ze=0,br=qt.length;Ze<br;Ze++){var Lr=qt[Ze];if(Lr[0]==="M")Ce=ze=Lr[1],Me=je=Lr[2];else{Lr[0]==="C"?(sr=[Ce,Me].concat(Lr.slice(1)),Ce=sr[6],Me=sr[7]):(sr=[Ce,Me,Ce,Me,ze,je,ze,je],Ce=ze,Me=je);var dr=_t(fr,sr,ae);if(ae)Je+=dr;else{for(var cr=0,Yr=dr.length;cr<Yr;cr++)dr[cr].segment1=Ne,dr[cr].segment2=Ze,dr[cr].bez1=fr,dr[cr].bez2=sr;Je=Je.concat(dr)}}}}}return Je};function xt(zt,qt){return Lt(zt,qt)}var ot=/,?([a-z]),?/gi;function tt(zt){return zt.join(",").replace(ot,"$1")}function Q(zt){return Math.sqrt(zt[0]*zt[0]+zt[1]*zt[1])}function dt(zt,qt){return Q(zt)*Q(qt)?(zt[0]*qt[0]+zt[1]*qt[1])/(Q(zt)*Q(qt)):1}function rt(zt,qt){return(zt[0]*qt[1]<zt[1]*qt[0]?-1:1)*Math.acos(dt(zt,qt))}function nt(zt,qt){return zt[0]===qt[0]&&zt[1]===qt[1]}function pt(zt,qt){var ae=qt[1],se=qt[2],ge=(0,g.mod)((0,g.toRadian)(qt[3]),Math.PI*2),Ce=qt[4],Me=qt[5],Te=zt[0],xe=zt[1],ze=qt[6],je=qt[7],fr=Math.cos(ge)*(Te-ze)/2+Math.sin(ge)*(xe-je)/2,sr=-1*Math.sin(ge)*(Te-ze)/2+Math.cos(ge)*(xe-je)/2,Je=fr*fr/(ae*ae)+sr*sr/(se*se);Je>1&&(ae*=Math.sqrt(Je),se*=Math.sqrt(Je));var Ne=ae*ae*(sr*sr)+se*se*(fr*fr),xr=Ne?Math.sqrt((ae*ae*(se*se)-Ne)/Ne):1;Ce===Me&&(xr*=-1),isNaN(xr)&&(xr=0);var vr=se?xr*ae*sr/se:0,Ze=ae?xr*-se*fr/ae:0,br=(Te+ze)/2+Math.cos(ge)*vr-Math.sin(ge)*Ze,Lr=(xe+je)/2+Math.sin(ge)*vr+Math.cos(ge)*Ze,dr=[(fr-vr)/ae,(sr-Ze)/se],cr=[(-1*fr-vr)/ae,(-1*sr-Ze)/se],Yr=rt([1,0],dr),Or=rt(dr,cr);return dt(dr,cr)<=-1&&(Or=Math.PI),dt(dr,cr)>=1&&(Or=0),Me===0&&Or>0&&(Or=Or-2*Math.PI),Me===1&&Or<0&&(Or=Or+2*Math.PI),{cx:br,cy:Lr,rx:nt(zt,[ze,je])?0:ae,ry:nt(zt,[ze,je])?0:se,startAngle:Yr,endAngle:Yr+Or,xRotation:ge,arcFlag:Ce,sweepFlag:Me}}function It(zt,qt){return[qt[0]+(qt[0]-zt[0]),qt[1]+(qt[1]-zt[1])]}function Vt(zt){zt=T(zt);for(var qt=[],ae=null,se=null,ge=null,Ce=0,Me=zt.length,Te=0;Te<Me;Te++){var xe=zt[Te];se=zt[Te+1];var ze=xe[0],je={command:ze,prePoint:ae,params:xe,startTangent:null,endTangent:null};switch(ze){case"M":ge=[xe[1],xe[2]],Ce=Te;break;case"A":var fr=pt(ae,xe);je.arcParams=fr;break;default:break}if(ze==="Z")ae=ge,se=zt[Ce+1];else{var sr=xe.length;ae=[xe[sr-2],xe[sr-1]]}se&&se[0]==="Z"&&(se=zt[Ce],qt[Ce]&&(qt[Ce].prePoint=ae)),je.currentPoint=ae,qt[Ce]&&nt(ae,qt[Ce].currentPoint)&&(qt[Ce].prePoint=je.prePoint);var Je=se?[se[se.length-2],se[se.length-1]]:null;je.nextPoint=Je;var Ne=je.prePoint;if(["L","H","V"].includes(ze))je.startTangent=[Ne[0]-ae[0],Ne[1]-ae[1]],je.endTangent=[ae[0]-Ne[0],ae[1]-Ne[1]];else if(ze==="Q"){var xr=[xe[1],xe[2]];je.startTangent=[Ne[0]-xr[0],Ne[1]-xr[1]],je.endTangent=[ae[0]-xr[0],ae[1]-xr[1]]}else if(ze==="T"){var vr=qt[Te-1],xr=It(vr.currentPoint,Ne);vr.command==="Q"?(je.command="Q",je.startTangent=[Ne[0]-xr[0],Ne[1]-xr[1]],je.endTangent=[ae[0]-xr[0],ae[1]-xr[1]]):(je.command="TL",je.startTangent=[Ne[0]-ae[0],Ne[1]-ae[1]],je.endTangent=[ae[0]-Ne[0],ae[1]-Ne[1]])}else if(ze==="C"){var Ze=[xe[1],xe[2]],br=[xe[3],xe[4]];je.startTangent=[Ne[0]-Ze[0],Ne[1]-Ze[1]],je.endTangent=[ae[0]-br[0],ae[1]-br[1]],je.startTangent[0]===0&&je.startTangent[1]===0&&(je.startTangent=[Ze[0]-br[0],Ze[1]-br[1]]),je.endTangent[0]===0&&je.endTangent[1]===0&&(je.endTangent=[br[0]-Ze[0],br[1]-Ze[1]])}else if(ze==="S"){var vr=qt[Te-1],Ze=It(vr.currentPoint,Ne),br=[xe[1],xe[2]];vr.command==="C"?(je.command="C",je.startTangent=[Ne[0]-Ze[0],Ne[1]-Ze[1]],je.endTangent=[ae[0]-br[0],ae[1]-br[1]]):(je.command="SQ",je.startTangent=[Ne[0]-br[0],Ne[1]-br[1]],je.endTangent=[ae[0]-br[0],ae[1]-br[1]])}else if(ze==="A"){var Lr=.001,dr=je.arcParams||{},cr=dr.cx,Yr=cr===void 0?0:cr,Or=dr.cy,fn=Or===void 0?0:Or,Rn=dr.rx,_n=Rn===void 0?0:Rn,$n=dr.ry,Qn=$n===void 0?0:$n,Tn=dr.sweepFlag,gi=Tn===void 0?0:Tn,Kr=dr.startAngle,zn=Kr===void 0?0:Kr,Mi=dr.endAngle,Gn=Mi===void 0?0:Mi;gi===0&&(Lr*=-1);var Oi=_n*Math.cos(zn-Lr)+Yr,Ii=Qn*Math.sin(zn-Lr)+fn;je.startTangent=[Oi-ge[0],Ii-ge[1]];var Ar=_n*Math.cos(zn+Gn+Lr)+Yr,ki=Qn*Math.sin(zn+Gn-Lr)+fn;je.endTangent=[Ne[0]-Ar,Ne[1]-ki]}qt.push(je)}return qt}var Qt=function(zt,qt,ae){return zt>=qt&&zt<=ae};function he(zt,qt,ae,se){var ge=.001,Ce={x:ae.x-zt.x,y:ae.y-zt.y},Me={x:qt.x-zt.x,y:qt.y-zt.y},Te={x:se.x-ae.x,y:se.y-ae.y},xe=Me.x*Te.y-Me.y*Te.x,ze=xe*xe,je=Me.x*Me.x+Me.y*Me.y,fr=Te.x*Te.x+Te.y*Te.y,sr=null;if(ze>ge*je*fr){var Je=(Ce.x*Te.y-Ce.y*Te.x)/xe,Ne=(Ce.x*Me.y-Ce.y*Me.x)/xe;Qt(Je,0,1)&&Qt(Ne,0,1)&&(sr={x:zt.x+Je*Me.x,y:zt.y+Je*Me.y})}return sr}var me=1e-6;function Xt(zt){return Math.abs(zt)<me?0:zt<0?-1:1}function $t(zt,qt,ae){return(ae[0]-zt[0])*(qt[1]-zt[1])==(qt[0]-zt[0])*(ae[1]-zt[1])&&Math.min(zt[0],qt[0])<=ae[0]&&ae[0]<=Math.max(zt[0],qt[0])&&Math.min(zt[1],qt[1])<=ae[1]&&ae[1]<=Math.max(zt[1],qt[1])}function fe(zt,qt,ae){var se=!1,ge=zt.length;if(ge<=2)return!1;for(var Ce=0;Ce<ge;Ce++){var Me=zt[Ce],Te=zt[(Ce+1)%ge];if($t(Me,Te,[qt,ae]))return!0;Xt(Me[1]-ae)>0!=Xt(Te[1]-ae)>0&&Xt(qt-(ae-Me[1])*(Me[0]-Te[0])/(Me[1]-Te[1])-Me[0])<0&&(se=!se)}return se}function Se(zt){for(var qt=[],ae=zt.length,se=0;se<ae-1;se++){var ge=zt[se],Ce=zt[se+1];qt.push({from:{x:ge[0],y:ge[1]},to:{x:Ce[0],y:Ce[1]}})}if(qt.length>1){var Me=zt[0],Te=zt[ae-1];qt.push({from:{x:Te[0],y:Te[1]},to:{x:Me[0],y:Me[1]}})}return qt}function ke(zt,qt){var ae=!1;return(0,g.each)(zt,function(se){if(he(se.from,se.to,qt.from,qt.to))return ae=!0,!1}),ae}function Oe(zt){var qt=zt.map(function(se){return se[0]}),ae=zt.map(function(se){return se[1]});return{minX:Math.min.apply(null,qt),maxX:Math.max.apply(null,qt),minY:Math.min.apply(null,ae),maxY:Math.max.apply(null,ae)}}function $e(zt,qt){return!(qt.minX>zt.maxX||qt.maxX<zt.minX||qt.minY>zt.maxY||qt.maxY<zt.minY)}function lr(zt,qt){if(zt.length<2||qt.length<2)return!1;var ae=Oe(zt),se=Oe(qt);if(!$e(ae,se))return!1;var ge=!1;if((0,g.each)(qt,function(xe){if(fe(zt,xe[0],xe[1]))return ge=!0,!1}),ge||((0,g.each)(zt,function(xe){if(fe(qt,xe[0],xe[1]))return ge=!0,!1}),ge))return!0;var Ce=Se(zt),Me=Se(qt),Te=!1;return(0,g.each)(Me,function(xe){if(ke(Ce,xe))return Te=!0,!1}),Te}},84023:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=void 0;var g=v(49242);function O(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])}function I(E,C){return O(E)*O(C)?(E[0]*C[0]+E[1]*C[1])/(O(E)*O(C)):1}function P(E,C){return(E[0]*C[1]<E[1]*C[0]?-1:1)*Math.acos(I(E,C))}function T(E,C){return E[0]===C[0]&&E[1]===C[1]}S.isSamePoint=T;function A(E,C){var p=C[1],b=C[2],x=g.mod(g.toRadian(C[3]),Math.PI*2),w=C[4],m=C[5],M=E[0],L=E[1],B=C[6],D=C[7],z=Math.cos(x)*(M-B)/2+Math.sin(x)*(L-D)/2,q=-1*Math.sin(x)*(M-B)/2+Math.cos(x)*(L-D)/2,K=z*z/(p*p)+q*q/(b*b);K>1&&(p*=Math.sqrt(K),b*=Math.sqrt(K));var it=p*p*(q*q)+b*b*(z*z),ct=it?Math.sqrt((p*p*(b*b)-it)/it):1;w===m&&(ct*=-1),isNaN(ct)&&(ct=0);var st=b?ct*p*q/b:0,Ot=p?ct*-b*z/p:0,Dt=(M+B)/2+Math.cos(x)*st-Math.sin(x)*Ot,Ht=(L+D)/2+Math.sin(x)*st+Math.cos(x)*Ot,N=[(z-st)/p,(q-Ot)/b],W=[(-1*z-st)/p,(-1*q-Ot)/b],X=P([1,0],N),V=P(N,W);return I(N,W)<=-1&&(V=Math.PI),I(N,W)>=1&&(V=0),m===0&&V>0&&(V=V-2*Math.PI),m===1&&V<0&&(V=V+2*Math.PI),{cx:Dt,cy:Ht,rx:T(E,[B,D])?0:p,ry:T(E,[B,D])?0:b,startAngle:X,endAngle:X+V,xRotation:x,arcFlag:w,sweepFlag:m}}S.default=A},21528:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(O,I,P){return O>=I&&O<=P};function g(O,I,P,T){var A=.001,E={x:P.x-O.x,y:P.y-O.y},C={x:I.x-O.x,y:I.y-O.y},p={x:T.x-P.x,y:T.y-P.y},b=C.x*p.y-C.y*p.x,x=b*b,w=C.x*C.x+C.y*C.y,m=p.x*p.x+p.y*p.y,M=null;if(x>A*w*m){var L=(E.x*p.y-E.y*p.x)/b,B=(E.x*C.y-E.y*C.x)/b;v(L,0,1)&&v(B,0,1)&&(M={x:O.x+L*C.x,y:O.y+L*C.y})}return M}S.default=g},70146:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66957),O=v(21528),I=v(49242);function P(p){for(var b=[],x=p.length,w=0;w<x-1;w++){var m=p[w],M=p[w+1];b.push({from:{x:m[0],y:m[1]},to:{x:M[0],y:M[1]}})}if(b.length>1){var L=p[0],B=p[x-1];b.push({from:{x:B[0],y:B[1]},to:{x:L[0],y:L[1]}})}return b}function T(p,b){var x=!1;return I.each(p,function(w){if(O.default(w.from,w.to,b.from,b.to))return x=!0,!1}),x}function A(p){var b=p.map(function(w){return w[0]}),x=p.map(function(w){return w[1]});return{minX:Math.min.apply(null,b),maxX:Math.max.apply(null,b),minY:Math.min.apply(null,x),maxY:Math.max.apply(null,x)}}function E(p,b){return!(b.minX>p.maxX||b.maxX<p.minX||b.minY>p.maxY||b.maxY<p.minY)}function C(p,b){if(p.length<2||b.length<2)return!1;var x=A(p),w=A(b);if(!E(x,w))return!1;var m=!1;if(I.each(b,function(D){if(g.default(p,D[0],D[1]))return m=!0,!1}),m||(I.each(p,function(D){if(g.default(b,D[0],D[1]))return m=!0,!1}),m))return!0;var M=P(p),L=P(b),B=!1;return I.each(L,function(D){if(T(M,D))return B=!0,!1}),B}S.default=C},28498:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(49242),O=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+O+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+O+"]*,?["+O+"]*)+)","ig"),P=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+O+"]*,?["+O+"]*","ig");function T(A){if(!A)return null;if(g.isArray(A))return A;var E={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},C=[];return String(A).replace(I,function(p,b,x){var w=[],m=b.toLowerCase();if(x.replace(P,function(M,L){L&&w.push(+L)}),m==="m"&&w.length>2&&(C.push([b].concat(w.splice(0,2))),m="l",b=b==="m"?"l":"L"),m==="o"&&w.length===1&&C.push([b,w[0]]),m==="r")C.push([b].concat(w));else for(;w.length>=E[m]&&(C.push([b].concat(w.splice(0,E[m]))),!!E[m]););return""}),C}S.default=T},80315:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,I=/[^\s\,]+/ig;function P(T){var A=T||[];if(g.isArray(A))return A;if(g.isString(A))return A=A.match(O),g.each(A,function(E,C){if(E=E.match(I),E[0].length>1){var p=E[0].charAt(0);E.splice(1,0,E[0].substr(1)),E[0]=p}g.each(E,function(b,x){isNaN(b)||(E[x]=+b)}),A[C]=E}),A}S.default=P},74479:function(mt,S,v){"use strict";var g;g={value:!0};var O=v(28498),I=/[a-z]/;function P(A,E){return[E[0]+(E[0]-A[0]),E[1]+(E[1]-A[1])]}function T(A){var E=O.default(A);if(!E||!E.length)return[["M",0,0]];for(var C=!1,p=0;p<E.length;p++){var b=E[p][0];if(I.test(b)||["V","H","T","S"].indexOf(b)>=0){C=!0;break}}if(!C)return E;var x=[],w=0,m=0,M=0,L=0,B=0,D,z,q=E[0];(q[0]==="M"||q[0]==="m")&&(w=+q[1],m=+q[2],M=w,L=m,B++,x[0]=["M",w,m]);for(var p=B,K=E.length;p<K;p++){var it=E[p],ct=x[p-1],st=[],b=it[0],Ot=b.toUpperCase();if(b!==Ot)switch(st[0]=Ot,Ot){case"A":st[1]=it[1],st[2]=it[2],st[3]=it[3],st[4]=it[4],st[5]=it[5],st[6]=+it[6]+w,st[7]=+it[7]+m;break;case"V":st[1]=+it[1]+m;break;case"H":st[1]=+it[1]+w;break;case"M":M=+it[1]+w,L=+it[2]+m,st[1]=M,st[2]=L;break;default:for(var Dt=1,Ht=it.length;Dt<Ht;Dt++)st[Dt]=+it[Dt]+(Dt%2?w:m)}else st=E[p];switch(Ot){case"Z":w=+M,m=+L;break;case"H":w=st[1],st=["L",w,m];break;case"V":m=st[1],st=["L",w,m];break;case"T":w=st[1],m=st[2];var N=P([ct[1],ct[2]],[ct[3],ct[4]]);st=["Q",N[0],N[1],w,m];break;case"S":w=st[st.length-2],m=st[st.length-1];var W=ct.length,X=P([ct[W-4],ct[W-3]],[ct[W-2],ct[W-1]]);st=["C",X[0],X[1],st[1],st[2],w,m];break;case"M":M=st[st.length-2],L=st[st.length-1];break;default:w=st[st.length-2],m=st[st.length-1]}x.push(st)}return x}S.Z=T},49274:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(84023),O=v(84023),I=v(80315);function P(A,E){return[E[0]+(E[0]-A[0]),E[1]+(E[1]-A[1])]}function T(A){A=I.default(A);for(var E=[],C=null,p=null,b=null,x=0,w=A.length,m=0;m<w;m++){var M=A[m];p=A[m+1];var L=M[0],B={command:L,prePoint:C,params:M,startTangent:null,endTangent:null};switch(L){case"M":b=[M[1],M[2]],x=m;break;case"A":var D=g.default(C,M);B.arcParams=D;break;default:break}if(L==="Z")C=b,p=A[x+1];else{var z=M.length;C=[M[z-2],M[z-1]]}p&&p[0]==="Z"&&(p=A[x],E[x]&&(E[x].prePoint=C)),B.currentPoint=C,E[x]&&O.isSamePoint(C,E[x].currentPoint)&&(E[x].prePoint=B.prePoint);var q=p?[p[p.length-2],p[p.length-1]]:null;B.nextPoint=q;var K=B.prePoint;if(["L","H","V"].includes(L))B.startTangent=[K[0]-C[0],K[1]-C[1]],B.endTangent=[C[0]-K[0],C[1]-K[1]];else if(L==="Q"){var it=[M[1],M[2]];B.startTangent=[K[0]-it[0],K[1]-it[1]],B.endTangent=[C[0]-it[0],C[1]-it[1]]}else if(L==="T"){var ct=E[m-1],it=P(ct.currentPoint,K);ct.command==="Q"?(B.command="Q",B.startTangent=[K[0]-it[0],K[1]-it[1]],B.endTangent=[C[0]-it[0],C[1]-it[1]]):(B.command="TL",B.startTangent=[K[0]-C[0],K[1]-C[1]],B.endTangent=[C[0]-K[0],C[1]-K[1]])}else if(L==="C"){var st=[M[1],M[2]],Ot=[M[3],M[4]];B.startTangent=[K[0]-st[0],K[1]-st[1]],B.endTangent=[C[0]-Ot[0],C[1]-Ot[1]],B.startTangent[0]===0&&B.startTangent[1]===0&&(B.startTangent=[st[0]-Ot[0],st[1]-Ot[1]]),B.endTangent[0]===0&&B.endTangent[1]===0&&(B.endTangent=[Ot[0]-st[0],Ot[1]-st[1]])}else if(L==="S"){var ct=E[m-1],st=P(ct.currentPoint,K),Ot=[M[1],M[2]];ct.command==="C"?(B.command="C",B.startTangent=[K[0]-st[0],K[1]-st[1]],B.endTangent=[C[0]-Ot[0],C[1]-Ot[1]]):(B.command="SQ",B.startTangent=[K[0]-Ot[0],K[1]-Ot[1]],B.endTangent=[C[0]-Ot[0],C[1]-Ot[1]])}else if(L==="A"){var Dt=.001,Ht=B.arcParams||{},N=Ht.cx,W=N===void 0?0:N,X=Ht.cy,V=X===void 0?0:X,lt=Ht.rx,Z=lt===void 0?0:lt,U=Ht.ry,j=U===void 0?0:U,H=Ht.sweepFlag,f=H===void 0?0:H,yt=Ht.startAngle,St=yt===void 0?0:yt,at=Ht.endAngle,Ct=at===void 0?0:at;f===0&&(Dt*=-1);var wt=Z*Math.cos(St-Dt)+W,At=j*Math.sin(St-Dt)+V;B.startTangent=[wt-b[0],At-b[1]];var _t=Z*Math.cos(St+Ct+Dt)+W,Lt=j*Math.sin(St+Ct-Dt)+V;B.endTangent=[K[0]-_t,K[1]-Lt]}E.push(B)}return E}S.default=T},66957:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=1e-6;function g(P){return Math.abs(P)<v?0:P<0?-1:1}function O(P,T,A){return(A[0]-P[0])*(T[1]-P[1])==(T[0]-P[0])*(A[1]-P[1])&&Math.min(P[0],T[0])<=A[0]&&A[0]<=Math.max(P[0],T[0])&&Math.min(P[1],T[1])<=A[1]&&A[1]<=Math.max(P[1],T[1])}function I(P,T,A){var E=!1,C=P.length;if(C<=2)return!1;for(var p=0;p<C;p++){var b=P[p],x=P[(p+1)%C];if(O(b,x,[T,A]))return!0;g(b[1]-A)>0!=g(x[1]-A)>0&&g(T-(A-b[1])*(b[0]-x[0])/(b[1]-x[1])-b[0])<0&&(E=!E)}return E}S.default=I},64561:function(mt,S,v){"use strict";v.r(S),v.d(S,{Category:function(){return j},Identity:function(){return Te},Linear:function(){return It},Log:function(){return fe},Pow:function(){return ke},Quantile:function(){return ae},Quantize:function(){return zt},Scale:function(){return A},Time:function(){return $e},TimeCat:function(){return dt},getScale:function(){return ge},getTickMethod:function(){return I},registerScale:function(){return Ce},registerTickMethod:function(){return P}});var g=v(49242),O={};function I(et){return O[et]}function P(et,ht){O[et]=ht}var T=function(){function et(ht){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=ht,this.initCfg(),this.init()}return et.prototype.translate=function(ht){return ht},et.prototype.change=function(ht){(0,g.assign)(this.__cfg__,ht),this.init()},et.prototype.clone=function(){return this.constructor(this.__cfg__)},et.prototype.getTicks=function(){var ht=this;return(0,g.map)(this.ticks,function(Mt,Bt){return(0,g.isObject)(Mt)?Mt:{text:ht.getText(Mt,Bt),tickValue:Mt,value:ht.scale(Mt)}})},et.prototype.getText=function(ht,Mt){var Bt=this.formatter,Ft=Bt?Bt(ht,Mt):ht;return(0,g.isNil)(Ft)||!(0,g.isFunction)(Ft.toString)?"":Ft.toString()},et.prototype.getConfig=function(ht){return this.__cfg__[ht]},et.prototype.init=function(){(0,g.assign)(this,this.__cfg__),this.setDomain(),(0,g.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},et.prototype.initCfg=function(){},et.prototype.setDomain=function(){},et.prototype.calculateTicks=function(){var ht=this.tickMethod,Mt=[];if((0,g.isString)(ht)){var Bt=I(ht);if(!Bt)throw new Error("There is no method to to calculate ticks!");Mt=Bt(this)}else(0,g.isFunction)(ht)&&(Mt=ht(this));return Mt},et.prototype.rangeMin=function(){return this.range[0]},et.prototype.rangeMax=function(){return this.range[1]},et.prototype.calcPercent=function(ht,Mt,Bt){return(0,g.isNumber)(ht)?(ht-Mt)/(Bt-Mt):NaN},et.prototype.calcValue=function(ht,Mt,Bt){return Mt+ht*(Bt-Mt)},et}(),A=T;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var E=function(et,ht){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Mt,Bt){Mt.__proto__=Bt}||function(Mt,Bt){for(var Ft in Bt)Object.prototype.hasOwnProperty.call(Bt,Ft)&&(Mt[Ft]=Bt[Ft])},E(et,ht)};function C(et,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Class extends value "+String(ht)+" is not a constructor or null");E(et,ht);function Mt(){this.constructor=et}et.prototype=ht===null?Object.create(ht):(Mt.prototype=ht.prototype,new Mt)}var p=function(){return p=Object.assign||function(ht){for(var Mt,Bt=1,Ft=arguments.length;Bt<Ft;Bt++){Mt=arguments[Bt];for(var jt in Mt)Object.prototype.hasOwnProperty.call(Mt,jt)&&(ht[jt]=Mt[jt])}return ht},p.apply(this,arguments)};function b(et,ht){var Mt={};for(var Bt in et)Object.prototype.hasOwnProperty.call(et,Bt)&&ht.indexOf(Bt)<0&&(Mt[Bt]=et[Bt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ft=0,Bt=Object.getOwnPropertySymbols(et);Ft<Bt.length;Ft++)ht.indexOf(Bt[Ft])<0&&Object.prototype.propertyIsEnumerable.call(et,Bt[Ft])&&(Mt[Bt[Ft]]=et[Bt[Ft]]);return Mt}function x(et,ht,Mt,Bt){var Ft=arguments.length,jt=Ft<3?ht:Bt===null?Bt=Object.getOwnPropertyDescriptor(ht,Mt):Bt,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")jt=Reflect.decorate(et,ht,Mt,Bt);else for(var le=et.length-1;le>=0;le--)(ne=et[le])&&(jt=(Ft<3?ne(jt):Ft>3?ne(ht,Mt,jt):ne(ht,Mt))||jt);return Ft>3&&jt&&Object.defineProperty(ht,Mt,jt),jt}function w(et,ht){return function(Mt,Bt){ht(Mt,Bt,et)}}function m(et,ht){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(et,ht)}function M(et,ht,Mt,Bt){function Ft(jt){return jt instanceof Mt?jt:new Mt(function(ne){ne(jt)})}return new(Mt||(Mt=Promise))(function(jt,ne){function le(de){try{ye(Bt.next(de))}catch(Ue){ne(Ue)}}function Ae(de){try{ye(Bt.throw(de))}catch(Ue){ne(Ue)}}function ye(de){de.done?jt(de.value):Ft(de.value).then(le,Ae)}ye((Bt=Bt.apply(et,ht||[])).next())})}function L(et,ht){var Mt={label:0,sent:function(){if(jt[0]&1)throw jt[1];return jt[1]},trys:[],ops:[]},Bt,Ft,jt,ne;return ne={next:le(0),throw:le(1),return:le(2)},typeof Symbol=="function"&&(ne[Symbol.iterator]=function(){return this}),ne;function le(ye){return function(de){return Ae([ye,de])}}function Ae(ye){if(Bt)throw new TypeError("Generator is already executing.");for(;Mt;)try{if(Bt=1,Ft&&(jt=ye[0]&2?Ft.return:ye[0]?Ft.throw||((jt=Ft.return)&&jt.call(Ft),0):Ft.next)&&!(jt=jt.call(Ft,ye[1])).done)return jt;switch(Ft=0,jt&&(ye=[ye[0]&2,jt.value]),ye[0]){case 0:case 1:jt=ye;break;case 4:return Mt.label++,{value:ye[1],done:!1};case 5:Mt.label++,Ft=ye[1],ye=[0];continue;case 7:ye=Mt.ops.pop(),Mt.trys.pop();continue;default:if(jt=Mt.trys,!(jt=jt.length>0&&jt[jt.length-1])&&(ye[0]===6||ye[0]===2)){Mt=0;continue}if(ye[0]===3&&(!jt||ye[1]>jt[0]&&ye[1]<jt[3])){Mt.label=ye[1];break}if(ye[0]===6&&Mt.label<jt[1]){Mt.label=jt[1],jt=ye;break}if(jt&&Mt.label<jt[2]){Mt.label=jt[2],Mt.ops.push(ye);break}jt[2]&&Mt.ops.pop(),Mt.trys.pop();continue}ye=ht.call(et,Mt)}catch(de){ye=[6,de],Ft=0}finally{Bt=jt=0}if(ye[0]&5)throw ye[1];return{value:ye[0]?ye[1]:void 0,done:!0}}}var B=Object.create?function(et,ht,Mt,Bt){Bt===void 0&&(Bt=Mt),Object.defineProperty(et,Bt,{enumerable:!0,get:function(){return ht[Mt]}})}:function(et,ht,Mt,Bt){Bt===void 0&&(Bt=Mt),et[Bt]=ht[Mt]};function D(et,ht){for(var Mt in et)Mt!=="default"&&!Object.prototype.hasOwnProperty.call(ht,Mt)&&B(ht,et,Mt)}function z(et){var ht=typeof Symbol=="function"&&Symbol.iterator,Mt=ht&&et[ht],Bt=0;if(Mt)return Mt.call(et);if(et&&typeof et.length=="number")return{next:function(){return et&&Bt>=et.length&&(et=void 0),{value:et&&et[Bt++],done:!et}}};throw new TypeError(ht?"Object is not iterable.":"Symbol.iterator is not defined.")}function q(et,ht){var Mt=typeof Symbol=="function"&&et[Symbol.iterator];if(!Mt)return et;var Bt=Mt.call(et),Ft,jt=[],ne;try{for(;(ht===void 0||ht-- >0)&&!(Ft=Bt.next()).done;)jt.push(Ft.value)}catch(le){ne={error:le}}finally{try{Ft&&!Ft.done&&(Mt=Bt.return)&&Mt.call(Bt)}finally{if(ne)throw ne.error}}return jt}function K(){for(var et=[],ht=0;ht<arguments.length;ht++)et=et.concat(q(arguments[ht]));return et}function it(){for(var et=0,ht=0,Mt=arguments.length;ht<Mt;ht++)et+=arguments[ht].length;for(var Bt=Array(et),Ft=0,ht=0;ht<Mt;ht++)for(var jt=arguments[ht],ne=0,le=jt.length;ne<le;ne++,Ft++)Bt[Ft]=jt[ne];return Bt}function ct(et,ht,Mt){if(Mt||arguments.length===2)for(var Bt=0,Ft=ht.length,jt;Bt<Ft;Bt++)(jt||!(Bt in ht))&&(jt||(jt=Array.prototype.slice.call(ht,0,Bt)),jt[Bt]=ht[Bt]);return et.concat(jt||Array.prototype.slice.call(ht))}function st(et){return this instanceof st?(this.v=et,this):new st(et)}function Ot(et,ht,Mt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Bt=Mt.apply(et,ht||[]),Ft,jt=[];return Ft={},ne("next"),ne("throw"),ne("return"),Ft[Symbol.asyncIterator]=function(){return this},Ft;function ne(qe){Bt[qe]&&(Ft[qe]=function(wr){return new Promise(function(ur,Ke){jt.push([qe,wr,ur,Ke])>1||le(qe,wr)})})}function le(qe,wr){try{Ae(Bt[qe](wr))}catch(ur){Ue(jt[0][3],ur)}}function Ae(qe){qe.value instanceof st?Promise.resolve(qe.value.v).then(ye,de):Ue(jt[0][2],qe)}function ye(qe){le("next",qe)}function de(qe){le("throw",qe)}function Ue(qe,wr){qe(wr),jt.shift(),jt.length&&le(jt[0][0],jt[0][1])}}function Dt(et){var ht,Mt;return ht={},Bt("next"),Bt("throw",function(Ft){throw Ft}),Bt("return"),ht[Symbol.iterator]=function(){return this},ht;function Bt(Ft,jt){ht[Ft]=et[Ft]?function(ne){return(Mt=!Mt)?{value:st(et[Ft](ne)),done:Ft==="return"}:jt?jt(ne):ne}:jt}}function Ht(et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ht=et[Symbol.asyncIterator],Mt;return ht?ht.call(et):(et=typeof z=="function"?z(et):et[Symbol.iterator](),Mt={},Bt("next"),Bt("throw"),Bt("return"),Mt[Symbol.asyncIterator]=function(){return this},Mt);function Bt(jt){Mt[jt]=et[jt]&&function(ne){return new Promise(function(le,Ae){ne=et[jt](ne),Ft(le,Ae,ne.done,ne.value)})}}function Ft(jt,ne,le,Ae){Promise.resolve(Ae).then(function(ye){jt({value:ye,done:le})},ne)}}function N(et,ht){return Object.defineProperty?Object.defineProperty(et,"raw",{value:ht}):et.raw=ht,et}var W=Object.create?function(et,ht){Object.defineProperty(et,"default",{enumerable:!0,value:ht})}:function(et,ht){et.default=ht};function X(et){if(et&&et.__esModule)return et;var ht={};if(et!=null)for(var Mt in et)Mt!=="default"&&Object.prototype.hasOwnProperty.call(et,Mt)&&B(ht,et,Mt);return W(ht,et),ht}function V(et){return et&&et.__esModule?et:{default:et}}function lt(et,ht,Mt,Bt){if(Mt==="a"&&!Bt)throw new TypeError("Private accessor was defined without a getter");if(typeof ht=="function"?et!==ht||!Bt:!ht.has(et))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Mt==="m"?Bt:Mt==="a"?Bt.call(et):Bt?Bt.value:ht.get(et)}function Z(et,ht,Mt,Bt,Ft){if(Bt==="m")throw new TypeError("Private method is not writable");if(Bt==="a"&&!Ft)throw new TypeError("Private accessor was defined without a setter");if(typeof ht=="function"?et!==ht||!Ft:!ht.has(et))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Bt==="a"?Ft.call(et,Mt):Ft?Ft.value=Mt:ht.set(et,Mt),Mt}var U=function(et){C(ht,et);function ht(){var Mt=et!==null&&et.apply(this,arguments)||this;return Mt.type="cat",Mt.isCategory=!0,Mt}return ht.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var Mt=0;Mt<this.values.length;Mt++)this.translateIndexMap.set(this.values[Mt],Mt)}},ht.prototype.translate=function(Mt){this.buildIndexMap();var Bt=this.translateIndexMap.get(Mt);return Bt===void 0&&(Bt=(0,g.isNumber)(Mt)?Mt:NaN),Bt},ht.prototype.scale=function(Mt){var Bt=this.translate(Mt),Ft=this.calcPercent(Bt,this.min,this.max);return this.calcValue(Ft,this.rangeMin(),this.rangeMax())},ht.prototype.invert=function(Mt){var Bt=this.max-this.min,Ft=this.calcPercent(Mt,this.rangeMin(),this.rangeMax()),jt=Math.round(Bt*Ft)+this.min;return jt<this.min||jt>this.max?NaN:this.values[jt]},ht.prototype.getText=function(Mt){for(var Bt=[],Ft=1;Ft<arguments.length;Ft++)Bt[Ft-1]=arguments[Ft];var jt=Mt;return(0,g.isNumber)(Mt)&&!this.values.includes(Mt)&&(jt=this.values[jt]),et.prototype.getText.apply(this,it([jt],Bt))},ht.prototype.initCfg=function(){this.tickMethod="cat"},ht.prototype.setDomain=function(){if((0,g.isNil)(this.getConfig("min"))&&(this.min=0),(0,g.isNil)(this.getConfig("max"))){var Mt=this.values.length;this.max=Mt>1?Mt-1:Mt}this.translateIndexMap&&(this.translateIndexMap=void 0)},ht}(A),j=U,H=v(19432);function f(et){return function(ht,Mt,Bt,Ft){for(var jt=(0,g.isNil)(Bt)?0:Bt,ne=(0,g.isNil)(Ft)?ht.length:Ft;jt<ne;){var le=jt+ne>>>1;et(ht[le])>Mt?ne=le:jt=le+1}return jt}}var yt="format";function St(et,ht){var Mt=H[yt]||H.default[yt];return Mt(et,ht)}function at(et){return(0,g.isString)(et)&&(et.indexOf("T")>0?et=new Date(et).getTime():et=new Date(et.replace(/-/gi,"/")).getTime()),(0,g.isDate)(et)&&(et=et.getTime()),et}var Ct=1e3,wt=60*Ct,At=60*wt,_t=24*At,Lt=_t*31,xt=_t*365,ot=[["HH:mm:ss",Ct],["HH:mm:ss",Ct*10],["HH:mm:ss",Ct*30],["HH:mm",wt],["HH:mm",wt*10],["HH:mm",wt*30],["HH",At],["HH",At*6],["HH",At*12],["YYYY-MM-DD",_t],["YYYY-MM-DD",_t*4],["YYYY-WW",_t*7],["YYYY-MM",Lt],["YYYY-MM",Lt*4],["YYYY-MM",Lt*6],["YYYY",_t*380]];function tt(et,ht,Mt){var Bt=(ht-et)/Mt,Ft=f(function(ne){return ne[1]})(ot,Bt)-1,jt=ot[Ft];return Ft<0?jt=ot[0]:Ft>=ot.length&&(jt=(0,g.last)(ot)),jt}var Q=function(et){C(ht,et);function ht(){var Mt=et!==null&&et.apply(this,arguments)||this;return Mt.type="timeCat",Mt}return ht.prototype.translate=function(Mt){Mt=at(Mt);var Bt=this.values.indexOf(Mt);return Bt===-1&&((0,g.isNumber)(Mt)&&Mt<this.values.length?Bt=Mt:Bt=NaN),Bt},ht.prototype.getText=function(Mt,Bt){var Ft=this.translate(Mt);if(Ft>-1){var jt=this.values[Ft],ne=this.formatter;return jt=ne?ne(jt,Bt):St(jt,this.mask),jt}return Mt},ht.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},ht.prototype.setDomain=function(){var Mt=this.values;(0,g.each)(Mt,function(Bt,Ft){Mt[Ft]=at(Bt)}),Mt.sort(function(Bt,Ft){return Bt-Ft}),et.prototype.setDomain.call(this)},ht}(j),dt=Q,rt=function(et){C(ht,et);function ht(){var Mt=et!==null&&et.apply(this,arguments)||this;return Mt.isContinuous=!0,Mt}return ht.prototype.scale=function(Mt){if((0,g.isNil)(Mt))return NaN;var Bt=this.rangeMin(),Ft=this.rangeMax(),jt=this.max,ne=this.min;if(jt===ne)return Bt;var le=this.getScalePercent(Mt);return Bt+le*(Ft-Bt)},ht.prototype.init=function(){et.prototype.init.call(this);var Mt=this.ticks,Bt=(0,g.head)(Mt),Ft=(0,g.last)(Mt);Bt<this.min&&(this.min=Bt),Ft>this.max&&(this.max=Ft),(0,g.isNil)(this.minLimit)||(this.min=Bt),(0,g.isNil)(this.maxLimit)||(this.max=Ft)},ht.prototype.setDomain=function(){var Mt=(0,g.getRange)(this.values),Bt=Mt.min,Ft=Mt.max;(0,g.isNil)(this.min)&&(this.min=Bt),(0,g.isNil)(this.max)&&(this.max=Ft),this.min>this.max&&(this.min=Bt,this.max=Ft)},ht.prototype.calculateTicks=function(){var Mt=this,Bt=et.prototype.calculateTicks.call(this);return this.nice||(Bt=(0,g.filter)(Bt,function(Ft){return Ft>=Mt.min&&Ft<=Mt.max})),Bt},ht.prototype.getScalePercent=function(Mt){var Bt=this.max,Ft=this.min;return(Mt-Ft)/(Bt-Ft)},ht.prototype.getInvertPercent=function(Mt){return(Mt-this.rangeMin())/(this.rangeMax()-this.rangeMin())},ht}(A),nt=rt,pt=function(et){C(ht,et);function ht(){var Mt=et!==null&&et.apply(this,arguments)||this;return Mt.type="linear",Mt.isLinear=!0,Mt}return ht.prototype.invert=function(Mt){var Bt=this.getInvertPercent(Mt);return this.min+Bt*(this.max-this.min)},ht.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},ht}(nt),It=pt;function Vt(et,ht){var Mt=Math.E,Bt;return ht>=0?Bt=Math.pow(Mt,Math.log(ht)/et):Bt=Math.pow(Mt,Math.log(-ht)/et)*-1,Bt}function Qt(et,ht){return et===1?1:Math.log(ht)/Math.log(et)}function he(et,ht,Mt){(0,g.isNil)(Mt)&&(Mt=Math.max.apply(null,et));var Bt=Mt;return(0,g.each)(et,function(Ft){Ft>0&&Ft<Bt&&(Bt=Ft)}),Bt===Mt&&(Bt=Mt/ht),Bt>1&&(Bt=1),Bt}function me(et){var ht=et.toString().split(/[eE]/),Mt=(ht[0].split(".")[1]||"").length-+(ht[1]||0);return Mt>0?Mt:0}function Xt(et,ht){var Mt=me(et),Bt=me(ht),Ft=Math.pow(10,Math.max(Mt,Bt));return(et*Ft+ht*Ft)/Ft}var $t=function(et){C(ht,et);function ht(){var Mt=et!==null&&et.apply(this,arguments)||this;return Mt.type="log",Mt}return ht.prototype.invert=function(Mt){var Bt=this.base,Ft=Qt(Bt,this.max),jt=this.rangeMin(),ne=this.rangeMax()-jt,le,Ae=this.positiveMin;if(Ae){if(Mt===0)return 0;le=Qt(Bt,Ae/Bt);var ye=1/(Ft-le)*ne;if(Mt<ye)return Mt/ye*Ae}else le=Qt(Bt,this.min);var de=(Mt-jt)/ne,Ue=de*(Ft-le)+le;return Math.pow(Bt,Ue)},ht.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},ht.prototype.setDomain=function(){et.prototype.setDomain.call(this);var Mt=this.min;if(Mt<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");Mt===0&&(this.positiveMin=he(this.values,this.base,this.max))},ht.prototype.getScalePercent=function(Mt){var Bt=this.max,Ft=this.min;if(Bt===Ft||Mt<=0)return 0;var jt=this.base,ne=this.positiveMin;ne&&(Ft=ne*1/jt);var le;return Mt<ne?le=Mt/ne/(Qt(jt,Bt)-Qt(jt,Ft)):le=(Qt(jt,Mt)-Qt(jt,Ft))/(Qt(jt,Bt)-Qt(jt,Ft)),le},ht}(nt),fe=$t,Se=function(et){C(ht,et);function ht(){var Mt=et!==null&&et.apply(this,arguments)||this;return Mt.type="pow",Mt}return ht.prototype.invert=function(Mt){var Bt=this.getInvertPercent(Mt),Ft=this.exponent,jt=Vt(Ft,this.max),ne=Vt(Ft,this.min),le=Bt*(jt-ne)+ne,Ae=le>=0?1:-1;return Math.pow(le,Ft)*Ae},ht.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},ht.prototype.getScalePercent=function(Mt){var Bt=this.max,Ft=this.min;if(Bt===Ft)return 0;var jt=this.exponent,ne=(Vt(jt,Mt)-Vt(jt,Ft))/(Vt(jt,Bt)-Vt(jt,Ft));return ne},ht}(nt),ke=Se,Oe=function(et){C(ht,et);function ht(){var Mt=et!==null&&et.apply(this,arguments)||this;return Mt.type="time",Mt}return ht.prototype.getText=function(Mt,Bt){var Ft=this.translate(Mt),jt=this.formatter;return jt?jt(Ft,Bt):St(Ft,this.mask)},ht.prototype.scale=function(Mt){var Bt=Mt;return((0,g.isString)(Bt)||(0,g.isDate)(Bt))&&(Bt=this.translate(Bt)),et.prototype.scale.call(this,Bt)},ht.prototype.translate=function(Mt){return at(Mt)},ht.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},ht.prototype.setDomain=function(){var Mt=this.values,Bt=this.getConfig("min"),Ft=this.getConfig("max");if((!(0,g.isNil)(Bt)||!(0,g.isNumber)(Bt))&&(this.min=this.translate(this.min)),(!(0,g.isNil)(Ft)||!(0,g.isNumber)(Ft))&&(this.max=this.translate(this.max)),Mt&&Mt.length){var jt=[],ne=Infinity,le=ne,Ae=0;(0,g.each)(Mt,function(ye){var de=at(ye);if(isNaN(de))throw new TypeError("Invalid Time: "+ye+" in time scale!");ne>de?(le=ne,ne=de):le>de&&(le=de),Ae<de&&(Ae=de),jt.push(de)}),Mt.length>1&&(this.minTickInterval=le-ne),(0,g.isNil)(Bt)&&(this.min=ne),(0,g.isNil)(Ft)&&(this.max=Ae)}},ht}(It),$e=Oe,lr=function(et){C(ht,et);function ht(){var Mt=et!==null&&et.apply(this,arguments)||this;return Mt.type="quantize",Mt}return ht.prototype.invert=function(Mt){var Bt=this.ticks,Ft=Bt.length,jt=this.getInvertPercent(Mt),ne=Math.floor(jt*(Ft-1));if(ne>=Ft-1)return(0,g.last)(Bt);if(ne<0)return(0,g.head)(Bt);var le=Bt[ne],Ae=Bt[ne+1],ye=ne/(Ft-1),de=(ne+1)/(Ft-1);return le+(jt-ye)/(de-ye)*(Ae-le)},ht.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},ht.prototype.calculateTicks=function(){var Mt=et.prototype.calculateTicks.call(this);return this.nice||((0,g.last)(Mt)!==this.max&&Mt.push(this.max),(0,g.head)(Mt)!==this.min&&Mt.unshift(this.min)),Mt},ht.prototype.getScalePercent=function(Mt){var Bt=this.ticks;if(Mt<(0,g.head)(Bt))return 0;if(Mt>(0,g.last)(Bt))return 1;var Ft=0;return(0,g.each)(Bt,function(jt,ne){if(Mt>=jt)Ft=ne;else return!1}),Ft/(Bt.length-1)},ht}(nt),zt=lr,qt=function(et){C(ht,et);function ht(){var Mt=et!==null&&et.apply(this,arguments)||this;return Mt.type="quantile",Mt}return ht.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},ht}(zt),ae=qt,se={};function ge(et){return se[et]}function Ce(et,ht){if(ge(et))throw new Error("type '"+et+"' existed.");se[et]=ht}var Me=function(et){C(ht,et);function ht(){var Mt=et!==null&&et.apply(this,arguments)||this;return Mt.type="identity",Mt.isIdentity=!0,Mt}return ht.prototype.calculateTicks=function(){return this.values},ht.prototype.scale=function(Mt){return this.values[0]!==Mt&&(0,g.isNumber)(Mt)?Mt:this.range[0]},ht.prototype.invert=function(Mt){var Bt=this.range;return Mt<Bt[0]||Mt>Bt[1]?NaN:this.values[0]},ht}(A),Te=Me,xe=[1,5,2,2.5,4,3],ze=null,je=Number.EPSILON*100;function fr(et,ht){return(et%ht+ht)%ht}function sr(et,ht,Mt,Bt,Ft,jt){var ne=(0,g.size)(ht),le=(0,g.indexOf)(ht,et),Ae=0,ye=fr(Bt,jt);return(ye<je||jt-ye<je)&&Bt<=0&&Ft>=0&&(Ae=1),1-le/(ne-1)-Mt+Ae}function Je(et,ht,Mt){var Bt=(0,g.size)(ht),Ft=(0,g.indexOf)(ht,et),jt=1;return 1-Ft/(Bt-1)-Mt+jt}function Ne(et,ht,Mt,Bt,Ft,jt){var ne=(et-1)/(jt-Ft),le=(ht-1)/(Math.max(jt,Bt)-Math.min(Mt,Ft));return 2-Math.max(ne/le,le/ne)}function xr(et,ht){return et>=ht?2-(et-1)/(ht-1):1}function vr(et,ht,Mt,Bt){var Ft=ht-et;return 1-.5*(Math.pow(ht-Bt,2)+Math.pow(et-Mt,2))/Math.pow(.1*Ft,2)}function Ze(et,ht,Mt){var Bt=ht-et;if(Mt>Bt){var Ft=(Mt-Bt)/2;return 1-Math.pow(Ft,2)/Math.pow(.1*Bt,2)}return 1}function br(){return 1}function Lr(et){return et<1e-15?et:parseFloat(et.toFixed(15))}function dr(et,ht,Mt,Bt,Ft,jt){if(Mt===void 0&&(Mt=5),Bt===void 0&&(Bt=!0),Ft===void 0&&(Ft=xe),jt===void 0&&(jt=[.25,.2,.5,.05]),Number.isNaN(et)||Number.isNaN(ht)||typeof et!="number"||typeof ht!="number"||!Mt)return{min:0,max:0,ticks:[]};if(ht-et<1e-15||Mt===1)return{min:et,max:ht,ticks:[et]};for(var ne={score:-2,lmin:0,lmax:0,lstep:0},le=1;le<Infinity;){for(var Ae=0;Ae<Ft.length;Ae+=1){var ye=Ft[Ae],de=Je(ye,Ft,le);if(jt[0]*de+jt[1]+jt[2]+jt[3]<ne.score){le=Infinity;break}for(var Ue=2;Ue<Infinity;){var qe=xr(Ue,Mt);if(jt[0]*de+jt[1]+jt[2]*qe+jt[3]<ne.score)break;for(var wr=(ht-et)/(Ue+1)/le/ye,ur=Math.ceil(Math.log10(wr));ur<Infinity;){var Ke=le*ye*Math.pow(10,ur),We=Ze(et,ht,Ke*(Ue-1));if(jt[0]*de+jt[1]*We+jt[2]*qe+jt[3]<ne.score)break;var Tr=Math.floor(ht/Ke)*le-(Ue-1)*le,Zr=Math.ceil(et/Ke)*le;if(Tr<=Zr)for(var cn=Zr-Tr,yn=0;yn<=cn;yn+=1){var Xn=Tr+yn,qn=Xn*(Ke/le),Vn=qn+Ke*(Ue-1),Ai=Ke,si=sr(ye,Ft,le,qn,Vn,Ai),Fi=vr(et,ht,qn,Vn),Wi=Ne(Ue,Mt,et,ht,qn,Vn),Qr=br(),ta=jt[0]*si+jt[1]*Fi+jt[2]*Wi+jt[3]*Qr;ta>ne.score&&(!Bt||qn<=et&&Vn>=ht)&&(ne.lmin=qn,ne.lmax=Vn,ne.lstep=Ai,ne.score=ta)}ur+=1}Ue+=1}}le+=1}for(var la=ne.lmax,Hn=ne.lmin,ua=ne.lstep,yi=Math.floor((la-Hn)/ua)+1,ji=new Array(yi),Ae=0;Ae<yi;Ae++)ji[Ae]=Lr(Hn+Ae*ua);return{min:Math.min(et,(0,g.head)(ji)),max:Math.max(ht,(0,g.last)(ji)),ticks:ji}}function cr(et){var ht=et.values,Mt=et.tickInterval,Bt=et.tickCount,Ft=ht;if((0,g.isNumber)(Mt))return(0,g.filter)(Ft,function(ye,de){return de%Mt==0});var jt=et.min,ne=et.max;if((0,g.isNil)(jt)&&(jt=0),(0,g.isNil)(ne)&&(ne=ht.length-1),(0,g.isNumber)(Bt)&&Bt<ne-jt){var le=dr(jt,ne,Bt,!1,[1,2,5,3,4,7,6,8,9]).ticks,Ae=(0,g.filter)(le,function(ye){return ye>=jt&&ye<=ne});return Ae.map(function(ye){return ht[ye]})}return ht.slice(jt,ne+1)}function Yr(et){var ht=et.min,Mt=et.max,Bt=et.nice,Ft=et.tickCount,jt=new $n;return jt.domain([ht,Mt]),Bt&&jt.nice(Ft),jt.ticks(Ft)}var Or=5,fn=Math.sqrt(50),Rn=Math.sqrt(10),_n=Math.sqrt(2),$n=function(){function et(){this._domain=[0,1]}return et.prototype.domain=function(ht){return ht?(this._domain=Array.from(ht,Number),this):this._domain.slice()},et.prototype.nice=function(ht){var Mt,Bt;ht===void 0&&(ht=Or);var Ft=this._domain.slice(),jt=0,ne=this._domain.length-1,le=this._domain[jt],Ae=this._domain[ne],ye;return Ae<le&&(Mt=[Ae,le],le=Mt[0],Ae=Mt[1],Bt=[ne,jt],jt=Bt[0],ne=Bt[1]),ye=Tn(le,Ae,ht),ye>0?(le=Math.floor(le/ye)*ye,Ae=Math.ceil(Ae/ye)*ye,ye=Tn(le,Ae,ht)):ye<0&&(le=Math.ceil(le*ye)/ye,Ae=Math.floor(Ae*ye)/ye,ye=Tn(le,Ae,ht)),ye>0?(Ft[jt]=Math.floor(le/ye)*ye,Ft[ne]=Math.ceil(Ae/ye)*ye,this.domain(Ft)):ye<0&&(Ft[jt]=Math.ceil(le*ye)/ye,Ft[ne]=Math.floor(Ae*ye)/ye,this.domain(Ft)),this},et.prototype.ticks=function(ht){return ht===void 0&&(ht=Or),Qn(this._domain[0],this._domain[this._domain.length-1],ht||Or)},et}();function Qn(et,ht,Mt){var Bt,Ft=-1,jt,ne,le;if(ht=+ht,et=+et,Mt=+Mt,et===ht&&Mt>0)return[et];if((Bt=ht<et)&&(jt=et,et=ht,ht=jt),(le=Tn(et,ht,Mt))===0||!isFinite(le))return[];if(le>0)for(et=Math.ceil(et/le),ht=Math.floor(ht/le),ne=new Array(jt=Math.ceil(ht-et+1));++Ft<jt;)ne[Ft]=(et+Ft)*le;else for(et=Math.floor(et*le),ht=Math.ceil(ht*le),ne=new Array(jt=Math.ceil(et-ht+1));++Ft<jt;)ne[Ft]=(et-Ft)/le;return Bt&&ne.reverse(),ne}function Tn(et,ht,Mt){var Bt=(ht-et)/Math.max(0,Mt),Ft=Math.floor(Math.log(Bt)/Math.LN10),jt=Bt/Math.pow(10,Ft);return Ft>=0?(jt>=fn?10:jt>=Rn?5:jt>=_n?2:1)*Math.pow(10,Ft):-Math.pow(10,-Ft)/(jt>=fn?10:jt>=Rn?5:jt>=_n?2:1)}function gi(et,ht,Mt){var Bt;return Mt==="ceil"?Bt=Math.ceil(et/ht):Mt==="floor"?Bt=Math.floor(et/ht):Bt=Math.round(et/ht),Bt*ht}function Kr(et,ht,Mt){var Bt=gi(et,Mt,"floor"),Ft=gi(ht,Mt,"ceil");Bt=(0,g.fixedBase)(Bt,Mt),Ft=(0,g.fixedBase)(Ft,Mt);for(var jt=[],ne=Bt;ne<=Ft;ne=ne+Mt){var le=(0,g.fixedBase)(ne,Mt);jt.push(le)}return{min:Bt,max:Ft,ticks:jt}}function zn(et,ht,Mt){var Bt,Ft=et.minLimit,jt=et.maxLimit,ne=et.min,le=et.max,Ae=et.tickCount,ye=Ae===void 0?5:Ae,de=(0,g.isNil)(Ft)?(0,g.isNil)(ht)?ne:ht:Ft,Ue=(0,g.isNil)(jt)?(0,g.isNil)(Mt)?le:Mt:jt;if(de>Ue&&(Bt=[de,Ue],Ue=Bt[0],de=Bt[1]),ye<=2)return[de,Ue];for(var qe=(Ue-de)/(ye-1),wr=[],ur=0;ur<ye;ur++)wr.push(de+qe*ur);return wr}function Mi(et){var ht=et.min,Mt=et.max,Bt=et.tickInterval,Ft=et.minLimit,jt=et.maxLimit,ne=Yr(et);return!(0,g.isNil)(Ft)||!(0,g.isNil)(jt)?zn(et,(0,g.head)(ne),(0,g.last)(ne)):Bt?Kr(ht,Mt,Bt).ticks:ne}function Gn(et){var ht=et.min,Mt=et.max,Bt=et.tickCount,Ft=et.nice,jt=et.tickInterval,ne=et.minLimit,le=et.maxLimit,Ae=dr(ht,Mt,Bt,Ft).ticks;return!(0,g.isNil)(ne)||!(0,g.isNil)(le)?zn(et,(0,g.head)(Ae),(0,g.last)(Ae)):jt?Kr(ht,Mt,jt).ticks:Ae}function Oi(et){var ht=et.base,Mt=et.tickCount,Bt=et.min,Ft=et.max,jt=et.values,ne,le=Qt(ht,Ft);if(Bt>0)ne=Math.floor(Qt(ht,Bt));else{var Ae=he(jt,ht,Ft);ne=Math.floor(Qt(ht,Ae))}for(var ye=le-ne,de=Math.ceil(ye/Mt),Ue=[],qe=ne;qe<le+de;qe=qe+de)Ue.push(Math.pow(ht,qe));return Bt<=0&&Ue.unshift(0),Ue}function Ii(et){return et<1e-15?et:parseFloat(et.toFixed(15))}function Ar(et,ht,Mt){if(Mt===void 0&&(Mt=5),et===ht)return{max:ht,min:et,ticks:[et]};var Bt=1.5,Ft=.5+1.5*Bt,jt=ht-et,ne=jt/Mt,le=Math.pow(10,Math.floor(Math.log10(ne))),Ae=le;2*le-ne<Bt*(ne-Ae)&&(Ae=2*le,5*le-ne<Ft*(ne-Ae)&&(Ae=5*le,10*le-ne<Bt*(ne-Ae)&&(Ae=10*le)));for(var ye=Math.ceil(ht/Ae),de=Math.floor(et/Ae),Ue=Math.max(ye*Ae,ht),qe=Math.min(de*Ae,et),wr=Math.floor((Ue-qe)/Ae)+1,ur=new Array(wr),Ke=0;Ke<wr;Ke++)ur[Ke]=Ii(qe+Ke*Ae);return{min:qe,max:Ue,ticks:ur}}function ki(et){var ht=et.exponent,Mt=et.tickCount,Bt=Math.ceil(Vt(ht,et.max)),Ft=Math.floor(Vt(ht,et.min)),jt=Ar(Ft,Bt,Mt).ticks;return jt.map(function(ne){var le=ne>=0?1:-1;return Math.pow(ne,ht)*le})}function Vi(et,ht){var Mt=et.length*ht;return ht===1?et[et.length-1]:ht===0?et[0]:Mt%1!=0?et[Math.ceil(Mt)-1]:et.length%2==0?(et[Mt-1]+et[Mt])/2:et[Mt]}function Bi(et){var ht=et.tickCount,Mt=et.values;if(!Mt||!Mt.length)return[];for(var Bt=Mt.slice().sort(function(le,Ae){return le-Ae}),Ft=[],jt=0;jt<ht;jt++){var ne=jt/(ht-1);Ft.push(Vi(Bt,ne))}return Ft}function dn(et){var ht=et.min,Mt=et.max,Bt=et.tickCount,Ft=et.tickInterval,jt=et.minLimit,ne=et.maxLimit,le=Ar(ht,Mt,Bt).ticks;return!(0,g.isNil)(jt)||!(0,g.isNil)(ne)?zn(et,(0,g.head)(le),(0,g.last)(le)):Ft?Kr(ht,Mt,Ft).ticks:le}function oi(et){var ht=et.min,Mt=et.max,Bt=et.minTickInterval,Ft=et.tickInterval,jt=et.tickCount;if(Ft)jt=Math.ceil((Mt-ht)/Ft);else{Ft=tt(ht,Mt,jt)[1];var ne=(Mt-ht)/Ft,le=ne/jt;le>1&&(Ft=Ft*Math.ceil(le)),Bt&&Ft<Bt&&(Ft=Bt)}for(var Ae=[],ye=ht;ye<Mt+Ft;ye+=Ft)Ae.push(ye);return Ae}function Di(et){var ht=cr(et),Mt=(0,g.last)(et.values);return Mt!==(0,g.last)(ht)&&ht.push(Mt),ht}function Un(et){return new Date(et).getFullYear()}function Jn(et){return new Date(et,0,1).getTime()}function hn(et){return new Date(et).getMonth()}function Ei(et,ht){var Mt=Un(et),Bt=Un(ht),Ft=hn(et),jt=hn(ht);return(Bt-Mt)*12+(jt-Ft)%12}function Hi(et,ht){return new Date(et,ht,1).getTime()}function Nt(et,ht){return Math.ceil((ht-et)/_t)}function kt(et,ht){return Math.ceil((ht-et)/At)}function gt(et,ht){return Math.ceil((ht-et)/(60*1e3))}function Et(et){var ht=et.min,Mt=et.max,Bt=et.minTickInterval,Ft=et.tickCount,jt=et.tickInterval,ne=[];jt||(jt=(Mt-ht)/Ft,Bt&&jt<Bt&&(jt=Bt));var le=Un(ht);if(jt>xt)for(var Ae=Un(Mt),ye=Math.ceil(jt/xt),de=le;de<=Ae+ye;de=de+ye)ne.push(Jn(de));else if(jt>Lt)for(var Ue=Math.ceil(jt/Lt),qe=hn(ht),wr=Ei(ht,Mt),de=0;de<=wr+Ue;de=de+Ue)ne.push(Hi(le,de+qe));else if(jt>_t)for(var ur=new Date(ht),Ke=ur.getFullYear(),We=ur.getMonth(),Tr=ur.getDate(),Zr=Math.ceil(jt/_t),cn=Nt(ht,Mt),de=0;de<cn+Zr;de=de+Zr)ne.push(new Date(Ke,We,Tr+de).getTime());else if(jt>At)for(var ur=new Date(ht),Ke=ur.getFullYear(),We=ur.getMonth(),Zr=ur.getDate(),yn=ur.getHours(),Xn=Math.ceil(jt/At),qn=kt(ht,Mt),de=0;de<=qn+Xn;de=de+Xn)ne.push(new Date(Ke,We,Zr,yn+de).getTime());else if(jt>wt)for(var Vn=gt(ht,Mt),Ai=Math.ceil(jt/wt),de=0;de<=Vn+Ai;de=de+Ai)ne.push(ht+de*wt);else{var si=jt;si<Ct&&(si=Ct);for(var Fi=Math.floor(ht/Ct)*Ct,Wi=Math.ceil((Mt-ht)/Ct),Qr=Math.ceil(si/Ct),de=0;de<Wi+Qr;de=de+Qr)ne.push(Fi+de*Ct)}return ne.length>=512&&console.warn("Notice: current ticks length("+ne.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+jt+") is too small, increase the value to solve the problem!"),ne}P("cat",cr),P("time-cat",Di),P("wilkinson-extended",Gn),P("r-pretty",dn),P("time",oi),P("time-pretty",Et),P("log",Oi),P("pow",ki),P("quantile",Bi),P("d3-linear",Mi),Ce("cat",j),Ce("category",j),Ce("identity",Te),Ce("linear",It),Ce("log",fe),Ce("pow",ke),Ce("time",$e),Ce("timeCat",dt),Ce("quantize",zt),Ce("quantile",ae)},49242:function(mt,S,v){"use strict";v.r(S),v.d(S,{Cache:function(){return Hr},assign:function(){return Ui},augment:function(){return ba},clamp:function(){return Lr},clearAnimationFrame:function(){return _i},clone:function(){return Za},contains:function(){return P},debounce:function(){return as},deepMix:function(){return Ka},difference:function(){return C},each:function(){return z},endsWith:function(){return lr},every:function(){return qt},extend:function(){return os},filter:function(){return A},find:function(){return W},findIndex:function(){return V},firstValue:function(){return Z},fixedBase:function(){return cr},flatten:function(){return j},flattenDeep:function(){return f},forIn:function(){return Nt},get:function(){return R},getEllipsisText:function(){return Vr},getRange:function(){return Ct},getType:function(){return Ke},getWrapBehavior:function(){return je},group:function(){return xe},groupBy:function(){return Me},groupToMap:function(){return Te},has:function(){return kt},hasKey:function(){return gt},hasValue:function(){return ht},head:function(){return fe},identity:function(){return Ie},includes:function(){return P},indexOf:function(){return Io},isArguments:function(){return Tr},isArray:function(){return L},isArrayLike:function(){return O},isBoolean:function(){return cn},isDate:function(){return Xn},isDecimal:function(){return Rn},isElement:function(){return Ua},isEmpty:function(){return ls},isEqual:function(){return vn},isEqualWith:function(){return ko},isError:function(){return Vn},isEven:function(){return $n},isFinite:function(){return Ai},isFunction:function(){return w},isInteger:function(){return Tn},isMatch:function(){return ct},isNegative:function(){return Kr},isNil:function(){return M},isNull:function(){return Fi},isNumber:function(){return Or},isNumberEqual:function(){return Mi},isObject:function(){return B},isObjectLike:function(){return Ot},isOdd:function(){return Oi},isPlainObject:function(){return Ht},isPositive:function(){return Ar},isPrototype:function(){return ta},isRegExp:function(){return Hn},isString:function(){return It},isType:function(){return x},isUndefined:function(){return yi},keys:function(){return K},last:function(){return Se},lowerCase:function(){return Ft},lowerFirst:function(){return ne},map:function(){return Da},mapValues:function(){return bt},max:function(){return yt},maxBy:function(){return ki},measureTextWidth:function(){return gr},memoize:function(){return Lo},min:function(){return St},minBy:function(){return Vi},mix:function(){return Ui},mod:function(){return dn},noop:function(){return be},number2color:function(){return xr},omit:function(){return Gt},parseRadius:function(){return Ze},pick:function(){return Pt},pull:function(){return xt},pullAt:function(){return Q},reduce:function(){return rt},remove:function(){return pt},requestAnimationFrame:function(){return ka},set:function(){return $},size:function(){return Ge},some:function(){return se},sortBy:function(){return Qt},startsWith:function(){return Oe},substitute:function(){return Ae},throttle:function(){return Zt},toArray:function(){return re},toDegree:function(){return Un},toInteger:function(){return Jn},toRadian:function(){return Hi},toString:function(){return Mt},union:function(){return Xt},uniq:function(){return he},uniqueId:function(){return ve},upperCase:function(){return de},upperFirst:function(){return qe},values:function(){return et},valuesOfKey:function(){return $t},wrapBehavior:function(){return sr}});var g=function(Rt){return Rt!==null&&typeof Rt!="function"&&isFinite(Rt.length)},O=g,I=function(Rt,te){return O(Rt)?Rt.indexOf(te)>-1:!1},P=I,T=function(Rt,te){if(!O(Rt))return Rt;for(var ce=[],pe=0;pe<Rt.length;pe++){var Le=Rt[pe];te(Le,pe)&&ce.push(Le)}return ce},A=T,E=function(Rt,te){return te===void 0&&(te=[]),A(Rt,function(ce){return!P(te,ce)})},C=E,p={}.toString,b=function(Rt,te){return p.call(Rt)==="[object "+te+"]"},x=b,w=function(Rt){return x(Rt,"Function")},m=function(Rt){return Rt==null},M=m,L=function(Rt){return Array.isArray?Array.isArray(Rt):x(Rt,"Array")},B=function(Rt){var te=typeof Rt;return Rt!==null&&te==="object"||te==="function"};function D(Rt,te){if(!!Rt){var ce;if(L(Rt))for(var pe=0,Le=Rt.length;pe<Le&&(ce=te(Rt[pe],pe),ce!==!1);pe++);else if(B(Rt)){for(var Qe in Rt)if(Rt.hasOwnProperty(Qe)&&(ce=te(Rt[Qe],Qe),ce===!1))break}}}var z=D,q=Object.keys?function(Rt){return Object.keys(Rt)}:function(Rt){var te=[];return z(Rt,function(ce,pe){w(Rt)&&pe==="prototype"||te.push(pe)}),te},K=q;function it(Rt,te){var ce=K(te),pe=ce.length;if(M(Rt))return!pe;for(var Le=0;Le<pe;Le+=1){var Qe=ce[Le];if(te[Qe]!==Rt[Qe]||!(Qe in Rt))return!1}return!0}var ct=it,st=function(Rt){return typeof Rt=="object"&&Rt!==null},Ot=st,Dt=function(Rt){if(!Ot(Rt)||!x(Rt,"Object"))return!1;if(Object.getPrototypeOf(Rt)===null)return!0;for(var te=Rt;Object.getPrototypeOf(te)!==null;)te=Object.getPrototypeOf(te);return Object.getPrototypeOf(Rt)===te},Ht=Dt;function N(Rt,te){if(!L(Rt))return null;var ce;if(w(te)&&(ce=te),Ht(te)&&(ce=function(Le){return ct(Le,te)}),ce){for(var pe=0;pe<Rt.length;pe+=1)if(ce(Rt[pe]))return Rt[pe]}return null}var W=N;function X(Rt,te,ce){ce===void 0&&(ce=0);for(var pe=ce;pe<Rt.length;pe++)if(te(Rt[pe],pe))return pe;return-1}var V=X,lt=function(Rt,te){for(var ce=null,pe=0;pe<Rt.length;pe++){var Le=Rt[pe],Qe=Le[te];if(!M(Qe)){L(Qe)?ce=Qe[0]:ce=Qe;break}}return ce},Z=lt,U=function(Rt){if(!L(Rt))return[];for(var te=[],ce=0;ce<Rt.length;ce++)te=te.concat(Rt[ce]);return te},j=U,H=function(Rt,te){if(te===void 0&&(te=[]),!L(Rt))te.push(Rt);else for(var ce=0;ce<Rt.length;ce+=1)H(Rt[ce],te);return te},f=H,yt=function(Rt){if(!!L(Rt))return Rt.reduce(function(te,ce){return Math.max(te,ce)},Rt[0])},St=function(Rt){if(!!L(Rt))return Rt.reduce(function(te,ce){return Math.min(te,ce)},Rt[0])},at=function(Rt){var te=Rt.filter(function(_r){return!isNaN(_r)});if(!te.length)return{min:0,max:0};if(L(Rt[0])){for(var ce=[],pe=0;pe<Rt.length;pe++)ce=ce.concat(Rt[pe]);te=ce}var Le=yt(te),Qe=St(te);return{min:Qe,max:Le}},Ct=at,wt=Array.prototype,At=wt.splice,_t=wt.indexOf,Lt=function(Rt){for(var te=[],ce=1;ce<arguments.length;ce++)te[ce-1]=arguments[ce];for(var pe=0;pe<te.length;pe++)for(var Le=te[pe],Qe=-1;(Qe=_t.call(Rt,Le))>-1;)At.call(Rt,Qe,1);return Rt},xt=Lt,ot=Array.prototype.splice,tt=function(te,ce){if(!O(te))return[];for(var pe=te?ce.length:0,Le=pe-1;pe--;){var Qe=void 0,_r=ce[pe];(pe===Le||_r!==Qe)&&(Qe=_r,ot.call(te,_r,1))}return te},Q=tt,dt=function(Rt,te,ce){if(!L(Rt)&&!Ht(Rt))return Rt;var pe=ce;return z(Rt,function(Le,Qe){pe=te(pe,Le,Qe)}),pe},rt=dt,nt=function(Rt,te){var ce=[];if(!O(Rt))return ce;for(var pe=-1,Le=[],Qe=Rt.length;++pe<Qe;){var _r=Rt[pe];te(_r,pe,Rt)&&(ce.push(_r),Le.push(pe))}return Q(Rt,Le),ce},pt=nt,It=function(Rt){return x(Rt,"String")};function Vt(Rt,te){var ce;if(w(te))ce=function(Le,Qe){return te(Le)-te(Qe)};else{var pe=[];It(te)?pe.push(te):L(te)&&(pe=te),ce=function(Le,Qe){for(var _r=0;_r<pe.length;_r+=1){var nn=pe[_r];if(Le[nn]>Qe[nn])return 1;if(Le[nn]<Qe[nn])return-1}return 0}}return Rt.sort(ce),Rt}var Qt=Vt;function he(Rt,te){te===void 0&&(te=new Map);var ce=[];if(Array.isArray(Rt))for(var pe=0,Le=Rt.length;pe<Le;pe++){var Qe=Rt[pe];te.has(Qe)||(ce.push(Qe),te.set(Qe,!0))}return ce}var me=function(){for(var Rt=[],te=0;te<arguments.length;te++)Rt[te]=arguments[te];return he([].concat.apply([],Rt))},Xt=me,$t=function(Rt,te){for(var ce=[],pe={},Le=0;Le<Rt.length;Le++){var Qe=Rt[Le],_r=Qe[te];if(!M(_r)){L(_r)||(_r=[_r]);for(var nn=0;nn<_r.length;nn++){var ti=_r[nn];pe[ti]||(ce.push(ti),pe[ti]=!0)}}}return ce};function fe(Rt){if(O(Rt))return Rt[0]}function Se(Rt){if(O(Rt)){var te=Rt;return te[te.length-1]}}function ke(Rt,te){return L(Rt)||It(Rt)?Rt[0]===te:!1}var Oe=ke;function $e(Rt,te){return L(Rt)||It(Rt)?Rt[Rt.length-1]===te:!1}var lr=$e,zt=function(Rt,te){for(var ce=0;ce<Rt.length;ce++)if(!te(Rt[ce],ce))return!1;return!0},qt=zt,ae=function(Rt,te){for(var ce=0;ce<Rt.length;ce++)if(te(Rt[ce],ce))return!0;return!1},se=ae,ge=Object.prototype.hasOwnProperty;function Ce(Rt,te){if(!te||!L(Rt))return{};for(var ce={},pe=w(te)?te:function(nn){return nn[te]},Le,Qe=0;Qe<Rt.length;Qe++){var _r=Rt[Qe];Le=pe(_r),ge.call(ce,Le)?ce[Le].push(_r):ce[Le]=[_r]}return ce}var Me=Ce;function Te(Rt,te){if(!te)return{0:Rt};if(!w(te)){var ce=L(te)?te:te.replace(/\s+/g,"").split("*");te=function(pe){for(var Le="_",Qe=0,_r=ce.length;Qe<_r;Qe++)Le+=pe[ce[Qe]]&&pe[ce[Qe]].toString();return Le}}return Me(Rt,te)}var xe=function(Rt,te){if(!te)return[Rt];var ce=Te(Rt,te),pe=[];for(var Le in ce)pe.push(ce[Le]);return pe};function ze(Rt,te){return Rt["_wrap_"+te]}var je=ze;function fr(Rt,te){if(Rt["_wrap_"+te])return Rt["_wrap_"+te];var ce=function(pe){Rt[te](pe)};return Rt["_wrap_"+te]=ce,ce}var sr=fr,Je={};function Ne(Rt){var te=Je[Rt];if(!te){for(var ce=Rt.toString(16),pe=ce.length;pe<6;pe++)ce="0"+ce;te="#"+ce,Je[Rt]=te}return te}var xr=Ne;function vr(Rt){var te=0,ce=0,pe=0,Le=0;return L(Rt)?Rt.length===1?te=ce=pe=Le=Rt[0]:Rt.length===2?(te=pe=Rt[0],ce=Le=Rt[1]):Rt.length===3?(te=Rt[0],ce=Le=Rt[1],pe=Rt[2]):(te=Rt[0],ce=Rt[1],pe=Rt[2],Le=Rt[3]):te=ce=pe=Le=Rt,{r1:te,r2:ce,r3:pe,r4:Le}}var Ze=vr,br=function(Rt,te,ce){return Rt<te?te:Rt>ce?ce:Rt},Lr=br,dr=function(Rt,te){var ce=te.toString(),pe=ce.indexOf(".");if(pe===-1)return Math.round(Rt);var Le=ce.substr(pe+1).length;return Le>20&&(Le=20),parseFloat(Rt.toFixed(Le))},cr=dr,Yr=function(Rt){return x(Rt,"Number")},Or=Yr,fn=function(Rt){return Or(Rt)&&Rt%1!=0},Rn=fn,_n=function(Rt){return Or(Rt)&&Rt%2==0},$n=_n,Qn=Number.isInteger?Number.isInteger:function(Rt){return Or(Rt)&&Rt%1==0},Tn=Qn,gi=function(Rt){return Or(Rt)&&Rt<0},Kr=gi,zn=1e-5;function Mi(Rt,te,ce){return ce===void 0&&(ce=zn),Math.abs(Rt-te)<ce}var Gn=function(Rt){return Or(Rt)&&Rt%2!=0},Oi=Gn,Ii=function(Rt){return Or(Rt)&&Rt>0},Ar=Ii,ki=function(Rt,te){if(!!L(Rt)){for(var ce,pe=-Infinity,Le=0;Le<Rt.length;Le++){var Qe=Rt[Le],_r=w(te)?te(Qe):Qe[te];_r>pe&&(ce=Qe,pe=_r)}return ce}},Vi=function(Rt,te){if(!!L(Rt)){for(var ce,pe=Infinity,Le=0;Le<Rt.length;Le++){var Qe=Rt[Le],_r=w(te)?te(Qe):Qe[te];_r<pe&&(ce=Qe,pe=_r)}return ce}},Bi=function(Rt,te){return(Rt%te+te)%te},dn=Bi,oi=180/Math.PI,Di=function(Rt){return oi*Rt},Un=Di,Jn=parseInt,hn=Math.PI/180,Ei=function(Rt){return hn*Rt},Hi=Ei,Nt=z,kt=function(Rt,te){return Rt.hasOwnProperty(te)},gt=kt,Et=Object.values?function(Rt){return Object.values(Rt)}:function(Rt){var te=[];return z(Rt,function(ce,pe){w(Rt)&&pe==="prototype"||te.push(ce)}),te},et=Et,ht=function(Rt,te){return P(et(Rt),te)},Mt=function(Rt){return M(Rt)?"":Rt.toString()},Bt=function(Rt){return Mt(Rt).toLowerCase()},Ft=Bt,jt=function(Rt){var te=Mt(Rt);return te.charAt(0).toLowerCase()+te.substring(1)},ne=jt;function le(Rt,te){return!Rt||!te?Rt:Rt.replace(/\\?\{([^{}]+)\}/g,function(ce,pe){return ce.charAt(0)==="\\"?ce.slice(1):te[pe]===void 0?"":te[pe]})}var Ae=le,ye=function(Rt){return Mt(Rt).toUpperCase()},de=ye,Ue=function(Rt){var te=Mt(Rt);return te.charAt(0).toUpperCase()+te.substring(1)},qe=Ue,wr={}.toString,ur=function(Rt){return wr.call(Rt).replace(/^\[object /,"").replace(/]$/,"")},Ke=ur,We=function(Rt){return x(Rt,"Arguments")},Tr=We,Zr=function(Rt){return x(Rt,"Boolean")},cn=Zr,yn=function(Rt){return x(Rt,"Date")},Xn=yn,qn=function(Rt){return x(Rt,"Error")},Vn=qn;function Ai(Rt){return Or(Rt)&&isFinite(Rt)}var si=function(Rt){return Rt===null},Fi=si,Wi=Object.prototype,Qr=function(Rt){var te=Rt&&Rt.constructor,ce=typeof te=="function"&&te.prototype||Wi;return Rt===ce},ta=Qr,la=function(Rt){return x(Rt,"RegExp")},Hn=la,ua=function(Rt){return Rt===void 0},yi=ua,ji=function(Rt){return Rt instanceof Element||Rt instanceof HTMLDocument},Ua=ji;function ka(Rt){var te=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(ce){return setTimeout(ce,16)};return te(Rt)}function _i(Rt){var te=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;te(Rt)}function Ba(Rt,te){for(var ce in te)te.hasOwnProperty(ce)&&ce!=="constructor"&&te[ce]!==void 0&&(Rt[ce]=te[ce])}function Ui(Rt,te,ce,pe){return te&&Ba(Rt,te),ce&&Ba(Rt,ce),pe&&Ba(Rt,pe),Rt}var li=function(){for(var Rt=[],te=0;te<arguments.length;te++)Rt[te]=arguments[te];for(var ce=Rt[0],pe=1;pe<Rt.length;pe++){var Le=Rt[pe];w(Le)&&(Le=Le.prototype),Ui(ce.prototype,Le)}},ba=li,ea=function(Rt){if(typeof Rt!="object"||Rt===null)return Rt;var te;if(L(Rt)){te=[];for(var ce=0,pe=Rt.length;ce<pe;ce++)typeof Rt[ce]=="object"&&Rt[ce]!=null?te[ce]=ea(Rt[ce]):te[ce]=Rt[ce]}else{te={};for(var Le in Rt)typeof Rt[Le]=="object"&&Rt[Le]!=null?te[Le]=ea(Rt[Le]):te[Le]=Rt[Le]}return te},Za=ea;function wa(Rt,te,ce){var pe;return function(){var Le=this,Qe=arguments,_r=function(){pe=null,ce||Rt.apply(Le,Qe)},nn=ce&&!pe;clearTimeout(pe),pe=setTimeout(_r,te),nn&&Rt.apply(Le,Qe)}}var as=wa,Lo=function(Rt,te){if(!w(Rt))throw new TypeError("Expected a function");var ce=function(){for(var pe=[],Le=0;Le<arguments.length;Le++)pe[Le]=arguments[Le];var Qe=te?te.apply(this,pe):pe[0],_r=ce.cache;if(_r.has(Qe))return _r.get(Qe);var nn=Rt.apply(this,pe);return _r.set(Qe,nn),nn};return ce.cache=new Map,ce},Vs=5;function fo(Rt,te,ce,pe){ce=ce||0,pe=pe||Vs;for(var Le in te)if(te.hasOwnProperty(Le)){var Qe=te[Le];Qe!==null&&Ht(Qe)?(Ht(Rt[Le])||(Rt[Le]={}),ce<pe?fo(Rt[Le],Qe,ce+1,pe):Rt[Le]=te[Le]):L(Qe)?(Rt[Le]=[],Rt[Le]=Rt[Le].concat(Qe)):Qe!==void 0&&(Rt[Le]=Qe)}}var Oo=function(Rt){for(var te=[],ce=1;ce<arguments.length;ce++)te[ce-1]=arguments[ce];for(var pe=0;pe<te.length;pe+=1)fo(Rt,te[pe]);return Rt},Ka=Oo,mi=function(Rt,te,ce,pe){w(te)||(ce=te,te=Rt,Rt=function(){});var Le=Object.create?function(_r,nn){return Object.create(_r,{constructor:{value:nn}})}:function(_r,nn){function ti(){}ti.prototype=_r;var Zi=new ti;return Zi.constructor=nn,Zi},Qe=Le(te.prototype,Rt);return Rt.prototype=Ui(Qe,Rt.prototype),Rt.superclass=Le(te.prototype,te),Ui(Qe,ce),Ui(Rt,pe),Rt},os=mi,ss=function(Rt,te){if(!O(Rt))return-1;var ce=Array.prototype.indexOf;if(ce)return ce.call(Rt,te);for(var pe=-1,Le=0;Le<Rt.length;Le++)if(Rt[Le]===te){pe=Le;break}return pe},Io=ss,ho=Object.prototype.hasOwnProperty;function pn(Rt){if(M(Rt))return!0;if(O(Rt))return!Rt.length;var te=Ke(Rt);if(te==="Map"||te==="Set")return!Rt.size;if(ta(Rt))return!Object.keys(Rt).length;for(var ce in Rt)if(ho.call(Rt,ce))return!1;return!0}var ls=pn,ui=function(Rt,te){if(Rt===te)return!0;if(!Rt||!te||It(Rt)||It(te))return!1;if(O(Rt)||O(te)){if(Rt.length!==te.length)return!1;for(var ce=!0,pe=0;pe<Rt.length&&(ce=ui(Rt[pe],te[pe]),!!ce);pe++);return ce}if(Ot(Rt)||Ot(te)){var Le=Object.keys(Rt),Qe=Object.keys(te);if(Le.length!==Qe.length)return!1;for(var ce=!0,pe=0;pe<Le.length&&(ce=ui(Rt[Le[pe]],te[Le[pe]]),!!ce);pe++);return ce}return!1},vn=ui,ko=function(Rt,te,ce){return w(ce)?!!ce(Rt,te):vn(Rt,te)},on=function(Rt,te){if(!O(Rt))return Rt;for(var ce=[],pe=0;pe<Rt.length;pe++){var Le=Rt[pe];ce.push(te(Le,pe))}return ce},Da=on,Kt=function(Rt){return Rt},bt=function(Rt,te){te===void 0&&(te=Kt);var ce={};return B(Rt)&&!M(Rt)&&Object.keys(Rt).forEach(function(pe){ce[pe]=te(Rt[pe],pe)}),ce},R=function(Rt,te,ce){for(var pe=0,Le=It(te)?te.split("."):te;Rt&&pe<Le.length;)Rt=Rt[Le[pe++]];return Rt===void 0||pe<Le.length?ce:Rt},$=function(Rt,te,ce){var pe=Rt,Le=It(te)?te.split("."):te;return Le.forEach(function(Qe,_r){_r<Le.length-1?(B(pe[Qe])||(pe[Qe]=Or(Le[_r+1])?[]:{}),pe=pe[Qe]):pe[Qe]=ce}),Rt},vt=Object.prototype.hasOwnProperty,Pt=function(Rt,te){if(Rt===null||!Ht(Rt))return{};var ce={};return z(te,function(pe){vt.call(Rt,pe)&&(ce[pe]=Rt[pe])}),ce},Gt=function(Rt,te){return rt(Rt,function(ce,pe,Le){return te.includes(Le)||(ce[Le]=pe),ce},{})},Zt=function(Rt,te,ce){var pe,Le,Qe,_r,nn=0;ce||(ce={});var ti=function(){nn=ce.leading===!1?0:Date.now(),pe=null,_r=Rt.apply(Le,Qe),pe||(Le=Qe=null)},Zi=function(){var Ji=Date.now();!nn&&ce.leading===!1&&(nn=Ji);var us=te-(Ji-nn);return Le=this,Qe=arguments,us<=0||us>te?(pe&&(clearTimeout(pe),pe=null),nn=Ji,_r=Rt.apply(Le,Qe),pe||(Le=Qe=null)):!pe&&ce.trailing!==!1&&(pe=setTimeout(ti,us)),_r};return Zi.cancel=function(){clearTimeout(pe),nn=0,pe=Le=Qe=null},Zi},re=function(Rt){return O(Rt)?Array.prototype.slice.call(Rt):[]},ie={},ve=function(Rt){return Rt=Rt||"g",ie[Rt]?ie[Rt]+=1:ie[Rt]=1,Rt+ie[Rt]},be=function(){},Ie=function(Rt){return Rt};function Ge(Rt){return M(Rt)?0:O(Rt)?Rt.length:Object.keys(Rt).length}var rr=v(37067),Mr,gr=Lo(function(Rt,te){te===void 0&&(te={});var ce=te.fontSize,pe=te.fontFamily,Le=te.fontWeight,Qe=te.fontStyle,_r=te.fontVariant;return Mr||(Mr=document.createElement("canvas").getContext("2d")),Mr.font=[Qe,_r,Le,ce+"px",pe].join(" "),Mr.measureText(It(Rt)?Rt:"").width},function(Rt,te){return te===void 0&&(te={}),(0,rr.__spreadArrays)([Rt],et(te)).join("")}),Vr=function(Rt,te,ce,pe){pe===void 0&&(pe="...");var Le=16,Qe=gr(pe,ce),_r=It(Rt)?Rt:Mt(Rt),nn=te,ti=[],Zi,Ji;if(gr(Rt,ce)<=te)return Rt;for(;Zi=_r.substr(0,Le),Ji=gr(Zi,ce),!(Ji+Qe>nn&&Ji>nn);)if(ti.push(Zi),nn-=Ji,_r=_r.substr(Le),!_r)return ti.join("");for(;Zi=_r.substr(0,1),Ji=gr(Zi,ce),!(Ji+Qe>nn);)if(ti.push(Zi),nn-=Ji,_r=_r.substr(1),!_r)return ti.join("");return""+ti.join("")+pe},Wr=function(){function Rt(){this.map={}}return Rt.prototype.has=function(te){return this.map[te]!==void 0},Rt.prototype.get=function(te,ce){var pe=this.map[te];return pe===void 0?ce:pe},Rt.prototype.set=function(te,ce){this.map[te]=ce},Rt.prototype.clear=function(){this.map={}},Rt.prototype.delete=function(te){delete this.map[te]},Rt.prototype.size=function(){return Object.keys(this.map).length},Rt}(),Hr=Wr},99581:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66974),O=v(46812),I=function(){for(var P=[],T=0;T<arguments.length;T++)P[T]=arguments[T];for(var A=P[0],E=1;E<P.length;E++){var C=P[E];O.default(C)&&(C=C.prototype),g.default(A.prototype,C)}};S.default=I},68039:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(){function g(){this.map={}}return g.prototype.has=function(O){return this.map[O]!==void 0},g.prototype.get=function(O,I){var P=this.map[O];return P===void 0?I:P},g.prototype.set=function(O,I){this.map[O]=I},g.prototype.clear=function(){this.map={}},g.prototype.delete=function(O){delete this.map[O]},g.prototype.size=function(){return Object.keys(this.map).length},g}();S.default=v},37339:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(g,O,I){return g<O?O:g>I?I:g};S.default=v},35755:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(g){var O=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;O(g)}S.default=v},8289:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631),O=function(I){if(typeof I!="object"||I===null)return I;var P;if(g.default(I)){P=[];for(var T=0,A=I.length;T<A;T++)typeof I[T]=="object"&&I[T]!=null?P[T]=O(I[T]):P[T]=I[T]}else{P={};for(var E in I)typeof I[E]=="object"&&I[E]!=null?P[E]=O(I[E]):P[E]=I[E]}return P};S.default=O},75349:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(48102),O=function(I,P){return g.default(I)?I.indexOf(P)>-1:!1};S.default=O},79663:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(g,O,I){var P;return function(){var T=this,A=arguments,E=function(){P=null,I||g.apply(T,A)},C=I&&!P;clearTimeout(P),P=setTimeout(E,O),C&&g.apply(T,A)}}S.default=v},90497:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631),O=v(15907),I=5;function P(A,E,C,p){C=C||0,p=p||I;for(var b in E)if(E.hasOwnProperty(b)){var x=E[b];x!==null&&O.default(x)?(O.default(A[b])||(A[b]={}),C<p?P(A[b],x,C+1,p):A[b]=E[b]):g.default(x)?(A[b]=[],A[b]=A[b].concat(x)):x!==void 0&&(A[b]=x)}}var T=function(A){for(var E=[],C=1;C<arguments.length;C++)E[C-1]=arguments[C];for(var p=0;p<E.length;p+=1)P(A,E[p]);return A};S.default=T},25430:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(40007),O=v(75349),I=function(P,T){return T===void 0&&(T=[]),g.default(P,function(A){return!O.default(T,A)})};S.default=I},27154:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631),O=v(33643);function I(P,T){if(!!P){var A;if(g.default(P))for(var E=0,C=P.length;E<C&&(A=T(P[E],E),A!==!1);E++);else if(O.default(P)){for(var p in P)if(P.hasOwnProperty(p)&&(A=T(P[p],p),A===!1))break}}}S.default=I},61846:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631),O=v(21830);function I(P,T){return g.default(P)||O.default(P)?P[P.length-1]===T:!1}S.default=I},8153:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(g,O){for(var I=0;I<g.length;I++)if(!O(g[I],I))return!1;return!0};S.default=v},13829:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66974),O=v(46812),I=function(P,T,A,E){O.default(T)||(A=T,T=P,P=function(){});var C=Object.create?function(b,x){return Object.create(b,{constructor:{value:x}})}:function(b,x){function w(){}w.prototype=b;var m=new w;return m.constructor=x,m},p=C(T.prototype,P);return P.prototype=g.default(p,P.prototype),P.superclass=C(T.prototype,T),g.default(p,A),g.default(P,E),P};S.default=I},40007:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(48102),O=function(I,P){if(!g.default(I))return I;for(var T=[],A=0;A<I.length;A++){var E=I[A];P(E,A)&&T.push(E)}return T};S.default=O},90871:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(g,O,I){I===void 0&&(I=0);for(var P=I;P<g.length;P++)if(O(g[P],P))return P;return-1}S.default=v},32114:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(46812),O=v(20253),I=v(66631),P=v(15907);function T(A,E){if(!I.default(A))return null;var C;if(g.default(E)&&(C=E),P.default(E)&&(C=function(b){return O.default(b,E)}),C){for(var p=0;p<A.length;p+=1)if(C(A[p]))return A[p]}return null}S.default=T},84521:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(73890),O=v(66631),I=function(P,T){for(var A=null,E=0;E<P.length;E++){var C=P[E],p=C[T];if(!g.default(p)){O.default(p)?A=p[0]:A=p;break}}return A};S.default=I},14266:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(g,O){var I=O.toString(),P=I.indexOf(".");if(P===-1)return Math.round(g);var T=I.substr(P+1).length;return T>20&&(T=20),parseFloat(g.toFixed(T))};S.default=v},61917:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631),O=function(I,P){if(P===void 0&&(P=[]),!g.default(I))P.push(I);else for(var T=0;T<I.length;T+=1)O(I[T],P);return P};S.default=O},30267:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631),O=function(I){if(!g.default(I))return[];for(var P=[],T=0;T<I.length;T++)P=P.concat(I[T]);return P};S.default=O},8361:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(27154);S.default=g.default},65616:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(21830),O=v(78127),I=v(13754);S.default=function(P,T,A,E){E===void 0&&(E="...");var C=16,p=I.default(E,A),b=g.default(P)?P:O.default(P),x=T,w=[],m,M;if(I.default(P,A)<=T)return P;for(;m=b.substr(0,C),M=I.default(m,A),!(M+p>x&&M>x);)if(w.push(m),x-=M,b=b.substr(C),!b)return w.join("");for(;m=b.substr(0,1),M=I.default(m,A),!(M+p>x);)if(w.push(m),x-=M,b=b.substr(1),!b)return w.join("");return""+w.join("")+E}},83236:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631),O=v(14705),I=v(45356),P=function(T){var A=T.filter(function(x){return!isNaN(x)});if(!A.length)return{min:0,max:0};if(g.default(T[0])){for(var E=[],C=0;C<T.length;C++)E=E.concat(T[C]);A=E}var p=O.default(A),b=I.default(A);return{min:b,max:p}};S.default=P},89175:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v={}.toString,g=function(O){return v.call(O).replace(/^\[object /,"").replace(/]$/,"")};S.default=g},71668:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(g,O){return g["_wrap_"+O]}S.default=v},58070:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(21830);S.default=function(O,I,P){for(var T=0,A=g.default(I)?I.split("."):I;O&&T<A.length;)O=O[A[T++]];return O===void 0||T<A.length?P:O}},54544:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631),O=v(46812),I=Object.prototype.hasOwnProperty;function P(T,A){if(!A||!g.default(T))return{};for(var E={},C=O.default(A)?A:function(w){return w[A]},p,b=0;b<T.length;b++){var x=T[b];p=C(x),I.call(E,p)?E[p].push(x):E[p]=[x]}return E}S.default=P},64725:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631),O=v(46812),I=v(54544);function P(T,A){if(!A)return{0:T};if(!O.default(A)){var E=g.default(A)?A:A.replace(/\s+/g,"").split("*");A=function(C){for(var p="_",b=0,x=E.length;b<x;b++)p+=C[E[b]]&&C[E[b]].toString();return p}}return I.default(T,A)}S.default=P},93597:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(64725);S.default=function(O,I){if(!I)return[O];var P=g.default(O,I),T=[];for(var A in P)T.push(P[A]);return T}},53138:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(57921);S.default=g.default},99969:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(75349),O=v(91161);S.default=function(I,P){return g.default(O.default(I),P)}},57921:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(v,g){return v.hasOwnProperty(g)}},41169:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(48102);function O(I){if(g.default(I))return I[0]}S.default=O},80870:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(v){return v}},40035:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(48102),O=function(I,P){if(!g.default(I))return-1;var T=Array.prototype.indexOf;if(T)return T.call(I,P);for(var A=-1,E=0;E<I.length;E++)if(I[E]===P){A=E;break}return A};S.default=O},50229:function(mt,S,v){"use strict";var g;g={value:!0};var O=v(75349);g={enumerable:!0,get:function(){return O.default}},g={enumerable:!0,get:function(){return O.default}};var I=v(25430);g={enumerable:!0,get:function(){return I.default}};var P=v(32114);g={enumerable:!0,get:function(){return P.default}};var T=v(90871);g={enumerable:!0,get:function(){return T.default}};var A=v(84521);g={enumerable:!0,get:function(){return A.default}};var E=v(30267);g={enumerable:!0,get:function(){return E.default}};var C=v(61917);g={enumerable:!0,get:function(){return C.default}};var p=v(83236);g={enumerable:!0,get:function(){return p.default}};var b=v(5220);g={enumerable:!0,get:function(){return b.default}};var x=v(50779);g={enumerable:!0,get:function(){return x.default}};var w=v(13847);g={enumerable:!0,get:function(){return w.default}};var m=v(89757);g={enumerable:!0,get:function(){return m.default}};var M=v(27599);g={enumerable:!0,get:function(){return M.default}};var L=v(58632);g={enumerable:!0,get:function(){return L.default}};var B=v(12619);g={enumerable:!0,get:function(){return B.default}};var D=v(29208);g={enumerable:!0,get:function(){return D.default}};var z=v(41169);g={enumerable:!0,get:function(){return z.default}};var q=v(95145);g={enumerable:!0,get:function(){return q.default}};var K=v(680);g={enumerable:!0,get:function(){return K.default}};var it=v(61846);g={enumerable:!0,get:function(){return it.default}};var ct=v(40007);g={enumerable:!0,get:function(){return ct.default}};var st=v(8153);g={enumerable:!0,get:function(){return st.default}};var Ot=v(58175);g={enumerable:!0,get:function(){return Ot.default}};var Dt=v(93597);g={enumerable:!0,get:function(){return Dt.default}};var Ht=v(54544);g={enumerable:!0,get:function(){return Ht.default}};var N=v(64725);g={enumerable:!0,get:function(){return N.default}};var W=v(71668);g={enumerable:!0,get:function(){return W.default}};var X=v(61262);Object.defineProperty(S,"Ko",{enumerable:!0,get:function(){return X.default}});var V=v(45145);g={enumerable:!0,get:function(){return V.default}};var lt=v(85418);g={enumerable:!0,get:function(){return lt.default}};var Z=v(37339);g={enumerable:!0,get:function(){return Z.default}};var U=v(14266);g={enumerable:!0,get:function(){return U.default}};var j=v(51008);g={enumerable:!0,get:function(){return j.default}};var H=v(45420);g={enumerable:!0,get:function(){return H.default}};var f=v(68221);g={enumerable:!0,get:function(){return f.default}};var yt=v(58706);g={enumerable:!0,get:function(){return yt.default}};var St=v(39984);g={enumerable:!0,get:function(){return St.default}};var at=v(32705);g={enumerable:!0,get:function(){return at.default}};var Ct=v(75732);g={enumerable:!0,get:function(){return Ct.default}};var wt=v(14705);g={enumerable:!0,get:function(){return wt.default}};var At=v(38935);g={enumerable:!0,get:function(){return At.default}};var _t=v(45356);g={enumerable:!0,get:function(){return _t.default}};var Lt=v(89857);g={enumerable:!0,get:function(){return Lt.default}};var xt=v(5253);g={enumerable:!0,get:function(){return xt.default}};var ot=v(2119);g={enumerable:!0,get:function(){return ot.default}};var tt=v(23196);g={enumerable:!0,get:function(){return tt.default}};var Q=v(9217);g={enumerable:!0,get:function(){return Q.default}};var dt=v(8361);g={enumerable:!0,get:function(){return dt.default}};var rt=v(57921);g={enumerable:!0,get:function(){return rt.default}};var nt=v(53138);g={enumerable:!0,get:function(){return nt.default}};var pt=v(99969);g={enumerable:!0,get:function(){return pt.default}};var It=v(85050);g={enumerable:!0,get:function(){return It.default}};var Vt=v(20253);g={enumerable:!0,get:function(){return Vt.default}};var Qt=v(91161);g={enumerable:!0,get:function(){return Qt.default}};var he=v(88362);g={enumerable:!0,get:function(){return he.default}};var me=v(56095);g={enumerable:!0,get:function(){return me.default}};var Xt=v(35541);g={enumerable:!0,get:function(){return Xt.default}};var $t=v(72660);g={enumerable:!0,get:function(){return $t.default}};var fe=v(85260);g={enumerable:!0,get:function(){return fe.default}};var Se=v(89175);g={enumerable:!0,get:function(){return Se.default}};var ke=v(55039);g={enumerable:!0,get:function(){return ke.default}};var Oe=v(66631);g={enumerable:!0,get:function(){return Oe.default}};var $e=v(48102);g={enumerable:!0,get:function(){return $e.default}};var lr=v(25873);g={enumerable:!0,get:function(){return lr.default}};var zt=v(79396);g={enumerable:!0,get:function(){return zt.default}};var qt=v(56418);g={enumerable:!0,get:function(){return qt.default}};var ae=v(46812);g={enumerable:!0,get:function(){return ae.default}};var se=v(73420);g={enumerable:!0,get:function(){return se.default}};var ge=v(73890);g={enumerable:!0,get:function(){return ge.default}};var Ce=v(85497);g={enumerable:!0,get:function(){return Ce.default}};var Me=v(16185);g={enumerable:!0,get:function(){return Me.default}};var Te=v(33643);g={enumerable:!0,get:function(){return Te.default}};var xe=v(70441);g={enumerable:!0,get:function(){return xe.default}};var ze=v(15907);g={enumerable:!0,get:function(){return ze.default}};var je=v(26296);g={enumerable:!0,get:function(){return je.default}};var fr=v(7877);g={enumerable:!0,get:function(){return fr.default}};var sr=v(21830);Object.defineProperty(S,"HD",{enumerable:!0,get:function(){return sr.default}});var Je=v(44235);g={enumerable:!0,get:function(){return Je.default}};var Ne=v(25523);g={enumerable:!0,get:function(){return Ne.default}};var xr=v(58417);g={enumerable:!0,get:function(){return xr.default}};var vr=v(98229);g={enumerable:!0,get:function(){return vr.default}};var Ze=v(35755);g={enumerable:!0,get:function(){return Ze.default}};var br=v(99581);g={enumerable:!0,get:function(){return br.default}};var Lr=v(8289);Object.defineProperty(S,"d9",{enumerable:!0,get:function(){return Lr.default}});var dr=v(79663);g={enumerable:!0,get:function(){return dr.default}};var cr=v(99834);g={enumerable:!0,get:function(){return cr.default}};var Yr=v(90497);Object.defineProperty(S,"b$",{enumerable:!0,get:function(){return Yr.default}});var Or=v(27154);Object.defineProperty(S,"S6",{enumerable:!0,get:function(){return Or.default}});var fn=v(13829);g={enumerable:!0,get:function(){return fn.default}};var Rn=v(40035);g={enumerable:!0,get:function(){return Rn.default}};var _n=v(64029);g={enumerable:!0,get:function(){return _n.default}};var $n=v(212);g={enumerable:!0,get:function(){return $n.default}};var Qn=v(18112);g={enumerable:!0,get:function(){return Qn.default}};var Tn=v(92693);g={enumerable:!0,get:function(){return Tn.default}};var gi=v(53497);g={enumerable:!0,get:function(){return gi.default}};var Kr=v(66974);g={enumerable:!0,get:function(){return Kr.default}},g={enumerable:!0,get:function(){return Kr.default}};var zn=v(58070);g={enumerable:!0,get:function(){return zn.default}};var Mi=v(64119);g={enumerable:!0,get:function(){return Mi.default}};var Gn=v(24263);g={enumerable:!0,get:function(){return Gn.default}};var Oi=v(14179);g={enumerable:!0,get:function(){return Oi.default}};var Ii=v(60979);g={enumerable:!0,get:function(){return Ii.default}};var Ar=v(66668);g={enumerable:!0,get:function(){return Ar.default}};var ki=v(78127);g={enumerable:!0,get:function(){return ki.default}};var Vi=v(67250);g={enumerable:!0,get:function(){return Vi.default}};var Bi=v(26851);g={enumerable:!0,get:function(){return Bi.default}};var dn=v(80870);g={enumerable:!0,get:function(){return dn.default}};var oi=v(30597);g={enumerable:!0,get:function(){return oi.default}};var Di=v(13754);g={enumerable:!0,get:function(){return Di.default}};var Un=v(65616);g={enumerable:!0,get:function(){return Un.default}};var Jn=v(68039);g={enumerable:!0,get:function(){return Jn.default}}},55039:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(44235),O=function(I){return g.default(I,"Arguments")};S.default=O},48102:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(g){return g!==null&&typeof g!="function"&&isFinite(g.length)};S.default=v},66631:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(44235);S.default=function(O){return Array.isArray?Array.isArray(O):g.default(O,"Array")}},25873:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(44235),O=function(I){return g.default(I,"Boolean")};S.default=O},79396:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(44235),O=function(I){return g.default(I,"Date")};S.default=O},51008:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(16185),O=function(I){return g.default(I)&&I%1!=0};S.default=O},58417:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(g){return g instanceof Element||g instanceof HTMLDocument};S.default=v},64029:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(73890),O=v(48102),I=v(89175),P=v(26296),T=Object.prototype.hasOwnProperty;function A(E){if(g.default(E))return!0;if(O.default(E))return!E.length;var C=I.default(E);if(C==="Map"||C==="Set")return!E.size;if(P.default(E))return!Object.keys(E).length;for(var p in E)if(T.call(E,p))return!1;return!0}S.default=A},18112:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(46812),O=v(212);S.default=function(I,P,T){return g.default(T)?!!T(I,P):O.default(I,P)}},212:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(70441),O=v(48102),I=v(21830),P=function(T,A){if(T===A)return!0;if(!T||!A||I.default(T)||I.default(A))return!1;if(O.default(T)||O.default(A)){if(T.length!==A.length)return!1;for(var E=!0,C=0;C<T.length&&(E=P(T[C],A[C]),!!E);C++);return E}if(g.default(T)||g.default(A)){var p=Object.keys(T),b=Object.keys(A);if(p.length!==b.length)return!1;for(var E=!0,C=0;C<p.length&&(E=P(T[p[C]],A[p[C]]),!!E);C++);return E}return!1};S.default=P},56418:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(44235),O=function(I){return g.default(I,"Error")};S.default=O},45420:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(16185),O=function(I){return g.default(I)&&I%2==0};S.default=O},73420:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(16185);function O(I){return g.default(I)&&isFinite(I)}S.default=O},46812:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(44235);S.default=function(O){return g.default(O,"Function")}},68221:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(16185),O=Number.isInteger?Number.isInteger:function(I){return g.default(I)&&I%1==0};S.default=O},20253:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(73890),O=v(85050);function I(P,T){var A=O.default(T),E=A.length;if(g.default(P))return!E;for(var C=0;C<E;C+=1){var p=A[C];if(T[p]!==P[p]||!(p in P))return!1}return!0}S.default=I},58706:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(16185),O=function(I){return g.default(I)&&I<0};S.default=O},73890:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(g){return g==null};S.default=v},85497:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(g){return g===null};S.default=v},39984:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=1e-5;function g(O,I,P){return P===void 0&&(P=v),Math.abs(O-I)<P}S.default=g},16185:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(44235),O=function(I){return g.default(I,"Number")};S.default=O},70441:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(g){return typeof g=="object"&&g!==null};S.default=v},33643:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(v){var g=typeof v;return v!==null&&g==="object"||g==="function"}},32705:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(16185),O=function(I){return g.default(I)&&I%2!=0};S.default=O},15907:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(70441),O=v(44235),I=function(P){if(!g.default(P)||!O.default(P,"Object"))return!1;if(Object.getPrototypeOf(P)===null)return!0;for(var T=P;Object.getPrototypeOf(T)!==null;)T=Object.getPrototypeOf(T);return Object.getPrototypeOf(P)===T};S.default=I},75732:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(16185),O=function(I){return g.default(I)&&I>0};S.default=O},26296:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=Object.prototype,g=function(O){var I=O&&O.constructor,P=typeof I=="function"&&I.prototype||v;return O===P};S.default=g},7877:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(44235),O=function(I){return g.default(I,"RegExp")};S.default=O},21830:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(44235);S.default=function(O){return g.default(O,"String")}},44235:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v={}.toString,g=function(O,I){return v.call(O)==="[object "+I+"]"};S.default=g},25523:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(g){return g===void 0};S.default=v},85050:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(27154),O=v(46812),I=Object.keys?function(P){return Object.keys(P)}:function(P){var T=[];return g.default(P,function(A,E){O.default(P)&&E==="prototype"||T.push(E)}),T};S.default=I},95145:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(48102);function O(I){if(g.default(I)){var P=I;return P[P.length-1]}}S.default=O},88362:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(78127),O=function(I){return g.default(I).toLowerCase()};S.default=O},56095:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(78127),O=function(I){var P=g.default(I);return P.charAt(0).toLowerCase()+P.substring(1)};S.default=O},53497:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(73890),O=v(33643),I=function(P){return P};S.default=function(P,T){T===void 0&&(T=I);var A={};return O.default(P)&&!g.default(P)&&Object.keys(P).forEach(function(E){A[E]=T(P[E],E)}),A}},92693:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(48102),O=function(I,P){if(!g.default(I))return I;for(var T=[],A=0;A<I.length;A++){var E=I[A];T.push(P(E,A))}return T};S.default=O},38935:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631),O=v(46812);S.default=function(I,P){if(!!g.default(I)){for(var T,A=-Infinity,E=0;E<I.length;E++){var C=I[E],p=O.default(P)?P(C):C[P];p>A&&(T=C,A=p)}return T}}},14705:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631);S.default=function(O){if(!!g.default(O))return O.reduce(function(I,P){return Math.max(I,P)},O[0])}},13754:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(37067),O=v(91161),I=v(99834),P=v(21830),T;S.default=I.default(function(A,E){E===void 0&&(E={});var C=E.fontSize,p=E.fontFamily,b=E.fontWeight,x=E.fontStyle,w=E.fontVariant;return T||(T=document.createElement("canvas").getContext("2d")),T.font=[x,w,b,C+"px",p].join(" "),T.measureText(P.default(A)?A:"").width},function(A,E){return E===void 0&&(E={}),g.__spreadArrays([A],O.default(E)).join("")})},99834:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(46812);S.default=function(O,I){if(!g.default(O))throw new TypeError("Expected a function");var P=function(){for(var T=[],A=0;A<arguments.length;A++)T[A]=arguments[A];var E=I?I.apply(this,T):T[0],C=P.cache;if(C.has(E))return C.get(E);var p=O.apply(this,T);return C.set(E,p),p};return P.cache=new Map,P}},89857:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631),O=v(46812);S.default=function(I,P){if(!!g.default(I)){for(var T,A=Infinity,E=0;E<I.length;E++){var C=I[E],p=O.default(P)?P(C):C[P];p<A&&(T=C,A=p)}return T}}},45356:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631);S.default=function(O){if(!!g.default(O))return O.reduce(function(I,P){return Math.min(I,P)},O[0])}},66974:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(O,I){for(var P in I)I.hasOwnProperty(P)&&P!=="constructor"&&I[P]!==void 0&&(O[P]=I[P])}function g(O,I,P,T){return I&&v(O,I),P&&v(O,P),T&&v(O,T),O}S.default=g},5253:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(g,O){return(g%O+O)%O};S.default=v},26851:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(){}},45145:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v={};function g(O){var I=v[O];if(!I){for(var P=O.toString(16),T=P.length;T<6;T++)P="0"+P;I="#"+P,v[O]=I}return I}S.default=g},14179:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(13847);S.default=function(O,I){return g.default(O,function(P,T,A){return I.includes(A)||(P[A]=T),P},{})}},85418:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631);function O(I){var P=0,T=0,A=0,E=0;return g.default(I)?I.length===1?P=T=A=E=I[0]:I.length===2?(P=A=I[0],T=E=I[1]):I.length===3?(P=I[0],T=E=I[1],A=I[2]):(P=I[0],T=I[1],A=I[2],E=I[3]):P=T=A=E=I,{r1:P,r2:T,r3:A,r4:E}}S.default=O},24263:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(27154),O=v(15907),I=Object.prototype.hasOwnProperty;S.default=function(P,T){if(P===null||!O.default(P))return{};var A={};return g.default(T,function(E){I.call(P,E)&&(A[E]=P[E])}),A}},50779:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(48102),O=Array.prototype.splice,I=function(T,A){if(!g.default(T))return[];for(var E=T?A.length:0,C=E-1;E--;){var p=void 0,b=A[E];(E===C||b!==p)&&(p=b,O.call(T,b,1))}return T};S.default=I},5220:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=Array.prototype,g=v.splice,O=v.indexOf,I=function(P){for(var T=[],A=1;A<arguments.length;A++)T[A-1]=arguments[A];for(var E=0;E<T.length;E++)for(var C=T[E],p=-1;(p=O.call(P,C))>-1;)g.call(P,p,1);return P};S.default=I},13847:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(27154),O=v(66631),I=v(15907),P=function(T,A,E){if(!O.default(T)&&!I.default(T))return T;var C=E;return g.default(T,function(p,b){C=A(C,p,b)}),C};S.default=P},89757:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(48102),O=v(50779),I=function(P,T){var A=[];if(!g.default(P))return A;for(var E=-1,C=[],p=P.length;++E<p;){var b=P[E];T(b,E,P)&&(A.push(b),C.push(E))}return O.default(P,C),A};S.default=I},98229:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(g){var O=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(I){return setTimeout(I,16)};return O(g)}S.default=v},64119:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(33643),O=v(21830),I=v(16185);S.default=function(P,T,A){var E=P,C=O.default(T)?T.split("."):T;return C.forEach(function(p,b){b<C.length-1?(g.default(E[p])||(E[p]=I.default(C[b+1])?[]:{}),E=E[p]):E[p]=A}),P}},30597:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(73890),O=v(48102);function I(P){return g.default(P)?0:O.default(P)?P.length:Object.keys(P).length}S.default=I},58175:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(g,O){for(var I=0;I<g.length;I++)if(O(g[I],I))return!0;return!1};S.default=v},27599:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631),O=v(21830),I=v(46812);function P(T,A){var E;if(I.default(A))E=function(p,b){return A(p)-A(b)};else{var C=[];O.default(A)?C.push(A):g.default(A)&&(C=A),E=function(p,b){for(var x=0;x<C.length;x+=1){var w=C[x];if(p[w]>b[w])return 1;if(p[w]<b[w])return-1}return 0}}return T.sort(E),T}S.default=P},680:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631),O=v(21830);function I(P,T){return g.default(P)||O.default(P)?P[0]===T:!1}S.default=I},35541:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(g,O){return!g||!O?g:g.replace(/\\?\{([^{}]+)\}/g,function(I,P){return I.charAt(0)==="\\"?I.slice(1):O[P]===void 0?"":O[P]})}S.default=v},60979:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(v,g,O){var I,P,T,A,E=0;O||(O={});var C=function(){E=O.leading===!1?0:Date.now(),I=null,A=v.apply(P,T),I||(P=T=null)},p=function(){var b=Date.now();!E&&O.leading===!1&&(E=b);var x=g-(b-E);return P=this,T=arguments,x<=0||x>g?(I&&(clearTimeout(I),I=null),E=b,A=v.apply(P,T),I||(P=T=null)):!I&&O.trailing!==!1&&(I=setTimeout(C,x)),A};return p.cancel=function(){clearTimeout(I),E=0,I=P=T=null},p}},66668:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(48102);S.default=function(O){return g.default(O)?Array.prototype.slice.call(O):[]}},2119:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=180/Math.PI,g=function(O){return v*O};S.default=g},23196:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=parseInt},9217:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=Math.PI/180,g=function(O){return v*O};S.default=g},78127:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(73890);S.default=function(O){return g.default(O)?"":O.toString()}},58632:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(12619),O=function(){for(var I=[],P=0;P<arguments.length;P++)I[P]=arguments[P];return g.default([].concat.apply([],I))};S.default=O},12619:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(g,O){O===void 0&&(O=new Map);var I=[];if(Array.isArray(g))for(var P=0,T=g.length;P<T;P++){var A=g[P];O.has(A)||(I.push(A),O.set(A,!0))}return I}S.default=v},67250:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v={};S.default=function(g){return g=g||"g",v[g]?v[g]+=1:v[g]=1,g+v[g]}},72660:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(78127),O=function(I){return g.default(I).toUpperCase()};S.default=O},85260:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(78127),O=function(I){var P=g.default(I);return P.charAt(0).toUpperCase()+P.substring(1)};S.default=O},29208:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(66631),O=v(73890);S.default=function(I,P){for(var T=[],A={},E=0;E<I.length;E++){var C=I[E],p=C[P];if(!O.default(p)){g.default(p)||(p=[p]);for(var b=0;b<p.length;b++){var x=p[b];A[x]||(T.push(x),A[x]=!0)}}}return T}},91161:function(mt,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var g=v(27154),O=v(46812),I=Object.values?function(P){return Object.values(P)}:function(P){var T=[];return g.default(P,function(A,E){O.default(P)&&E==="prototype"||T.push(A)}),T};S.default=I},61262:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(g,O){if(g["_wrap_"+O])return g["_wrap_"+O];var I=function(P){g[O](P)};return g["_wrap_"+O]=I,I}S.default=v},37067:function(mt,S,v){"use strict";v.r(S),v.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return P},__decorate:function(){return T},__param:function(){return A},__metadata:function(){return E},__awaiter:function(){return C},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return x},__values:function(){return w},__read:function(){return m},__spread:function(){return M},__spreadArrays:function(){return L},__spreadArray:function(){return B},__await:function(){return D},__asyncGenerator:function(){return z},__asyncDelegator:function(){return q},__asyncValues:function(){return K},__makeTemplateObject:function(){return it},__importStar:function(){return st},__importDefault:function(){return Ot},__classPrivateFieldGet:function(){return Dt},__classPrivateFieldSet:function(){return Ht}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var g=function(N,W){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,V){X.__proto__=V}||function(X,V){for(var lt in V)Object.prototype.hasOwnProperty.call(V,lt)&&(X[lt]=V[lt])},g(N,W)};function O(N,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");g(N,W);function X(){this.constructor=N}N.prototype=W===null?Object.create(W):(X.prototype=W.prototype,new X)}var I=function(){return I=Object.assign||function(W){for(var X,V=1,lt=arguments.length;V<lt;V++){X=arguments[V];for(var Z in X)Object.prototype.hasOwnProperty.call(X,Z)&&(W[Z]=X[Z])}return W},I.apply(this,arguments)};function P(N,W){var X={};for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&W.indexOf(V)<0&&(X[V]=N[V]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lt=0,V=Object.getOwnPropertySymbols(N);lt<V.length;lt++)W.indexOf(V[lt])<0&&Object.prototype.propertyIsEnumerable.call(N,V[lt])&&(X[V[lt]]=N[V[lt]]);return X}function T(N,W,X,V){var lt=arguments.length,Z=lt<3?W:V===null?V=Object.getOwnPropertyDescriptor(W,X):V,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(N,W,X,V);else for(var j=N.length-1;j>=0;j--)(U=N[j])&&(Z=(lt<3?U(Z):lt>3?U(W,X,Z):U(W,X))||Z);return lt>3&&Z&&Object.defineProperty(W,X,Z),Z}function A(N,W){return function(X,V){W(X,V,N)}}function E(N,W){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(N,W)}function C(N,W,X,V){function lt(Z){return Z instanceof X?Z:new X(function(U){U(Z)})}return new(X||(X=Promise))(function(Z,U){function j(yt){try{f(V.next(yt))}catch(St){U(St)}}function H(yt){try{f(V.throw(yt))}catch(St){U(St)}}function f(yt){yt.done?Z(yt.value):lt(yt.value).then(j,H)}f((V=V.apply(N,W||[])).next())})}function p(N,W){var X={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},V,lt,Z,U;return U={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function j(f){return function(yt){return H([f,yt])}}function H(f){if(V)throw new TypeError("Generator is already executing.");for(;X;)try{if(V=1,lt&&(Z=f[0]&2?lt.return:f[0]?lt.throw||((Z=lt.return)&&Z.call(lt),0):lt.next)&&!(Z=Z.call(lt,f[1])).done)return Z;switch(lt=0,Z&&(f=[f[0]&2,Z.value]),f[0]){case 0:case 1:Z=f;break;case 4:return X.label++,{value:f[1],done:!1};case 5:X.label++,lt=f[1],f=[0];continue;case 7:f=X.ops.pop(),X.trys.pop();continue;default:if(Z=X.trys,!(Z=Z.length>0&&Z[Z.length-1])&&(f[0]===6||f[0]===2)){X=0;continue}if(f[0]===3&&(!Z||f[1]>Z[0]&&f[1]<Z[3])){X.label=f[1];break}if(f[0]===6&&X.label<Z[1]){X.label=Z[1],Z=f;break}if(Z&&X.label<Z[2]){X.label=Z[2],X.ops.push(f);break}Z[2]&&X.ops.pop(),X.trys.pop();continue}f=W.call(N,X)}catch(yt){f=[6,yt],lt=0}finally{V=Z=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var b=Object.create?function(N,W,X,V){V===void 0&&(V=X),Object.defineProperty(N,V,{enumerable:!0,get:function(){return W[X]}})}:function(N,W,X,V){V===void 0&&(V=X),N[V]=W[X]};function x(N,W){for(var X in N)X!=="default"&&!Object.prototype.hasOwnProperty.call(W,X)&&b(W,N,X)}function w(N){var W=typeof Symbol=="function"&&Symbol.iterator,X=W&&N[W],V=0;if(X)return X.call(N);if(N&&typeof N.length=="number")return{next:function(){return N&&V>=N.length&&(N=void 0),{value:N&&N[V++],done:!N}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(N,W){var X=typeof Symbol=="function"&&N[Symbol.iterator];if(!X)return N;var V=X.call(N),lt,Z=[],U;try{for(;(W===void 0||W-- >0)&&!(lt=V.next()).done;)Z.push(lt.value)}catch(j){U={error:j}}finally{try{lt&&!lt.done&&(X=V.return)&&X.call(V)}finally{if(U)throw U.error}}return Z}function M(){for(var N=[],W=0;W<arguments.length;W++)N=N.concat(m(arguments[W]));return N}function L(){for(var N=0,W=0,X=arguments.length;W<X;W++)N+=arguments[W].length;for(var V=Array(N),lt=0,W=0;W<X;W++)for(var Z=arguments[W],U=0,j=Z.length;U<j;U++,lt++)V[lt]=Z[U];return V}function B(N,W,X){if(X||arguments.length===2)for(var V=0,lt=W.length,Z;V<lt;V++)(Z||!(V in W))&&(Z||(Z=Array.prototype.slice.call(W,0,V)),Z[V]=W[V]);return N.concat(Z||Array.prototype.slice.call(W))}function D(N){return this instanceof D?(this.v=N,this):new D(N)}function z(N,W,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V=X.apply(N,W||[]),lt,Z=[];return lt={},U("next"),U("throw"),U("return"),lt[Symbol.asyncIterator]=function(){return this},lt;function U(at){V[at]&&(lt[at]=function(Ct){return new Promise(function(wt,At){Z.push([at,Ct,wt,At])>1||j(at,Ct)})})}function j(at,Ct){try{H(V[at](Ct))}catch(wt){St(Z[0][3],wt)}}function H(at){at.value instanceof D?Promise.resolve(at.value.v).then(f,yt):St(Z[0][2],at)}function f(at){j("next",at)}function yt(at){j("throw",at)}function St(at,Ct){at(Ct),Z.shift(),Z.length&&j(Z[0][0],Z[0][1])}}function q(N){var W,X;return W={},V("next"),V("throw",function(lt){throw lt}),V("return"),W[Symbol.iterator]=function(){return this},W;function V(lt,Z){W[lt]=N[lt]?function(U){return(X=!X)?{value:D(N[lt](U)),done:lt==="return"}:Z?Z(U):U}:Z}}function K(N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=N[Symbol.asyncIterator],X;return W?W.call(N):(N=typeof w=="function"?w(N):N[Symbol.iterator](),X={},V("next"),V("throw"),V("return"),X[Symbol.asyncIterator]=function(){return this},X);function V(Z){X[Z]=N[Z]&&function(U){return new Promise(function(j,H){U=N[Z](U),lt(j,H,U.done,U.value)})}}function lt(Z,U,j,H){Promise.resolve(H).then(function(f){Z({value:f,done:j})},U)}}function it(N,W){return Object.defineProperty?Object.defineProperty(N,"raw",{value:W}):N.raw=W,N}var ct=Object.create?function(N,W){Object.defineProperty(N,"default",{enumerable:!0,value:W})}:function(N,W){N.default=W};function st(N){if(N&&N.__esModule)return N;var W={};if(N!=null)for(var X in N)X!=="default"&&Object.prototype.hasOwnProperty.call(N,X)&&b(W,N,X);return ct(W,N),W}function Ot(N){return N&&N.__esModule?N:{default:N}}function Dt(N,W,X,V){if(X==="a"&&!V)throw new TypeError("Private accessor was defined without a getter");if(typeof W=="function"?N!==W||!V:!W.has(N))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?V:X==="a"?V.call(N):V?V.value:W.get(N)}function Ht(N,W,X,V,lt){if(V==="m")throw new TypeError("Private method is not writable");if(V==="a"&&!lt)throw new TypeError("Private accessor was defined without a setter");if(typeof W=="function"?N!==W||!lt:!W.has(N))throw new TypeError("Cannot write private member to an object whose class did not declare it");return V==="a"?lt.call(N,X):lt?lt.value=X:W.set(N,X),X}},60153:function(mt,S,v){"use strict";v.r(S),v.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return P},__decorate:function(){return T},__param:function(){return A},__metadata:function(){return E},__awaiter:function(){return C},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return x},__values:function(){return w},__read:function(){return m},__spread:function(){return M},__spreadArrays:function(){return L},__await:function(){return B},__asyncGenerator:function(){return D},__asyncDelegator:function(){return z},__asyncValues:function(){return q},__makeTemplateObject:function(){return K},__importStar:function(){return it},__importDefault:function(){return ct},__classPrivateFieldGet:function(){return st},__classPrivateFieldSet:function(){return Ot}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var g=function(Ht,N){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,X){W.__proto__=X}||function(W,X){for(var V in X)X.hasOwnProperty(V)&&(W[V]=X[V])},g(Ht,N)};function O(Dt,Ht){g(Dt,Ht);function N(){this.constructor=Dt}Dt.prototype=Ht===null?Object.create(Ht):(N.prototype=Ht.prototype,new N)}var I=function(){return I=Object.assign||function(N){for(var W,X=1,V=arguments.length;X<V;X++){W=arguments[X];for(var lt in W)Object.prototype.hasOwnProperty.call(W,lt)&&(N[lt]=W[lt])}return N},I.apply(this,arguments)};function P(Dt,Ht){var N={};for(var W in Dt)Object.prototype.hasOwnProperty.call(Dt,W)&&Ht.indexOf(W)<0&&(N[W]=Dt[W]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,W=Object.getOwnPropertySymbols(Dt);X<W.length;X++)Ht.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call(Dt,W[X])&&(N[W[X]]=Dt[W[X]]);return N}function T(Dt,Ht,N,W){var X=arguments.length,V=X<3?Ht:W===null?W=Object.getOwnPropertyDescriptor(Ht,N):W,lt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(Dt,Ht,N,W);else for(var Z=Dt.length-1;Z>=0;Z--)(lt=Dt[Z])&&(V=(X<3?lt(V):X>3?lt(Ht,N,V):lt(Ht,N))||V);return X>3&&V&&Object.defineProperty(Ht,N,V),V}function A(Dt,Ht){return function(N,W){Ht(N,W,Dt)}}function E(Dt,Ht){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Dt,Ht)}function C(Dt,Ht,N,W){function X(V){return V instanceof N?V:new N(function(lt){lt(V)})}return new(N||(N=Promise))(function(V,lt){function Z(H){try{j(W.next(H))}catch(f){lt(f)}}function U(H){try{j(W.throw(H))}catch(f){lt(f)}}function j(H){H.done?V(H.value):X(H.value).then(Z,U)}j((W=W.apply(Dt,Ht||[])).next())})}function p(Dt,Ht){var N={label:0,sent:function(){if(V[0]&1)throw V[1];return V[1]},trys:[],ops:[]},W,X,V,lt;return lt={next:Z(0),throw:Z(1),return:Z(2)},typeof Symbol=="function"&&(lt[Symbol.iterator]=function(){return this}),lt;function Z(j){return function(H){return U([j,H])}}function U(j){if(W)throw new TypeError("Generator is already executing.");for(;N;)try{if(W=1,X&&(V=j[0]&2?X.return:j[0]?X.throw||((V=X.return)&&V.call(X),0):X.next)&&!(V=V.call(X,j[1])).done)return V;switch(X=0,V&&(j=[j[0]&2,V.value]),j[0]){case 0:case 1:V=j;break;case 4:return N.label++,{value:j[1],done:!1};case 5:N.label++,X=j[1],j=[0];continue;case 7:j=N.ops.pop(),N.trys.pop();continue;default:if(V=N.trys,!(V=V.length>0&&V[V.length-1])&&(j[0]===6||j[0]===2)){N=0;continue}if(j[0]===3&&(!V||j[1]>V[0]&&j[1]<V[3])){N.label=j[1];break}if(j[0]===6&&N.label<V[1]){N.label=V[1],V=j;break}if(V&&N.label<V[2]){N.label=V[2],N.ops.push(j);break}V[2]&&N.ops.pop(),N.trys.pop();continue}j=Ht.call(Dt,N)}catch(H){j=[6,H],X=0}finally{W=V=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}}function b(Dt,Ht,N,W){W===void 0&&(W=N),Dt[W]=Ht[N]}function x(Dt,Ht){for(var N in Dt)N!=="default"&&!Ht.hasOwnProperty(N)&&(Ht[N]=Dt[N])}function w(Dt){var Ht=typeof Symbol=="function"&&Symbol.iterator,N=Ht&&Dt[Ht],W=0;if(N)return N.call(Dt);if(Dt&&typeof Dt.length=="number")return{next:function(){return Dt&&W>=Dt.length&&(Dt=void 0),{value:Dt&&Dt[W++],done:!Dt}}};throw new TypeError(Ht?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(Dt,Ht){var N=typeof Symbol=="function"&&Dt[Symbol.iterator];if(!N)return Dt;var W=N.call(Dt),X,V=[],lt;try{for(;(Ht===void 0||Ht-- >0)&&!(X=W.next()).done;)V.push(X.value)}catch(Z){lt={error:Z}}finally{try{X&&!X.done&&(N=W.return)&&N.call(W)}finally{if(lt)throw lt.error}}return V}function M(){for(var Dt=[],Ht=0;Ht<arguments.length;Ht++)Dt=Dt.concat(m(arguments[Ht]));return Dt}function L(){for(var Dt=0,Ht=0,N=arguments.length;Ht<N;Ht++)Dt+=arguments[Ht].length;for(var W=Array(Dt),X=0,Ht=0;Ht<N;Ht++)for(var V=arguments[Ht],lt=0,Z=V.length;lt<Z;lt++,X++)W[X]=V[lt];return W}function B(Dt){return this instanceof B?(this.v=Dt,this):new B(Dt)}function D(Dt,Ht,N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=N.apply(Dt,Ht||[]),X,V=[];return X={},lt("next"),lt("throw"),lt("return"),X[Symbol.asyncIterator]=function(){return this},X;function lt(yt){W[yt]&&(X[yt]=function(St){return new Promise(function(at,Ct){V.push([yt,St,at,Ct])>1||Z(yt,St)})})}function Z(yt,St){try{U(W[yt](St))}catch(at){f(V[0][3],at)}}function U(yt){yt.value instanceof B?Promise.resolve(yt.value.v).then(j,H):f(V[0][2],yt)}function j(yt){Z("next",yt)}function H(yt){Z("throw",yt)}function f(yt,St){yt(St),V.shift(),V.length&&Z(V[0][0],V[0][1])}}function z(Dt){var Ht,N;return Ht={},W("next"),W("throw",function(X){throw X}),W("return"),Ht[Symbol.iterator]=function(){return this},Ht;function W(X,V){Ht[X]=Dt[X]?function(lt){return(N=!N)?{value:B(Dt[X](lt)),done:X==="return"}:V?V(lt):lt}:V}}function q(Dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ht=Dt[Symbol.asyncIterator],N;return Ht?Ht.call(Dt):(Dt=typeof w=="function"?w(Dt):Dt[Symbol.iterator](),N={},W("next"),W("throw"),W("return"),N[Symbol.asyncIterator]=function(){return this},N);function W(V){N[V]=Dt[V]&&function(lt){return new Promise(function(Z,U){lt=Dt[V](lt),X(Z,U,lt.done,lt.value)})}}function X(V,lt,Z,U){Promise.resolve(U).then(function(j){V({value:j,done:Z})},lt)}}function K(Dt,Ht){return Object.defineProperty?Object.defineProperty(Dt,"raw",{value:Ht}):Dt.raw=Ht,Dt}function it(Dt){if(Dt&&Dt.__esModule)return Dt;var Ht={};if(Dt!=null)for(var N in Dt)Object.hasOwnProperty.call(Dt,N)&&(Ht[N]=Dt[N]);return Ht.default=Dt,Ht}function ct(Dt){return Dt&&Dt.__esModule?Dt:{default:Dt}}function st(Dt,Ht){if(!Ht.has(Dt))throw new TypeError("attempted to get private field on non-instance");return Ht.get(Dt)}function Ot(Dt,Ht,N){if(!Ht.has(Dt))throw new TypeError("attempted to set private field on non-instance");return Ht.set(Dt,N),N}},8874:function(mt){"use strict";mt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(mt,S,v){var g=v(8874),O=v(86851),I={};for(var P in g)g.hasOwnProperty(P)&&(I[g[P]]=P);var T=mt.exports={to:{},get:{}};T.get=function(C){var p=C.substring(0,3).toLowerCase(),b,x;switch(p){case"hsl":b=T.get.hsl(C),x="hsl";break;case"hwb":b=T.get.hwb(C),x="hwb";break;default:b=T.get.rgb(C),x="rgb";break}return b?{model:x,value:b}:null},T.get.rgb=function(C){if(!C)return null;var p=/^#([a-f0-9]{3,4})$/i,b=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,x=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,w=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,m=/(\D+)/,M=[0,0,0,1],L,B,D;if(L=C.match(b)){for(D=L[2],L=L[1],B=0;B<3;B++){var z=B*2;M[B]=parseInt(L.slice(z,z+2),16)}D&&(M[3]=parseInt(D,16)/255)}else if(L=C.match(p)){for(L=L[1],D=L[3],B=0;B<3;B++)M[B]=parseInt(L[B]+L[B],16);D&&(M[3]=parseInt(D+D,16)/255)}else if(L=C.match(x)){for(B=0;B<3;B++)M[B]=parseInt(L[B+1],0);L[4]&&(M[3]=parseFloat(L[4]))}else if(L=C.match(w)){for(B=0;B<3;B++)M[B]=Math.round(parseFloat(L[B+1])*2.55);L[4]&&(M[3]=parseFloat(L[4]))}else return(L=C.match(m))?L[1]==="transparent"?[0,0,0,0]:(M=g[L[1]],M?(M[3]=1,M):null):null;for(B=0;B<3;B++)M[B]=A(M[B],0,255);return M[3]=A(M[3],0,1),M},T.get.hsl=function(C){if(!C)return null;var p=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?[\d\.]+)\s*)?\)$/,b=C.match(p);if(b){var x=parseFloat(b[4]),w=(parseFloat(b[1])+360)%360,m=A(parseFloat(b[2]),0,100),M=A(parseFloat(b[3]),0,100),L=A(isNaN(x)?1:x,0,1);return[w,m,M,L]}return null},T.get.hwb=function(C){if(!C)return null;var p=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,b=C.match(p);if(b){var x=parseFloat(b[4]),w=(parseFloat(b[1])%360+360)%360,m=A(parseFloat(b[2]),0,100),M=A(parseFloat(b[3]),0,100),L=A(isNaN(x)?1:x,0,1);return[w,m,M,L]}return null},T.to.hex=function(){var C=O(arguments);return"#"+E(C[0])+E(C[1])+E(C[2])+(C[3]<1?E(Math.round(C[3]*255)):"")},T.to.rgb=function(){var C=O(arguments);return C.length<4||C[3]===1?"rgb("+Math.round(C[0])+", "+Math.round(C[1])+", "+Math.round(C[2])+")":"rgba("+Math.round(C[0])+", "+Math.round(C[1])+", "+Math.round(C[2])+", "+C[3]+")"},T.to.rgb.percent=function(){var C=O(arguments),p=Math.round(C[0]/255*100),b=Math.round(C[1]/255*100),x=Math.round(C[2]/255*100);return C.length<4||C[3]===1?"rgb("+p+"%, "+b+"%, "+x+"%)":"rgba("+p+"%, "+b+"%, "+x+"%, "+C[3]+")"},T.to.hsl=function(){var C=O(arguments);return C.length<4||C[3]===1?"hsl("+C[0]+", "+C[1]+"%, "+C[2]+"%)":"hsla("+C[0]+", "+C[1]+"%, "+C[2]+"%, "+C[3]+")"},T.to.hwb=function(){var C=O(arguments),p="";return C.length>=4&&C[3]!==1&&(p=", "+C[3]),"hwb("+C[0]+", "+C[1]+"%, "+C[2]+"%"+p+")"},T.to.keyword=function(C){return I[C.slice(0,3)]};function A(C,p,b){return Math.min(Math.max(p,C),b)}function E(C){var p=C.toString(16).toUpperCase();return p.length<2?"0"+p:p}},6767:function(mt,S,v){"use strict";var g=v(19818),O=v(80978),I=[].slice,P=["keyword","gray","hex"],T={};Object.keys(O).forEach(function(M){T[I.call(O[M].labels).sort().join("")]=M});var A={};function E(M,L){if(!(this instanceof E))return new E(M,L);if(L&&L in P&&(L=null),L&&!(L in O))throw new Error("Unknown model: "+L);var B,D;if(M==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(M instanceof E)this.model=M.model,this.color=M.color.slice(),this.valpha=M.valpha;else if(typeof M=="string"){var z=g.get(M);if(z===null)throw new Error("Unable to parse color from string: "+M);this.model=z.model,D=O[this.model].channels,this.color=z.value.slice(0,D),this.valpha=typeof z.value[D]=="number"?z.value[D]:1}else if(M.length){this.model=L||"rgb",D=O[this.model].channels;var q=I.call(M,0,D);this.color=m(q,D),this.valpha=typeof M[D]=="number"?M[D]:1}else if(typeof M=="number")M&=16777215,this.model="rgb",this.color=[M>>16&255,M>>8&255,M&255],this.valpha=1;else{this.valpha=1;var K=Object.keys(M);"alpha"in M&&(K.splice(K.indexOf("alpha"),1),this.valpha=typeof M.alpha=="number"?M.alpha:0);var it=K.sort().join("");if(!(it in T))throw new Error("Unable to parse color from object: "+JSON.stringify(M));this.model=T[it];var ct=O[this.model].labels,st=[];for(B=0;B<ct.length;B++)st.push(M[ct[B]]);this.color=m(st)}if(A[this.model])for(D=O[this.model].channels,B=0;B<D;B++){var Ot=A[this.model][B];Ot&&(this.color[B]=Ot(this.color[B]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}E.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(M){var L=this.model in g.to?this:this.rgb();L=L.round(typeof M=="number"?M:1);var B=L.valpha===1?L.color:L.color.concat(this.valpha);return g.to[L.model](B)},percentString:function(M){var L=this.rgb().round(typeof M=="number"?M:1),B=L.valpha===1?L.color:L.color.concat(this.valpha);return g.to.rgb.percent(B)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var M={},L=O[this.model].channels,B=O[this.model].labels,D=0;D<L;D++)M[B[D]]=this.color[D];return this.valpha!==1&&(M.alpha=this.valpha),M},unitArray:function(){var M=this.rgb().color;return M[0]/=255,M[1]/=255,M[2]/=255,this.valpha!==1&&M.push(this.valpha),M},unitObject:function(){var M=this.rgb().object();return M.r/=255,M.g/=255,M.b/=255,this.valpha!==1&&(M.alpha=this.valpha),M},round:function(M){return M=Math.max(M||0,0),new E(this.color.map(p(M)).concat(this.valpha),this.model)},alpha:function(M){return arguments.length?new E(this.color.concat(Math.max(0,Math.min(1,M))),this.model):this.valpha},red:b("rgb",0,x(255)),green:b("rgb",1,x(255)),blue:b("rgb",2,x(255)),hue:b(["hsl","hsv","hsl","hwb","hcg"],0,function(M){return(M%360+360)%360}),saturationl:b("hsl",1,x(100)),lightness:b("hsl",2,x(100)),saturationv:b("hsv",1,x(100)),value:b("hsv",2,x(100)),chroma:b("hcg",1,x(100)),gray:b("hcg",2,x(100)),white:b("hwb",1,x(100)),wblack:b("hwb",2,x(100)),cyan:b("cmyk",0,x(100)),magenta:b("cmyk",1,x(100)),yellow:b("cmyk",2,x(100)),black:b("cmyk",3,x(100)),x:b("xyz",0,x(100)),y:b("xyz",1,x(100)),z:b("xyz",2,x(100)),l:b("lab",0,x(100)),a:b("lab",1),b:b("lab",2),keyword:function(M){return arguments.length?new E(M):O[this.model].keyword(this.color)},hex:function(M){return arguments.length?new E(M):g.to.hex(this.rgb().round().color)},rgbNumber:function(){var M=this.rgb().color;return(M[0]&255)<<16|(M[1]&255)<<8|M[2]&255},luminosity:function(){for(var M=this.rgb().color,L=[],B=0;B<M.length;B++){var D=M[B]/255;L[B]=D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4)}return .2126*L[0]+.7152*L[1]+.0722*L[2]},contrast:function(M){var L=this.luminosity(),B=M.luminosity();return L>B?(L+.05)/(B+.05):(B+.05)/(L+.05)},level:function(M){var L=this.contrast(M);return L>=7.1?"AAA":L>=4.5?"AA":""},isDark:function(){var M=this.rgb().color,L=(M[0]*299+M[1]*587+M[2]*114)/1e3;return L<128},isLight:function(){return!this.isDark()},negate:function(){for(var M=this.rgb(),L=0;L<3;L++)M.color[L]=255-M.color[L];return M},lighten:function(M){var L=this.hsl();return L.color[2]+=L.color[2]*M,L},darken:function(M){var L=this.hsl();return L.color[2]-=L.color[2]*M,L},saturate:function(M){var L=this.hsl();return L.color[1]+=L.color[1]*M,L},desaturate:function(M){var L=this.hsl();return L.color[1]-=L.color[1]*M,L},whiten:function(M){var L=this.hwb();return L.color[1]+=L.color[1]*M,L},blacken:function(M){var L=this.hwb();return L.color[2]+=L.color[2]*M,L},grayscale:function(){var M=this.rgb().color,L=M[0]*.3+M[1]*.59+M[2]*.11;return E.rgb(L,L,L)},fade:function(M){return this.alpha(this.valpha-this.valpha*M)},opaquer:function(M){return this.alpha(this.valpha+this.valpha*M)},rotate:function(M){var L=this.hsl(),B=L.color[0];return B=(B+M)%360,B=B<0?360+B:B,L.color[0]=B,L},mix:function(M,L){if(!M||!M.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof M);var B=M.rgb(),D=this.rgb(),z=L===void 0?.5:L,q=2*z-1,K=B.alpha()-D.alpha(),it=((q*K==-1?q:(q+K)/(1+q*K))+1)/2,ct=1-it;return E.rgb(it*B.red()+ct*D.red(),it*B.green()+ct*D.green(),it*B.blue()+ct*D.blue(),B.alpha()*z+D.alpha()*(1-z))}},Object.keys(O).forEach(function(M){if(P.indexOf(M)===-1){var L=O[M].channels;E.prototype[M]=function(){if(this.model===M)return new E(this);if(arguments.length)return new E(arguments,M);var B=typeof arguments[L]=="number"?L:this.valpha;return new E(w(O[this.model][M].raw(this.color)).concat(B),M)},E[M]=function(B){return typeof B=="number"&&(B=m(I.call(arguments),L)),new E(B,M)}}});function C(M,L){return Number(M.toFixed(L))}function p(M){return function(L){return C(L,M)}}function b(M,L,B){return M=Array.isArray(M)?M:[M],M.forEach(function(D){(A[D]||(A[D]=[]))[L]=B}),M=M[0],function(D){var z;return arguments.length?(B&&(D=B(D)),z=this[M](),z.color[L]=D,z):(z=this[M]().color[L],B&&(z=B(z)),z)}}function x(M){return function(L){return Math.max(0,Math.min(M,L))}}function w(M){return Array.isArray(M)?M:[M]}function m(M,L){for(var B=0;B<L;B++)typeof M[B]!="number"&&(M[B]=0);return M}mt.exports=E},12956:function(mt,S,v){var g=v(58900),O={};for(var I in g)g.hasOwnProperty(I)&&(O[g[I]]=I);var P=mt.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var T in P)if(P.hasOwnProperty(T)){if(!("channels"in P[T]))throw new Error("missing channels property: "+T);if(!("labels"in P[T]))throw new Error("missing channel labels property: "+T);if(P[T].labels.length!==P[T].channels)throw new Error("channel and label counts mismatch: "+T);var A=P[T].channels,E=P[T].labels;delete P[T].channels,delete P[T].labels,Object.defineProperty(P[T],"channels",{value:A}),Object.defineProperty(P[T],"labels",{value:E})}P.rgb.hsl=function(p){var b=p[0]/255,x=p[1]/255,w=p[2]/255,m=Math.min(b,x,w),M=Math.max(b,x,w),L=M-m,B,D,z;return M===m?B=0:b===M?B=(x-w)/L:x===M?B=2+(w-b)/L:w===M&&(B=4+(b-x)/L),B=Math.min(B*60,360),B<0&&(B+=360),z=(m+M)/2,M===m?D=0:z<=.5?D=L/(M+m):D=L/(2-M-m),[B,D*100,z*100]},P.rgb.hsv=function(p){var b,x,w,m,M,L=p[0]/255,B=p[1]/255,D=p[2]/255,z=Math.max(L,B,D),q=z-Math.min(L,B,D),K=function(it){return(z-it)/6/q+1/2};return q===0?m=M=0:(M=q/z,b=K(L),x=K(B),w=K(D),L===z?m=w-x:B===z?m=1/3+b-w:D===z&&(m=2/3+x-b),m<0?m+=1:m>1&&(m-=1)),[m*360,M*100,z*100]},P.rgb.hwb=function(p){var b=p[0],x=p[1],w=p[2],m=P.rgb.hsl(p)[0],M=1/255*Math.min(b,Math.min(x,w));return w=1-1/255*Math.max(b,Math.max(x,w)),[m,M*100,w*100]},P.rgb.cmyk=function(p){var b=p[0]/255,x=p[1]/255,w=p[2]/255,m,M,L,B;return B=Math.min(1-b,1-x,1-w),m=(1-b-B)/(1-B)||0,M=(1-x-B)/(1-B)||0,L=(1-w-B)/(1-B)||0,[m*100,M*100,L*100,B*100]};function C(p,b){return Math.pow(p[0]-b[0],2)+Math.pow(p[1]-b[1],2)+Math.pow(p[2]-b[2],2)}P.rgb.keyword=function(p){var b=O[p];if(b)return b;var x=Infinity,w;for(var m in g)if(g.hasOwnProperty(m)){var M=g[m],L=C(p,M);L<x&&(x=L,w=m)}return w},P.keyword.rgb=function(p){return g[p]},P.rgb.xyz=function(p){var b=p[0]/255,x=p[1]/255,w=p[2]/255;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92,x=x>.04045?Math.pow((x+.055)/1.055,2.4):x/12.92,w=w>.04045?Math.pow((w+.055)/1.055,2.4):w/12.92;var m=b*.4124+x*.3576+w*.1805,M=b*.2126+x*.7152+w*.0722,L=b*.0193+x*.1192+w*.9505;return[m*100,M*100,L*100]},P.rgb.lab=function(p){var b=P.rgb.xyz(p),x=b[0],w=b[1],m=b[2],M,L,B;return x/=95.047,w/=100,m/=108.883,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,w=w>.008856?Math.pow(w,1/3):7.787*w+16/116,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,M=116*w-16,L=500*(x-w),B=200*(w-m),[M,L,B]},P.hsl.rgb=function(p){var b=p[0]/360,x=p[1]/100,w=p[2]/100,m,M,L,B,D;if(x===0)return D=w*255,[D,D,D];w<.5?M=w*(1+x):M=w+x-w*x,m=2*w-M,B=[0,0,0];for(var z=0;z<3;z++)L=b+1/3*-(z-1),L<0&&L++,L>1&&L--,6*L<1?D=m+(M-m)*6*L:2*L<1?D=M:3*L<2?D=m+(M-m)*(2/3-L)*6:D=m,B[z]=D*255;return B},P.hsl.hsv=function(p){var b=p[0],x=p[1]/100,w=p[2]/100,m=x,M=Math.max(w,.01),L,B;return w*=2,x*=w<=1?w:2-w,m*=M<=1?M:2-M,B=(w+x)/2,L=w===0?2*m/(M+m):2*x/(w+x),[b,L*100,B*100]},P.hsv.rgb=function(p){var b=p[0]/60,x=p[1]/100,w=p[2]/100,m=Math.floor(b)%6,M=b-Math.floor(b),L=255*w*(1-x),B=255*w*(1-x*M),D=255*w*(1-x*(1-M));switch(w*=255,m){case 0:return[w,D,L];case 1:return[B,w,L];case 2:return[L,w,D];case 3:return[L,B,w];case 4:return[D,L,w];case 5:return[w,L,B]}},P.hsv.hsl=function(p){var b=p[0],x=p[1]/100,w=p[2]/100,m=Math.max(w,.01),M,L,B;return B=(2-x)*w,M=(2-x)*m,L=x*m,L/=M<=1?M:2-M,L=L||0,B/=2,[b,L*100,B*100]},P.hwb.rgb=function(p){var b=p[0]/360,x=p[1]/100,w=p[2]/100,m=x+w,M,L,B,D;m>1&&(x/=m,w/=m),M=Math.floor(6*b),L=1-w,B=6*b-M,(M&1)!=0&&(B=1-B),D=x+B*(L-x);var z,q,K;switch(M){default:case 6:case 0:z=L,q=D,K=x;break;case 1:z=D,q=L,K=x;break;case 2:z=x,q=L,K=D;break;case 3:z=x,q=D,K=L;break;case 4:z=D,q=x,K=L;break;case 5:z=L,q=x,K=D;break}return[z*255,q*255,K*255]},P.cmyk.rgb=function(p){var b=p[0]/100,x=p[1]/100,w=p[2]/100,m=p[3]/100,M,L,B;return M=1-Math.min(1,b*(1-m)+m),L=1-Math.min(1,x*(1-m)+m),B=1-Math.min(1,w*(1-m)+m),[M*255,L*255,B*255]},P.xyz.rgb=function(p){var b=p[0]/100,x=p[1]/100,w=p[2]/100,m,M,L;return m=b*3.2406+x*-1.5372+w*-.4986,M=b*-.9689+x*1.8758+w*.0415,L=b*.0557+x*-.204+w*1.057,m=m>.0031308?1.055*Math.pow(m,1/2.4)-.055:m*12.92,M=M>.0031308?1.055*Math.pow(M,1/2.4)-.055:M*12.92,L=L>.0031308?1.055*Math.pow(L,1/2.4)-.055:L*12.92,m=Math.min(Math.max(0,m),1),M=Math.min(Math.max(0,M),1),L=Math.min(Math.max(0,L),1),[m*255,M*255,L*255]},P.xyz.lab=function(p){var b=p[0],x=p[1],w=p[2],m,M,L;return b/=95.047,x/=100,w/=108.883,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,w=w>.008856?Math.pow(w,1/3):7.787*w+16/116,m=116*x-16,M=500*(b-x),L=200*(x-w),[m,M,L]},P.lab.xyz=function(p){var b=p[0],x=p[1],w=p[2],m,M,L;M=(b+16)/116,m=x/500+M,L=M-w/200;var B=Math.pow(M,3),D=Math.pow(m,3),z=Math.pow(L,3);return M=B>.008856?B:(M-16/116)/7.787,m=D>.008856?D:(m-16/116)/7.787,L=z>.008856?z:(L-16/116)/7.787,m*=95.047,M*=100,L*=108.883,[m,M,L]},P.lab.lch=function(p){var b=p[0],x=p[1],w=p[2],m,M,L;return m=Math.atan2(w,x),M=m*360/2/Math.PI,M<0&&(M+=360),L=Math.sqrt(x*x+w*w),[b,L,M]},P.lch.lab=function(p){var b=p[0],x=p[1],w=p[2],m,M,L;return L=w/360*2*Math.PI,m=x*Math.cos(L),M=x*Math.sin(L),[b,m,M]},P.rgb.ansi16=function(p){var b=p[0],x=p[1],w=p[2],m=1 in arguments?arguments[1]:P.rgb.hsv(p)[2];if(m=Math.round(m/50),m===0)return 30;var M=30+(Math.round(w/255)<<2|Math.round(x/255)<<1|Math.round(b/255));return m===2&&(M+=60),M},P.hsv.ansi16=function(p){return P.rgb.ansi16(P.hsv.rgb(p),p[2])},P.rgb.ansi256=function(p){var b=p[0],x=p[1],w=p[2];if(b===x&&x===w)return b<8?16:b>248?231:Math.round((b-8)/247*24)+232;var m=16+36*Math.round(b/255*5)+6*Math.round(x/255*5)+Math.round(w/255*5);return m},P.ansi16.rgb=function(p){var b=p%10;if(b===0||b===7)return p>50&&(b+=3.5),b=b/10.5*255,[b,b,b];var x=(~~(p>50)+1)*.5,w=(b&1)*x*255,m=(b>>1&1)*x*255,M=(b>>2&1)*x*255;return[w,m,M]},P.ansi256.rgb=function(p){if(p>=232){var b=(p-232)*10+8;return[b,b,b]}p-=16;var x,w=Math.floor(p/36)/5*255,m=Math.floor((x=p%36)/6)/5*255,M=x%6/5*255;return[w,m,M]},P.rgb.hex=function(p){var b=((Math.round(p[0])&255)<<16)+((Math.round(p[1])&255)<<8)+(Math.round(p[2])&255),x=b.toString(16).toUpperCase();return"000000".substring(x.length)+x},P.hex.rgb=function(p){var b=p.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!b)return[0,0,0];var x=b[0];b[0].length===3&&(x=x.split("").map(function(B){return B+B}).join(""));var w=parseInt(x,16),m=w>>16&255,M=w>>8&255,L=w&255;return[m,M,L]},P.rgb.hcg=function(p){var b=p[0]/255,x=p[1]/255,w=p[2]/255,m=Math.max(Math.max(b,x),w),M=Math.min(Math.min(b,x),w),L=m-M,B,D;return L<1?B=M/(1-L):B=0,L<=0?D=0:m===b?D=(x-w)/L%6:m===x?D=2+(w-b)/L:D=4+(b-x)/L+4,D/=6,D%=1,[D*360,L*100,B*100]},P.hsl.hcg=function(p){var b=p[1]/100,x=p[2]/100,w=1,m=0;return x<.5?w=2*b*x:w=2*b*(1-x),w<1&&(m=(x-.5*w)/(1-w)),[p[0],w*100,m*100]},P.hsv.hcg=function(p){var b=p[1]/100,x=p[2]/100,w=b*x,m=0;return w<1&&(m=(x-w)/(1-w)),[p[0],w*100,m*100]},P.hcg.rgb=function(p){var b=p[0]/360,x=p[1]/100,w=p[2]/100;if(x===0)return[w*255,w*255,w*255];var m=[0,0,0],M=b%1*6,L=M%1,B=1-L,D=0;switch(Math.floor(M)){case 0:m[0]=1,m[1]=L,m[2]=0;break;case 1:m[0]=B,m[1]=1,m[2]=0;break;case 2:m[0]=0,m[1]=1,m[2]=L;break;case 3:m[0]=0,m[1]=B,m[2]=1;break;case 4:m[0]=L,m[1]=0,m[2]=1;break;default:m[0]=1,m[1]=0,m[2]=B}return D=(1-x)*w,[(x*m[0]+D)*255,(x*m[1]+D)*255,(x*m[2]+D)*255]},P.hcg.hsv=function(p){var b=p[1]/100,x=p[2]/100,w=b+x*(1-b),m=0;return w>0&&(m=b/w),[p[0],m*100,w*100]},P.hcg.hsl=function(p){var b=p[1]/100,x=p[2]/100,w=x*(1-b)+.5*b,m=0;return w>0&&w<.5?m=b/(2*w):w>=.5&&w<1&&(m=b/(2*(1-w))),[p[0],m*100,w*100]},P.hcg.hwb=function(p){var b=p[1]/100,x=p[2]/100,w=b+x*(1-b);return[p[0],(w-b)*100,(1-w)*100]},P.hwb.hcg=function(p){var b=p[1]/100,x=p[2]/100,w=1-x,m=w-b,M=0;return m<1&&(M=(w-m)/(1-m)),[p[0],m*100,M*100]},P.apple.rgb=function(p){return[p[0]/65535*255,p[1]/65535*255,p[2]/65535*255]},P.rgb.apple=function(p){return[p[0]/255*65535,p[1]/255*65535,p[2]/255*65535]},P.gray.rgb=function(p){return[p[0]/100*255,p[0]/100*255,p[0]/100*255]},P.gray.hsl=P.gray.hsv=function(p){return[0,0,p[0]]},P.gray.hwb=function(p){return[0,100,p[0]]},P.gray.cmyk=function(p){return[0,0,0,p[0]]},P.gray.lab=function(p){return[p[0],0,0]},P.gray.hex=function(p){var b=Math.round(p[0]/100*255)&255,x=(b<<16)+(b<<8)+b,w=x.toString(16).toUpperCase();return"000000".substring(w.length)+w},P.rgb.gray=function(p){var b=(p[0]+p[1]+p[2])/3;return[b/255*100]}},80978:function(mt,S,v){var g=v(12956),O=v(84814),I={},P=Object.keys(g);function T(E){var C=function(p){return p==null?p:(arguments.length>1&&(p=Array.prototype.slice.call(arguments)),E(p))};return"conversion"in E&&(C.conversion=E.conversion),C}function A(E){var C=function(p){if(p==null)return p;arguments.length>1&&(p=Array.prototype.slice.call(arguments));var b=E(p);if(typeof b=="object")for(var x=b.length,w=0;w<x;w++)b[w]=Math.round(b[w]);return b};return"conversion"in E&&(C.conversion=E.conversion),C}P.forEach(function(E){I[E]={},Object.defineProperty(I[E],"channels",{value:g[E].channels}),Object.defineProperty(I[E],"labels",{value:g[E].labels});var C=O(E),p=Object.keys(C);p.forEach(function(b){var x=C[b];I[E][b]=A(x),I[E][b].raw=T(x)})}),mt.exports=I},84814:function(mt,S,v){var g=v(12956);function O(){for(var A={},E=Object.keys(g),C=E.length,p=0;p<C;p++)A[E[p]]={distance:-1,parent:null};return A}function I(A){var E=O(),C=[A];for(E[A].distance=0;C.length;)for(var p=C.pop(),b=Object.keys(g[p]),x=b.length,w=0;w<x;w++){var m=b[w],M=E[m];M.distance===-1&&(M.distance=E[p].distance+1,M.parent=p,C.unshift(m))}return E}function P(A,E){return function(C){return E(A(C))}}function T(A,E){for(var C=[E[A].parent,A],p=g[E[A].parent][A],b=E[A].parent;E[b].parent;)C.unshift(E[b].parent),p=P(g[E[b].parent][b],p),b=E[b].parent;return p.conversion=C,p}mt.exports=function(A){for(var E=I(A),C={},p=Object.keys(E),b=p.length,x=0;x<b;x++){var w=p[x],m=E[w];m.parent!==null&&(C[w]=T(w,E))}return C}},58900:function(mt){"use strict";mt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},68716:function(mt,S,v){"use strict";v.d(S,{yD:function(){return g},_e:function(){return O},tw:function(){return I}});function g(P){return P*P*P}function O(P){return--P*P*P+1}function I(P){return((P*=2)<=1?P*P*P:(P-=2)*P*P+2)/2}},13681:function(mt,S,v){"use strict";v.r(S),v.d(S,{easeBack:function(){return St},easeBackIn:function(){return f},easeBackInOut:function(){return St},easeBackOut:function(){return yt},easeBounce:function(){return U},easeBounceIn:function(){return Z},easeBounceInOut:function(){return j},easeBounceOut:function(){return U},easeCircle:function(){return it},easeCircleIn:function(){return q},easeCircleInOut:function(){return it},easeCircleOut:function(){return K},easeCubic:function(){return T.tw},easeCubicIn:function(){return T.yD},easeCubicInOut:function(){return T.tw},easeCubicOut:function(){return T._e},easeElastic:function(){return _t},easeElasticIn:function(){return At},easeElasticInOut:function(){return Lt},easeElasticOut:function(){return _t},easeExp:function(){return z},easeExpIn:function(){return B},easeExpInOut:function(){return z},easeExpOut:function(){return D},easeLinear:function(){return g},easePoly:function(){return p},easePolyIn:function(){return E},easePolyInOut:function(){return p},easePolyOut:function(){return C},easeQuad:function(){return P},easeQuadIn:function(){return O},easeQuadInOut:function(){return P},easeQuadOut:function(){return I},easeSin:function(){return M},easeSinIn:function(){return w},easeSinInOut:function(){return M},easeSinOut:function(){return m}});function g(xt){return+xt}function O(xt){return xt*xt}function I(xt){return xt*(2-xt)}function P(xt){return((xt*=2)<=1?xt*xt:--xt*(2-xt)+1)/2}var T=v(68716),A=3,E=function xt(ot){ot=+ot;function tt(Q){return Math.pow(Q,ot)}return tt.exponent=xt,tt}(A),C=function xt(ot){ot=+ot;function tt(Q){return 1-Math.pow(1-Q,ot)}return tt.exponent=xt,tt}(A),p=function xt(ot){ot=+ot;function tt(Q){return((Q*=2)<=1?Math.pow(Q,ot):2-Math.pow(2-Q,ot))/2}return tt.exponent=xt,tt}(A),b=Math.PI,x=b/2;function w(xt){return+xt==1?1:1-Math.cos(xt*x)}function m(xt){return Math.sin(xt*x)}function M(xt){return(1-Math.cos(b*xt))/2}function L(xt){return(Math.pow(2,-10*xt)-.0009765625)*1.0009775171065494}function B(xt){return L(1-+xt)}function D(xt){return 1-L(xt)}function z(xt){return((xt*=2)<=1?L(1-xt):2-L(xt-1))/2}function q(xt){return 1-Math.sqrt(1-xt*xt)}function K(xt){return Math.sqrt(1- --xt*xt)}function it(xt){return((xt*=2)<=1?1-Math.sqrt(1-xt*xt):Math.sqrt(1-(xt-=2)*xt)+1)/2}var ct=4/11,st=6/11,Ot=8/11,Dt=3/4,Ht=9/11,N=10/11,W=15/16,X=21/22,V=63/64,lt=1/ct/ct;function Z(xt){return 1-U(1-xt)}function U(xt){return(xt=+xt)<ct?lt*xt*xt:xt<Ot?lt*(xt-=st)*xt+Dt:xt<N?lt*(xt-=Ht)*xt+W:lt*(xt-=X)*xt+V}function j(xt){return((xt*=2)<=1?1-U(1-xt):U(xt-1)+1)/2}var H=1.70158,f=function xt(ot){ot=+ot;function tt(Q){return(Q=+Q)*Q*(ot*(Q-1)+Q)}return tt.overshoot=xt,tt}(H),yt=function xt(ot){ot=+ot;function tt(Q){return--Q*Q*((Q+1)*ot+Q)+1}return tt.overshoot=xt,tt}(H),St=function xt(ot){ot=+ot;function tt(Q){return((Q*=2)<1?Q*Q*((ot+1)*Q-ot):(Q-=2)*Q*((ot+1)*Q+ot)+2)/2}return tt.overshoot=xt,tt}(H),at=2*Math.PI,Ct=1,wt=.3,At=function xt(ot,tt){var Q=Math.asin(1/(ot=Math.max(1,ot)))*(tt/=at);function dt(rt){return ot*L(- --rt)*Math.sin((Q-rt)/tt)}return dt.amplitude=function(rt){return xt(rt,tt*at)},dt.period=function(rt){return xt(ot,rt)},dt}(Ct,wt),_t=function xt(ot,tt){var Q=Math.asin(1/(ot=Math.max(1,ot)))*(tt/=at);function dt(rt){return 1-ot*L(rt=+rt)*Math.sin((rt+Q)/tt)}return dt.amplitude=function(rt){return xt(rt,tt*at)},dt.period=function(rt){return xt(ot,rt)},dt}(Ct,wt),Lt=function xt(ot,tt){var Q=Math.asin(1/(ot=Math.max(1,ot)))*(tt/=at);function dt(rt){return((rt=rt*2-1)<0?ot*L(-rt)*Math.sin((Q-rt)/tt):2-ot*L(rt)*Math.sin((Q+rt)/tt))/2}return dt.amplitude=function(rt){return xt(rt,tt*at)},dt.period=function(rt){return xt(ot,rt)},dt}(Ct,wt)},88122:function(mt,S,v){"use strict";v.d(S,{Z:function(){return I},M:function(){return P}});var g=v(42800),O=v(67896);function I(T,A){return((0,O.v)(A)?O.Z:P)(T,A)}function P(T,A){var E=A?A.length:0,C=T?Math.min(E,T.length):0,p=new Array(C),b=new Array(E),x;for(x=0;x<C;++x)p[x]=(0,g.Z)(T[x],A[x]);for(;x<E;++x)b[x]=A[x];return function(w){for(x=0;x<C;++x)b[x]=p[x](w);return b}}},67896:function(mt,S,v){"use strict";v.d(S,{Z:function(){return g},v:function(){return O}});function g(I,P){P||(P=[]);var T=I?Math.min(P.length,I.length):0,A=P.slice(),E;return function(C){for(E=0;E<T;++E)A[E]=I[E]*(1-C)+P[E]*C;return A}}function O(I){return ArrayBuffer.isView(I)&&!(I instanceof DataView)}},42800:function(mt,S,v){"use strict";v.d(S,{Z:function(){return me}});function g(Xt,$t,fe){Xt.prototype=$t.prototype=fe,fe.constructor=Xt}function O(Xt,$t){var fe=Object.create(Xt.prototype);for(var Se in $t)fe[Se]=$t[Se];return fe}function I(){}var P=.7,T=1/P,A="\\s*([+-]?\\d+)\\s*",E="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",C="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p=/^#([0-9a-f]{3,8})$/,b=new RegExp("^rgb\\("+[A,A,A]+"\\)$"),x=new RegExp("^rgb\\("+[C,C,C]+"\\)$"),w=new RegExp("^rgba\\("+[A,A,A,E]+"\\)$"),m=new RegExp("^rgba\\("+[C,C,C,E]+"\\)$"),M=new RegExp("^hsl\\("+[E,C,C]+"\\)$"),L=new RegExp("^hsla\\("+[E,C,C,E]+"\\)$"),B={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g(I,K,{copy:function(Xt){return Object.assign(new this.constructor,this,Xt)},displayable:function(){return this.rgb().displayable()},hex:D,formatHex:D,formatHsl:z,formatRgb:q,toString:q});function D(){return this.rgb().formatHex()}function z(){return V(this).formatHsl()}function q(){return this.rgb().formatRgb()}function K(Xt){var $t,fe;return Xt=(Xt+"").trim().toLowerCase(),($t=p.exec(Xt))?(fe=$t[1].length,$t=parseInt($t[1],16),fe===6?it($t):fe===3?new Dt($t>>8&15|$t>>4&240,$t>>4&15|$t&240,($t&15)<<4|$t&15,1):fe===8?ct($t>>24&255,$t>>16&255,$t>>8&255,($t&255)/255):fe===4?ct($t>>12&15|$t>>8&240,$t>>8&15|$t>>4&240,$t>>4&15|$t&240,(($t&15)<<4|$t&15)/255):null):($t=b.exec(Xt))?new Dt($t[1],$t[2],$t[3],1):($t=x.exec(Xt))?new Dt($t[1]*255/100,$t[2]*255/100,$t[3]*255/100,1):($t=w.exec(Xt))?ct($t[1],$t[2],$t[3],$t[4]):($t=m.exec(Xt))?ct($t[1]*255/100,$t[2]*255/100,$t[3]*255/100,$t[4]):($t=M.exec(Xt))?X($t[1],$t[2]/100,$t[3]/100,1):($t=L.exec(Xt))?X($t[1],$t[2]/100,$t[3]/100,$t[4]):B.hasOwnProperty(Xt)?it(B[Xt]):Xt==="transparent"?new Dt(NaN,NaN,NaN,0):null}function it(Xt){return new Dt(Xt>>16&255,Xt>>8&255,Xt&255,1)}function ct(Xt,$t,fe,Se){return Se<=0&&(Xt=$t=fe=NaN),new Dt(Xt,$t,fe,Se)}function st(Xt){return Xt instanceof I||(Xt=K(Xt)),Xt?(Xt=Xt.rgb(),new Dt(Xt.r,Xt.g,Xt.b,Xt.opacity)):new Dt}function Ot(Xt,$t,fe,Se){return arguments.length===1?st(Xt):new Dt(Xt,$t,fe,Se==null?1:Se)}function Dt(Xt,$t,fe,Se){this.r=+Xt,this.g=+$t,this.b=+fe,this.opacity=+Se}g(Dt,Ot,O(I,{brighter:function(Xt){return Xt=Xt==null?T:Math.pow(T,Xt),new Dt(this.r*Xt,this.g*Xt,this.b*Xt,this.opacity)},darker:function(Xt){return Xt=Xt==null?P:Math.pow(P,Xt),new Dt(this.r*Xt,this.g*Xt,this.b*Xt,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ht,formatHex:Ht,formatRgb:N,toString:N}));function Ht(){return"#"+W(this.r)+W(this.g)+W(this.b)}function N(){var Xt=this.opacity;return Xt=isNaN(Xt)?1:Math.max(0,Math.min(1,Xt)),(Xt===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(Xt===1?")":", "+Xt+")")}function W(Xt){return Xt=Math.max(0,Math.min(255,Math.round(Xt)||0)),(Xt<16?"0":"")+Xt.toString(16)}function X(Xt,$t,fe,Se){return Se<=0?Xt=$t=fe=NaN:fe<=0||fe>=1?Xt=$t=NaN:$t<=0&&(Xt=NaN),new Z(Xt,$t,fe,Se)}function V(Xt){if(Xt instanceof Z)return new Z(Xt.h,Xt.s,Xt.l,Xt.opacity);if(Xt instanceof I||(Xt=K(Xt)),!Xt)return new Z;if(Xt instanceof Z)return Xt;Xt=Xt.rgb();var $t=Xt.r/255,fe=Xt.g/255,Se=Xt.b/255,ke=Math.min($t,fe,Se),Oe=Math.max($t,fe,Se),$e=NaN,lr=Oe-ke,zt=(Oe+ke)/2;return lr?($t===Oe?$e=(fe-Se)/lr+(fe<Se)*6:fe===Oe?$e=(Se-$t)/lr+2:$e=($t-fe)/lr+4,lr/=zt<.5?Oe+ke:2-Oe-ke,$e*=60):lr=zt>0&&zt<1?0:$e,new Z($e,lr,zt,Xt.opacity)}function lt(Xt,$t,fe,Se){return arguments.length===1?V(Xt):new Z(Xt,$t,fe,Se==null?1:Se)}function Z(Xt,$t,fe,Se){this.h=+Xt,this.s=+$t,this.l=+fe,this.opacity=+Se}g(Z,lt,O(I,{brighter:function(Xt){return Xt=Xt==null?T:Math.pow(T,Xt),new Z(this.h,this.s,this.l*Xt,this.opacity)},darker:function(Xt){return Xt=Xt==null?P:Math.pow(P,Xt),new Z(this.h,this.s,this.l*Xt,this.opacity)},rgb:function(){var Xt=this.h%360+(this.h<0)*360,$t=isNaN(Xt)||isNaN(this.s)?0:this.s,fe=this.l,Se=fe+(fe<.5?fe:1-fe)*$t,ke=2*fe-Se;return new Dt(U(Xt>=240?Xt-240:Xt+120,ke,Se),U(Xt,ke,Se),U(Xt<120?Xt+240:Xt-120,ke,Se),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Xt=this.opacity;return Xt=isNaN(Xt)?1:Math.max(0,Math.min(1,Xt)),(Xt===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(Xt===1?")":", "+Xt+")")}}));function U(Xt,$t,fe){return(Xt<60?$t+(fe-$t)*Xt/60:Xt<180?fe:Xt<240?$t+(fe-$t)*(240-Xt)/60:$t)*255}function j(Xt,$t,fe,Se,ke){var Oe=Xt*Xt,$e=Oe*Xt;return((1-3*Xt+3*Oe-$e)*$t+(4-6*Oe+3*$e)*fe+(1+3*Xt+3*Oe-3*$e)*Se+$e*ke)/6}function H(Xt){var $t=Xt.length-1;return function(fe){var Se=fe<=0?fe=0:fe>=1?(fe=1,$t-1):Math.floor(fe*$t),ke=Xt[Se],Oe=Xt[Se+1],$e=Se>0?Xt[Se-1]:2*ke-Oe,lr=Se<$t-1?Xt[Se+2]:2*Oe-ke;return j((fe-Se/$t)*$t,$e,ke,Oe,lr)}}function f(Xt){var $t=Xt.length;return function(fe){var Se=Math.floor(((fe%=1)<0?++fe:fe)*$t),ke=Xt[(Se+$t-1)%$t],Oe=Xt[Se%$t],$e=Xt[(Se+1)%$t],lr=Xt[(Se+2)%$t];return j((fe-Se/$t)*$t,ke,Oe,$e,lr)}}function yt(Xt){return function(){return Xt}}function St(Xt,$t){return function(fe){return Xt+fe*$t}}function at(Xt,$t,fe){return Xt=Math.pow(Xt,fe),$t=Math.pow($t,fe)-Xt,fe=1/fe,function(Se){return Math.pow(Xt+Se*$t,fe)}}function Ct(Xt,$t){var fe=$t-Xt;return fe?St(Xt,fe>180||fe<-180?fe-360*Math.round(fe/360):fe):constant(isNaN(Xt)?$t:Xt)}function wt(Xt){return(Xt=+Xt)==1?At:function($t,fe){return fe-$t?at($t,fe,Xt):yt(isNaN($t)?fe:$t)}}function At(Xt,$t){var fe=$t-Xt;return fe?St(Xt,fe):yt(isNaN(Xt)?$t:Xt)}var _t=function Xt($t){var fe=wt($t);function Se(ke,Oe){var $e=fe((ke=Ot(ke)).r,(Oe=Ot(Oe)).r),lr=fe(ke.g,Oe.g),zt=fe(ke.b,Oe.b),qt=At(ke.opacity,Oe.opacity);return function(ae){return ke.r=$e(ae),ke.g=lr(ae),ke.b=zt(ae),ke.opacity=qt(ae),ke+""}}return Se.gamma=Xt,Se}(1);function Lt(Xt){return function($t){var fe=$t.length,Se=new Array(fe),ke=new Array(fe),Oe=new Array(fe),$e,lr;for($e=0;$e<fe;++$e)lr=Ot($t[$e]),Se[$e]=lr.r||0,ke[$e]=lr.g||0,Oe[$e]=lr.b||0;return Se=Xt(Se),ke=Xt(ke),Oe=Xt(Oe),lr.opacity=1,function(zt){return lr.r=Se(zt),lr.g=ke(zt),lr.b=Oe(zt),lr+""}}}var xt=Lt(H),ot=Lt(f),tt=v(88122);function Q(Xt,$t){var fe=new Date;return Xt=+Xt,$t=+$t,function(Se){return fe.setTime(Xt*(1-Se)+$t*Se),fe}}function dt(Xt,$t){return Xt=+Xt,$t=+$t,function(fe){return Xt*(1-fe)+$t*fe}}function rt(Xt,$t){var fe={},Se={},ke;(Xt===null||typeof Xt!="object")&&(Xt={}),($t===null||typeof $t!="object")&&($t={});for(ke in $t)ke in Xt?fe[ke]=me(Xt[ke],$t[ke]):Se[ke]=$t[ke];return function(Oe){for(ke in fe)Se[ke]=fe[ke](Oe);return Se}}var nt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pt=new RegExp(nt.source,"g");function It(Xt){return function(){return Xt}}function Vt(Xt){return function($t){return Xt($t)+""}}function Qt(Xt,$t){var fe=nt.lastIndex=pt.lastIndex=0,Se,ke,Oe,$e=-1,lr=[],zt=[];for(Xt=Xt+"",$t=$t+"";(Se=nt.exec(Xt))&&(ke=pt.exec($t));)(Oe=ke.index)>fe&&(Oe=$t.slice(fe,Oe),lr[$e]?lr[$e]+=Oe:lr[++$e]=Oe),(Se=Se[0])===(ke=ke[0])?lr[$e]?lr[$e]+=ke:lr[++$e]=ke:(lr[++$e]=null,zt.push({i:$e,x:dt(Se,ke)})),fe=pt.lastIndex;return fe<$t.length&&(Oe=$t.slice(fe),lr[$e]?lr[$e]+=Oe:lr[++$e]=Oe),lr.length<2?zt[0]?Vt(zt[0].x):It($t):($t=zt.length,function(qt){for(var ae=0,se;ae<$t;++ae)lr[(se=zt[ae]).i]=se.x(qt);return lr.join("")})}var he=v(67896);function me(Xt,$t){var fe=typeof $t,Se;return $t==null||fe==="boolean"?yt($t):(fe==="number"?dt:fe==="string"?(Se=K($t))?($t=Se,_t):Qt:$t instanceof K?_t:$t instanceof Date?Q:(0,he.v)($t)?he.Z:Array.isArray($t)?tt.M:typeof $t.valueOf!="function"&&typeof $t.toString!="function"||isNaN($t)?rt:dt)(Xt,$t)}},56645:function(mt,S){(function(v,g){g(S)})(this,function(v){"use strict";function g(N,W){return O(N)||I(N,W)||P()}function O(N){if(Array.isArray(N))return N}function I(N,W){var X=[],V=!0,lt=!1,Z=void 0;try{for(var U=N[Symbol.iterator](),j;!(V=(j=U.next()).done)&&(X.push(j.value),!(W&&X.length===W));V=!0);}catch(H){lt=!0,Z=H}finally{try{!V&&U.return!=null&&U.return()}finally{if(lt)throw Z}}return X}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function T(N,W,X,V){N=N.filter(function(wt,At){var _t=W(wt,At),Lt=X(wt,At);return _t!=null&&isFinite(_t)&&Lt!=null&&isFinite(Lt)}),V&&N.sort(function(wt,At){return W(wt)-W(At)});for(var lt=N.length,Z=new Float64Array(lt),U=new Float64Array(lt),j=0,H=0,f,yt,St,at=0;at<lt;)St=N[at],Z[at]=f=+W(St,at,N),U[at]=yt=+X(St,at,N),++at,j+=(f-j)/at,H+=(yt-H)/at;for(var Ct=0;Ct<lt;++Ct)Z[Ct]-=j,U[Ct]-=H;return[Z,U,j,H]}function A(N,W,X,V){for(var lt=0,Z=0,U=N.length;Z<U;Z++){var j=N[Z],H=+W(j,Z,N),f=+X(j,Z,N);H!=null&&isFinite(H)&&f!=null&&isFinite(f)&&V(H,f,lt++)}}function E(N,W,X,V,lt){var Z=0,U=0;return A(N,W,X,function(j,H){var f=H-lt(j),yt=H-V;Z+=f*f,U+=yt*yt}),1-Z/U}function C(N){return Math.atan2(N[1][1]-N[0][1],N[1][0]-N[0][0])*180/Math.PI}function p(N){return[(N[0][0]+N[1][0])/2,(N[0][1]+N[1][1])/2]}function b(N,W,X){for(var V=Math.log(W-N)*Math.LOG10E+1|0,lt=1*Math.pow(10,-V/2-1),Z=1e4,U=[H(N),H(W)],j=0;f(U)&&j<Z;);return U;function H(yt){return[yt,X(yt)]}function f(yt){j++;for(var St=yt.length,at=!1,Ct=0;Ct<St-1;Ct++){var wt=yt[Ct],At=yt[Ct+1],_t=p([wt,At]),Lt=H(_t[0]),xt=C([wt,_t]),ot=C([wt,Lt]),tt=Math.abs(xt-ot);tt>lt&&(yt.splice(Ct+1,0,Lt),at=!0)}return at}}function x(N,W,X,V){var lt=V-N*N,Z=Math.abs(lt)<1e-24?0:(X-N*W)/lt,U=W-Z*N;return[U,Z]}function w(){var N=function(Z){return Z[0]},W=function(Z){return Z[1]},X;function V(lt){var Z=0,U=0,j=0,H=0,f=0,yt=0,St=X?+X[0]:Infinity,at=X?+X[1]:-Infinity;A(lt,N,W,function(ot,tt){var Q=Math.log(tt),dt=ot*tt;++Z,U+=(tt-U)/Z,H+=(dt-H)/Z,yt+=(ot*dt-yt)/Z,j+=(tt*Q-j)/Z,f+=(dt*Q-f)/Z,X||(ot<St&&(St=ot),ot>at&&(at=ot))});var Ct=x(H/U,j/U,f/U,yt/U),wt=g(Ct,2),At=wt[0],_t=wt[1];At=Math.exp(At);var Lt=function(tt){return At*Math.exp(_t*tt)},xt=b(St,at,Lt);return xt.a=At,xt.b=_t,xt.predict=Lt,xt.rSquared=E(lt,N,W,U,Lt),xt}return V.domain=function(lt){return arguments.length?(X=lt,V):X},V.x=function(lt){return arguments.length?(N=lt,V):N},V.y=function(lt){return arguments.length?(W=lt,V):W},V}function m(){var N=function(Z){return Z[0]},W=function(Z){return Z[1]},X;function V(lt){var Z=0,U=0,j=0,H=0,f=0,yt=X?+X[0]:Infinity,St=X?+X[1]:-Infinity;A(lt,N,W,function(xt,ot){++Z,U+=(xt-U)/Z,j+=(ot-j)/Z,H+=(xt*ot-H)/Z,f+=(xt*xt-f)/Z,X||(xt<yt&&(yt=xt),xt>St&&(St=xt))});var at=x(U,j,H,f),Ct=g(at,2),wt=Ct[0],At=Ct[1],_t=function(ot){return At*ot+wt},Lt=[[yt,_t(yt)],[St,_t(St)]];return Lt.a=At,Lt.b=wt,Lt.predict=_t,Lt.rSquared=E(lt,N,W,j,_t),Lt}return V.domain=function(lt){return arguments.length?(X=lt,V):X},V.x=function(lt){return arguments.length?(N=lt,V):N},V.y=function(lt){return arguments.length?(W=lt,V):W},V}function M(N){N.sort(function(X,V){return X-V});var W=N.length/2;return W%1==0?(N[W-1]+N[W])/2:N[Math.floor(W)]}var L=2,B=1e-12;function D(){var N=function(Z){return Z[0]},W=function(Z){return Z[1]},X=.3;function V(lt){for(var Z=T(lt,N,W,!0),U=g(Z,4),j=U[0],H=U[1],f=U[2],yt=U[3],St=j.length,at=Math.max(2,~~(X*St)),Ct=new Float64Array(St),wt=new Float64Array(St),At=new Float64Array(St).fill(1),_t=-1;++_t<=L;){for(var Lt=[0,at-1],xt=0;xt<St;++xt){for(var ot=j[xt],tt=Lt[0],Q=Lt[1],dt=ot-j[tt]>j[Q]-ot?tt:Q,rt=0,nt=0,pt=0,It=0,Vt=0,Qt=1/Math.abs(j[dt]-ot||1),he=tt;he<=Q;++he){var me=j[he],Xt=H[he],$t=z(Math.abs(ot-me)*Qt)*At[he],fe=me*$t;rt+=$t,nt+=fe,pt+=Xt*$t,It+=Xt*fe,Vt+=me*fe}var Se=x(nt/rt,pt/rt,It/rt,Vt/rt),ke=g(Se,2),Oe=ke[0],$e=ke[1];Ct[xt]=Oe+$e*ot,wt[xt]=Math.abs(H[xt]-Ct[xt]),q(j,xt+1,Lt)}if(_t===L)break;var lr=M(wt);if(Math.abs(lr)<B)break;for(var zt=0,qt,ae;zt<St;++zt)qt=wt[zt]/(6*lr),At[zt]=qt>=1?B:(ae=1-qt*qt)*ae}return K(j,Ct,f,yt)}return V.bandwidth=function(lt){return arguments.length?(X=lt,V):X},V.x=function(lt){return arguments.length?(N=lt,V):N},V.y=function(lt){return arguments.length?(W=lt,V):W},V}function z(N){return(N=1-N*N*N)*N*N}function q(N,W,X){var V=N[W],lt=X[0],Z=X[1]+1;if(!(Z>=N.length))for(;W>lt&&N[Z]-V<=V-N[lt];)X[0]=++lt,X[1]=Z,++Z}function K(N,W,X,V){for(var lt=N.length,Z=[],U=0,j=0,H=[],f;U<lt;++U)f=N[U]+X,H[0]===f?H[1]+=(W[U]-H[1])/++j:(j=0,H[1]+=V,H=[f,W[U]],Z.push(H));return H[1]+=V,Z}function it(){var N=function(U){return U[0]},W=function(U){return U[1]},X=Math.E,V;function lt(Z){var U=0,j=0,H=0,f=0,yt=0,St=V?+V[0]:Infinity,at=V?+V[1]:-Infinity,Ct=Math.log(X);A(Z,N,W,function(tt,Q){var dt=Math.log(tt)/Ct;++U,j+=(dt-j)/U,H+=(Q-H)/U,f+=(dt*Q-f)/U,yt+=(dt*dt-yt)/U,V||(tt<St&&(St=tt),tt>at&&(at=tt))});var wt=x(j,H,f,yt),At=g(wt,2),_t=At[0],Lt=At[1],xt=function(Q){return Lt*Math.log(Q)/Ct+_t},ot=b(St,at,xt);return ot.a=Lt,ot.b=_t,ot.predict=xt,ot.rSquared=E(Z,N,W,H,xt),ot}return lt.domain=function(Z){return arguments.length?(V=Z,lt):V},lt.x=function(Z){return arguments.length?(N=Z,lt):N},lt.y=function(Z){return arguments.length?(W=Z,lt):W},lt.base=function(Z){return arguments.length?(X=Z,lt):X},lt}function ct(){var N=function(Z){return Z[0]},W=function(Z){return Z[1]},X;function V(lt){var Z=T(lt,N,W),U=g(Z,4),j=U[0],H=U[1],f=U[2],yt=U[3],St=j.length,at=0,Ct=0,wt=0,At=0,_t=0,Lt,xt,ot,tt;for(Lt=0;Lt<St;)xt=j[Lt],ot=H[Lt++],tt=xt*xt,at+=(tt-at)/Lt,Ct+=(tt*xt-Ct)/Lt,wt+=(tt*tt-wt)/Lt,At+=(xt*ot-At)/Lt,_t+=(tt*ot-_t)/Lt;var Q=0,dt=0,rt=X?+X[0]:Infinity,nt=X?+X[1]:-Infinity;A(lt,N,W,function($t,fe){dt++,Q+=(fe-Q)/dt,X||($t<rt&&(rt=$t),$t>nt&&(nt=$t))});var pt=wt-at*at,It=at*pt-Ct*Ct,Vt=(_t*at-At*Ct)/It,Qt=(At*pt-_t*Ct)/It,he=-Vt*at,me=function(fe){return fe=fe-f,Vt*fe*fe+Qt*fe+he+yt},Xt=b(rt,nt,me);return Xt.a=Vt,Xt.b=Qt-2*Vt*f,Xt.c=he-Qt*f+Vt*f*f+yt,Xt.predict=me,Xt.rSquared=E(lt,N,W,Q,me),Xt}return V.domain=function(lt){return arguments.length?(X=lt,V):X},V.x=function(lt){return arguments.length?(N=lt,V):N},V.y=function(lt){return arguments.length?(W=lt,V):W},V}function st(){var N=function(U){return U[0]},W=function(U){return U[1]},X=3,V;function lt(Z){if(X===1){var U=m().x(N).y(W).domain(V)(Z);return U.coefficients=[U.b,U.a],delete U.a,delete U.b,U}if(X===2){var j=ct().x(N).y(W).domain(V)(Z);return j.coefficients=[j.c,j.b,j.a],delete j.a,delete j.b,delete j.c,j}var H=T(Z,N,W),f=g(H,4),yt=f[0],St=f[1],at=f[2],Ct=f[3],wt=yt.length,At=[],_t=[],Lt=X+1,xt=0,ot=0,tt=V?+V[0]:Infinity,Q=V?+V[1]:-Infinity;A(Z,N,W,function(me,Xt){++ot,xt+=(Xt-xt)/ot,V||(me<tt&&(tt=me),me>Q&&(Q=me))});var dt,rt,nt,pt,It;for(dt=0;dt<Lt;++dt){for(nt=0,pt=0;nt<wt;++nt)pt+=Math.pow(yt[nt],dt)*St[nt];for(At.push(pt),It=new Float64Array(Lt),rt=0;rt<Lt;++rt){for(nt=0,pt=0;nt<wt;++nt)pt+=Math.pow(yt[nt],dt+rt);It[rt]=pt}_t.push(It)}_t.push(At);var Vt=Dt(_t),Qt=function(Xt){Xt-=at;var $t=Ct+Vt[0]+Vt[1]*Xt+Vt[2]*Xt*Xt;for(dt=3;dt<Lt;++dt)$t+=Vt[dt]*Math.pow(Xt,dt);return $t},he=b(tt,Q,Qt);return he.coefficients=Ot(Lt,Vt,-at,Ct),he.predict=Qt,he.rSquared=E(Z,N,W,xt,Qt),he}return lt.domain=function(Z){return arguments.length?(V=Z,lt):V},lt.x=function(Z){return arguments.length?(N=Z,lt):N},lt.y=function(Z){return arguments.length?(W=Z,lt):W},lt.order=function(Z){return arguments.length?(X=Z,lt):X},lt}function Ot(N,W,X,V){var lt=Array(N),Z,U,j,H;for(Z=0;Z<N;++Z)lt[Z]=0;for(Z=N-1;Z>=0;--Z)for(j=W[Z],H=1,lt[Z]+=j,U=1;U<=Z;++U)H*=(Z+1-U)/U,lt[Z-U]+=j*Math.pow(X,U)*H;return lt[0]+=V,lt}function Dt(N){var W=N.length-1,X=[],V,lt,Z,U,j;for(V=0;V<W;++V){for(U=V,lt=V+1;lt<W;++lt)Math.abs(N[V][lt])>Math.abs(N[V][U])&&(U=lt);for(Z=V;Z<W+1;++Z)j=N[Z][V],N[Z][V]=N[Z][U],N[Z][U]=j;for(lt=V+1;lt<W;++lt)for(Z=W;Z>=V;Z--)N[Z][lt]-=N[Z][V]*N[V][lt]/N[V][V]}for(lt=W-1;lt>=0;--lt){for(j=0,Z=lt+1;Z<W;++Z)j+=N[Z][lt]*X[Z];X[lt]=(N[W][lt]-j)/N[lt][lt]}return X}function Ht(){var N=function(Z){return Z[0]},W=function(Z){return Z[1]},X;function V(lt){var Z=0,U=0,j=0,H=0,f=0,yt=0,St=X?+X[0]:Infinity,at=X?+X[1]:-Infinity;A(lt,N,W,function(ot,tt){var Q=Math.log(ot),dt=Math.log(tt);++Z,U+=(Q-U)/Z,j+=(dt-j)/Z,H+=(Q*dt-H)/Z,f+=(Q*Q-f)/Z,yt+=(tt-yt)/Z,X||(ot<St&&(St=ot),ot>at&&(at=ot))});var Ct=x(U,j,H,f),wt=g(Ct,2),At=wt[0],_t=wt[1];At=Math.exp(At);var Lt=function(tt){return At*Math.pow(tt,_t)},xt=b(St,at,Lt);return xt.a=At,xt.b=_t,xt.predict=Lt,xt.rSquared=E(lt,N,W,yt,Lt),xt}return V.domain=function(lt){return arguments.length?(X=lt,V):X},V.x=function(lt){return arguments.length?(N=lt,V):N},V.y=function(lt){return arguments.length?(W=lt,V):W},V}v.regressionExp=w,v.regressionLinear=m,v.regressionLoess=D,v.regressionLog=it,v.regressionPoly=st,v.regressionPow=Ht,v.regressionQuad=ct,Object.defineProperty(v,"__esModule",{value:!0})})},35374:function(mt,S,v){"use strict";v.d(S,{HT:function(){return L}});var g=0,O=0,I=0,P=1e3,T,A,E=0,C=0,p=0,b=typeof performance=="object"&&performance.now?performance:Date,x=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(it){setTimeout(it,17)};function w(){return C||(x(m),C=b.now()+p)}function m(){C=0}function M(){this._call=this._time=this._next=null}M.prototype=L.prototype={constructor:M,restart:function(it,ct,st){if(typeof it!="function")throw new TypeError("callback is not a function");st=(st==null?w():+st)+(ct==null?0:+ct),!this._next&&A!==this&&(A?A._next=this:T=this,A=this),this._call=it,this._time=st,K()},stop:function(){this._call&&(this._call=null,this._time=Infinity,K())}};function L(it,ct,st){var Ot=new M;return Ot.restart(it,ct,st),Ot}function B(){w(),++g;for(var it=T,ct;it;)(ct=C-it._time)>=0&&it._call.call(null,ct),it=it._next;--g}function D(){C=(E=b.now())+p,g=O=0;try{B()}finally{g=0,q(),C=0}}function z(){var it=b.now(),ct=it-E;ct>P&&(p-=ct,E=it)}function q(){for(var it,ct=T,st,Ot=Infinity;ct;)ct._call?(Ot>ct._time&&(Ot=ct._time),it=ct,ct=ct._next):(st=ct._next,ct._next=null,ct=it?it._next=st:T=st);A=it,K(Ot)}function K(it){if(!g){O&&(O=clearTimeout(O));var ct=it-C;ct>24?(it<Infinity&&(O=setTimeout(D,it-b.now()-p)),I&&(I=clearInterval(I))):(I||(E=b.now(),I=setInterval(z,P)),g=1,x(D))}}},70681:function(mt,S,v){mt.exports={graphlib:v(70574),layout:v(98123),debug:v(27570),util:{time:v(11138).time,notime:v(11138).notime},version:v(88177)}},92188:function(mt,S,v){"use strict";var g=v(38436),O=v(74079);mt.exports={run:I,undo:T};function I(A){var E=A.graph().acyclicer==="greedy"?O(A,C(A)):P(A);g.forEach(E,function(p){var b=A.edge(p);A.removeEdge(p),b.forwardName=p.name,b.reversed=!0,A.setEdge(p.w,p.v,b,g.uniqueId("rev"))});function C(p){return function(b){return p.edge(b).weight}}}function P(A){var E=[],C={},p={};function b(x){g.has(p,x)||(p[x]=!0,C[x]=!0,g.forEach(A.outEdges(x),function(w){g.has(C,w.w)?E.push(w):b(w.w)}),delete C[x])}return g.forEach(A.nodes(),b),E}function T(A){g.forEach(A.edges(),function(E){var C=A.edge(E);if(C.reversed){A.removeEdge(E);var p=C.forwardName;delete C.reversed,delete C.forwardName,A.setEdge(E.w,E.v,C,p)}})}},61133:function(mt,S,v){var g=v(38436),O=v(11138);mt.exports=I;function I(T){function A(E){var C=T.children(E),p=T.node(E);if(C.length&&g.forEach(C,A),g.has(p,"minRank")){p.borderLeft=[],p.borderRight=[];for(var b=p.minRank,x=p.maxRank+1;b<x;++b)P(T,"borderLeft","_bl",E,p,b),P(T,"borderRight","_br",E,p,b)}}g.forEach(T.children(),A)}function P(T,A,E,C,p,b){var x={width:0,height:0,rank:b,borderType:A},w=p[A][b-1],m=O.addDummyNode(T,"border",x,E);p[A][b]=m,T.setParent(m,C),w&&T.setEdge(w,m,{weight:1})}},53258:function(mt,S,v){"use strict";var g=v(38436);mt.exports={adjust:O,undo:I};function O(b){var x=b.graph().rankdir.toLowerCase();(x==="lr"||x==="rl")&&P(b)}function I(b){var x=b.graph().rankdir.toLowerCase();(x==="bt"||x==="rl")&&A(b),(x==="lr"||x==="rl")&&(C(b),P(b))}function P(b){g.forEach(b.nodes(),function(x){T(b.node(x))}),g.forEach(b.edges(),function(x){T(b.edge(x))})}function T(b){var x=b.width;b.width=b.height,b.height=x}function A(b){g.forEach(b.nodes(),function(x){E(b.node(x))}),g.forEach(b.edges(),function(x){var w=b.edge(x);g.forEach(w.points,E),g.has(w,"y")&&E(w)})}function E(b){b.y=-b.y}function C(b){g.forEach(b.nodes(),function(x){p(b.node(x))}),g.forEach(b.edges(),function(x){var w=b.edge(x);g.forEach(w.points,p),g.has(w,"x")&&p(w)})}function p(b){var x=b.x;b.x=b.y,b.y=x}},77822:function(mt){mt.exports=S;function S(){var O={};O._next=O._prev=O,this._sentinel=O}S.prototype.dequeue=function(){var O=this._sentinel,I=O._prev;if(I!==O)return v(I),I},S.prototype.enqueue=function(O){var I=this._sentinel;O._prev&&O._next&&v(O),O._next=I._next,I._next._prev=O,I._next=O,O._prev=I},S.prototype.toString=function(){for(var O=[],I=this._sentinel,P=I._prev;P!==I;)O.push(JSON.stringify(P,g)),P=P._prev;return"["+O.join(", ")+"]"};function v(O){O._prev._next=O._next,O._next._prev=O._prev,delete O._next,delete O._prev}function g(O,I){if(O!=="_next"&&O!=="_prev")return I}},27570:function(mt,S,v){var g=v(38436),O=v(11138),I=v(70574).Graph;mt.exports={debugOrdering:P};function P(T){var A=O.buildLayerMatrix(T),E=new I({compound:!0,multigraph:!0}).setGraph({});return g.forEach(T.nodes(),function(C){E.setNode(C,{label:C}),E.setParent(C,"layer"+T.node(C).rank)}),g.forEach(T.edges(),function(C){E.setEdge(C.v,C.w,{},C.name)}),g.forEach(A,function(C,p){var b="layer"+p;E.setNode(b,{rank:"same"}),g.reduce(C,function(x,w){return E.setEdge(x,w,{style:"invis"}),w})}),E}},70574:function(mt,S,v){var g;try{g=v(28282)}catch(O){}g||(g=window.graphlib),mt.exports=g},74079:function(mt,S,v){var g=v(38436),O=v(70574).Graph,I=v(77822);mt.exports=T;var P=g.constant(1);function T(b,x){if(b.nodeCount()<=1)return[];var w=C(b,x||P),m=A(w.graph,w.buckets,w.zeroIdx);return g.flatten(g.map(m,function(M){return b.outEdges(M.v,M.w)}),!0)}function A(b,x,w){for(var m=[],M=x[x.length-1],L=x[0],B;b.nodeCount();){for(;B=L.dequeue();)E(b,x,w,B);for(;B=M.dequeue();)E(b,x,w,B);if(b.nodeCount()){for(var D=x.length-2;D>0;--D)if(B=x[D].dequeue(),B){m=m.concat(E(b,x,w,B,!0));break}}}return m}function E(b,x,w,m,M){var L=M?[]:void 0;return g.forEach(b.inEdges(m.v),function(B){var D=b.edge(B),z=b.node(B.v);M&&L.push({v:B.v,w:B.w}),z.out-=D,p(x,w,z)}),g.forEach(b.outEdges(m.v),function(B){var D=b.edge(B),z=B.w,q=b.node(z);q.in-=D,p(x,w,q)}),b.removeNode(m.v),L}function C(b,x){var w=new O,m=0,M=0;g.forEach(b.nodes(),function(D){w.setNode(D,{v:D,in:0,out:0})}),g.forEach(b.edges(),function(D){var z=w.edge(D.v,D.w)||0,q=x(D),K=z+q;w.setEdge(D.v,D.w,K),M=Math.max(M,w.node(D.v).out+=q),m=Math.max(m,w.node(D.w).in+=q)});var L=g.range(M+m+3).map(function(){return new I}),B=m+1;return g.forEach(w.nodes(),function(D){p(L,B,w.node(D))}),{graph:w,buckets:L,zeroIdx:B}}function p(b,x,w){w.out?w.in?b[w.out-w.in+x].enqueue(w):b[b.length-1].enqueue(w):b[0].enqueue(w)}},98123:function(mt,S,v){"use strict";var g=v(38436),O=v(92188),I=v(45995),P=v(78093),T=v(11138).normalizeRanks,A=v(24219),E=v(11138).removeEmptyRanks,C=v(72981),p=v(61133),b=v(53258),x=v(53408),w=v(17873),m=v(11138),M=v(70574).Graph;mt.exports=L;function L(wt,At){var _t=At&&At.debugTiming?m.time:m.notime;_t("layout",function(){var Lt=_t("  buildLayoutGraph",function(){return Ht(wt)});_t("  runLayout",function(){B(Lt,_t)}),_t("  updateInputGraph",function(){D(wt,Lt)})})}function B(wt,At){At("    makeSpaceForEdgeLabels",function(){N(wt)}),At("    removeSelfEdges",function(){f(wt)}),At("    acyclic",function(){O.run(wt)}),At("    nestingGraph.run",function(){C.run(wt)}),At("    rank",function(){P(m.asNonCompoundGraph(wt))}),At("    injectEdgeLabelProxies",function(){W(wt)}),At("    removeEmptyRanks",function(){E(wt)}),At("    nestingGraph.cleanup",function(){C.cleanup(wt)}),At("    normalizeRanks",function(){T(wt)}),At("    assignRankMinMax",function(){X(wt)}),At("    removeEdgeLabelProxies",function(){V(wt)}),At("    normalize.run",function(){I.run(wt)}),At("    parentDummyChains",function(){A(wt)}),At("    addBorderSegments",function(){p(wt)}),At("    order",function(){x(wt)}),At("    insertSelfEdges",function(){yt(wt)}),At("    adjustCoordinateSystem",function(){b.adjust(wt)}),At("    position",function(){w(wt)}),At("    positionSelfEdges",function(){St(wt)}),At("    removeBorderNodes",function(){H(wt)}),At("    normalize.undo",function(){I.undo(wt)}),At("    fixupEdgeLabelCoords",function(){U(wt)}),At("    undoCoordinateSystem",function(){b.undo(wt)}),At("    translateGraph",function(){lt(wt)}),At("    assignNodeIntersects",function(){Z(wt)}),At("    reversePoints",function(){j(wt)}),At("    acyclic.undo",function(){O.undo(wt)})}function D(wt,At){g.forEach(wt.nodes(),function(_t){var Lt=wt.node(_t),xt=At.node(_t);Lt&&(Lt.x=xt.x,Lt.y=xt.y,At.children(_t).length&&(Lt.width=xt.width,Lt.height=xt.height))}),g.forEach(wt.edges(),function(_t){var Lt=wt.edge(_t),xt=At.edge(_t);Lt.points=xt.points,g.has(xt,"x")&&(Lt.x=xt.x,Lt.y=xt.y)}),wt.graph().width=At.graph().width,wt.graph().height=At.graph().height}var z=["nodesep","edgesep","ranksep","marginx","marginy"],q={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},K=["acyclicer","ranker","rankdir","align"],it=["width","height"],ct={width:0,height:0},st=["minlen","weight","width","height","labeloffset"],Ot={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Dt=["labelpos"];function Ht(wt){var At=new M({multigraph:!0,compound:!0}),_t=Ct(wt.graph());return At.setGraph(g.merge({},q,at(_t,z),g.pick(_t,K))),g.forEach(wt.nodes(),function(Lt){var xt=Ct(wt.node(Lt));At.setNode(Lt,g.defaults(at(xt,it),ct)),At.setParent(Lt,wt.parent(Lt))}),g.forEach(wt.edges(),function(Lt){var xt=Ct(wt.edge(Lt));At.setEdge(Lt,g.merge({},Ot,at(xt,st),g.pick(xt,Dt)))}),At}function N(wt){var At=wt.graph();At.ranksep/=2,g.forEach(wt.edges(),function(_t){var Lt=wt.edge(_t);Lt.minlen*=2,Lt.labelpos.toLowerCase()!=="c"&&(At.rankdir==="TB"||At.rankdir==="BT"?Lt.width+=Lt.labeloffset:Lt.height+=Lt.labeloffset)})}function W(wt){g.forEach(wt.edges(),function(At){var _t=wt.edge(At);if(_t.width&&_t.height){var Lt=wt.node(At.v),xt=wt.node(At.w),ot={rank:(xt.rank-Lt.rank)/2+Lt.rank,e:At};m.addDummyNode(wt,"edge-proxy",ot,"_ep")}})}function X(wt){var At=0;g.forEach(wt.nodes(),function(_t){var Lt=wt.node(_t);Lt.borderTop&&(Lt.minRank=wt.node(Lt.borderTop).rank,Lt.maxRank=wt.node(Lt.borderBottom).rank,At=g.max(At,Lt.maxRank))}),wt.graph().maxRank=At}function V(wt){g.forEach(wt.nodes(),function(At){var _t=wt.node(At);_t.dummy==="edge-proxy"&&(wt.edge(_t.e).labelRank=_t.rank,wt.removeNode(At))})}function lt(wt){var At=Number.POSITIVE_INFINITY,_t=0,Lt=Number.POSITIVE_INFINITY,xt=0,ot=wt.graph(),tt=ot.marginx||0,Q=ot.marginy||0;function dt(rt){var nt=rt.x,pt=rt.y,It=rt.width,Vt=rt.height;At=Math.min(At,nt-It/2),_t=Math.max(_t,nt+It/2),Lt=Math.min(Lt,pt-Vt/2),xt=Math.max(xt,pt+Vt/2)}g.forEach(wt.nodes(),function(rt){dt(wt.node(rt))}),g.forEach(wt.edges(),function(rt){var nt=wt.edge(rt);g.has(nt,"x")&&dt(nt)}),At-=tt,Lt-=Q,g.forEach(wt.nodes(),function(rt){var nt=wt.node(rt);nt.x-=At,nt.y-=Lt}),g.forEach(wt.edges(),function(rt){var nt=wt.edge(rt);g.forEach(nt.points,function(pt){pt.x-=At,pt.y-=Lt}),g.has(nt,"x")&&(nt.x-=At),g.has(nt,"y")&&(nt.y-=Lt)}),ot.width=_t-At+tt,ot.height=xt-Lt+Q}function Z(wt){g.forEach(wt.edges(),function(At){var _t=wt.edge(At),Lt=wt.node(At.v),xt=wt.node(At.w),ot,tt;_t.points?(ot=_t.points[0],tt=_t.points[_t.points.length-1]):(_t.points=[],ot=xt,tt=Lt),_t.points.unshift(m.intersectRect(Lt,ot)),_t.points.push(m.intersectRect(xt,tt))})}function U(wt){g.forEach(wt.edges(),function(At){var _t=wt.edge(At);if(g.has(_t,"x"))switch((_t.labelpos==="l"||_t.labelpos==="r")&&(_t.width-=_t.labeloffset),_t.labelpos){case"l":_t.x-=_t.width/2+_t.labeloffset;break;case"r":_t.x+=_t.width/2+_t.labeloffset;break}})}function j(wt){g.forEach(wt.edges(),function(At){var _t=wt.edge(At);_t.reversed&&_t.points.reverse()})}function H(wt){g.forEach(wt.nodes(),function(At){if(wt.children(At).length){var _t=wt.node(At),Lt=wt.node(_t.borderTop),xt=wt.node(_t.borderBottom),ot=wt.node(g.last(_t.borderLeft)),tt=wt.node(g.last(_t.borderRight));_t.width=Math.abs(tt.x-ot.x),_t.height=Math.abs(xt.y-Lt.y),_t.x=ot.x+_t.width/2,_t.y=Lt.y+_t.height/2}}),g.forEach(wt.nodes(),function(At){wt.node(At).dummy==="border"&&wt.removeNode(At)})}function f(wt){g.forEach(wt.edges(),function(At){if(At.v===At.w){var _t=wt.node(At.v);_t.selfEdges||(_t.selfEdges=[]),_t.selfEdges.push({e:At,label:wt.edge(At)}),wt.removeEdge(At)}})}function yt(wt){var At=m.buildLayerMatrix(wt);g.forEach(At,function(_t){var Lt=0;g.forEach(_t,function(xt,ot){var tt=wt.node(xt);tt.order=ot+Lt,g.forEach(tt.selfEdges,function(Q){m.addDummyNode(wt,"selfedge",{width:Q.label.width,height:Q.label.height,rank:tt.rank,order:ot+ ++Lt,e:Q.e,label:Q.label},"_se")}),delete tt.selfEdges})})}function St(wt){g.forEach(wt.nodes(),function(At){var _t=wt.node(At);if(_t.dummy==="selfedge"){var Lt=wt.node(_t.e.v),xt=Lt.x+Lt.width/2,ot=Lt.y,tt=_t.x-xt,Q=Lt.height/2;wt.setEdge(_t.e,_t.label),wt.removeNode(At),_t.label.points=[{x:xt+2*tt/3,y:ot-Q},{x:xt+5*tt/6,y:ot-Q},{x:xt+tt,y:ot},{x:xt+5*tt/6,y:ot+Q},{x:xt+2*tt/3,y:ot+Q}],_t.label.x=_t.x,_t.label.y=_t.y}})}function at(wt,At){return g.mapValues(g.pick(wt,At),Number)}function Ct(wt){var At={};return g.forEach(wt,function(_t,Lt){At[Lt.toLowerCase()]=_t}),At}},38436:function(mt,S,v){var g;try{g={cloneDeep:v(50361),constant:v(75703),defaults:v(91747),each:v(66073),filter:v(63105),find:v(13311),flatten:v(85564),forEach:v(84486),forIn:v(62620),has:v(18721),isUndefined:v(52353),last:v(10928),map:v(35161),mapValues:v(66604),max:v(6162),merge:v(82492),min:v(53632),minBy:v(22762),now:v(7771),pick:v(78718),range:v(96026),reduce:v(54061),sortBy:v(89734),uniqueId:v(73955),values:v(52628),zipObject:v(7287)}}catch(O){}g||(g=window._),mt.exports=g},72981:function(mt,S,v){var g=v(38436),O=v(11138);mt.exports={run:I,cleanup:E};function I(C){var p=O.addDummyNode(C,"root",{},"_root"),b=T(C),x=g.max(g.values(b))-1,w=2*x+1;C.graph().nestingRoot=p,g.forEach(C.edges(),function(M){C.edge(M).minlen*=w});var m=A(C)+1;g.forEach(C.children(),function(M){P(C,p,w,m,x,b,M)}),C.graph().nodeRankFactor=w}function P(C,p,b,x,w,m,M){var L=C.children(M);if(!L.length){M!==p&&C.setEdge(p,M,{weight:0,minlen:b});return}var B=O.addBorderNode(C,"_bt"),D=O.addBorderNode(C,"_bb"),z=C.node(M);C.setParent(B,M),z.borderTop=B,C.setParent(D,M),z.borderBottom=D,g.forEach(L,function(q){P(C,p,b,x,w,m,q);var K=C.node(q),it=K.borderTop?K.borderTop:q,ct=K.borderBottom?K.borderBottom:q,st=K.borderTop?x:2*x,Ot=it!==ct?1:w-m[M]+1;C.setEdge(B,it,{weight:st,minlen:Ot,nestingEdge:!0}),C.setEdge(ct,D,{weight:st,minlen:Ot,nestingEdge:!0})}),C.parent(M)||C.setEdge(p,B,{weight:0,minlen:w+m[M]})}function T(C){var p={};function b(x,w){var m=C.children(x);m&&m.length&&g.forEach(m,function(M){b(M,w+1)}),p[x]=w}return g.forEach(C.children(),function(x){b(x,1)}),p}function A(C){return g.reduce(C.edges(),function(p,b){return p+C.edge(b).weight},0)}function E(C){var p=C.graph();C.removeNode(p.nestingRoot),delete p.nestingRoot,g.forEach(C.edges(),function(b){var x=C.edge(b);x.nestingEdge&&C.removeEdge(b)})}},45995:function(mt,S,v){"use strict";var g=v(38436),O=v(11138);mt.exports={run:I,undo:T};function I(A){A.graph().dummyChains=[],g.forEach(A.edges(),function(E){P(A,E)})}function P(A,E){var C=E.v,p=A.node(C).rank,b=E.w,x=A.node(b).rank,w=E.name,m=A.edge(E),M=m.labelRank;if(x!==p+1){A.removeEdge(E);var L,B,D;for(D=0,++p;p<x;++D,++p)m.points=[],B={width:0,height:0,edgeLabel:m,edgeObj:E,rank:p},L=O.addDummyNode(A,"edge",B,"_d"),p===M&&(B.width=m.width,B.height=m.height,B.dummy="edge-label",B.labelpos=m.labelpos),A.setEdge(C,L,{weight:m.weight},w),D===0&&A.graph().dummyChains.push(L),C=L;A.setEdge(C,b,{weight:m.weight},w)}}function T(A){g.forEach(A.graph().dummyChains,function(E){var C=A.node(E),p=C.edgeLabel,b;for(A.setEdge(C.edgeObj,p);C.dummy;)b=A.successors(E)[0],A.removeNode(E),p.points.push({x:C.x,y:C.y}),C.dummy==="edge-label"&&(p.x=C.x,p.y=C.y,p.width=C.width,p.height=C.height),E=b,C=A.node(E)})}},55093:function(mt,S,v){var g=v(38436);mt.exports=O;function O(I,P,T){var A={},E;g.forEach(T,function(C){for(var p=I.parent(C),b,x;p;){if(b=I.parent(p),b?(x=A[b],A[b]=p):(x=E,E=p),x&&x!==p){P.setEdge(x,p);return}p=b}})}},35439:function(mt,S,v){var g=v(38436);mt.exports=O;function O(I,P){return g.map(P,function(T){var A=I.inEdges(T);if(A.length){var E=g.reduce(A,function(C,p){var b=I.edge(p),x=I.node(p.v);return{sum:C.sum+b.weight*x.order,weight:C.weight+b.weight}},{sum:0,weight:0});return{v:T,barycenter:E.sum/E.weight,weight:E.weight}}else return{v:T}})}},23128:function(mt,S,v){var g=v(38436),O=v(70574).Graph;mt.exports=I;function I(T,A,E){var C=P(T),p=new O({compound:!0}).setGraph({root:C}).setDefaultNodeLabel(function(b){return T.node(b)});return g.forEach(T.nodes(),function(b){var x=T.node(b),w=T.parent(b);(x.rank===A||x.minRank<=A&&A<=x.maxRank)&&(p.setNode(b),p.setParent(b,w||C),g.forEach(T[E](b),function(m){var M=m.v===b?m.w:m.v,L=p.edge(M,b),B=g.isUndefined(L)?0:L.weight;p.setEdge(M,b,{weight:T.edge(m).weight+B})}),g.has(x,"minRank")&&p.setNode(b,{borderLeft:x.borderLeft[A],borderRight:x.borderRight[A]}))}),p}function P(T){for(var A;T.hasNode(A=g.uniqueId("_root")););return A}},56630:function(mt,S,v){"use strict";var g=v(38436);mt.exports=O;function O(P,T){for(var A=0,E=1;E<T.length;++E)A+=I(P,T[E-1],T[E]);return A}function I(P,T,A){for(var E=g.zipObject(A,g.map(A,function(m,M){return M})),C=g.flatten(g.map(T,function(m){return g.sortBy(g.map(P.outEdges(m),function(M){return{pos:E[M.w],weight:P.edge(M).weight}}),"pos")}),!0),p=1;p<A.length;)p<<=1;var b=2*p-1;p-=1;var x=g.map(new Array(b),function(){return 0}),w=0;return g.forEach(C.forEach(function(m){var M=m.pos+p;x[M]+=m.weight;for(var L=0;M>0;)M%2&&(L+=x[M+1]),M=M-1>>1,x[M]+=m.weight;w+=m.weight*L})),w}},53408:function(mt,S,v){"use strict";var g=v(38436),O=v(2588),I=v(56630),P=v(61026),T=v(23128),A=v(55093),E=v(70574).Graph,C=v(11138);mt.exports=p;function p(m){var M=C.maxRank(m),L=b(m,g.range(1,M+1),"inEdges"),B=b(m,g.range(M-1,-1,-1),"outEdges"),D=O(m);w(m,D);for(var z=Number.POSITIVE_INFINITY,q,K=0,it=0;it<4;++K,++it){x(K%2?L:B,K%4>=2),D=C.buildLayerMatrix(m);var ct=I(m,D);ct<z&&(it=0,q=g.cloneDeep(D),z=ct)}w(m,q)}function b(m,M,L){return g.map(M,function(B){return T(m,B,L)})}function x(m,M){var L=new E;g.forEach(m,function(B){var D=B.graph().root,z=P(B,D,L,M);g.forEach(z.vs,function(q,K){B.node(q).order=K}),A(B,L,z.vs)})}function w(m,M){g.forEach(M,function(L){g.forEach(L,function(B,D){m.node(B).order=D})})}},2588:function(mt,S,v){"use strict";var g=v(38436);mt.exports=O;function O(I){var P={},T=g.filter(I.nodes(),function(b){return!I.children(b).length}),A=g.max(g.map(T,function(b){return I.node(b).rank})),E=g.map(g.range(A+1),function(){return[]});function C(b){if(!g.has(P,b)){P[b]=!0;var x=I.node(b);E[x.rank].push(b),g.forEach(I.successors(b),C)}}var p=g.sortBy(T,function(b){return I.node(b).rank});return g.forEach(p,C),E}},83678:function(mt,S,v){"use strict";var g=v(38436);mt.exports=O;function O(T,A){var E={};g.forEach(T,function(p,b){var x=E[p.v]={indegree:0,in:[],out:[],vs:[p.v],i:b};g.isUndefined(p.barycenter)||(x.barycenter=p.barycenter,x.weight=p.weight)}),g.forEach(A.edges(),function(p){var b=E[p.v],x=E[p.w];!g.isUndefined(b)&&!g.isUndefined(x)&&(x.indegree++,b.out.push(E[p.w]))});var C=g.filter(E,function(p){return!p.indegree});return I(C)}function I(T){var A=[];function E(b){return function(x){x.merged||(g.isUndefined(x.barycenter)||g.isUndefined(b.barycenter)||x.barycenter>=b.barycenter)&&P(b,x)}}function C(b){return function(x){x.in.push(b),--x.indegree==0&&T.push(x)}}for(;T.length;){var p=T.pop();A.push(p),g.forEach(p.in.reverse(),E(p)),g.forEach(p.out,C(p))}return g.map(g.filter(A,function(b){return!b.merged}),function(b){return g.pick(b,["vs","i","barycenter","weight"])})}function P(T,A){var E=0,C=0;T.weight&&(E+=T.barycenter*T.weight,C+=T.weight),A.weight&&(E+=A.barycenter*A.weight,C+=A.weight),T.vs=A.vs.concat(T.vs),T.barycenter=E/C,T.weight=C,T.i=Math.min(A.i,T.i),A.merged=!0}},61026:function(mt,S,v){var g=v(38436),O=v(35439),I=v(83678),P=v(87304);mt.exports=T;function T(C,p,b,x){var w=C.children(p),m=C.node(p),M=m?m.borderLeft:void 0,L=m?m.borderRight:void 0,B={};M&&(w=g.filter(w,function(ct){return ct!==M&&ct!==L}));var D=O(C,w);g.forEach(D,function(ct){if(C.children(ct.v).length){var st=T(C,ct.v,b,x);B[ct.v]=st,g.has(st,"barycenter")&&E(ct,st)}});var z=I(D,b);A(z,B);var q=P(z,x);if(M&&(q.vs=g.flatten([M,q.vs,L],!0),C.predecessors(M).length)){var K=C.node(C.predecessors(M)[0]),it=C.node(C.predecessors(L)[0]);g.has(q,"barycenter")||(q.barycenter=0,q.weight=0),q.barycenter=(q.barycenter*q.weight+K.order+it.order)/(q.weight+2),q.weight+=2}return q}function A(C,p){g.forEach(C,function(b){b.vs=g.flatten(b.vs.map(function(x){return p[x]?p[x].vs:x}),!0)})}function E(C,p){g.isUndefined(C.barycenter)?(C.barycenter=p.barycenter,C.weight=p.weight):(C.barycenter=(C.barycenter*C.weight+p.barycenter*p.weight)/(C.weight+p.weight),C.weight+=p.weight)}},87304:function(mt,S,v){var g=v(38436),O=v(11138);mt.exports=I;function I(A,E){var C=O.partition(A,function(B){return g.has(B,"barycenter")}),p=C.lhs,b=g.sortBy(C.rhs,function(B){return-B.i}),x=[],w=0,m=0,M=0;p.sort(T(!!E)),M=P(x,b,M),g.forEach(p,function(B){M+=B.vs.length,x.push(B.vs),w+=B.barycenter*B.weight,m+=B.weight,M=P(x,b,M)});var L={vs:g.flatten(x,!0)};return m&&(L.barycenter=w/m,L.weight=m),L}function P(A,E,C){for(var p;E.length&&(p=g.last(E)).i<=C;)E.pop(),A.push(p.vs),C++;return C}function T(A){return function(E,C){return E.barycenter<C.barycenter?-1:E.barycenter>C.barycenter?1:A?C.i-E.i:E.i-C.i}}},24219:function(mt,S,v){var g=v(38436);mt.exports=O;function O(T){var A=P(T);g.forEach(T.graph().dummyChains,function(E){for(var C=T.node(E),p=C.edgeObj,b=I(T,A,p.v,p.w),x=b.path,w=b.lca,m=0,M=x[m],L=!0;E!==p.w;){if(C=T.node(E),L){for(;(M=x[m])!==w&&T.node(M).maxRank<C.rank;)m++;M===w&&(L=!1)}if(!L){for(;m<x.length-1&&T.node(M=x[m+1]).minRank<=C.rank;)m++;M=x[m]}T.setParent(E,M),E=T.successors(E)[0]}})}function I(T,A,E,C){var p=[],b=[],x=Math.min(A[E].low,A[C].low),w=Math.max(A[E].lim,A[C].lim),m,M;m=E;do m=T.parent(m),p.push(m);while(m&&(A[m].low>x||w>A[m].lim));for(M=m,m=C;(m=T.parent(m))!==M;)b.push(m);return{path:p.concat(b.reverse()),lca:M}}function P(T){var A={},E=0;function C(p){var b=E;g.forEach(T.children(p),C),A[p]={low:b,lim:E++}}return g.forEach(T.children(),C),A}},3573:function(mt,S,v){"use strict";var g=v(38436),O=v(70574).Graph,I=v(11138);mt.exports={positionX:L,findType1Conflicts:P,findType2Conflicts:T,addConflict:E,hasConflict:C,verticalAlignment:p,horizontalCompaction:b,alignCoordinates:m,findSmallestWidthAlignment:w,balance:M};function P(z,q){var K={};function it(ct,st){var Ot=0,Dt=0,Ht=ct.length,N=g.last(st);return g.forEach(st,function(W,X){var V=A(z,W),lt=V?z.node(V).order:Ht;(V||W===N)&&(g.forEach(st.slice(Dt,X+1),function(Z){g.forEach(z.predecessors(Z),function(U){var j=z.node(U),H=j.order;(H<Ot||lt<H)&&!(j.dummy&&z.node(Z).dummy)&&E(K,U,Z)})}),Dt=X+1,Ot=lt)}),st}return g.reduce(q,it),K}function T(z,q){var K={};function it(st,Ot,Dt,Ht,N){var W;g.forEach(g.range(Ot,Dt),function(X){W=st[X],z.node(W).dummy&&g.forEach(z.predecessors(W),function(V){var lt=z.node(V);lt.dummy&&(lt.order<Ht||lt.order>N)&&E(K,V,W)})})}function ct(st,Ot){var Dt=-1,Ht,N=0;return g.forEach(Ot,function(W,X){if(z.node(W).dummy==="border"){var V=z.predecessors(W);V.length&&(Ht=z.node(V[0]).order,it(Ot,N,X,Dt,Ht),N=X,Dt=Ht)}it(Ot,N,Ot.length,Ht,st.length)}),Ot}return g.reduce(q,ct),K}function A(z,q){if(z.node(q).dummy)return g.find(z.predecessors(q),function(K){return z.node(K).dummy})}function E(z,q,K){if(q>K){var it=q;q=K,K=it}var ct=z[q];ct||(z[q]=ct={}),ct[K]=!0}function C(z,q,K){if(q>K){var it=q;q=K,K=it}return g.has(z[q],K)}function p(z,q,K,it){var ct={},st={},Ot={};return g.forEach(q,function(Dt){g.forEach(Dt,function(Ht,N){ct[Ht]=Ht,st[Ht]=Ht,Ot[Ht]=N})}),g.forEach(q,function(Dt){var Ht=-1;g.forEach(Dt,function(N){var W=it(N);if(W.length){W=g.sortBy(W,function(U){return Ot[U]});for(var X=(W.length-1)/2,V=Math.floor(X),lt=Math.ceil(X);V<=lt;++V){var Z=W[V];st[N]===N&&Ht<Ot[Z]&&!C(K,N,Z)&&(st[Z]=N,st[N]=ct[N]=ct[Z],Ht=Ot[Z])}}})}),{root:ct,align:st}}function b(z,q,K,it,ct){var st={},Ot=x(z,q,K,ct),Dt=ct?"borderLeft":"borderRight";function Ht(X,V){for(var lt=Ot.nodes(),Z=lt.pop(),U={};Z;)U[Z]?X(Z):(U[Z]=!0,lt.push(Z),lt=lt.concat(V(Z))),Z=lt.pop()}function N(X){st[X]=Ot.inEdges(X).reduce(function(V,lt){return Math.max(V,st[lt.v]+Ot.edge(lt))},0)}function W(X){var V=Ot.outEdges(X).reduce(function(Z,U){return Math.min(Z,st[U.w]-Ot.edge(U))},Number.POSITIVE_INFINITY),lt=z.node(X);V!==Number.POSITIVE_INFINITY&&lt.borderType!==Dt&&(st[X]=Math.max(st[X],V))}return Ht(N,Ot.predecessors.bind(Ot)),Ht(W,Ot.successors.bind(Ot)),g.forEach(it,function(X){st[X]=st[K[X]]}),st}function x(z,q,K,it){var ct=new O,st=z.graph(),Ot=B(st.nodesep,st.edgesep,it);return g.forEach(q,function(Dt){var Ht;g.forEach(Dt,function(N){var W=K[N];if(ct.setNode(W),Ht){var X=K[Ht],V=ct.edge(X,W);ct.setEdge(X,W,Math.max(Ot(z,N,Ht),V||0))}Ht=N})}),ct}function w(z,q){return g.minBy(g.values(q),function(K){var it=Number.NEGATIVE_INFINITY,ct=Number.POSITIVE_INFINITY;return g.forIn(K,function(st,Ot){var Dt=D(z,Ot)/2;it=Math.max(st+Dt,it),ct=Math.min(st-Dt,ct)}),it-ct})}function m(z,q){var K=g.values(q),it=g.min(K),ct=g.max(K);g.forEach(["u","d"],function(st){g.forEach(["l","r"],function(Ot){var Dt=st+Ot,Ht=z[Dt],N;if(Ht!==q){var W=g.values(Ht);N=Ot==="l"?it-g.min(W):ct-g.max(W),N&&(z[Dt]=g.mapValues(Ht,function(X){return X+N}))}})})}function M(z,q){return g.mapValues(z.ul,function(K,it){if(q)return z[q.toLowerCase()][it];var ct=g.sortBy(g.map(z,it));return(ct[1]+ct[2])/2})}function L(z){var q=I.buildLayerMatrix(z),K=g.merge(P(z,q),T(z,q)),it={},ct;g.forEach(["u","d"],function(Ot){ct=Ot==="u"?q:g.values(q).reverse(),g.forEach(["l","r"],function(Dt){Dt==="r"&&(ct=g.map(ct,function(X){return g.values(X).reverse()}));var Ht=(Ot==="u"?z.predecessors:z.successors).bind(z),N=p(z,ct,K,Ht),W=b(z,ct,N.root,N.align,Dt==="r");Dt==="r"&&(W=g.mapValues(W,function(X){return-X})),it[Ot+Dt]=W})});var st=w(z,it);return m(it,st),M(it,z.graph().align)}function B(z,q,K){return function(it,ct,st){var Ot=it.node(ct),Dt=it.node(st),Ht=0,N;if(Ht+=Ot.width/2,g.has(Ot,"labelpos"))switch(Ot.labelpos.toLowerCase()){case"l":N=-Ot.width/2;break;case"r":N=Ot.width/2;break}if(N&&(Ht+=K?N:-N),N=0,Ht+=(Ot.dummy?q:z)/2,Ht+=(Dt.dummy?q:z)/2,Ht+=Dt.width/2,g.has(Dt,"labelpos"))switch(Dt.labelpos.toLowerCase()){case"l":N=Dt.width/2;break;case"r":N=-Dt.width/2;break}return N&&(Ht+=K?N:-N),N=0,Ht}}function D(z,q){return z.node(q).width}},17873:function(mt,S,v){"use strict";var g=v(38436),O=v(11138),I=v(3573).positionX;mt.exports=P;function P(A){A=O.asNonCompoundGraph(A),T(A),g.forEach(I(A),function(E,C){A.node(C).x=E})}function T(A){var E=O.buildLayerMatrix(A),C=A.graph().ranksep,p=0;g.forEach(E,function(b){var x=g.max(g.map(b,function(w){return A.node(w).height}));g.forEach(b,function(w){A.node(w).y=p+x/2}),p+=x+C})}},20300:function(mt,S,v){"use strict";var g=v(38436),O=v(70574).Graph,I=v(76681).slack;mt.exports=P;function P(C){var p=new O({directed:!1}),b=C.nodes()[0],x=C.nodeCount();p.setNode(b,{});for(var w,m;T(p,C)<x;)w=A(p,C),m=p.hasNode(w.v)?I(C,w):-I(C,w),E(p,C,m);return p}function T(C,p){function b(x){g.forEach(p.nodeEdges(x),function(w){var m=w.v,M=x===m?w.w:m;!C.hasNode(M)&&!I(p,w)&&(C.setNode(M,{}),C.setEdge(x,M,{}),b(M))})}return g.forEach(C.nodes(),b),C.nodeCount()}function A(C,p){return g.minBy(p.edges(),function(b){if(C.hasNode(b.v)!==C.hasNode(b.w))return I(p,b)})}function E(C,p,b){g.forEach(C.nodes(),function(x){p.node(x).rank+=b})}},78093:function(mt,S,v){"use strict";var g=v(76681),O=g.longestPath,I=v(20300),P=v(42472);mt.exports=T;function T(p){switch(p.graph().ranker){case"network-simplex":C(p);break;case"tight-tree":E(p);break;case"longest-path":A(p);break;default:C(p)}}var A=O;function E(p){O(p),I(p)}function C(p){P(p)}},42472:function(mt,S,v){"use strict";var g=v(38436),O=v(20300),I=v(76681).slack,P=v(76681).longestPath,T=v(70574).alg.preorder,A=v(70574).alg.postorder,E=v(11138).simplify;mt.exports=C,C.initLowLimValues=w,C.initCutValues=p,C.calcCutValue=x,C.leaveEdge=M,C.enterEdge=L,C.exchangeEdges=B;function C(K){K=E(K),P(K);var it=O(K);w(it),p(it,K);for(var ct,st;ct=M(it);)st=L(it,K,ct),B(it,K,ct,st)}function p(K,it){var ct=A(K,K.nodes());ct=ct.slice(0,ct.length-1),g.forEach(ct,function(st){b(K,it,st)})}function b(K,it,ct){var st=K.node(ct),Ot=st.parent;K.edge(ct,Ot).cutvalue=x(K,it,ct)}function x(K,it,ct){var st=K.node(ct),Ot=st.parent,Dt=!0,Ht=it.edge(ct,Ot),N=0;return Ht||(Dt=!1,Ht=it.edge(Ot,ct)),N=Ht.weight,g.forEach(it.nodeEdges(ct),function(W){var X=W.v===ct,V=X?W.w:W.v;if(V!==Ot){var lt=X===Dt,Z=it.edge(W).weight;if(N+=lt?Z:-Z,z(K,ct,V)){var U=K.edge(ct,V).cutvalue;N+=lt?-U:U}}}),N}function w(K,it){arguments.length<2&&(it=K.nodes()[0]),m(K,{},1,it)}function m(K,it,ct,st,Ot){var Dt=ct,Ht=K.node(st);return it[st]=!0,g.forEach(K.neighbors(st),function(N){g.has(it,N)||(ct=m(K,it,ct,N,st))}),Ht.low=Dt,Ht.lim=ct++,Ot?Ht.parent=Ot:delete Ht.parent,ct}function M(K){return g.find(K.edges(),function(it){return K.edge(it).cutvalue<0})}function L(K,it,ct){var st=ct.v,Ot=ct.w;it.hasEdge(st,Ot)||(st=ct.w,Ot=ct.v);var Dt=K.node(st),Ht=K.node(Ot),N=Dt,W=!1;Dt.lim>Ht.lim&&(N=Ht,W=!0);var X=g.filter(it.edges(),function(V){return W===q(K,K.node(V.v),N)&&W!==q(K,K.node(V.w),N)});return g.minBy(X,function(V){return I(it,V)})}function B(K,it,ct,st){var Ot=ct.v,Dt=ct.w;K.removeEdge(Ot,Dt),K.setEdge(st.v,st.w,{}),w(K),p(K,it),D(K,it)}function D(K,it){var ct=g.find(K.nodes(),function(Ot){return!it.node(Ot).parent}),st=T(K,ct);st=st.slice(1),g.forEach(st,function(Ot){var Dt=K.node(Ot).parent,Ht=it.edge(Ot,Dt),N=!1;Ht||(Ht=it.edge(Dt,Ot),N=!0),it.node(Ot).rank=it.node(Dt).rank+(N?Ht.minlen:-Ht.minlen)})}function z(K,it,ct){return K.hasEdge(it,ct)}function q(K,it,ct){return ct.low<=it.lim&&it.lim<=ct.lim}},76681:function(mt,S,v){"use strict";var g=v(38436);mt.exports={longestPath:O,slack:I};function O(P){var T={};function A(E){var C=P.node(E);if(g.has(T,E))return C.rank;T[E]=!0;var p=g.min(g.map(P.outEdges(E),function(b){return A(b.w)-P.edge(b).minlen}));return(p===Number.POSITIVE_INFINITY||p===void 0||p===null)&&(p=0),C.rank=p}g.forEach(P.sources(),A)}function I(P,T){return P.node(T.w).rank-P.node(T.v).rank-P.edge(T).minlen}},11138:function(mt,S,v){"use strict";var g=v(38436),O=v(70574).Graph;mt.exports={addDummyNode:I,simplify:P,asNonCompoundGraph:T,successorWeights:A,predecessorWeights:E,intersectRect:C,buildLayerMatrix:p,normalizeRanks:b,removeEmptyRanks:x,addBorderNode:w,maxRank:m,partition:M,time:L,notime:B};function I(D,z,q,K){var it;do it=g.uniqueId(K);while(D.hasNode(it));return q.dummy=z,D.setNode(it,q),it}function P(D){var z=new O().setGraph(D.graph());return g.forEach(D.nodes(),function(q){z.setNode(q,D.node(q))}),g.forEach(D.edges(),function(q){var K=z.edge(q.v,q.w)||{weight:0,minlen:1},it=D.edge(q);z.setEdge(q.v,q.w,{weight:K.weight+it.weight,minlen:Math.max(K.minlen,it.minlen)})}),z}function T(D){var z=new O({multigraph:D.isMultigraph()}).setGraph(D.graph());return g.forEach(D.nodes(),function(q){D.children(q).length||z.setNode(q,D.node(q))}),g.forEach(D.edges(),function(q){z.setEdge(q,D.edge(q))}),z}function A(D){var z=g.map(D.nodes(),function(q){var K={};return g.forEach(D.outEdges(q),function(it){K[it.w]=(K[it.w]||0)+D.edge(it).weight}),K});return g.zipObject(D.nodes(),z)}function E(D){var z=g.map(D.nodes(),function(q){var K={};return g.forEach(D.inEdges(q),function(it){K[it.v]=(K[it.v]||0)+D.edge(it).weight}),K});return g.zipObject(D.nodes(),z)}function C(D,z){var q=D.x,K=D.y,it=z.x-q,ct=z.y-K,st=D.width/2,Ot=D.height/2;if(!it&&!ct)throw new Error("Not possible to find intersection inside of the rectangle");var Dt,Ht;return Math.abs(ct)*st>Math.abs(it)*Ot?(ct<0&&(Ot=-Ot),Dt=Ot*it/ct,Ht=Ot):(it<0&&(st=-st),Dt=st,Ht=st*ct/it),{x:q+Dt,y:K+Ht}}function p(D){var z=g.map(g.range(m(D)+1),function(){return[]});return g.forEach(D.nodes(),function(q){var K=D.node(q),it=K.rank;g.isUndefined(it)||(z[it][K.order]=q)}),z}function b(D){var z=g.min(g.map(D.nodes(),function(q){return D.node(q).rank}));g.forEach(D.nodes(),function(q){var K=D.node(q);g.has(K,"rank")&&(K.rank-=z)})}function x(D){var z=g.min(g.map(D.nodes(),function(ct){return D.node(ct).rank})),q=[];g.forEach(D.nodes(),function(ct){var st=D.node(ct).rank-z;q[st]||(q[st]=[]),q[st].push(ct)});var K=0,it=D.graph().nodeRankFactor;g.forEach(q,function(ct,st){g.isUndefined(ct)&&st%it!=0?--K:K&&g.forEach(ct,function(Ot){D.node(Ot).rank+=K})})}function w(D,z,q,K){var it={width:0,height:0};return arguments.length>=4&&(it.rank=q,it.order=K),I(D,"border",it,z)}function m(D){return g.max(g.map(D.nodes(),function(z){var q=D.node(z).rank;if(!g.isUndefined(q))return q}))}function M(D,z){var q={lhs:[],rhs:[]};return g.forEach(D,function(K){z(K)?q.lhs.push(K):q.rhs.push(K)}),q}function L(D,z){var q=g.now();try{return z()}finally{console.log(D+" time: "+(g.now()-q)+"ms")}}function B(D,z){return z()}},88177:function(mt){mt.exports="0.8.5"},43631:function(mt,S,v){"use strict";v.r(S),v.d(S,{BrowserInfo:function(){return I},NodeInfo:function(){return P},SearchBotDeviceInfo:function(){return T},BotInfo:function(){return A},ReactNativeInfo:function(){return E},detect:function(){return m},browserName:function(){return L},parseUserAgent:function(){return B},detectOS:function(){return D},getNodeVersion:function(){return z}});var g=v(34155),O=function(K,it,ct){if(ct||arguments.length===2)for(var st=0,Ot=it.length,Dt;st<Ot;st++)(Dt||!(st in it))&&(Dt||(Dt=Array.prototype.slice.call(it,0,st)),Dt[st]=it[st]);return K.concat(Dt||Array.prototype.slice.call(it))},I=function(){function K(it,ct,st){this.name=it,this.version=ct,this.os=st,this.type="browser"}return K}(),P=function(){function K(it){this.version=it,this.type="node",this.name="node",this.os=g.platform}return K}(),T=function(){function K(it,ct,st,Ot){this.name=it,this.version=ct,this.os=st,this.bot=Ot,this.type="bot-device"}return K}(),A=function(){function K(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return K}(),E=function(){function K(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return K}(),C=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,p=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,b=3,x=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",C]],w=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function m(K){return K?B(K):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new E:typeof navigator!="undefined"?B(navigator.userAgent):z()}function M(K){return K!==""&&x.reduce(function(it,ct){var st=ct[0],Ot=ct[1];if(it)return it;var Dt=Ot.exec(K);return!!Dt&&[st,Dt]},!1)}function L(K){var it=M(K);return it?it[0]:null}function B(K){var it=M(K);if(!it)return null;var ct=it[0],st=it[1];if(ct==="searchbot")return new A;var Ot=st[1]&&st[1].split(".").join("_").split("_").slice(0,3);Ot?Ot.length<b&&(Ot=O(O([],Ot,!0),q(b-Ot.length),!0)):Ot=[];var Dt=Ot.join("."),Ht=D(K),N=p.exec(K);return N&&N[1]?new T(ct,Dt,Ht,N[1]):new I(ct,Dt,Ht)}function D(K){for(var it=0,ct=w.length;it<ct;it++){var st=w[it],Ot=st[0],Dt=st[1],Ht=Dt.exec(K);if(Ht)return Ot}return null}function z(){var K=typeof g!="undefined"&&g.version;return K?new P(g.version.slice(1)):null}function q(K){for(var it=[],ct=0;ct<K;ct++)it.push("0");return it}},19432:function(mt,S,v){"use strict";v.r(S),v.d(S,{assign:function(){return b},format:function(){return X},parse:function(){return V},defaultI18n:function(){return L},setGlobalDateI18n:function(){return D},setGlobalDateMasks:function(){return W}});var g=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,O="[1-9]\\d?",I="\\d\\d",P="\\d{3}",T="\\d{4}",A="[^\\s]+",E=/\[([^]*?)\]/gm;function C(Z,U){for(var j=[],H=0,f=Z.length;H<f;H++)j.push(Z[H].substr(0,U));return j}var p=function(Z){return function(U,j){var H=j[Z].map(function(yt){return yt.toLowerCase()}),f=H.indexOf(U.toLowerCase());return f>-1?f:null}};function b(Z){for(var U=[],j=1;j<arguments.length;j++)U[j-1]=arguments[j];for(var H=0,f=U;H<f.length;H++){var yt=f[H];for(var St in yt)Z[St]=yt[St]}return Z}var x=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w=["January","February","March","April","May","June","July","August","September","October","November","December"],m=C(w,3),M=C(x,3),L={dayNamesShort:M,dayNames:x,monthNamesShort:m,monthNames:w,amPm:["am","pm"],DoFn:function(Z){return Z+["th","st","nd","rd"][Z%10>3?0:(Z-Z%10!=10?1:0)*Z%10]}},B=b({},L),D=function(Z){return B=b(B,Z)},z=function(Z){return Z.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},q=function(Z,U){for(U===void 0&&(U=2),Z=String(Z);Z.length<U;)Z="0"+Z;return Z},K={D:function(Z){return String(Z.getDate())},DD:function(Z){return q(Z.getDate())},Do:function(Z,U){return U.DoFn(Z.getDate())},d:function(Z){return String(Z.getDay())},dd:function(Z){return q(Z.getDay())},ddd:function(Z,U){return U.dayNamesShort[Z.getDay()]},dddd:function(Z,U){return U.dayNames[Z.getDay()]},M:function(Z){return String(Z.getMonth()+1)},MM:function(Z){return q(Z.getMonth()+1)},MMM:function(Z,U){return U.monthNamesShort[Z.getMonth()]},MMMM:function(Z,U){return U.monthNames[Z.getMonth()]},YY:function(Z){return q(String(Z.getFullYear()),4).substr(2)},YYYY:function(Z){return q(Z.getFullYear(),4)},h:function(Z){return String(Z.getHours()%12||12)},hh:function(Z){return q(Z.getHours()%12||12)},H:function(Z){return String(Z.getHours())},HH:function(Z){return q(Z.getHours())},m:function(Z){return String(Z.getMinutes())},mm:function(Z){return q(Z.getMinutes())},s:function(Z){return String(Z.getSeconds())},ss:function(Z){return q(Z.getSeconds())},S:function(Z){return String(Math.round(Z.getMilliseconds()/100))},SS:function(Z){return q(Math.round(Z.getMilliseconds()/10),2)},SSS:function(Z){return q(Z.getMilliseconds(),3)},a:function(Z,U){return Z.getHours()<12?U.amPm[0]:U.amPm[1]},A:function(Z,U){return Z.getHours()<12?U.amPm[0].toUpperCase():U.amPm[1].toUpperCase()},ZZ:function(Z){var U=Z.getTimezoneOffset();return(U>0?"-":"+")+q(Math.floor(Math.abs(U)/60)*100+Math.abs(U)%60,4)},Z:function(Z){var U=Z.getTimezoneOffset();return(U>0?"-":"+")+q(Math.floor(Math.abs(U)/60),2)+":"+q(Math.abs(U)%60,2)}},it=function(Z){return+Z-1},ct=[null,O],st=[null,A],Ot=["isPm",A,function(Z,U){var j=Z.toLowerCase();return j===U.amPm[0]?0:j===U.amPm[1]?1:null}],Dt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(Z){var U=(Z+"").match(/([+-]|\d\d)/gi);if(U){var j=+U[1]*60+parseInt(U[2],10);return U[0]==="+"?j:-j}return 0}],Ht={D:["day",O],DD:["day",I],Do:["day",O+A,function(Z){return parseInt(Z,10)}],M:["month",O,it],MM:["month",I,it],YY:["year",I,function(Z){var U=new Date,j=+(""+U.getFullYear()).substr(0,2);return+(""+(+Z>68?j-1:j)+Z)}],h:["hour",O,void 0,"isPm"],hh:["hour",I,void 0,"isPm"],H:["hour",O],HH:["hour",I],m:["minute",O],mm:["minute",I],s:["second",O],ss:["second",I],YYYY:["year",T],S:["millisecond","\\d",function(Z){return+Z*100}],SS:["millisecond",I,function(Z){return+Z*10}],SSS:["millisecond",P],d:ct,dd:ct,ddd:st,dddd:st,MMM:["month",A,p("monthNamesShort")],MMMM:["month",A,p("monthNames")],a:Ot,A:Ot,ZZ:Dt,Z:Dt},N={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},W=function(Z){return b(N,Z)},X=function(Z,U,j){if(U===void 0&&(U=N.default),j===void 0&&(j={}),typeof Z=="number"&&(Z=new Date(Z)),Object.prototype.toString.call(Z)!=="[object Date]"||isNaN(Z.getTime()))throw new Error("Invalid Date pass to format");U=N[U]||U;var H=[];U=U.replace(E,function(yt,St){return H.push(St),"@@@"});var f=b(b({},B),j);return U=U.replace(g,function(yt){return K[yt](Z,f)}),U.replace(/@@@/g,function(){return H.shift()})};function V(Z,U,j){if(j===void 0&&(j={}),typeof U!="string")throw new Error("Invalid format in fecha parse");if(U=N[U]||U,Z.length>1e3)return null;var H=new Date,f={year:H.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},yt=[],St=[],at=U.replace(E,function(pt,It){return St.push(z(It)),"@@@"}),Ct={},wt={};at=z(at).replace(g,function(pt){var It=Ht[pt],Vt=It[0],Qt=It[1],he=It[3];if(Ct[Vt])throw new Error("Invalid format. "+Vt+" specified twice in format");return Ct[Vt]=!0,he&&(wt[he]=!0),yt.push(It),"("+Qt+")"}),Object.keys(wt).forEach(function(pt){if(!Ct[pt])throw new Error("Invalid format. "+pt+" is required in specified format")}),at=at.replace(/@@@/g,function(){return St.shift()});var At=Z.match(new RegExp(at,"i"));if(!At)return null;for(var _t=b(b({},B),j),Lt=1;Lt<At.length;Lt++){var xt=yt[Lt-1],ot=xt[0],tt=xt[2],Q=tt?tt(At[Lt],_t):+At[Lt];if(Q==null)return null;f[ot]=Q}f.isPm===1&&f.hour!=null&&+f.hour!=12?f.hour=+f.hour+12:f.isPm===0&&+f.hour==12&&(f.hour=0);for(var dt=new Date(f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond),rt=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Lt=0,nt=rt.length;Lt<nt;Lt++)if(Ct[rt[Lt][0]]&&f[rt[Lt][0]]!==dt[rt[Lt][1]]())return null;return f.timezoneOffset==null?dt:new Date(Date.UTC(f.year,f.month,f.day,f.hour,f.minute-f.timezoneOffset,f.second,f.millisecond))}var lt={format:X,parse:V,defaultI18n:L,setGlobalDateI18n:D,setGlobalDateMasks:W};S.default=lt},49685:function(mt,S,v){"use strict";v.d(S,{Ib:function(){return g},WT:function(){return O},FD:function(){return I}});var g=1e-6,O=typeof Float32Array!="undefined"?Float32Array:Array,I=Math.random;function P(C){O=C}var T=Math.PI/180;function A(C){return C*T}function E(C,p){return Math.abs(C-p)<=g*Math.max(1,Math.abs(C),Math.abs(p))}Math.hypot||(Math.hypot=function(){for(var C=0,p=arguments.length;p--;)C+=arguments[p]*arguments[p];return Math.sqrt(C)})},35600:function(mt,S,v){"use strict";v.r(S),v.d(S,{create:function(){return O},fromMat4:function(){return I},clone:function(){return P},copy:function(){return T},fromValues:function(){return A},set:function(){return E},identity:function(){return C},transpose:function(){return p},invert:function(){return b},adjoint:function(){return x},determinant:function(){return w},multiply:function(){return m},translate:function(){return M},rotate:function(){return L},scale:function(){return B},fromTranslation:function(){return D},fromRotation:function(){return z},fromScaling:function(){return q},fromMat2d:function(){return K},fromQuat:function(){return it},normalFromMat4:function(){return ct},projection:function(){return st},str:function(){return Ot},frob:function(){return Dt},add:function(){return Ht},subtract:function(){return N},multiplyScalar:function(){return W},multiplyScalarAndAdd:function(){return X},exactEquals:function(){return V},equals:function(){return lt},mul:function(){return Z},sub:function(){return U}});var g=v(49685);function O(){var j=new g.WT(9);return g.WT!=Float32Array&&(j[1]=0,j[2]=0,j[3]=0,j[5]=0,j[6]=0,j[7]=0),j[0]=1,j[4]=1,j[8]=1,j}function I(j,H){return j[0]=H[0],j[1]=H[1],j[2]=H[2],j[3]=H[4],j[4]=H[5],j[5]=H[6],j[6]=H[8],j[7]=H[9],j[8]=H[10],j}function P(j){var H=new g.WT(9);return H[0]=j[0],H[1]=j[1],H[2]=j[2],H[3]=j[3],H[4]=j[4],H[5]=j[5],H[6]=j[6],H[7]=j[7],H[8]=j[8],H}function T(j,H){return j[0]=H[0],j[1]=H[1],j[2]=H[2],j[3]=H[3],j[4]=H[4],j[5]=H[5],j[6]=H[6],j[7]=H[7],j[8]=H[8],j}function A(j,H,f,yt,St,at,Ct,wt,At){var _t=new g.WT(9);return _t[0]=j,_t[1]=H,_t[2]=f,_t[3]=yt,_t[4]=St,_t[5]=at,_t[6]=Ct,_t[7]=wt,_t[8]=At,_t}function E(j,H,f,yt,St,at,Ct,wt,At,_t){return j[0]=H,j[1]=f,j[2]=yt,j[3]=St,j[4]=at,j[5]=Ct,j[6]=wt,j[7]=At,j[8]=_t,j}function C(j){return j[0]=1,j[1]=0,j[2]=0,j[3]=0,j[4]=1,j[5]=0,j[6]=0,j[7]=0,j[8]=1,j}function p(j,H){if(j===H){var f=H[1],yt=H[2],St=H[5];j[1]=H[3],j[2]=H[6],j[3]=f,j[5]=H[7],j[6]=yt,j[7]=St}else j[0]=H[0],j[1]=H[3],j[2]=H[6],j[3]=H[1],j[4]=H[4],j[5]=H[7],j[6]=H[2],j[7]=H[5],j[8]=H[8];return j}function b(j,H){var f=H[0],yt=H[1],St=H[2],at=H[3],Ct=H[4],wt=H[5],At=H[6],_t=H[7],Lt=H[8],xt=Lt*Ct-wt*_t,ot=-Lt*at+wt*At,tt=_t*at-Ct*At,Q=f*xt+yt*ot+St*tt;return Q?(Q=1/Q,j[0]=xt*Q,j[1]=(-Lt*yt+St*_t)*Q,j[2]=(wt*yt-St*Ct)*Q,j[3]=ot*Q,j[4]=(Lt*f-St*At)*Q,j[5]=(-wt*f+St*at)*Q,j[6]=tt*Q,j[7]=(-_t*f+yt*At)*Q,j[8]=(Ct*f-yt*at)*Q,j):null}function x(j,H){var f=H[0],yt=H[1],St=H[2],at=H[3],Ct=H[4],wt=H[5],At=H[6],_t=H[7],Lt=H[8];return j[0]=Ct*Lt-wt*_t,j[1]=St*_t-yt*Lt,j[2]=yt*wt-St*Ct,j[3]=wt*At-at*Lt,j[4]=f*Lt-St*At,j[5]=St*at-f*wt,j[6]=at*_t-Ct*At,j[7]=yt*At-f*_t,j[8]=f*Ct-yt*at,j}function w(j){var H=j[0],f=j[1],yt=j[2],St=j[3],at=j[4],Ct=j[5],wt=j[6],At=j[7],_t=j[8];return H*(_t*at-Ct*At)+f*(-_t*St+Ct*wt)+yt*(At*St-at*wt)}function m(j,H,f){var yt=H[0],St=H[1],at=H[2],Ct=H[3],wt=H[4],At=H[5],_t=H[6],Lt=H[7],xt=H[8],ot=f[0],tt=f[1],Q=f[2],dt=f[3],rt=f[4],nt=f[5],pt=f[6],It=f[7],Vt=f[8];return j[0]=ot*yt+tt*Ct+Q*_t,j[1]=ot*St+tt*wt+Q*Lt,j[2]=ot*at+tt*At+Q*xt,j[3]=dt*yt+rt*Ct+nt*_t,j[4]=dt*St+rt*wt+nt*Lt,j[5]=dt*at+rt*At+nt*xt,j[6]=pt*yt+It*Ct+Vt*_t,j[7]=pt*St+It*wt+Vt*Lt,j[8]=pt*at+It*At+Vt*xt,j}function M(j,H,f){var yt=H[0],St=H[1],at=H[2],Ct=H[3],wt=H[4],At=H[5],_t=H[6],Lt=H[7],xt=H[8],ot=f[0],tt=f[1];return j[0]=yt,j[1]=St,j[2]=at,j[3]=Ct,j[4]=wt,j[5]=At,j[6]=ot*yt+tt*Ct+_t,j[7]=ot*St+tt*wt+Lt,j[8]=ot*at+tt*At+xt,j}function L(j,H,f){var yt=H[0],St=H[1],at=H[2],Ct=H[3],wt=H[4],At=H[5],_t=H[6],Lt=H[7],xt=H[8],ot=Math.sin(f),tt=Math.cos(f);return j[0]=tt*yt+ot*Ct,j[1]=tt*St+ot*wt,j[2]=tt*at+ot*At,j[3]=tt*Ct-ot*yt,j[4]=tt*wt-ot*St,j[5]=tt*At-ot*at,j[6]=_t,j[7]=Lt,j[8]=xt,j}function B(j,H,f){var yt=f[0],St=f[1];return j[0]=yt*H[0],j[1]=yt*H[1],j[2]=yt*H[2],j[3]=St*H[3],j[4]=St*H[4],j[5]=St*H[5],j[6]=H[6],j[7]=H[7],j[8]=H[8],j}function D(j,H){return j[0]=1,j[1]=0,j[2]=0,j[3]=0,j[4]=1,j[5]=0,j[6]=H[0],j[7]=H[1],j[8]=1,j}function z(j,H){var f=Math.sin(H),yt=Math.cos(H);return j[0]=yt,j[1]=f,j[2]=0,j[3]=-f,j[4]=yt,j[5]=0,j[6]=0,j[7]=0,j[8]=1,j}function q(j,H){return j[0]=H[0],j[1]=0,j[2]=0,j[3]=0,j[4]=H[1],j[5]=0,j[6]=0,j[7]=0,j[8]=1,j}function K(j,H){return j[0]=H[0],j[1]=H[1],j[2]=0,j[3]=H[2],j[4]=H[3],j[5]=0,j[6]=H[4],j[7]=H[5],j[8]=1,j}function it(j,H){var f=H[0],yt=H[1],St=H[2],at=H[3],Ct=f+f,wt=yt+yt,At=St+St,_t=f*Ct,Lt=yt*Ct,xt=yt*wt,ot=St*Ct,tt=St*wt,Q=St*At,dt=at*Ct,rt=at*wt,nt=at*At;return j[0]=1-xt-Q,j[3]=Lt-nt,j[6]=ot+rt,j[1]=Lt+nt,j[4]=1-_t-Q,j[7]=tt-dt,j[2]=ot-rt,j[5]=tt+dt,j[8]=1-_t-xt,j}function ct(j,H){var f=H[0],yt=H[1],St=H[2],at=H[3],Ct=H[4],wt=H[5],At=H[6],_t=H[7],Lt=H[8],xt=H[9],ot=H[10],tt=H[11],Q=H[12],dt=H[13],rt=H[14],nt=H[15],pt=f*wt-yt*Ct,It=f*At-St*Ct,Vt=f*_t-at*Ct,Qt=yt*At-St*wt,he=yt*_t-at*wt,me=St*_t-at*At,Xt=Lt*dt-xt*Q,$t=Lt*rt-ot*Q,fe=Lt*nt-tt*Q,Se=xt*rt-ot*dt,ke=xt*nt-tt*dt,Oe=ot*nt-tt*rt,$e=pt*Oe-It*ke+Vt*Se+Qt*fe-he*$t+me*Xt;return $e?($e=1/$e,j[0]=(wt*Oe-At*ke+_t*Se)*$e,j[1]=(At*fe-Ct*Oe-_t*$t)*$e,j[2]=(Ct*ke-wt*fe+_t*Xt)*$e,j[3]=(St*ke-yt*Oe-at*Se)*$e,j[4]=(f*Oe-St*fe+at*$t)*$e,j[5]=(yt*fe-f*ke-at*Xt)*$e,j[6]=(dt*me-rt*he+nt*Qt)*$e,j[7]=(rt*Vt-Q*me-nt*It)*$e,j[8]=(Q*he-dt*Vt+nt*pt)*$e,j):null}function st(j,H,f){return j[0]=2/H,j[1]=0,j[2]=0,j[3]=0,j[4]=-2/f,j[5]=0,j[6]=-1,j[7]=1,j[8]=1,j}function Ot(j){return"mat3("+j[0]+", "+j[1]+", "+j[2]+", "+j[3]+", "+j[4]+", "+j[5]+", "+j[6]+", "+j[7]+", "+j[8]+")"}function Dt(j){return Math.hypot(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],j[8])}function Ht(j,H,f){return j[0]=H[0]+f[0],j[1]=H[1]+f[1],j[2]=H[2]+f[2],j[3]=H[3]+f[3],j[4]=H[4]+f[4],j[5]=H[5]+f[5],j[6]=H[6]+f[6],j[7]=H[7]+f[7],j[8]=H[8]+f[8],j}function N(j,H,f){return j[0]=H[0]-f[0],j[1]=H[1]-f[1],j[2]=H[2]-f[2],j[3]=H[3]-f[3],j[4]=H[4]-f[4],j[5]=H[5]-f[5],j[6]=H[6]-f[6],j[7]=H[7]-f[7],j[8]=H[8]-f[8],j}function W(j,H,f){return j[0]=H[0]*f,j[1]=H[1]*f,j[2]=H[2]*f,j[3]=H[3]*f,j[4]=H[4]*f,j[5]=H[5]*f,j[6]=H[6]*f,j[7]=H[7]*f,j[8]=H[8]*f,j}function X(j,H,f,yt){return j[0]=H[0]+f[0]*yt,j[1]=H[1]+f[1]*yt,j[2]=H[2]+f[2]*yt,j[3]=H[3]+f[3]*yt,j[4]=H[4]+f[4]*yt,j[5]=H[5]+f[5]*yt,j[6]=H[6]+f[6]*yt,j[7]=H[7]+f[7]*yt,j[8]=H[8]+f[8]*yt,j}function V(j,H){return j[0]===H[0]&&j[1]===H[1]&&j[2]===H[2]&&j[3]===H[3]&&j[4]===H[4]&&j[5]===H[5]&&j[6]===H[6]&&j[7]===H[7]&&j[8]===H[8]}function lt(j,H){var f=j[0],yt=j[1],St=j[2],at=j[3],Ct=j[4],wt=j[5],At=j[6],_t=j[7],Lt=j[8],xt=H[0],ot=H[1],tt=H[2],Q=H[3],dt=H[4],rt=H[5],nt=H[6],pt=H[7],It=H[8];return Math.abs(f-xt)<=g.Ib*Math.max(1,Math.abs(f),Math.abs(xt))&&Math.abs(yt-ot)<=g.Ib*Math.max(1,Math.abs(yt),Math.abs(ot))&&Math.abs(St-tt)<=g.Ib*Math.max(1,Math.abs(St),Math.abs(tt))&&Math.abs(at-Q)<=g.Ib*Math.max(1,Math.abs(at),Math.abs(Q))&&Math.abs(Ct-dt)<=g.Ib*Math.max(1,Math.abs(Ct),Math.abs(dt))&&Math.abs(wt-rt)<=g.Ib*Math.max(1,Math.abs(wt),Math.abs(rt))&&Math.abs(At-nt)<=g.Ib*Math.max(1,Math.abs(At),Math.abs(nt))&&Math.abs(_t-pt)<=g.Ib*Math.max(1,Math.abs(_t),Math.abs(pt))&&Math.abs(Lt-It)<=g.Ib*Math.max(1,Math.abs(Lt),Math.abs(It))}var Z=m,U=N},31437:function(mt,S,v){"use strict";v.r(S),v.d(S,{create:function(){return O},clone:function(){return I},fromValues:function(){return P},copy:function(){return T},set:function(){return A},add:function(){return E},subtract:function(){return C},multiply:function(){return p},divide:function(){return b},ceil:function(){return x},floor:function(){return w},min:function(){return m},max:function(){return M},round:function(){return L},scale:function(){return B},scaleAndAdd:function(){return D},distance:function(){return z},squaredDistance:function(){return q},length:function(){return K},squaredLength:function(){return it},negate:function(){return ct},inverse:function(){return st},normalize:function(){return Ot},dot:function(){return Dt},cross:function(){return Ht},lerp:function(){return N},random:function(){return W},transformMat2:function(){return X},transformMat2d:function(){return V},transformMat3:function(){return lt},transformMat4:function(){return Z},rotate:function(){return U},angle:function(){return j},zero:function(){return H},str:function(){return f},exactEquals:function(){return yt},equals:function(){return St},len:function(){return at},sub:function(){return Ct},mul:function(){return wt},div:function(){return At},dist:function(){return _t},sqrDist:function(){return Lt},sqrLen:function(){return xt},forEach:function(){return ot}});var g=v(49685);function O(){var tt=new g.WT(2);return g.WT!=Float32Array&&(tt[0]=0,tt[1]=0),tt}function I(tt){var Q=new g.WT(2);return Q[0]=tt[0],Q[1]=tt[1],Q}function P(tt,Q){var dt=new g.WT(2);return dt[0]=tt,dt[1]=Q,dt}function T(tt,Q){return tt[0]=Q[0],tt[1]=Q[1],tt}function A(tt,Q,dt){return tt[0]=Q,tt[1]=dt,tt}function E(tt,Q,dt){return tt[0]=Q[0]+dt[0],tt[1]=Q[1]+dt[1],tt}function C(tt,Q,dt){return tt[0]=Q[0]-dt[0],tt[1]=Q[1]-dt[1],tt}function p(tt,Q,dt){return tt[0]=Q[0]*dt[0],tt[1]=Q[1]*dt[1],tt}function b(tt,Q,dt){return tt[0]=Q[0]/dt[0],tt[1]=Q[1]/dt[1],tt}function x(tt,Q){return tt[0]=Math.ceil(Q[0]),tt[1]=Math.ceil(Q[1]),tt}function w(tt,Q){return tt[0]=Math.floor(Q[0]),tt[1]=Math.floor(Q[1]),tt}function m(tt,Q,dt){return tt[0]=Math.min(Q[0],dt[0]),tt[1]=Math.min(Q[1],dt[1]),tt}function M(tt,Q,dt){return tt[0]=Math.max(Q[0],dt[0]),tt[1]=Math.max(Q[1],dt[1]),tt}function L(tt,Q){return tt[0]=Math.round(Q[0]),tt[1]=Math.round(Q[1]),tt}function B(tt,Q,dt){return tt[0]=Q[0]*dt,tt[1]=Q[1]*dt,tt}function D(tt,Q,dt,rt){return tt[0]=Q[0]+dt[0]*rt,tt[1]=Q[1]+dt[1]*rt,tt}function z(tt,Q){var dt=Q[0]-tt[0],rt=Q[1]-tt[1];return Math.hypot(dt,rt)}function q(tt,Q){var dt=Q[0]-tt[0],rt=Q[1]-tt[1];return dt*dt+rt*rt}function K(tt){var Q=tt[0],dt=tt[1];return Math.hypot(Q,dt)}function it(tt){var Q=tt[0],dt=tt[1];return Q*Q+dt*dt}function ct(tt,Q){return tt[0]=-Q[0],tt[1]=-Q[1],tt}function st(tt,Q){return tt[0]=1/Q[0],tt[1]=1/Q[1],tt}function Ot(tt,Q){var dt=Q[0],rt=Q[1],nt=dt*dt+rt*rt;return nt>0&&(nt=1/Math.sqrt(nt)),tt[0]=Q[0]*nt,tt[1]=Q[1]*nt,tt}function Dt(tt,Q){return tt[0]*Q[0]+tt[1]*Q[1]}function Ht(tt,Q,dt){var rt=Q[0]*dt[1]-Q[1]*dt[0];return tt[0]=tt[1]=0,tt[2]=rt,tt}function N(tt,Q,dt,rt){var nt=Q[0],pt=Q[1];return tt[0]=nt+rt*(dt[0]-nt),tt[1]=pt+rt*(dt[1]-pt),tt}function W(tt,Q){Q=Q||1;var dt=g.FD()*2*Math.PI;return tt[0]=Math.cos(dt)*Q,tt[1]=Math.sin(dt)*Q,tt}function X(tt,Q,dt){var rt=Q[0],nt=Q[1];return tt[0]=dt[0]*rt+dt[2]*nt,tt[1]=dt[1]*rt+dt[3]*nt,tt}function V(tt,Q,dt){var rt=Q[0],nt=Q[1];return tt[0]=dt[0]*rt+dt[2]*nt+dt[4],tt[1]=dt[1]*rt+dt[3]*nt+dt[5],tt}function lt(tt,Q,dt){var rt=Q[0],nt=Q[1];return tt[0]=dt[0]*rt+dt[3]*nt+dt[6],tt[1]=dt[1]*rt+dt[4]*nt+dt[7],tt}function Z(tt,Q,dt){var rt=Q[0],nt=Q[1];return tt[0]=dt[0]*rt+dt[4]*nt+dt[12],tt[1]=dt[1]*rt+dt[5]*nt+dt[13],tt}function U(tt,Q,dt,rt){var nt=Q[0]-dt[0],pt=Q[1]-dt[1],It=Math.sin(rt),Vt=Math.cos(rt);return tt[0]=nt*Vt-pt*It+dt[0],tt[1]=nt*It+pt*Vt+dt[1],tt}function j(tt,Q){var dt=tt[0],rt=tt[1],nt=Q[0],pt=Q[1],It=Math.sqrt(dt*dt+rt*rt)*Math.sqrt(nt*nt+pt*pt),Vt=It&&(dt*nt+rt*pt)/It;return Math.acos(Math.min(Math.max(Vt,-1),1))}function H(tt){return tt[0]=0,tt[1]=0,tt}function f(tt){return"vec2("+tt[0]+", "+tt[1]+")"}function yt(tt,Q){return tt[0]===Q[0]&&tt[1]===Q[1]}function St(tt,Q){var dt=tt[0],rt=tt[1],nt=Q[0],pt=Q[1];return Math.abs(dt-nt)<=g.Ib*Math.max(1,Math.abs(dt),Math.abs(nt))&&Math.abs(rt-pt)<=g.Ib*Math.max(1,Math.abs(rt),Math.abs(pt))}var at=K,Ct=C,wt=p,At=b,_t=z,Lt=q,xt=it,ot=function(){var tt=O();return function(Q,dt,rt,nt,pt,It){var Vt,Qt;for(dt||(dt=2),rt||(rt=0),nt?Qt=Math.min(nt*dt+rt,Q.length):Qt=Q.length,Vt=rt;Vt<Qt;Vt+=dt)tt[0]=Q[Vt],tt[1]=Q[Vt+1],pt(tt,tt,It),Q[Vt]=tt[0],Q[Vt+1]=tt[1];return Q}}()},77160:function(mt,S,v){"use strict";v.r(S),v.d(S,{create:function(){return O},clone:function(){return I},length:function(){return P},fromValues:function(){return T},copy:function(){return A},set:function(){return E},add:function(){return C},subtract:function(){return p},multiply:function(){return b},divide:function(){return x},ceil:function(){return w},floor:function(){return m},min:function(){return M},max:function(){return L},round:function(){return B},scale:function(){return D},scaleAndAdd:function(){return z},distance:function(){return q},squaredDistance:function(){return K},squaredLength:function(){return it},negate:function(){return ct},inverse:function(){return st},normalize:function(){return Ot},dot:function(){return Dt},cross:function(){return Ht},lerp:function(){return N},hermite:function(){return W},bezier:function(){return X},random:function(){return V},transformMat4:function(){return lt},transformMat3:function(){return Z},transformQuat:function(){return U},rotateX:function(){return j},rotateY:function(){return H},rotateZ:function(){return f},angle:function(){return yt},zero:function(){return St},str:function(){return at},exactEquals:function(){return Ct},equals:function(){return wt},sub:function(){return At},mul:function(){return _t},div:function(){return Lt},dist:function(){return xt},sqrDist:function(){return ot},len:function(){return tt},sqrLen:function(){return Q},forEach:function(){return dt}});var g=v(49685);function O(){var rt=new g.WT(3);return g.WT!=Float32Array&&(rt[0]=0,rt[1]=0,rt[2]=0),rt}function I(rt){var nt=new g.WT(3);return nt[0]=rt[0],nt[1]=rt[1],nt[2]=rt[2],nt}function P(rt){var nt=rt[0],pt=rt[1],It=rt[2];return Math.hypot(nt,pt,It)}function T(rt,nt,pt){var It=new g.WT(3);return It[0]=rt,It[1]=nt,It[2]=pt,It}function A(rt,nt){return rt[0]=nt[0],rt[1]=nt[1],rt[2]=nt[2],rt}function E(rt,nt,pt,It){return rt[0]=nt,rt[1]=pt,rt[2]=It,rt}function C(rt,nt,pt){return rt[0]=nt[0]+pt[0],rt[1]=nt[1]+pt[1],rt[2]=nt[2]+pt[2],rt}function p(rt,nt,pt){return rt[0]=nt[0]-pt[0],rt[1]=nt[1]-pt[1],rt[2]=nt[2]-pt[2],rt}function b(rt,nt,pt){return rt[0]=nt[0]*pt[0],rt[1]=nt[1]*pt[1],rt[2]=nt[2]*pt[2],rt}function x(rt,nt,pt){return rt[0]=nt[0]/pt[0],rt[1]=nt[1]/pt[1],rt[2]=nt[2]/pt[2],rt}function w(rt,nt){return rt[0]=Math.ceil(nt[0]),rt[1]=Math.ceil(nt[1]),rt[2]=Math.ceil(nt[2]),rt}function m(rt,nt){return rt[0]=Math.floor(nt[0]),rt[1]=Math.floor(nt[1]),rt[2]=Math.floor(nt[2]),rt}function M(rt,nt,pt){return rt[0]=Math.min(nt[0],pt[0]),rt[1]=Math.min(nt[1],pt[1]),rt[2]=Math.min(nt[2],pt[2]),rt}function L(rt,nt,pt){return rt[0]=Math.max(nt[0],pt[0]),rt[1]=Math.max(nt[1],pt[1]),rt[2]=Math.max(nt[2],pt[2]),rt}function B(rt,nt){return rt[0]=Math.round(nt[0]),rt[1]=Math.round(nt[1]),rt[2]=Math.round(nt[2]),rt}function D(rt,nt,pt){return rt[0]=nt[0]*pt,rt[1]=nt[1]*pt,rt[2]=nt[2]*pt,rt}function z(rt,nt,pt,It){return rt[0]=nt[0]+pt[0]*It,rt[1]=nt[1]+pt[1]*It,rt[2]=nt[2]+pt[2]*It,rt}function q(rt,nt){var pt=nt[0]-rt[0],It=nt[1]-rt[1],Vt=nt[2]-rt[2];return Math.hypot(pt,It,Vt)}function K(rt,nt){var pt=nt[0]-rt[0],It=nt[1]-rt[1],Vt=nt[2]-rt[2];return pt*pt+It*It+Vt*Vt}function it(rt){var nt=rt[0],pt=rt[1],It=rt[2];return nt*nt+pt*pt+It*It}function ct(rt,nt){return rt[0]=-nt[0],rt[1]=-nt[1],rt[2]=-nt[2],rt}function st(rt,nt){return rt[0]=1/nt[0],rt[1]=1/nt[1],rt[2]=1/nt[2],rt}function Ot(rt,nt){var pt=nt[0],It=nt[1],Vt=nt[2],Qt=pt*pt+It*It+Vt*Vt;return Qt>0&&(Qt=1/Math.sqrt(Qt)),rt[0]=nt[0]*Qt,rt[1]=nt[1]*Qt,rt[2]=nt[2]*Qt,rt}function Dt(rt,nt){return rt[0]*nt[0]+rt[1]*nt[1]+rt[2]*nt[2]}function Ht(rt,nt,pt){var It=nt[0],Vt=nt[1],Qt=nt[2],he=pt[0],me=pt[1],Xt=pt[2];return rt[0]=Vt*Xt-Qt*me,rt[1]=Qt*he-It*Xt,rt[2]=It*me-Vt*he,rt}function N(rt,nt,pt,It){var Vt=nt[0],Qt=nt[1],he=nt[2];return rt[0]=Vt+It*(pt[0]-Vt),rt[1]=Qt+It*(pt[1]-Qt),rt[2]=he+It*(pt[2]-he),rt}function W(rt,nt,pt,It,Vt,Qt){var he=Qt*Qt,me=he*(2*Qt-3)+1,Xt=he*(Qt-2)+Qt,$t=he*(Qt-1),fe=he*(3-2*Qt);return rt[0]=nt[0]*me+pt[0]*Xt+It[0]*$t+Vt[0]*fe,rt[1]=nt[1]*me+pt[1]*Xt+It[1]*$t+Vt[1]*fe,rt[2]=nt[2]*me+pt[2]*Xt+It[2]*$t+Vt[2]*fe,rt}function X(rt,nt,pt,It,Vt,Qt){var he=1-Qt,me=he*he,Xt=Qt*Qt,$t=me*he,fe=3*Qt*me,Se=3*Xt*he,ke=Xt*Qt;return rt[0]=nt[0]*$t+pt[0]*fe+It[0]*Se+Vt[0]*ke,rt[1]=nt[1]*$t+pt[1]*fe+It[1]*Se+Vt[1]*ke,rt[2]=nt[2]*$t+pt[2]*fe+It[2]*Se+Vt[2]*ke,rt}function V(rt,nt){nt=nt||1;var pt=g.FD()*2*Math.PI,It=g.FD()*2-1,Vt=Math.sqrt(1-It*It)*nt;return rt[0]=Math.cos(pt)*Vt,rt[1]=Math.sin(pt)*Vt,rt[2]=It*nt,rt}function lt(rt,nt,pt){var It=nt[0],Vt=nt[1],Qt=nt[2],he=pt[3]*It+pt[7]*Vt+pt[11]*Qt+pt[15];return he=he||1,rt[0]=(pt[0]*It+pt[4]*Vt+pt[8]*Qt+pt[12])/he,rt[1]=(pt[1]*It+pt[5]*Vt+pt[9]*Qt+pt[13])/he,rt[2]=(pt[2]*It+pt[6]*Vt+pt[10]*Qt+pt[14])/he,rt}function Z(rt,nt,pt){var It=nt[0],Vt=nt[1],Qt=nt[2];return rt[0]=It*pt[0]+Vt*pt[3]+Qt*pt[6],rt[1]=It*pt[1]+Vt*pt[4]+Qt*pt[7],rt[2]=It*pt[2]+Vt*pt[5]+Qt*pt[8],rt}function U(rt,nt,pt){var It=pt[0],Vt=pt[1],Qt=pt[2],he=pt[3],me=nt[0],Xt=nt[1],$t=nt[2],fe=Vt*$t-Qt*Xt,Se=Qt*me-It*$t,ke=It*Xt-Vt*me,Oe=Vt*ke-Qt*Se,$e=Qt*fe-It*ke,lr=It*Se-Vt*fe,zt=he*2;return fe*=zt,Se*=zt,ke*=zt,Oe*=2,$e*=2,lr*=2,rt[0]=me+fe+Oe,rt[1]=Xt+Se+$e,rt[2]=$t+ke+lr,rt}function j(rt,nt,pt,It){var Vt=[],Qt=[];return Vt[0]=nt[0]-pt[0],Vt[1]=nt[1]-pt[1],Vt[2]=nt[2]-pt[2],Qt[0]=Vt[0],Qt[1]=Vt[1]*Math.cos(It)-Vt[2]*Math.sin(It),Qt[2]=Vt[1]*Math.sin(It)+Vt[2]*Math.cos(It),rt[0]=Qt[0]+pt[0],rt[1]=Qt[1]+pt[1],rt[2]=Qt[2]+pt[2],rt}function H(rt,nt,pt,It){var Vt=[],Qt=[];return Vt[0]=nt[0]-pt[0],Vt[1]=nt[1]-pt[1],Vt[2]=nt[2]-pt[2],Qt[0]=Vt[2]*Math.sin(It)+Vt[0]*Math.cos(It),Qt[1]=Vt[1],Qt[2]=Vt[2]*Math.cos(It)-Vt[0]*Math.sin(It),rt[0]=Qt[0]+pt[0],rt[1]=Qt[1]+pt[1],rt[2]=Qt[2]+pt[2],rt}function f(rt,nt,pt,It){var Vt=[],Qt=[];return Vt[0]=nt[0]-pt[0],Vt[1]=nt[1]-pt[1],Vt[2]=nt[2]-pt[2],Qt[0]=Vt[0]*Math.cos(It)-Vt[1]*Math.sin(It),Qt[1]=Vt[0]*Math.sin(It)+Vt[1]*Math.cos(It),Qt[2]=Vt[2],rt[0]=Qt[0]+pt[0],rt[1]=Qt[1]+pt[1],rt[2]=Qt[2]+pt[2],rt}function yt(rt,nt){var pt=rt[0],It=rt[1],Vt=rt[2],Qt=nt[0],he=nt[1],me=nt[2],Xt=Math.sqrt(pt*pt+It*It+Vt*Vt),$t=Math.sqrt(Qt*Qt+he*he+me*me),fe=Xt*$t,Se=fe&&Dt(rt,nt)/fe;return Math.acos(Math.min(Math.max(Se,-1),1))}function St(rt){return rt[0]=0,rt[1]=0,rt[2]=0,rt}function at(rt){return"vec3("+rt[0]+", "+rt[1]+", "+rt[2]+")"}function Ct(rt,nt){return rt[0]===nt[0]&&rt[1]===nt[1]&&rt[2]===nt[2]}function wt(rt,nt){var pt=rt[0],It=rt[1],Vt=rt[2],Qt=nt[0],he=nt[1],me=nt[2];return Math.abs(pt-Qt)<=g.Ib*Math.max(1,Math.abs(pt),Math.abs(Qt))&&Math.abs(It-he)<=g.Ib*Math.max(1,Math.abs(It),Math.abs(he))&&Math.abs(Vt-me)<=g.Ib*Math.max(1,Math.abs(Vt),Math.abs(me))}var At=p,_t=b,Lt=x,xt=q,ot=K,tt=P,Q=it,dt=function(){var rt=O();return function(nt,pt,It,Vt,Qt,he){var me,Xt;for(pt||(pt=3),It||(It=0),Vt?Xt=Math.min(Vt*pt+It,nt.length):Xt=nt.length,me=It;me<Xt;me+=pt)rt[0]=nt[me],rt[1]=nt[me+1],rt[2]=nt[me+2],Qt(rt,rt,he),nt[me]=rt[0],nt[me+1]=rt[1],nt[me+2]=rt[2];return nt}}()},28282:function(mt,S,v){var g=v(82354);mt.exports={Graph:g.Graph,json:v(28974),alg:v(12440),version:g.version}},2842:function(mt,S,v){var g=v(89126);mt.exports=O;function O(I){var P={},T=[],A;function E(C){g.has(P,C)||(P[C]=!0,A.push(C),g.each(I.successors(C),E),g.each(I.predecessors(C),E))}return g.each(I.nodes(),function(C){A=[],E(C),A.length&&T.push(A)}),T}},53984:function(mt,S,v){var g=v(89126);mt.exports=O;function O(P,T,A){g.isArray(T)||(T=[T]);var E=(P.isDirected()?P.successors:P.neighbors).bind(P),C=[],p={};return g.each(T,function(b){if(!P.hasNode(b))throw new Error("Graph does not have node: "+b);I(P,b,A==="post",p,E,C)}),C}function I(P,T,A,E,C,p){g.has(E,T)||(E[T]=!0,A||p.push(T),g.each(C(T),function(b){I(P,b,A,E,C,p)}),A&&p.push(T))}},84847:function(mt,S,v){var g=v(63763),O=v(89126);mt.exports=I;function I(P,T,A){return O.transform(P.nodes(),function(E,C){E[C]=g(P,C,T,A)},{})}},63763:function(mt,S,v){var g=v(89126),O=v(75639);mt.exports=P;var I=g.constant(1);function P(A,E,C,p){return T(A,String(E),C||I,p||function(b){return A.outEdges(b)})}function T(A,E,C,p){var b={},x=new O,w,m,M=function(L){var B=L.v!==w?L.v:L.w,D=b[B],z=C(L),q=m.distance+z;if(z<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+L+" Weight: "+z);q<D.distance&&(D.distance=q,D.predecessor=w,x.decrease(B,q))};for(A.nodes().forEach(function(L){var B=L===E?0:Number.POSITIVE_INFINITY;b[L]={distance:B},x.add(L,B)});x.size()>0&&(w=x.removeMin(),m=b[w],m.distance!==Number.POSITIVE_INFINITY);)p(w).forEach(M);return b}},9096:function(mt,S,v){var g=v(89126),O=v(5023);mt.exports=I;function I(P){return g.filter(O(P),function(T){return T.length>1||T.length===1&&P.hasEdge(T[0],T[0])})}},38924:function(mt,S,v){var g=v(89126);mt.exports=I;var O=g.constant(1);function I(T,A,E){return P(T,A||O,E||function(C){return T.outEdges(C)})}function P(T,A,E){var C={},p=T.nodes();return p.forEach(function(b){C[b]={},C[b][b]={distance:0},p.forEach(function(x){b!==x&&(C[b][x]={distance:Number.POSITIVE_INFINITY})}),E(b).forEach(function(x){var w=x.v===b?x.w:x.v,m=A(x);C[b][w]={distance:m,predecessor:b}})}),p.forEach(function(b){var x=C[b];p.forEach(function(w){var m=C[w];p.forEach(function(M){var L=m[b],B=x[M],D=m[M],z=L.distance+B.distance;z<D.distance&&(D.distance=z,D.predecessor=B.predecessor)})})}),C}},12440:function(mt,S,v){mt.exports={components:v(2842),dijkstra:v(63763),dijkstraAll:v(84847),findCycles:v(9096),floydWarshall:v(38924),isAcyclic:v(62707),postorder:v(58828),preorder:v(92648),prim:v(80514),tarjan:v(5023),topsort:v(2166)}},62707:function(mt,S,v){var g=v(2166);mt.exports=O;function O(I){try{g(I)}catch(P){if(P instanceof g.CycleException)return!1;throw P}return!0}},58828:function(mt,S,v){var g=v(53984);mt.exports=O;function O(I,P){return g(I,P,"post")}},92648:function(mt,S,v){var g=v(53984);mt.exports=O;function O(I,P){return g(I,P,"pre")}},80514:function(mt,S,v){var g=v(89126),O=v(30771),I=v(75639);mt.exports=P;function P(T,A){var E=new O,C={},p=new I,b;function x(m){var M=m.v===b?m.w:m.v,L=p.priority(M);if(L!==void 0){var B=A(m);B<L&&(C[M]=b,p.decrease(M,B))}}if(T.nodeCount()===0)return E;g.each(T.nodes(),function(m){p.add(m,Number.POSITIVE_INFINITY),E.setNode(m)}),p.decrease(T.nodes()[0],0);for(var w=!1;p.size()>0;){if(b=p.removeMin(),g.has(C,b))E.setEdge(b,C[b]);else{if(w)throw new Error("Input graph is not connected: "+T);w=!0}T.nodeEdges(b).forEach(x)}return E}},5023:function(mt,S,v){var g=v(89126);mt.exports=O;function O(I){var P=0,T=[],A={},E=[];function C(p){var b=A[p]={onStack:!0,lowlink:P,index:P++};if(T.push(p),I.successors(p).forEach(function(m){g.has(A,m)?A[m].onStack&&(b.lowlink=Math.min(b.lowlink,A[m].index)):(C(m),b.lowlink=Math.min(b.lowlink,A[m].lowlink))}),b.lowlink===b.index){var x=[],w;do w=T.pop(),A[w].onStack=!1,x.push(w);while(p!==w);E.push(x)}}return I.nodes().forEach(function(p){g.has(A,p)||C(p)}),E}},2166:function(mt,S,v){var g=v(89126);mt.exports=O,O.CycleException=I;function O(P){var T={},A={},E=[];function C(p){if(g.has(A,p))throw new I;g.has(T,p)||(A[p]=!0,T[p]=!0,g.each(P.predecessors(p),C),delete A[p],E.push(p))}if(g.each(P.sinks(),C),g.size(T)!==P.nodeCount())throw new I;return E}function I(){}I.prototype=new Error},75639:function(mt,S,v){var g=v(89126);mt.exports=O;function O(){this._arr=[],this._keyIndices={}}O.prototype.size=function(){return this._arr.length},O.prototype.keys=function(){return this._arr.map(function(I){return I.key})},O.prototype.has=function(I){return g.has(this._keyIndices,I)},O.prototype.priority=function(I){var P=this._keyIndices[I];if(P!==void 0)return this._arr[P].priority},O.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},O.prototype.add=function(I,P){var T=this._keyIndices;if(I=String(I),!g.has(T,I)){var A=this._arr,E=A.length;return T[I]=E,A.push({key:I,priority:P}),this._decrease(E),!0}return!1},O.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var I=this._arr.pop();return delete this._keyIndices[I.key],this._heapify(0),I.key},O.prototype.decrease=function(I,P){var T=this._keyIndices[I];if(P>this._arr[T].priority)throw new Error("New priority is greater than current priority. Key: "+I+" Old: "+this._arr[T].priority+" New: "+P);this._arr[T].priority=P,this._decrease(T)},O.prototype._heapify=function(I){var P=this._arr,T=2*I,A=T+1,E=I;T<P.length&&(E=P[T].priority<P[E].priority?T:E,A<P.length&&(E=P[A].priority<P[E].priority?A:E),E!==I&&(this._swap(I,E),this._heapify(E)))},O.prototype._decrease=function(I){for(var P=this._arr,T=P[I].priority,A;I!==0&&(A=I>>1,!(P[A].priority<T));)this._swap(I,A),I=A},O.prototype._swap=function(I,P){var T=this._arr,A=this._keyIndices,E=T[I],C=T[P];T[I]=C,T[P]=E,A[C.key]=I,A[E.key]=P}},30771:function(mt,S,v){"use strict";var g=v(89126);mt.exports=T;var O="\0",I="\0",P="";function T(x){this._isDirected=g.has(x,"directed")?x.directed:!0,this._isMultigraph=g.has(x,"multigraph")?x.multigraph:!1,this._isCompound=g.has(x,"compound")?x.compound:!1,this._label=void 0,this._defaultNodeLabelFn=g.constant(void 0),this._defaultEdgeLabelFn=g.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[I]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}T.prototype._nodeCount=0,T.prototype._edgeCount=0,T.prototype.isDirected=function(){return this._isDirected},T.prototype.isMultigraph=function(){return this._isMultigraph},T.prototype.isCompound=function(){return this._isCompound},T.prototype.setGraph=function(x){return this._label=x,this},T.prototype.graph=function(){return this._label},T.prototype.setDefaultNodeLabel=function(x){return g.isFunction(x)||(x=g.constant(x)),this._defaultNodeLabelFn=x,this},T.prototype.nodeCount=function(){return this._nodeCount},T.prototype.nodes=function(){return g.keys(this._nodes)},T.prototype.sources=function(){var x=this;return g.filter(this.nodes(),function(w){return g.isEmpty(x._in[w])})},T.prototype.sinks=function(){var x=this;return g.filter(this.nodes(),function(w){return g.isEmpty(x._out[w])})},T.prototype.setNodes=function(x,w){var m=arguments,M=this;return g.each(x,function(L){m.length>1?M.setNode(L,w):M.setNode(L)}),this},T.prototype.setNode=function(x,w){return g.has(this._nodes,x)?(arguments.length>1&&(this._nodes[x]=w),this):(this._nodes[x]=arguments.length>1?w:this._defaultNodeLabelFn(x),this._isCompound&&(this._parent[x]=I,this._children[x]={},this._children[I][x]=!0),this._in[x]={},this._preds[x]={},this._out[x]={},this._sucs[x]={},++this._nodeCount,this)},T.prototype.node=function(x){return this._nodes[x]},T.prototype.hasNode=function(x){return g.has(this._nodes,x)},T.prototype.removeNode=function(x){var w=this;if(g.has(this._nodes,x)){var m=function(M){w.removeEdge(w._edgeObjs[M])};delete this._nodes[x],this._isCompound&&(this._removeFromParentsChildList(x),delete this._parent[x],g.each(this.children(x),function(M){w.setParent(M)}),delete this._children[x]),g.each(g.keys(this._in[x]),m),delete this._in[x],delete this._preds[x],g.each(g.keys(this._out[x]),m),delete this._out[x],delete this._sucs[x],--this._nodeCount}return this},T.prototype.setParent=function(x,w){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(g.isUndefined(w))w=I;else{w+="";for(var m=w;!g.isUndefined(m);m=this.parent(m))if(m===x)throw new Error("Setting "+w+" as parent of "+x+" would create a cycle");this.setNode(w)}return this.setNode(x),this._removeFromParentsChildList(x),this._parent[x]=w,this._children[w][x]=!0,this},T.prototype._removeFromParentsChildList=function(x){delete this._children[this._parent[x]][x]},T.prototype.parent=function(x){if(this._isCompound){var w=this._parent[x];if(w!==I)return w}},T.prototype.children=function(x){if(g.isUndefined(x)&&(x=I),this._isCompound){var w=this._children[x];if(w)return g.keys(w)}else{if(x===I)return this.nodes();if(this.hasNode(x))return[]}},T.prototype.predecessors=function(x){var w=this._preds[x];if(w)return g.keys(w)},T.prototype.successors=function(x){var w=this._sucs[x];if(w)return g.keys(w)},T.prototype.neighbors=function(x){var w=this.predecessors(x);if(w)return g.union(w,this.successors(x))},T.prototype.isLeaf=function(x){var w;return this.isDirected()?w=this.successors(x):w=this.neighbors(x),w.length===0},T.prototype.filterNodes=function(x){var w=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});w.setGraph(this.graph());var m=this;g.each(this._nodes,function(B,D){x(D)&&w.setNode(D,B)}),g.each(this._edgeObjs,function(B){w.hasNode(B.v)&&w.hasNode(B.w)&&w.setEdge(B,m.edge(B))});var M={};function L(B){var D=m.parent(B);return D===void 0||w.hasNode(D)?(M[B]=D,D):D in M?M[D]:L(D)}return this._isCompound&&g.each(w.nodes(),function(B){w.setParent(B,L(B))}),w},T.prototype.setDefaultEdgeLabel=function(x){return g.isFunction(x)||(x=g.constant(x)),this._defaultEdgeLabelFn=x,this},T.prototype.edgeCount=function(){return this._edgeCount},T.prototype.edges=function(){return g.values(this._edgeObjs)},T.prototype.setPath=function(x,w){var m=this,M=arguments;return g.reduce(x,function(L,B){return M.length>1?m.setEdge(L,B,w):m.setEdge(L,B),B}),this},T.prototype.setEdge=function(){var x,w,m,M,L=!1,B=arguments[0];typeof B=="object"&&B!==null&&"v"in B?(x=B.v,w=B.w,m=B.name,arguments.length===2&&(M=arguments[1],L=!0)):(x=B,w=arguments[1],m=arguments[3],arguments.length>2&&(M=arguments[2],L=!0)),x=""+x,w=""+w,g.isUndefined(m)||(m=""+m);var D=C(this._isDirected,x,w,m);if(g.has(this._edgeLabels,D))return L&&(this._edgeLabels[D]=M),this;if(!g.isUndefined(m)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(x),this.setNode(w),this._edgeLabels[D]=L?M:this._defaultEdgeLabelFn(x,w,m);var z=p(this._isDirected,x,w,m);return x=z.v,w=z.w,Object.freeze(z),this._edgeObjs[D]=z,A(this._preds[w],x),A(this._sucs[x],w),this._in[w][D]=z,this._out[x][D]=z,this._edgeCount++,this},T.prototype.edge=function(x,w,m){var M=arguments.length===1?b(this._isDirected,arguments[0]):C(this._isDirected,x,w,m);return this._edgeLabels[M]},T.prototype.hasEdge=function(x,w,m){var M=arguments.length===1?b(this._isDirected,arguments[0]):C(this._isDirected,x,w,m);return g.has(this._edgeLabels,M)},T.prototype.removeEdge=function(x,w,m){var M=arguments.length===1?b(this._isDirected,arguments[0]):C(this._isDirected,x,w,m),L=this._edgeObjs[M];return L&&(x=L.v,w=L.w,delete this._edgeLabels[M],delete this._edgeObjs[M],E(this._preds[w],x),E(this._sucs[x],w),delete this._in[w][M],delete this._out[x][M],this._edgeCount--),this},T.prototype.inEdges=function(x,w){var m=this._in[x];if(m){var M=g.values(m);return w?g.filter(M,function(L){return L.v===w}):M}},T.prototype.outEdges=function(x,w){var m=this._out[x];if(m){var M=g.values(m);return w?g.filter(M,function(L){return L.w===w}):M}},T.prototype.nodeEdges=function(x,w){var m=this.inEdges(x,w);if(m)return m.concat(this.outEdges(x,w))};function A(x,w){x[w]?x[w]++:x[w]=1}function E(x,w){--x[w]||delete x[w]}function C(x,w,m,M){var L=""+w,B=""+m;if(!x&&L>B){var D=L;L=B,B=D}return L+P+B+P+(g.isUndefined(M)?O:M)}function p(x,w,m,M){var L=""+w,B=""+m;if(!x&&L>B){var D=L;L=B,B=D}var z={v:L,w:B};return M&&(z.name=M),z}function b(x,w){return C(x,w.v,w.w,w.name)}},82354:function(mt,S,v){mt.exports={Graph:v(30771),version:v(49631)}},28974:function(mt,S,v){var g=v(89126),O=v(30771);mt.exports={write:I,read:A};function I(E){var C={options:{directed:E.isDirected(),multigraph:E.isMultigraph(),compound:E.isCompound()},nodes:P(E),edges:T(E)};return g.isUndefined(E.graph())||(C.value=g.clone(E.graph())),C}function P(E){return g.map(E.nodes(),function(C){var p=E.node(C),b=E.parent(C),x={v:C};return g.isUndefined(p)||(x.value=p),g.isUndefined(b)||(x.parent=b),x})}function T(E){return g.map(E.edges(),function(C){var p=E.edge(C),b={v:C.v,w:C.w};return g.isUndefined(C.name)||(b.name=C.name),g.isUndefined(p)||(b.value=p),b})}function A(E){var C=new O(E.options).setGraph(E.value);return g.each(E.nodes,function(p){C.setNode(p.v,p.value),p.parent&&C.setParent(p.v,p.parent)}),g.each(E.edges,function(p){C.setEdge({v:p.v,w:p.w,name:p.name},p.value)}),C}},89126:function(mt,S,v){var g;try{g={clone:v(66678),constant:v(75703),each:v(66073),filter:v(63105),has:v(18721),isArray:v(1469),isEmpty:v(41609),isFunction:v(23560),isUndefined:v(52353),keys:v(3674),map:v(35161),reduce:v(54061),size:v(84238),transform:v(68718),union:v(93386),values:v(52628)}}catch(O){}g||(g=window._),mt.exports=g},49631:function(mt){mt.exports="2.1.8"},38186:function(mt){var S=[],v=[],g="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function O(P,T){if(T=T||{},P===void 0)throw new Error(g);var A=T.prepend===!0?"prepend":"append",E=T.container!==void 0?T.container:document.querySelector("head"),C=S.indexOf(E);C===-1&&(C=S.push(E)-1,v[C]={});var p;return v[C]!==void 0&&v[C][A]!==void 0?p=v[C][A]:(p=v[C][A]=I(),A==="prepend"?E.insertBefore(p,E.childNodes[0]):E.appendChild(p)),P.charCodeAt(0)===65279&&(P=P.substr(1,P.length)),p.styleSheet?p.styleSheet.cssText+=P:p.textContent+=P,p}function I(){var P=document.createElement("style");return P.setAttribute("type","text/css"),P}mt.exports=O,mt.exports.insertCss=O},96874:function(mt){function S(v,g,O){switch(O.length){case 0:return v.call(g);case 1:return v.call(g,O[0]);case 2:return v.call(g,O[0],O[1]);case 3:return v.call(g,O[0],O[1],O[2])}return v.apply(g,O)}mt.exports=S},47443:function(mt,S,v){var g=v(42118);function O(I,P){var T=I==null?0:I.length;return!!T&&g(I,P,0)>-1}mt.exports=O},1196:function(mt){function S(v,g,O){for(var I=-1,P=v==null?0:v.length;++I<P;)if(O(g,v[I]))return!0;return!1}mt.exports=S},62663:function(mt){function S(v,g,O,I){var P=-1,T=v==null?0:v.length;for(I&&T&&(O=v[++P]);++P<T;)O=g(O,v[P],P,v);return O}mt.exports=S},48983:function(mt,S,v){var g=v(40371),O=g("length");mt.exports=O},86556:function(mt,S,v){var g=v(89465),O=v(77813);function I(P,T,A){(A!==void 0&&!O(P[T],A)||A===void 0&&!(T in P))&&g(P,T,A)}mt.exports=I},56029:function(mt,S,v){var g=v(33448);function O(I,P,T){for(var A=-1,E=I.length;++A<E;){var C=I[A],p=P(C);if(p!=null&&(b===void 0?p===p&&!g(p):T(p,b)))var b=p,x=C}return x}mt.exports=O},80760:function(mt,S,v){var g=v(89881);function O(I,P){var T=[];return g(I,function(A,E,C){P(A,E,C)&&T.push(A)}),T}mt.exports=O},41848:function(mt){function S(v,g,O,I){for(var P=v.length,T=O+(I?1:-1);I?T--:++T<P;)if(g(v[T],T,v))return T;return-1}mt.exports=S},21078:function(mt,S,v){var g=v(62488),O=v(37285);function I(P,T,A,E,C){var p=-1,b=P.length;for(A||(A=O),C||(C=[]);++p<b;){var x=P[p];T>0&&A(x)?T>1?I(x,T-1,A,E,C):g(C,x):E||(C[C.length]=x)}return C}mt.exports=I},53325:function(mt){function S(v,g){return v>g}mt.exports=S},78565:function(mt){var S=Object.prototype,v=S.hasOwnProperty;function g(O,I){return O!=null&&v.call(O,I)}mt.exports=g},42118:function(mt,S,v){var g=v(41848),O=v(62722),I=v(42351);function P(T,A,E){return A===A?I(T,A,E):g(T,O,E)}mt.exports=P},62722:function(mt){function S(v){return v!==v}mt.exports=S},70433:function(mt){function S(v,g){return v<g}mt.exports=S},42980:function(mt,S,v){var g=v(46384),O=v(86556),I=v(28483),P=v(59783),T=v(13218),A=v(81704),E=v(36390);function C(p,b,x,w,m){p!==b&&I(b,function(M,L){if(m||(m=new g),T(M))P(p,b,L,x,C,w,m);else{var B=w?w(E(p,L),M,L+"",p,b,m):void 0;B===void 0&&(B=M),O(p,L,B)}},A)}mt.exports=C},59783:function(mt,S,v){var g=v(86556),O=v(64626),I=v(77133),P=v(278),T=v(38517),A=v(35694),E=v(1469),C=v(29246),p=v(78264),b=v(23560),x=v(13218),w=v(68630),m=v(36719),M=v(36390),L=v(59881);function B(D,z,q,K,it,ct,st){var Ot=M(D,q),Dt=M(z,q),Ht=st.get(Dt);if(Ht){g(D,q,Ht);return}var N=ct?ct(Ot,Dt,q+"",D,z,st):void 0,W=N===void 0;if(W){var X=E(Dt),V=!X&&p(Dt),lt=!X&&!V&&m(Dt);N=Dt,X||V||lt?E(Ot)?N=Ot:C(Ot)?N=P(Ot):V?(W=!1,N=O(Dt,!0)):lt?(W=!1,N=I(Dt,!0)):N=[]:w(Dt)||A(Dt)?(N=Ot,A(Ot)?N=L(Ot):(!x(Ot)||b(Ot))&&(N=T(Dt))):W=!1}W&&(st.set(Dt,N),it(N,Dt,K,ct,st),st.delete(Dt)),g(D,q,N)}mt.exports=B},82689:function(mt,S,v){var g=v(29932),O=v(97786),I=v(67206),P=v(69199),T=v(71131),A=v(7518),E=v(85022),C=v(6557),p=v(1469);function b(x,w,m){w.length?w=g(w,function(B){return p(B)?function(D){return O(D,B.length===1?B[0]:B)}:B}):w=[C];var M=-1;w=g(w,A(I));var L=P(x,function(B,D,z){var q=g(w,function(K){return K(B)});return{criteria:q,index:++M,value:B}});return T(L,function(B,D){return E(B,D,m)})}mt.exports=b},25970:function(mt,S,v){var g=v(63012),O=v(79095);function I(P,T){return g(P,T,function(A,E){return O(P,E)})}mt.exports=I},63012:function(mt,S,v){var g=v(97786),O=v(10611),I=v(71811);function P(T,A,E){for(var C=-1,p=A.length,b={};++C<p;){var x=A[C],w=g(T,x);E(w,x)&&O(b,I(x,T),w)}return b}mt.exports=P},40098:function(mt){var S=Math.ceil,v=Math.max;function g(O,I,P,T){for(var A=-1,E=v(S((I-O)/(P||1)),0),C=Array(E);E--;)C[T?E:++A]=O,O+=P;return C}mt.exports=g},10107:function(mt){function S(v,g,O,I,P){return P(v,function(T,A,E){O=I?(I=!1,T):g(O,T,A,E)}),O}mt.exports=S},5976:function(mt,S,v){var g=v(6557),O=v(45357),I=v(30061);function P(T,A){return I(O(T,A,g),T+"")}mt.exports=P},10611:function(mt,S,v){var g=v(34865),O=v(71811),I=v(65776),P=v(13218),T=v(40327);function A(E,C,p,b){if(!P(E))return E;C=O(C,E);for(var x=-1,w=C.length,m=w-1,M=E;M!=null&&++x<w;){var L=T(C[x]),B=p;if(L==="__proto__"||L==="constructor"||L==="prototype")return E;if(x!=m){var D=M[L];B=b?b(D,L,M):void 0,B===void 0&&(B=P(D)?D:I(C[x+1])?[]:{})}g(M,L,B),M=M[L]}return E}mt.exports=A},56560:function(mt,S,v){var g=v(75703),O=v(38777),I=v(6557),P=O?function(T,A){return O(T,"toString",{configurable:!0,enumerable:!1,value:g(A),writable:!0})}:I;mt.exports=P},71131:function(mt){function S(v,g){var O=v.length;for(v.sort(g);O--;)v[O]=v[O].value;return v}mt.exports=S},45652:function(mt,S,v){var g=v(88668),O=v(47443),I=v(1196),P=v(74757),T=v(23593),A=v(21814),E=200;function C(p,b,x){var w=-1,m=O,M=p.length,L=!0,B=[],D=B;if(x)L=!1,m=I;else if(M>=E){var z=b?null:T(p);if(z)return A(z);L=!1,m=P,D=new g}else D=b?[]:B;t:for(;++w<M;){var q=p[w],K=b?b(q):q;if(q=x||q!==0?q:0,L&&K===K){for(var it=D.length;it--;)if(D[it]===K)continue t;b&&D.push(K),B.push(q)}else m(D,K,x)||(D!==B&&D.push(K),B.push(q))}return B}mt.exports=C},47415:function(mt,S,v){var g=v(29932);function O(I,P){return g(P,function(T){return I[T]})}mt.exports=O},1757:function(mt){function S(v,g,O){for(var I=-1,P=v.length,T=g.length,A={};++I<P;){var E=I<T?g[I]:void 0;O(A,v[I],E)}return A}mt.exports=S},26393:function(mt,S,v){var g=v(33448);function O(I,P){if(I!==P){var T=I!==void 0,A=I===null,E=I===I,C=g(I),p=P!==void 0,b=P===null,x=P===P,w=g(P);if(!b&&!w&&!C&&I>P||C&&p&&x&&!b&&!w||A&&p&&x||!T&&x||!E)return 1;if(!A&&!C&&!w&&I<P||w&&T&&E&&!A&&!C||b&&T&&E||!p&&E||!x)return-1}return 0}mt.exports=O},85022:function(mt,S,v){var g=v(26393);function O(I,P,T){for(var A=-1,E=I.criteria,C=P.criteria,p=E.length,b=T.length;++A<p;){var x=g(E[A],C[A]);if(x){if(A>=b)return x;var w=T[A];return x*(w=="desc"?-1:1)}}return I.index-P.index}mt.exports=O},21463:function(mt,S,v){var g=v(5976),O=v(16612);function I(P){return g(function(T,A){var E=-1,C=A.length,p=C>1?A[C-1]:void 0,b=C>2?A[2]:void 0;for(p=P.length>3&&typeof p=="function"?(C--,p):void 0,b&&O(A[0],A[1],b)&&(p=C<3?void 0:p,C=1),T=Object(T);++E<C;){var x=A[E];x&&P(T,x,E,p)}return T})}mt.exports=I},67740:function(mt,S,v){var g=v(67206),O=v(98612),I=v(3674);function P(T){return function(A,E,C){var p=Object(A);if(!O(A)){var b=g(E,3);A=I(A),E=function(w){return b(p[w],w,p)}}var x=T(A,E,C);return x>-1?p[b?A[x]:x]:void 0}}mt.exports=P},47445:function(mt,S,v){var g=v(40098),O=v(16612),I=v(18601);function P(T){return function(A,E,C){return C&&typeof C!="number"&&O(A,E,C)&&(E=C=void 0),A=I(A),E===void 0?(E=A,A=0):E=I(E),C=C===void 0?A<E?1:-1:I(C),g(A,E,C,T)}}mt.exports=P},23593:function(mt,S,v){var g=v(58525),O=v(50308),I=v(21814),P=1/0,T=g&&1/I(new g([,-0]))[1]==P?function(A){return new g(A)}:O;mt.exports=T},99021:function(mt,S,v){var g=v(85564),O=v(45357),I=v(30061);function P(T){return I(O(T,void 0,g),T+"")}mt.exports=P},62689:function(mt){var S="\\ud800-\\udfff",v="\\u0300-\\u036f",g="\\ufe20-\\ufe2f",O="\\u20d0-\\u20ff",I=v+g+O,P="\\ufe0e\\ufe0f",T="\\u200d",A=RegExp("["+T+S+I+P+"]");function E(C){return A.test(C)}mt.exports=E},37285:function(mt,S,v){var g=v(62705),O=v(35694),I=v(1469),P=g?g.isConcatSpreadable:void 0;function T(A){return I(A)||O(A)||!!(P&&A&&A[P])}mt.exports=T},16612:function(mt,S,v){var g=v(77813),O=v(98612),I=v(65776),P=v(13218);function T(A,E,C){if(!P(C))return!1;var p=typeof E;return(p=="number"?O(C)&&I(E,C.length):p=="string"&&E in C)?g(C[E],A):!1}mt.exports=T},45357:function(mt,S,v){var g=v(96874),O=Math.max;function I(P,T,A){return T=O(T===void 0?P.length-1:T,0),function(){for(var E=arguments,C=-1,p=O(E.length-T,0),b=Array(p);++C<p;)b[C]=E[T+C];C=-1;for(var x=Array(T+1);++C<T;)x[C]=E[C];return x[T]=A(b),g(P,this,x)}}mt.exports=I},36390:function(mt){function S(v,g){if(!(g==="constructor"&&typeof v[g]=="function")&&g!="__proto__")return v[g]}mt.exports=S},30061:function(mt,S,v){var g=v(56560),O=v(21275),I=O(g);mt.exports=I},21275:function(mt){var S=800,v=16,g=Date.now;function O(I){var P=0,T=0;return function(){var A=g(),E=v-(A-T);if(T=A,E>0){if(++P>=S)return arguments[0]}else P=0;return I.apply(void 0,arguments)}}mt.exports=O},42351:function(mt){function S(v,g,O){for(var I=O-1,P=v.length;++I<P;)if(v[I]===g)return I;return-1}mt.exports=S},88016:function(mt,S,v){var g=v(48983),O=v(62689),I=v(21903);function P(T){return O(T)?I(T):g(T)}mt.exports=P},21903:function(mt){var S="\\ud800-\\udfff",v="\\u0300-\\u036f",g="\\ufe20-\\ufe2f",O="\\u20d0-\\u20ff",I=v+g+O,P="\\ufe0e\\ufe0f",T="["+S+"]",A="["+I+"]",E="\\ud83c[\\udffb-\\udfff]",C="(?:"+A+"|"+E+")",p="[^"+S+"]",b="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",w="\\u200d",m=C+"?",M="["+P+"]?",L="(?:"+w+"(?:"+[p,b,x].join("|")+")"+M+m+")*",B=M+m+L,D="(?:"+[p+A+"?",A,b,x,T].join("|")+")",z=RegExp(E+"(?="+E+")|"+D+B,"g");function q(K){for(var it=z.lastIndex=0;z.test(K);)++it;return it}mt.exports=q},66678:function(mt,S,v){var g=v(85990),O=4;function I(P){return g(P,O)}mt.exports=I},75703:function(mt){function S(v){return function(){return v}}mt.exports=S},91747:function(mt,S,v){var g=v(5976),O=v(77813),I=v(16612),P=v(81704),T=Object.prototype,A=T.hasOwnProperty,E=g(function(C,p){C=Object(C);var b=-1,x=p.length,w=x>2?p[2]:void 0;for(w&&I(p[0],p[1],w)&&(x=1);++b<x;)for(var m=p[b],M=P(m),L=-1,B=M.length;++L<B;){var D=M[L],z=C[D];(z===void 0||O(z,T[D])&&!A.call(C,D))&&(C[D]=m[D])}return C});mt.exports=E},66073:function(mt,S,v){mt.exports=v(84486)},63105:function(mt,S,v){var g=v(34963),O=v(80760),I=v(67206),P=v(1469);function T(A,E){var C=P(A)?g:O;return C(A,I(E,3))}mt.exports=T},13311:function(mt,S,v){var g=v(67740),O=v(30998),I=g(O);mt.exports=I},30998:function(mt,S,v){var g=v(41848),O=v(67206),I=v(40554),P=Math.max;function T(A,E,C){var p=A==null?0:A.length;if(!p)return-1;var b=C==null?0:I(C);return b<0&&(b=P(p+b,0)),g(A,O(E,3),b)}mt.exports=T},85564:function(mt,S,v){var g=v(21078);function O(I){var P=I==null?0:I.length;return P?g(I,1):[]}mt.exports=O},84486:function(mt,S,v){var g=v(77412),O=v(89881),I=v(54290),P=v(1469);function T(A,E){var C=P(A)?g:O;return C(A,I(E))}mt.exports=T},62620:function(mt,S,v){var g=v(28483),O=v(54290),I=v(81704);function P(T,A){return T==null?T:g(T,O(A),I)}mt.exports=P},18721:function(mt,S,v){var g=v(78565),O=v(222);function I(P,T){return P!=null&&O(P,T,g)}mt.exports=I},29246:function(mt,S,v){var g=v(98612),O=v(37005);function I(P){return O(P)&&g(P)}mt.exports=I},41609:function(mt,S,v){var g=v(280),O=v(64160),I=v(35694),P=v(1469),T=v(98612),A=v(78264),E=v(25726),C=v(36719),p="[object Map]",b="[object Set]",x=Object.prototype,w=x.hasOwnProperty;function m(M){if(M==null)return!0;if(T(M)&&(P(M)||typeof M=="string"||typeof M.splice=="function"||A(M)||C(M)||I(M)))return!M.length;var L=O(M);if(L==p||L==b)return!M.size;if(E(M))return!g(M).length;for(var B in M)if(w.call(M,B))return!1;return!0}mt.exports=m},52353:function(mt){function S(v){return v===void 0}mt.exports=S},10928:function(mt){function S(v){var g=v==null?0:v.length;return g?v[g-1]:void 0}mt.exports=S},66604:function(mt,S,v){var g=v(89465),O=v(47816),I=v(67206);function P(T,A){var E={};return A=I(A,3),O(T,function(C,p,b){g(E,p,A(C,p,b))}),E}mt.exports=P},6162:function(mt,S,v){var g=v(56029),O=v(53325),I=v(6557);function P(T){return T&&T.length?g(T,I,O):void 0}mt.exports=P},82492:function(mt,S,v){var g=v(42980),O=v(21463),I=O(function(P,T,A){g(P,T,A)});mt.exports=I},53632:function(mt,S,v){var g=v(56029),O=v(70433),I=v(6557);function P(T){return T&&T.length?g(T,I,O):void 0}mt.exports=P},22762:function(mt,S,v){var g=v(56029),O=v(67206),I=v(70433);function P(T,A){return T&&T.length?g(T,O(A,2),I):void 0}mt.exports=P},50308:function(mt){function S(){}mt.exports=S},78718:function(mt,S,v){var g=v(25970),O=v(99021),I=O(function(P,T){return P==null?{}:g(P,T)});mt.exports=I},96026:function(mt,S,v){var g=v(47445),O=g();mt.exports=O},54061:function(mt,S,v){var g=v(62663),O=v(89881),I=v(67206),P=v(10107),T=v(1469);function A(E,C,p){var b=T(E)?g:P,x=arguments.length<3;return b(E,I(C,4),p,x,O)}mt.exports=A},84238:function(mt,S,v){var g=v(280),O=v(64160),I=v(98612),P=v(47037),T=v(88016),A="[object Map]",E="[object Set]";function C(p){if(p==null)return 0;if(I(p))return P(p)?T(p):p.length;var b=O(p);return b==A||b==E?p.size:g(p).length}mt.exports=C},89734:function(mt,S,v){var g=v(21078),O=v(82689),I=v(5976),P=v(16612),T=I(function(A,E){if(A==null)return[];var C=E.length;return C>1&&P(A,E[0],E[1])?E=[]:C>2&&P(E[0],E[1],E[2])&&(E=[E[0]]),O(A,g(E,1),[])});mt.exports=T},18601:function(mt,S,v){var g=v(14841),O=1/0,I=17976931348623157e292;function P(T){if(!T)return T===0?T:0;if(T=g(T),T===O||T===-O){var A=T<0?-1:1;return A*I}return T===T?T:0}mt.exports=P},40554:function(mt,S,v){var g=v(18601);function O(I){var P=g(I),T=P%1;return P===P?T?P-T:P:0}mt.exports=O},59881:function(mt,S,v){var g=v(98363),O=v(81704);function I(P){return g(P,O(P))}mt.exports=I},68718:function(mt,S,v){var g=v(77412),O=v(3118),I=v(47816),P=v(67206),T=v(85924),A=v(1469),E=v(78264),C=v(23560),p=v(13218),b=v(36719);function x(w,m,M){var L=A(w),B=L||E(w)||b(w);if(m=P(m,4),M==null){var D=w&&w.constructor;B?M=L?new D:[]:p(w)?M=C(D)?O(T(w)):{}:M={}}return(B?g:I)(w,function(z,q,K){return m(M,z,q,K)}),M}mt.exports=x},93386:function(mt,S,v){var g=v(21078),O=v(5976),I=v(45652),P=v(29246),T=O(function(A){return I(g(A,1,P,!0))});mt.exports=T},73955:function(mt,S,v){var g=v(79833),O=0;function I(P){var T=++O;return g(P)+T}mt.exports=I},52628:function(mt,S,v){var g=v(47415),O=v(3674);function I(P){return P==null?[]:g(P,O(P))}mt.exports=I},7287:function(mt,S,v){var g=v(34865),O=v(1757);function I(P,T){return O(P||[],T||[],g)}mt.exports=I},86851:function(mt,S,v){"use strict";var g=v(89594),O=Array.prototype.concat,I=Array.prototype.slice,P=mt.exports=function(A){for(var E=[],C=0,p=A.length;C<p;C++){var b=A[C];g(b)?E=O.call(E,I.call(b)):E.push(b)}return E};P.wrap=function(T){return function(){return T(P(arguments))}}},89594:function(mt){mt.exports=function(v){return!v||typeof v=="string"?!1:v instanceof Array||Array.isArray(v)||v.length>=0&&(v.splice instanceof Function||Object.getOwnPropertyDescriptor(v,v.length-1)&&v.constructor.name!=="String")}},91496:function(mt){typeof Object.create=="function"?mt.exports=function(v,g){v.super_=g,v.prototype=Object.create(g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}})}:mt.exports=function(v,g){v.super_=g;var O=function(){};O.prototype=g.prototype,v.prototype=new O,v.prototype.constructor=v}},20384:function(mt){mt.exports=function(v){return v&&typeof v=="object"&&typeof v.copy=="function"&&typeof v.fill=="function"&&typeof v.readUInt8=="function"}},89539:function(mt,S,v){var g=v(34155),O=Object.getOwnPropertyDescriptors||function(at){for(var Ct=Object.keys(at),wt={},At=0;At<Ct.length;At++)wt[Ct[At]]=Object.getOwnPropertyDescriptor(at,Ct[At]);return wt},I=/%[sdj%]/g;S.format=function(St){if(!it(St)){for(var at=[],Ct=0;Ct<arguments.length;Ct++)at.push(A(arguments[Ct]));return at.join(" ")}for(var Ct=1,wt=arguments,At=wt.length,_t=String(St).replace(I,function(xt){if(xt==="%%")return"%";if(Ct>=At)return xt;switch(xt){case"%s":return String(wt[Ct++]);case"%d":return Number(wt[Ct++]);case"%j":try{return JSON.stringify(wt[Ct++])}catch(ot){return"[Circular]"}default:return xt}}),Lt=wt[Ct];Ct<At;Lt=wt[++Ct])z(Lt)||!Dt(Lt)?_t+=" "+Lt:_t+=" "+A(Lt);return _t},S.deprecate=function(St,at){if(typeof g!="undefined"&&g.noDeprecation===!0)return St;if(typeof g=="undefined")return function(){return S.deprecate(St,at).apply(this,arguments)};var Ct=!1;function wt(){if(!Ct){if(g.throwDeprecation)throw new Error(at);g.traceDeprecation?console.trace(at):console.error(at),Ct=!0}return St.apply(this,arguments)}return wt};var P={},T;S.debuglog=function(St){if(st(T)&&(T={NODE_ENV:"production"}.NODE_DEBUG||""),St=St.toUpperCase(),!P[St])if(new RegExp("\\b"+St+"\\b","i").test(T)){var at=g.pid;P[St]=function(){var Ct=S.format.apply(S,arguments);console.error("%s %d: %s",St,at,Ct)}}else P[St]=function(){};return P[St]};function A(St,at){var Ct={seen:[],stylize:C};return arguments.length>=3&&(Ct.depth=arguments[2]),arguments.length>=4&&(Ct.colors=arguments[3]),D(at)?Ct.showHidden=at:at&&S._extend(Ct,at),st(Ct.showHidden)&&(Ct.showHidden=!1),st(Ct.depth)&&(Ct.depth=2),st(Ct.colors)&&(Ct.colors=!1),st(Ct.customInspect)&&(Ct.customInspect=!0),Ct.colors&&(Ct.stylize=E),b(Ct,St,Ct.depth)}S.inspect=A,A.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},A.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function E(St,at){var Ct=A.styles[at];return Ct?"["+A.colors[Ct][0]+"m"+St+"["+A.colors[Ct][1]+"m":St}function C(St,at){return St}function p(St){var at={};return St.forEach(function(Ct,wt){at[Ct]=!0}),at}function b(St,at,Ct){if(St.customInspect&&at&&W(at.inspect)&&at.inspect!==S.inspect&&!(at.constructor&&at.constructor.prototype===at)){var wt=at.inspect(Ct,St);return it(wt)||(wt=b(St,wt,Ct)),wt}var At=x(St,at);if(At)return At;var _t=Object.keys(at),Lt=p(_t);if(St.showHidden&&(_t=Object.getOwnPropertyNames(at)),N(at)&&(_t.indexOf("message")>=0||_t.indexOf("description")>=0))return w(at);if(_t.length===0){if(W(at)){var xt=at.name?": "+at.name:"";return St.stylize("[Function"+xt+"]","special")}if(Ot(at))return St.stylize(RegExp.prototype.toString.call(at),"regexp");if(Ht(at))return St.stylize(Date.prototype.toString.call(at),"date");if(N(at))return w(at)}var ot="",tt=!1,Q=["{","}"];if(B(at)&&(tt=!0,Q=["[","]"]),W(at)){var dt=at.name?": "+at.name:"";ot=" [Function"+dt+"]"}if(Ot(at)&&(ot=" "+RegExp.prototype.toString.call(at)),Ht(at)&&(ot=" "+Date.prototype.toUTCString.call(at)),N(at)&&(ot=" "+w(at)),_t.length===0&&(!tt||at.length==0))return Q[0]+ot+Q[1];if(Ct<0)return Ot(at)?St.stylize(RegExp.prototype.toString.call(at),"regexp"):St.stylize("[Object]","special");St.seen.push(at);var rt;return tt?rt=m(St,at,Ct,Lt,_t):rt=_t.map(function(nt){return M(St,at,Ct,Lt,nt,tt)}),St.seen.pop(),L(rt,ot,Q)}function x(St,at){if(st(at))return St.stylize("undefined","undefined");if(it(at)){var Ct="'"+JSON.stringify(at).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return St.stylize(Ct,"string")}if(K(at))return St.stylize(""+at,"number");if(D(at))return St.stylize(""+at,"boolean");if(z(at))return St.stylize("null","null")}function w(St){return"["+Error.prototype.toString.call(St)+"]"}function m(St,at,Ct,wt,At){for(var _t=[],Lt=0,xt=at.length;Lt<xt;++Lt)j(at,String(Lt))?_t.push(M(St,at,Ct,wt,String(Lt),!0)):_t.push("");return At.forEach(function(ot){ot.match(/^\d+$/)||_t.push(M(St,at,Ct,wt,ot,!0))}),_t}function M(St,at,Ct,wt,At,_t){var Lt,xt,ot;if(ot=Object.getOwnPropertyDescriptor(at,At)||{value:at[At]},ot.get?ot.set?xt=St.stylize("[Getter/Setter]","special"):xt=St.stylize("[Getter]","special"):ot.set&&(xt=St.stylize("[Setter]","special")),j(wt,At)||(Lt="["+At+"]"),xt||(St.seen.indexOf(ot.value)<0?(z(Ct)?xt=b(St,ot.value,null):xt=b(St,ot.value,Ct-1),xt.indexOf(`
`)>-1&&(_t?xt=xt.split(`
`).map(function(tt){return"  "+tt}).join(`
`).substr(2):xt=`
`+xt.split(`
`).map(function(tt){return"   "+tt}).join(`
`))):xt=St.stylize("[Circular]","special")),st(Lt)){if(_t&&At.match(/^\d+$/))return xt;Lt=JSON.stringify(""+At),Lt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Lt=Lt.substr(1,Lt.length-2),Lt=St.stylize(Lt,"name")):(Lt=Lt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Lt=St.stylize(Lt,"string"))}return Lt+": "+xt}function L(St,at,Ct){var wt=0,At=St.reduce(function(_t,Lt){return wt++,Lt.indexOf(`
`)>=0&&wt++,_t+Lt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return At>60?Ct[0]+(at===""?"":at+`
 `)+" "+St.join(`,
  `)+" "+Ct[1]:Ct[0]+at+" "+St.join(", ")+" "+Ct[1]}function B(St){return Array.isArray(St)}S.isArray=B;function D(St){return typeof St=="boolean"}S.isBoolean=D;function z(St){return St===null}S.isNull=z;function q(St){return St==null}S.isNullOrUndefined=q;function K(St){return typeof St=="number"}S.isNumber=K;function it(St){return typeof St=="string"}S.isString=it;function ct(St){return typeof St=="symbol"}S.isSymbol=ct;function st(St){return St===void 0}S.isUndefined=st;function Ot(St){return Dt(St)&&V(St)==="[object RegExp]"}S.isRegExp=Ot;function Dt(St){return typeof St=="object"&&St!==null}S.isObject=Dt;function Ht(St){return Dt(St)&&V(St)==="[object Date]"}S.isDate=Ht;function N(St){return Dt(St)&&(V(St)==="[object Error]"||St instanceof Error)}S.isError=N;function W(St){return typeof St=="function"}S.isFunction=W;function X(St){return St===null||typeof St=="boolean"||typeof St=="number"||typeof St=="string"||typeof St=="symbol"||typeof St=="undefined"}S.isPrimitive=X,S.isBuffer=v(20384);function V(St){return Object.prototype.toString.call(St)}function lt(St){return St<10?"0"+St.toString(10):St.toString(10)}var Z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function U(){var St=new Date,at=[lt(St.getHours()),lt(St.getMinutes()),lt(St.getSeconds())].join(":");return[St.getDate(),Z[St.getMonth()],at].join(" ")}S.log=function(){console.log("%s - %s",U(),S.format.apply(S,arguments))},S.inherits=v(91496),S._extend=function(St,at){if(!at||!Dt(at))return St;for(var Ct=Object.keys(at),wt=Ct.length;wt--;)St[Ct[wt]]=at[Ct[wt]];return St};function j(St,at){return Object.prototype.hasOwnProperty.call(St,at)}var H=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;S.promisify=function(at){if(typeof at!="function")throw new TypeError('The "original" argument must be of type Function');if(H&&at[H]){var Ct=at[H];if(typeof Ct!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Ct,H,{value:Ct,enumerable:!1,writable:!1,configurable:!0}),Ct}function Ct(){for(var wt,At,_t=new Promise(function(ot,tt){wt=ot,At=tt}),Lt=[],xt=0;xt<arguments.length;xt++)Lt.push(arguments[xt]);Lt.push(function(ot,tt){ot?At(ot):wt(tt)});try{at.apply(this,Lt)}catch(ot){At(ot)}return _t}return Object.setPrototypeOf(Ct,Object.getPrototypeOf(at)),H&&Object.defineProperty(Ct,H,{value:Ct,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Ct,O(at))},S.promisify.custom=H;function f(St,at){if(!St){var Ct=new Error("Promise was rejected with a falsy value");Ct.reason=St,St=Ct}return at(St)}function yt(St){if(typeof St!="function")throw new TypeError('The "original" argument must be of type Function');function at(){for(var Ct=[],wt=0;wt<arguments.length;wt++)Ct.push(arguments[wt]);var At=Ct.pop();if(typeof At!="function")throw new TypeError("The last argument must be of type Function");var _t=this,Lt=function(){return At.apply(_t,arguments)};St.apply(this,Ct).then(function(xt){g.nextTick(Lt,null,xt)},function(xt){g.nextTick(f,xt,Lt)})}return Object.setPrototypeOf(at,Object.getPrototypeOf(St)),Object.defineProperties(at,O(St)),at}S.callbackify=yt}}]);
